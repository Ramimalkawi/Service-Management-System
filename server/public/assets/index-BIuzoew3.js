var W0=Object.defineProperty;var um=Ee=>{throw TypeError(Ee)};var X0=(Ee,t,n)=>t in Ee?W0(Ee,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):Ee[t]=n;var zi=(Ee,t,n)=>X0(Ee,typeof t!="symbol"?t+"":t,n),Nf=(Ee,t,n)=>t.has(Ee)||um("Cannot "+n);var Lr=(Ee,t,n)=>(Nf(Ee,t,"read from private field"),n?n.call(Ee):t.get(Ee)),Jn=(Ee,t,n)=>t.has(Ee)?um("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(Ee):t.set(Ee,n),ti=(Ee,t,n,Ce)=>(Nf(Ee,t,"write to private field"),Ce?Ce.call(Ee,n):t.set(Ee,n),n),qn=(Ee,t,n)=>(Nf(Ee,t,"access private method"),n);var ah=(Ee,t,n,Ce)=>({set _(Te){ti(Ee,t,Te,n)},get _(){return Lr(Ee,t,Ce)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const Te of document.querySelectorAll('link[rel="modulepreload"]'))Ce(Te);new MutationObserver(Te=>{for(const Re of Te)if(Re.type==="childList")for(const Be of Re.addedNodes)Be.tagName==="LINK"&&Be.rel==="modulepreload"&&Ce(Be)}).observe(document,{childList:!0,subtree:!0});function n(Te){const Re={};return Te.integrity&&(Re.integrity=Te.integrity),Te.referrerPolicy&&(Re.referrerPolicy=Te.referrerPolicy),Te.crossOrigin==="use-credentials"?Re.credentials="include":Te.crossOrigin==="anonymous"?Re.credentials="omit":Re.credentials="same-origin",Re}function Ce(Te){if(Te.ep)return;Te.ep=!0;const Re=n(Te);fetch(Te.href,Re)}})();var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(Ee){return Ee&&Ee.__esModule&&Object.prototype.hasOwnProperty.call(Ee,"default")?Ee.default:Ee}function getAugmentedNamespace(Ee){if(Object.prototype.hasOwnProperty.call(Ee,"__esModule"))return Ee;var t=Ee.default;if(typeof t=="function"){var n=function Ce(){return this instanceof Ce?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(Ee).forEach(function(Ce){var Te=Object.getOwnPropertyDescriptor(Ee,Ce);Object.defineProperty(n,Ce,Te.get?Te:{enumerable:!0,get:function(){return Ee[Ce]}})}),n}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var Ee=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(Ce,Te,Re){var Be=null;if(Re!==void 0&&(Be=""+Re),Te.key!==void 0&&(Be=""+Te.key),"key"in Te){Re={};for(var Ue in Te)Ue!=="key"&&(Re[Ue]=Te[Ue])}else Re=Te;return Te=Re.ref,{$$typeof:Ee,type:Ce,key:Be,ref:Te!==void 0?Te:null,props:Re}}return reactJsxRuntime_production.Fragment=t,reactJsxRuntime_production.jsx=n,reactJsxRuntime_production.jsxs=n,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var Ee=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),Ce=Symbol.for("react.strict_mode"),Te=Symbol.for("react.profiler"),Re=Symbol.for("react.consumer"),Be=Symbol.for("react.context"),Ue=Symbol.for("react.forward_ref"),Oe=Symbol.for("react.suspense"),Me=Symbol.for("react.memo"),Qe=Symbol.for("react.lazy"),Ke=Symbol.iterator;function Ge(Br){return Br===null||typeof Br!="object"?null:(Br=Ke&&Br[Ke]||Br["@@iterator"],typeof Br=="function"?Br:null)}var qe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xe=Object.assign,tr={};function Je(Br,Mr,_r){this.props=Br,this.context=Mr,this.refs=tr,this.updater=_r||qe}Je.prototype.isReactComponent={},Je.prototype.setState=function(Br,Mr){if(typeof Br!="object"&&typeof Br!="function"&&Br!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Br,Mr,"setState")},Je.prototype.forceUpdate=function(Br){this.updater.enqueueForceUpdate(this,Br,"forceUpdate")};function Ye(){}Ye.prototype=Je.prototype;function lr(Br,Mr,_r){this.props=Br,this.context=Mr,this.refs=tr,this.updater=_r||qe}var cr=lr.prototype=new Ye;cr.constructor=lr,Xe(cr,Je.prototype),cr.isPureReactComponent=!0;var hr=Array.isArray,ur={H:null,A:null,T:null,S:null,V:null},fr=Object.prototype.hasOwnProperty;function er(Br,Mr,_r,gr,yr,Rr){return _r=Rr.ref,{$$typeof:Ee,type:Br,key:Mr,ref:_r!==void 0?_r:null,props:Rr}}function nr(Br,Mr){return er(Br.type,Mr,void 0,void 0,void 0,Br.props)}function ir(Br){return typeof Br=="object"&&Br!==null&&Br.$$typeof===Ee}function mr(Br){var Mr={"=":"=0",":":"=2"};return"$"+Br.replace(/[=:]/g,function(_r){return Mr[_r]})}var $e=/\/+/g;function Ar(Br,Mr){return typeof Br=="object"&&Br!==null&&Br.key!=null?mr(""+Br.key):Mr.toString(36)}function or(){}function Tr(Br){switch(Br.status){case"fulfilled":return Br.value;case"rejected":throw Br.reason;default:switch(typeof Br.status=="string"?Br.then(or,or):(Br.status="pending",Br.then(function(Mr){Br.status==="pending"&&(Br.status="fulfilled",Br.value=Mr)},function(Mr){Br.status==="pending"&&(Br.status="rejected",Br.reason=Mr)})),Br.status){case"fulfilled":return Br.value;case"rejected":throw Br.reason}}throw Br}function Ur(Br,Mr,_r,gr,yr){var Rr=typeof Br;(Rr==="undefined"||Rr==="boolean")&&(Br=null);var Ir=!1;if(Br===null)Ir=!0;else switch(Rr){case"bigint":case"string":case"number":Ir=!0;break;case"object":switch(Br.$$typeof){case Ee:case t:Ir=!0;break;case Qe:return Ir=Br._init,Ur(Ir(Br._payload),Mr,_r,gr,yr)}}if(Ir)return yr=yr(Br),Ir=gr===""?"."+Ar(Br,0):gr,hr(yr)?(_r="",Ir!=null&&(_r=Ir.replace($e,"$&/")+"/"),Ur(yr,Mr,_r,"",function(Wr){return Wr})):yr!=null&&(ir(yr)&&(yr=nr(yr,_r+(yr.key==null||Br&&Br.key===yr.key?"":(""+yr.key).replace($e,"$&/")+"/")+Ir)),Mr.push(yr)),1;Ir=0;var Qr=gr===""?".":gr+":";if(hr(Br))for(var Vr=0;Vr<Br.length;Vr++)gr=Br[Vr],Rr=Qr+Ar(gr,Vr),Ir+=Ur(gr,Mr,_r,Rr,yr);else if(Vr=Ge(Br),typeof Vr=="function")for(Br=Vr.call(Br),Vr=0;!(gr=Br.next()).done;)gr=gr.value,Rr=Qr+Ar(gr,Vr++),Ir+=Ur(gr,Mr,_r,Rr,yr);else if(Rr==="object"){if(typeof Br.then=="function")return Ur(Tr(Br),Mr,_r,gr,yr);throw Mr=String(Br),Error("Objects are not valid as a React child (found: "+(Mr==="[object Object]"?"object with keys {"+Object.keys(Br).join(", ")+"}":Mr)+"). If you meant to render a collection of children, use an array instead.")}return Ir}function Fr(Br,Mr,_r){if(Br==null)return Br;var gr=[],yr=0;return Ur(Br,gr,"","",function(Rr){return Mr.call(_r,Rr,yr++)}),gr}function Er(Br){if(Br._status===-1){var Mr=Br._result;Mr=Mr(),Mr.then(function(_r){(Br._status===0||Br._status===-1)&&(Br._status=1,Br._result=_r)},function(_r){(Br._status===0||Br._status===-1)&&(Br._status=2,Br._result=_r)}),Br._status===-1&&(Br._status=0,Br._result=Mr)}if(Br._status===1)return Br._result.default;throw Br._result}var jr=typeof reportError=="function"?reportError:function(Br){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Mr=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Br=="object"&&Br!==null&&typeof Br.message=="string"?String(Br.message):String(Br),error:Br});if(!window.dispatchEvent(Mr))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Br);return}console.error(Br)};function Nr(){}return react_production.Children={map:Fr,forEach:function(Br,Mr,_r){Fr(Br,function(){Mr.apply(this,arguments)},_r)},count:function(Br){var Mr=0;return Fr(Br,function(){Mr++}),Mr},toArray:function(Br){return Fr(Br,function(Mr){return Mr})||[]},only:function(Br){if(!ir(Br))throw Error("React.Children.only expected to receive a single React element child.");return Br}},react_production.Component=Je,react_production.Fragment=n,react_production.Profiler=Te,react_production.PureComponent=lr,react_production.StrictMode=Ce,react_production.Suspense=Oe,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ur,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(Br){return ur.H.useMemoCache(Br)}},react_production.cache=function(Br){return function(){return Br.apply(null,arguments)}},react_production.cloneElement=function(Br,Mr,_r){if(Br==null)throw Error("The argument must be a React element, but you passed "+Br+".");var gr=Xe({},Br.props),yr=Br.key,Rr=void 0;if(Mr!=null)for(Ir in Mr.ref!==void 0&&(Rr=void 0),Mr.key!==void 0&&(yr=""+Mr.key),Mr)!fr.call(Mr,Ir)||Ir==="key"||Ir==="__self"||Ir==="__source"||Ir==="ref"&&Mr.ref===void 0||(gr[Ir]=Mr[Ir]);var Ir=arguments.length-2;if(Ir===1)gr.children=_r;else if(1<Ir){for(var Qr=Array(Ir),Vr=0;Vr<Ir;Vr++)Qr[Vr]=arguments[Vr+2];gr.children=Qr}return er(Br.type,yr,void 0,void 0,Rr,gr)},react_production.createContext=function(Br){return Br={$$typeof:Be,_currentValue:Br,_currentValue2:Br,_threadCount:0,Provider:null,Consumer:null},Br.Provider=Br,Br.Consumer={$$typeof:Re,_context:Br},Br},react_production.createElement=function(Br,Mr,_r){var gr,yr={},Rr=null;if(Mr!=null)for(gr in Mr.key!==void 0&&(Rr=""+Mr.key),Mr)fr.call(Mr,gr)&&gr!=="key"&&gr!=="__self"&&gr!=="__source"&&(yr[gr]=Mr[gr]);var Ir=arguments.length-2;if(Ir===1)yr.children=_r;else if(1<Ir){for(var Qr=Array(Ir),Vr=0;Vr<Ir;Vr++)Qr[Vr]=arguments[Vr+2];yr.children=Qr}if(Br&&Br.defaultProps)for(gr in Ir=Br.defaultProps,Ir)yr[gr]===void 0&&(yr[gr]=Ir[gr]);return er(Br,Rr,void 0,void 0,null,yr)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(Br){return{$$typeof:Ue,render:Br}},react_production.isValidElement=ir,react_production.lazy=function(Br){return{$$typeof:Qe,_payload:{_status:-1,_result:Br},_init:Er}},react_production.memo=function(Br,Mr){return{$$typeof:Me,type:Br,compare:Mr===void 0?null:Mr}},react_production.startTransition=function(Br){var Mr=ur.T,_r={};ur.T=_r;try{var gr=Br(),yr=ur.S;yr!==null&&yr(_r,gr),typeof gr=="object"&&gr!==null&&typeof gr.then=="function"&&gr.then(Nr,jr)}catch(Rr){jr(Rr)}finally{ur.T=Mr}},react_production.unstable_useCacheRefresh=function(){return ur.H.useCacheRefresh()},react_production.use=function(Br){return ur.H.use(Br)},react_production.useActionState=function(Br,Mr,_r){return ur.H.useActionState(Br,Mr,_r)},react_production.useCallback=function(Br,Mr){return ur.H.useCallback(Br,Mr)},react_production.useContext=function(Br){return ur.H.useContext(Br)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(Br,Mr){return ur.H.useDeferredValue(Br,Mr)},react_production.useEffect=function(Br,Mr,_r){var gr=ur.H;if(typeof _r=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return gr.useEffect(Br,Mr)},react_production.useId=function(){return ur.H.useId()},react_production.useImperativeHandle=function(Br,Mr,_r){return ur.H.useImperativeHandle(Br,Mr,_r)},react_production.useInsertionEffect=function(Br,Mr){return ur.H.useInsertionEffect(Br,Mr)},react_production.useLayoutEffect=function(Br,Mr){return ur.H.useLayoutEffect(Br,Mr)},react_production.useMemo=function(Br,Mr){return ur.H.useMemo(Br,Mr)},react_production.useOptimistic=function(Br,Mr){return ur.H.useOptimistic(Br,Mr)},react_production.useReducer=function(Br,Mr,_r){return ur.H.useReducer(Br,Mr,_r)},react_production.useRef=function(Br){return ur.H.useRef(Br)},react_production.useState=function(Br){return ur.H.useState(Br)},react_production.useSyncExternalStore=function(Br,Mr,_r){return ur.H.useSyncExternalStore(Br,Mr,_r)},react_production.useTransition=function(){return ur.H.useTransition()},react_production.version="19.1.1",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(Ee){function t(Fr,Er){var jr=Fr.length;Fr.push(Er);e:for(;0<jr;){var Nr=jr-1>>>1,Br=Fr[Nr];if(0<Te(Br,Er))Fr[Nr]=Er,Fr[jr]=Br,jr=Nr;else break e}}function n(Fr){return Fr.length===0?null:Fr[0]}function Ce(Fr){if(Fr.length===0)return null;var Er=Fr[0],jr=Fr.pop();if(jr!==Er){Fr[0]=jr;e:for(var Nr=0,Br=Fr.length,Mr=Br>>>1;Nr<Mr;){var _r=2*(Nr+1)-1,gr=Fr[_r],yr=_r+1,Rr=Fr[yr];if(0>Te(gr,jr))yr<Br&&0>Te(Rr,gr)?(Fr[Nr]=Rr,Fr[yr]=jr,Nr=yr):(Fr[Nr]=gr,Fr[_r]=jr,Nr=_r);else if(yr<Br&&0>Te(Rr,jr))Fr[Nr]=Rr,Fr[yr]=jr,Nr=yr;else break e}}return Er}function Te(Fr,Er){var jr=Fr.sortIndex-Er.sortIndex;return jr!==0?jr:Fr.id-Er.id}if(Ee.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var Re=performance;Ee.unstable_now=function(){return Re.now()}}else{var Be=Date,Ue=Be.now();Ee.unstable_now=function(){return Be.now()-Ue}}var Oe=[],Me=[],Qe=1,Ke=null,Ge=3,qe=!1,Xe=!1,tr=!1,Je=!1,Ye=typeof setTimeout=="function"?setTimeout:null,lr=typeof clearTimeout=="function"?clearTimeout:null,cr=typeof setImmediate<"u"?setImmediate:null;function hr(Fr){for(var Er=n(Me);Er!==null;){if(Er.callback===null)Ce(Me);else if(Er.startTime<=Fr)Ce(Me),Er.sortIndex=Er.expirationTime,t(Oe,Er);else break;Er=n(Me)}}function ur(Fr){if(tr=!1,hr(Fr),!Xe)if(n(Oe)!==null)Xe=!0,fr||(fr=!0,Ar());else{var Er=n(Me);Er!==null&&Ur(ur,Er.startTime-Fr)}}var fr=!1,er=-1,nr=5,ir=-1;function mr(){return Je?!0:!(Ee.unstable_now()-ir<nr)}function $e(){if(Je=!1,fr){var Fr=Ee.unstable_now();ir=Fr;var Er=!0;try{e:{Xe=!1,tr&&(tr=!1,lr(er),er=-1),qe=!0;var jr=Ge;try{t:{for(hr(Fr),Ke=n(Oe);Ke!==null&&!(Ke.expirationTime>Fr&&mr());){var Nr=Ke.callback;if(typeof Nr=="function"){Ke.callback=null,Ge=Ke.priorityLevel;var Br=Nr(Ke.expirationTime<=Fr);if(Fr=Ee.unstable_now(),typeof Br=="function"){Ke.callback=Br,hr(Fr),Er=!0;break t}Ke===n(Oe)&&Ce(Oe),hr(Fr)}else Ce(Oe);Ke=n(Oe)}if(Ke!==null)Er=!0;else{var Mr=n(Me);Mr!==null&&Ur(ur,Mr.startTime-Fr),Er=!1}}break e}finally{Ke=null,Ge=jr,qe=!1}Er=void 0}}finally{Er?Ar():fr=!1}}}var Ar;if(typeof cr=="function")Ar=function(){cr($e)};else if(typeof MessageChannel<"u"){var or=new MessageChannel,Tr=or.port2;or.port1.onmessage=$e,Ar=function(){Tr.postMessage(null)}}else Ar=function(){Ye($e,0)};function Ur(Fr,Er){er=Ye(function(){Fr(Ee.unstable_now())},Er)}Ee.unstable_IdlePriority=5,Ee.unstable_ImmediatePriority=1,Ee.unstable_LowPriority=4,Ee.unstable_NormalPriority=3,Ee.unstable_Profiling=null,Ee.unstable_UserBlockingPriority=2,Ee.unstable_cancelCallback=function(Fr){Fr.callback=null},Ee.unstable_forceFrameRate=function(Fr){0>Fr||125<Fr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):nr=0<Fr?Math.floor(1e3/Fr):5},Ee.unstable_getCurrentPriorityLevel=function(){return Ge},Ee.unstable_next=function(Fr){switch(Ge){case 1:case 2:case 3:var Er=3;break;default:Er=Ge}var jr=Ge;Ge=Er;try{return Fr()}finally{Ge=jr}},Ee.unstable_requestPaint=function(){Je=!0},Ee.unstable_runWithPriority=function(Fr,Er){switch(Fr){case 1:case 2:case 3:case 4:case 5:break;default:Fr=3}var jr=Ge;Ge=Fr;try{return Er()}finally{Ge=jr}},Ee.unstable_scheduleCallback=function(Fr,Er,jr){var Nr=Ee.unstable_now();switch(typeof jr=="object"&&jr!==null?(jr=jr.delay,jr=typeof jr=="number"&&0<jr?Nr+jr:Nr):jr=Nr,Fr){case 1:var Br=-1;break;case 2:Br=250;break;case 5:Br=1073741823;break;case 4:Br=1e4;break;default:Br=5e3}return Br=jr+Br,Fr={id:Qe++,callback:Er,priorityLevel:Fr,startTime:jr,expirationTime:Br,sortIndex:-1},jr>Nr?(Fr.sortIndex=jr,t(Me,Fr),n(Oe)===null&&Fr===n(Me)&&(tr?(lr(er),er=-1):tr=!0,Ur(ur,jr-Nr))):(Fr.sortIndex=Br,t(Oe,Fr),Xe||qe||(Xe=!0,fr||(fr=!0,Ar()))),Fr},Ee.unstable_shouldYield=mr,Ee.unstable_wrapCallback=function(Fr){var Er=Ge;return function(){var jr=Ge;Ge=Er;try{return Fr.apply(this,arguments)}finally{Ge=jr}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var Ee=requireReact();function t(Oe){var Me="https://react.dev/errors/"+Oe;if(1<arguments.length){Me+="?args[]="+encodeURIComponent(arguments[1]);for(var Qe=2;Qe<arguments.length;Qe++)Me+="&args[]="+encodeURIComponent(arguments[Qe])}return"Minified React error #"+Oe+"; visit "+Me+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var Ce={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},Te=Symbol.for("react.portal");function Re(Oe,Me,Qe){var Ke=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:Ke==null?null:""+Ke,children:Oe,containerInfo:Me,implementation:Qe}}var Be=Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ue(Oe,Me){if(Oe==="font")return"";if(typeof Me=="string")return Me==="use-credentials"?Me:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ce,reactDom_production.createPortal=function(Oe,Me){var Qe=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Me||Me.nodeType!==1&&Me.nodeType!==9&&Me.nodeType!==11)throw Error(t(299));return Re(Oe,Me,null,Qe)},reactDom_production.flushSync=function(Oe){var Me=Be.T,Qe=Ce.p;try{if(Be.T=null,Ce.p=2,Oe)return Oe()}finally{Be.T=Me,Ce.p=Qe,Ce.d.f()}},reactDom_production.preconnect=function(Oe,Me){typeof Oe=="string"&&(Me?(Me=Me.crossOrigin,Me=typeof Me=="string"?Me==="use-credentials"?Me:"":void 0):Me=null,Ce.d.C(Oe,Me))},reactDom_production.prefetchDNS=function(Oe){typeof Oe=="string"&&Ce.d.D(Oe)},reactDom_production.preinit=function(Oe,Me){if(typeof Oe=="string"&&Me&&typeof Me.as=="string"){var Qe=Me.as,Ke=Ue(Qe,Me.crossOrigin),Ge=typeof Me.integrity=="string"?Me.integrity:void 0,qe=typeof Me.fetchPriority=="string"?Me.fetchPriority:void 0;Qe==="style"?Ce.d.S(Oe,typeof Me.precedence=="string"?Me.precedence:void 0,{crossOrigin:Ke,integrity:Ge,fetchPriority:qe}):Qe==="script"&&Ce.d.X(Oe,{crossOrigin:Ke,integrity:Ge,fetchPriority:qe,nonce:typeof Me.nonce=="string"?Me.nonce:void 0})}},reactDom_production.preinitModule=function(Oe,Me){if(typeof Oe=="string")if(typeof Me=="object"&&Me!==null){if(Me.as==null||Me.as==="script"){var Qe=Ue(Me.as,Me.crossOrigin);Ce.d.M(Oe,{crossOrigin:Qe,integrity:typeof Me.integrity=="string"?Me.integrity:void 0,nonce:typeof Me.nonce=="string"?Me.nonce:void 0})}}else Me==null&&Ce.d.M(Oe)},reactDom_production.preload=function(Oe,Me){if(typeof Oe=="string"&&typeof Me=="object"&&Me!==null&&typeof Me.as=="string"){var Qe=Me.as,Ke=Ue(Qe,Me.crossOrigin);Ce.d.L(Oe,Qe,{crossOrigin:Ke,integrity:typeof Me.integrity=="string"?Me.integrity:void 0,nonce:typeof Me.nonce=="string"?Me.nonce:void 0,type:typeof Me.type=="string"?Me.type:void 0,fetchPriority:typeof Me.fetchPriority=="string"?Me.fetchPriority:void 0,referrerPolicy:typeof Me.referrerPolicy=="string"?Me.referrerPolicy:void 0,imageSrcSet:typeof Me.imageSrcSet=="string"?Me.imageSrcSet:void 0,imageSizes:typeof Me.imageSizes=="string"?Me.imageSizes:void 0,media:typeof Me.media=="string"?Me.media:void 0})}},reactDom_production.preloadModule=function(Oe,Me){if(typeof Oe=="string")if(Me){var Qe=Ue(Me.as,Me.crossOrigin);Ce.d.m(Oe,{as:typeof Me.as=="string"&&Me.as!=="script"?Me.as:void 0,crossOrigin:Qe,integrity:typeof Me.integrity=="string"?Me.integrity:void 0})}else Ce.d.m(Oe)},reactDom_production.requestFormReset=function(Oe){Ce.d.r(Oe)},reactDom_production.unstable_batchedUpdates=function(Oe,Me){return Oe(Me)},reactDom_production.useFormState=function(Oe,Me,Qe){return Be.H.useFormState(Oe,Me,Qe)},reactDom_production.useFormStatus=function(){return Be.H.useHostTransitionStatus()},reactDom_production.version="19.1.1",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function Ee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ee)}catch(t){console.error(t)}}return Ee(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var Ee=requireScheduler(),t=requireReact(),n=requireReactDom();function Ce(De){var Ve="https://react.dev/errors/"+De;if(1<arguments.length){Ve+="?args[]="+encodeURIComponent(arguments[1]);for(var He=2;He<arguments.length;He++)Ve+="&args[]="+encodeURIComponent(arguments[He])}return"Minified React error #"+De+"; visit "+Ve+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Te(De){return!(!De||De.nodeType!==1&&De.nodeType!==9&&De.nodeType!==11)}function Re(De){var Ve=De,He=De;if(De.alternate)for(;Ve.return;)Ve=Ve.return;else{De=Ve;do Ve=De,(Ve.flags&4098)!==0&&(He=Ve.return),De=Ve.return;while(De)}return Ve.tag===3?He:null}function Be(De){if(De.tag===13){var Ve=De.memoizedState;if(Ve===null&&(De=De.alternate,De!==null&&(Ve=De.memoizedState)),Ve!==null)return Ve.dehydrated}return null}function Ue(De){if(Re(De)!==De)throw Error(Ce(188))}function Oe(De){var Ve=De.alternate;if(!Ve){if(Ve=Re(De),Ve===null)throw Error(Ce(188));return Ve!==De?null:De}for(var He=De,We=Ve;;){var pr=He.return;if(pr===null)break;var br=pr.alternate;if(br===null){if(We=pr.return,We!==null){He=We;continue}break}if(pr.child===br.child){for(br=pr.child;br;){if(br===He)return Ue(pr),De;if(br===We)return Ue(pr),Ve;br=br.sibling}throw Error(Ce(188))}if(He.return!==We.return)He=pr,We=br;else{for(var Zr=!1,En=pr.child;En;){if(En===He){Zr=!0,He=pr,We=br;break}if(En===We){Zr=!0,We=pr,He=br;break}En=En.sibling}if(!Zr){for(En=br.child;En;){if(En===He){Zr=!0,He=br,We=pr;break}if(En===We){Zr=!0,We=br,He=pr;break}En=En.sibling}if(!Zr)throw Error(Ce(189))}}if(He.alternate!==We)throw Error(Ce(190))}if(He.tag!==3)throw Error(Ce(188));return He.stateNode.current===He?De:Ve}function Me(De){var Ve=De.tag;if(Ve===5||Ve===26||Ve===27||Ve===6)return De;for(De=De.child;De!==null;){if(Ve=Me(De),Ve!==null)return Ve;De=De.sibling}return null}var Qe=Object.assign,Ke=Symbol.for("react.element"),Ge=Symbol.for("react.transitional.element"),qe=Symbol.for("react.portal"),Xe=Symbol.for("react.fragment"),tr=Symbol.for("react.strict_mode"),Je=Symbol.for("react.profiler"),Ye=Symbol.for("react.provider"),lr=Symbol.for("react.consumer"),cr=Symbol.for("react.context"),hr=Symbol.for("react.forward_ref"),ur=Symbol.for("react.suspense"),fr=Symbol.for("react.suspense_list"),er=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),ir=Symbol.for("react.activity"),mr=Symbol.for("react.memo_cache_sentinel"),$e=Symbol.iterator;function Ar(De){return De===null||typeof De!="object"?null:(De=$e&&De[$e]||De["@@iterator"],typeof De=="function"?De:null)}var or=Symbol.for("react.client.reference");function Tr(De){if(De==null)return null;if(typeof De=="function")return De.$$typeof===or?null:De.displayName||De.name||null;if(typeof De=="string")return De;switch(De){case Xe:return"Fragment";case Je:return"Profiler";case tr:return"StrictMode";case ur:return"Suspense";case fr:return"SuspenseList";case ir:return"Activity"}if(typeof De=="object")switch(De.$$typeof){case qe:return"Portal";case cr:return(De.displayName||"Context")+".Provider";case lr:return(De._context.displayName||"Context")+".Consumer";case hr:var Ve=De.render;return De=De.displayName,De||(De=Ve.displayName||Ve.name||"",De=De!==""?"ForwardRef("+De+")":"ForwardRef"),De;case er:return Ve=De.displayName||null,Ve!==null?Ve:Tr(De.type)||"Memo";case nr:Ve=De._payload,De=De._init;try{return Tr(De(Ve))}catch{}}return null}var Ur=Array.isArray,Fr=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Er=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,jr={pending:!1,data:null,method:null,action:null},Nr=[],Br=-1;function Mr(De){return{current:De}}function _r(De){0>Br||(De.current=Nr[Br],Nr[Br]=null,Br--)}function gr(De,Ve){Br++,Nr[Br]=De.current,De.current=Ve}var yr=Mr(null),Rr=Mr(null),Ir=Mr(null),Qr=Mr(null);function Vr(De,Ve){switch(gr(Ir,Ve),gr(Rr,De),gr(yr,null),Ve.nodeType){case 9:case 11:De=(De=Ve.documentElement)&&(De=De.namespaceURI)?Mg(De):0;break;default:if(De=Ve.tagName,Ve=Ve.namespaceURI)Ve=Mg(Ve),De=jg(Ve,De);else switch(De){case"svg":De=1;break;case"math":De=2;break;default:De=0}}_r(yr),gr(yr,De)}function Wr(){_r(yr),_r(Rr),_r(Ir)}function mn(De){De.memoizedState!==null&&gr(Qr,De);var Ve=yr.current,He=jg(Ve,De.type);Ve!==He&&(gr(Rr,De),gr(yr,He))}function gn(De){Rr.current===De&&(_r(yr),_r(Rr)),Qr.current===De&&(_r(Qr),eh._currentValue=jr)}var fn=Object.prototype.hasOwnProperty,Fn=Ee.unstable_scheduleCallback,wn=Ee.unstable_cancelCallback,Yr=Ee.unstable_shouldYield,Rn=Ee.unstable_requestPaint,bn=Ee.unstable_now,zr=Ee.unstable_getCurrentPriorityLevel,$r=Ee.unstable_ImmediatePriority,Bn=Ee.unstable_UserBlockingPriority,Pn=Ee.unstable_NormalPriority,jn=Ee.unstable_LowPriority,Kn=Ee.unstable_IdlePriority,Xn=Ee.log,In=Ee.unstable_setDisableYieldValue,$n=null,Yn=null;function si(De){if(typeof Xn=="function"&&In(De),Yn&&typeof Yn.setStrictMode=="function")try{Yn.setStrictMode($n,De)}catch{}}var ai=Math.clz32?Math.clz32:An,Ci=Math.log,dr=Math.LN2;function An(De){return De>>>=0,De===0?32:31-(Ci(De)/dr|0)|0}var vn=256,Sn=4194304;function wr(De){var Ve=De&42;if(Ve!==0)return Ve;switch(De&-De){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return De&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return De&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return De}}function Or(De,Ve,He){var We=De.pendingLanes;if(We===0)return 0;var pr=0,br=De.suspendedLanes,Zr=De.pingedLanes;De=De.warmLanes;var En=We&134217727;return En!==0?(We=En&~br,We!==0?pr=wr(We):(Zr&=En,Zr!==0?pr=wr(Zr):He||(He=En&~De,He!==0&&(pr=wr(He))))):(En=We&~br,En!==0?pr=wr(En):Zr!==0?pr=wr(Zr):He||(He=We&~De,He!==0&&(pr=wr(He)))),pr===0?0:Ve!==0&&Ve!==pr&&(Ve&br)===0&&(br=pr&-pr,He=Ve&-Ve,br>=He||br===32&&(He&4194048)!==0)?Ve:pr}function Ze(De,Ve){return(De.pendingLanes&~(De.suspendedLanes&~De.pingedLanes)&Ve)===0}function Jr(De,Ve){switch(De){case 1:case 2:case 4:case 8:case 64:return Ve+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Ve+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mn(){var De=vn;return vn<<=1,(vn&4194048)===0&&(vn=256),De}function ze(){var De=Sn;return Sn<<=1,(Sn&62914560)===0&&(Sn=4194304),De}function Cr(De){for(var Ve=[],He=0;31>He;He++)Ve.push(De);return Ve}function kr(De,Ve){De.pendingLanes|=Ve,Ve!==268435456&&(De.suspendedLanes=0,De.pingedLanes=0,De.warmLanes=0)}function rr(De,Ve,He,We,pr,br){var Zr=De.pendingLanes;De.pendingLanes=He,De.suspendedLanes=0,De.pingedLanes=0,De.warmLanes=0,De.expiredLanes&=He,De.entangledLanes&=He,De.errorRecoveryDisabledLanes&=He,De.shellSuspendCounter=0;var En=De.entanglements,Vn=De.expirationTimes,ci=De.hiddenUpdates;for(He=Zr&~He;0<He;){var xi=31-ai(He),Ri=1<<xi;En[xi]=0,Vn[xi]=-1;var di=ci[xi];if(di!==null)for(ci[xi]=null,xi=0;xi<di.length;xi++){var fi=di[xi];fi!==null&&(fi.lane&=-536870913)}He&=~Ri}We!==0&&xr(De,We,0),br!==0&&pr===0&&De.tag!==0&&(De.suspendedLanes|=br&~(Zr&~Ve))}function xr(De,Ve,He){De.pendingLanes|=Ve,De.suspendedLanes&=~Ve;var We=31-ai(Ve);De.entangledLanes|=Ve,De.entanglements[We]=De.entanglements[We]|1073741824|He&4194090}function Kr(De,Ve){var He=De.entangledLanes|=Ve;for(De=De.entanglements;He;){var We=31-ai(He),pr=1<<We;pr&Ve|De[We]&Ve&&(De[We]|=Ve),He&=~pr}}function Dn(De){switch(De){case 2:De=1;break;case 8:De=4;break;case 32:De=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:De=128;break;case 268435456:De=134217728;break;default:De=0}return De}function Gr(De){return De&=-De,2<De?8<De?(De&134217727)!==0?32:268435456:8:2}function Hr(){var De=Er.p;return De!==0?De:(De=window.event,De===void 0?32:am(De.type))}function dn(De,Ve){var He=Er.p;try{return Er.p=De,Ve()}finally{Er.p=He}}var Qn=Math.random().toString(36).slice(2),kn="__reactFiber$"+Qn,On="__reactProps$"+Qn,zn="__reactContainer$"+Qn,hi="__reactEvents$"+Qn,pi="__reactListeners$"+Qn,mi="__reactHandles$"+Qn,Ni="__reactResources$"+Qn,ui="__reactMarker$"+Qn;function yi(De){delete De[kn],delete De[On],delete De[hi],delete De[pi],delete De[mi]}function _i(De){var Ve=De[kn];if(Ve)return Ve;for(var He=De.parentNode;He;){if(Ve=He[zn]||He[kn]){if(He=Ve.alternate,Ve.child!==null||He!==null&&He.child!==null)for(De=Kg(De);De!==null;){if(He=De[kn])return He;De=Kg(De)}return Ve}De=He,He=De.parentNode}return null}function Fi(De){if(De=De[kn]||De[zn]){var Ve=De.tag;if(Ve===5||Ve===6||Ve===13||Ve===26||Ve===27||Ve===3)return De}return null}function Di(De){var Ve=De.tag;if(Ve===5||Ve===26||Ve===27||Ve===6)return De.stateNode;throw Error(Ce(33))}function Oi(De){var Ve=De[Ni];return Ve||(Ve=De[Ni]={hoistableStyles:new Map,hoistableScripts:new Map}),Ve}function $i(De){De[ui]=!0}var oa=new Set,Za={};function ja(De,Ve){Ga(De,Ve),Ga(De+"Capture",Ve)}function Ga(De,Ve){for(Za[De]=Ve,De=0;De<Ve.length;De++)oa.add(Ve[De])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),DA={},Uo={};function lA(De){return fn.call(Uo,De)?!0:fn.call(DA,De)?!1:bo.test(De)?Uo[De]=!0:(DA[De]=!0,!1)}function Lo(De,Ve,He){if(lA(Ve))if(He===null)De.removeAttribute(Ve);else{switch(typeof He){case"undefined":case"function":case"symbol":De.removeAttribute(Ve);return;case"boolean":var We=Ve.toLowerCase().slice(0,5);if(We!=="data-"&&We!=="aria-"){De.removeAttribute(Ve);return}}De.setAttribute(Ve,""+He)}}function is(De,Ve,He){if(He===null)De.removeAttribute(Ve);else{switch(typeof He){case"undefined":case"function":case"symbol":case"boolean":De.removeAttribute(Ve);return}De.setAttribute(Ve,""+He)}}function as(De,Ve,He,We){if(We===null)De.removeAttribute(He);else{switch(typeof We){case"undefined":case"function":case"symbol":case"boolean":De.removeAttribute(He);return}De.setAttributeNS(Ve,He,""+We)}}var Wo,Kl;function wo(De){if(Wo===void 0)try{throw Error()}catch(He){var Ve=He.stack.trim().match(/\n( *(at )?)/);Wo=Ve&&Ve[1]||"",Kl=-1<He.stack.indexOf(`
    at`)?" (<anonymous>)":-1<He.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wo+De+Kl}var wl=!1;function xl(De,Ve){if(!De||wl)return"";wl=!0;var He=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var We={DetermineComponentFrameRoot:function(){try{if(Ve){var Ri=function(){throw Error()};if(Object.defineProperty(Ri.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ri,[])}catch(fi){var di=fi}Reflect.construct(De,[],Ri)}else{try{Ri.call()}catch(fi){di=fi}De.call(Ri.prototype)}}else{try{throw Error()}catch(fi){di=fi}(Ri=De())&&typeof Ri.catch=="function"&&Ri.catch(function(){})}}catch(fi){if(fi&&di&&typeof fi.stack=="string")return[fi.stack,di.stack]}return[null,null]}};We.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var pr=Object.getOwnPropertyDescriptor(We.DetermineComponentFrameRoot,"name");pr&&pr.configurable&&Object.defineProperty(We.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var br=We.DetermineComponentFrameRoot(),Zr=br[0],En=br[1];if(Zr&&En){var Vn=Zr.split(`
`),ci=En.split(`
`);for(pr=We=0;We<Vn.length&&!Vn[We].includes("DetermineComponentFrameRoot");)We++;for(;pr<ci.length&&!ci[pr].includes("DetermineComponentFrameRoot");)pr++;if(We===Vn.length||pr===ci.length)for(We=Vn.length-1,pr=ci.length-1;1<=We&&0<=pr&&Vn[We]!==ci[pr];)pr--;for(;1<=We&&0<=pr;We--,pr--)if(Vn[We]!==ci[pr]){if(We!==1||pr!==1)do if(We--,pr--,0>pr||Vn[We]!==ci[pr]){var xi=`
`+Vn[We].replace(" at new "," at ");return De.displayName&&xi.includes("<anonymous>")&&(xi=xi.replace("<anonymous>",De.displayName)),xi}while(1<=We&&0<=pr);break}}}finally{wl=!1,Error.prepareStackTrace=He}return(He=De?De.displayName||De.name:"")?wo(He):""}function Xo(De){switch(De.tag){case 26:case 27:case 5:return wo(De.type);case 16:return wo("Lazy");case 13:return wo("Suspense");case 19:return wo("SuspenseList");case 0:case 15:return xl(De.type,!1);case 11:return xl(De.type.render,!1);case 1:return xl(De.type,!0);case 31:return wo("Activity");default:return""}}function ql(De){try{var Ve="";do Ve+=Xo(De),De=De.return;while(De);return Ve}catch(He){return`
Error generating stack: `+He.message+`
`+He.stack}}function va(De){switch(typeof De){case"bigint":case"boolean":case"number":case"string":case"undefined":return De;case"object":return De;default:return""}}function zl(De){var Ve=De.type;return(De=De.nodeName)&&De.toLowerCase()==="input"&&(Ve==="checkbox"||Ve==="radio")}function NA(De){var Ve=zl(De)?"checked":"value",He=Object.getOwnPropertyDescriptor(De.constructor.prototype,Ve),We=""+De[Ve];if(!De.hasOwnProperty(Ve)&&typeof He<"u"&&typeof He.get=="function"&&typeof He.set=="function"){var pr=He.get,br=He.set;return Object.defineProperty(De,Ve,{configurable:!0,get:function(){return pr.call(this)},set:function(Zr){We=""+Zr,br.call(this,Zr)}}),Object.defineProperty(De,Ve,{enumerable:He.enumerable}),{getValue:function(){return We},setValue:function(Zr){We=""+Zr},stopTracking:function(){De._valueTracker=null,delete De[Ve]}}}}function ao(De){De._valueTracker||(De._valueTracker=NA(De))}function Oo(De){if(!De)return!1;var Ve=De._valueTracker;if(!Ve)return!0;var He=Ve.getValue(),We="";return De&&(We=zl(De)?De.checked?"true":"false":De.value),De=We,De!==He?(Ve.setValue(De),!0):!1}function Ts(De){if(De=De||(typeof document<"u"?document:void 0),typeof De>"u")return null;try{return De.activeElement||De.body}catch{return De.body}}var Cl=/[\n"\\]/g;function sa(De){return De.replace(Cl,function(Ve){return"\\"+Ve.charCodeAt(0).toString(16)+" "})}function Rs(De,Ve,He,We,pr,br,Zr,En){De.name="",Zr!=null&&typeof Zr!="function"&&typeof Zr!="symbol"&&typeof Zr!="boolean"?De.type=Zr:De.removeAttribute("type"),Ve!=null?Zr==="number"?(Ve===0&&De.value===""||De.value!=Ve)&&(De.value=""+va(Ve)):De.value!==""+va(Ve)&&(De.value=""+va(Ve)):Zr!=="submit"&&Zr!=="reset"||De.removeAttribute("value"),Ve!=null?Yo(De,Zr,va(Ve)):He!=null?Yo(De,Zr,va(He)):We!=null&&De.removeAttribute("value"),pr==null&&br!=null&&(De.defaultChecked=!!br),pr!=null&&(De.checked=pr&&typeof pr!="function"&&typeof pr!="symbol"),En!=null&&typeof En!="function"&&typeof En!="symbol"&&typeof En!="boolean"?De.name=""+va(En):De.removeAttribute("name")}function Sl(De,Ve,He,We,pr,br,Zr,En){if(br!=null&&typeof br!="function"&&typeof br!="symbol"&&typeof br!="boolean"&&(De.type=br),Ve!=null||He!=null){if(!(br!=="submit"&&br!=="reset"||Ve!=null))return;He=He!=null?""+va(He):"",Ve=Ve!=null?""+va(Ve):He,En||Ve===De.value||(De.value=Ve),De.defaultValue=Ve}We=We??pr,We=typeof We!="function"&&typeof We!="symbol"&&!!We,De.checked=En?De.checked:!!We,De.defaultChecked=!!We,Zr!=null&&typeof Zr!="function"&&typeof Zr!="symbol"&&typeof Zr!="boolean"&&(De.name=Zr)}function Yo(De,Ve,He){Ve==="number"&&Ts(De.ownerDocument)===De||De.defaultValue===""+He||(De.defaultValue=""+He)}function ko(De,Ve,He,We){if(De=De.options,Ve){Ve={};for(var pr=0;pr<He.length;pr++)Ve["$"+He[pr]]=!0;for(He=0;He<De.length;He++)pr=Ve.hasOwnProperty("$"+De[He].value),De[He].selected!==pr&&(De[He].selected=pr),pr&&We&&(De[He].defaultSelected=!0)}else{for(He=""+va(He),Ve=null,pr=0;pr<De.length;pr++){if(De[pr].value===He){De[pr].selected=!0,We&&(De[pr].defaultSelected=!0);return}Ve!==null||De[pr].disabled||(Ve=De[pr])}Ve!==null&&(Ve.selected=!0)}}function la(De,Ve,He){if(Ve!=null&&(Ve=""+va(Ve),Ve!==De.value&&(De.value=Ve),He==null)){De.defaultValue!==Ve&&(De.defaultValue=Ve);return}De.defaultValue=He!=null?""+va(He):""}function Zo(De,Ve,He,We){if(Ve==null){if(We!=null){if(He!=null)throw Error(Ce(92));if(Ur(We)){if(1<We.length)throw Error(Ce(93));We=We[0]}He=We}He==null&&(He=""),Ve=He}He=va(Ve),De.defaultValue=He,We=De.textContent,We===He&&We!==""&&We!==null&&(De.value=We)}function Hs(De,Ve){if(Ve){var He=De.firstChild;if(He&&He===De.lastChild&&He.nodeType===3){He.nodeValue=Ve;return}}De.textContent=Ve}var so=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gl(De,Ve,He){var We=Ve.indexOf("--")===0;He==null||typeof He=="boolean"||He===""?We?De.setProperty(Ve,""):Ve==="float"?De.cssFloat="":De[Ve]="":We?De.setProperty(Ve,He):typeof He!="number"||He===0||so.has(Ve)?Ve==="float"?De.cssFloat=He:De[Ve]=(""+He).trim():De[Ve]=He+"px"}function AA(De,Ve,He){if(Ve!=null&&typeof Ve!="object")throw Error(Ce(62));if(De=De.style,He!=null){for(var We in He)!He.hasOwnProperty(We)||Ve!=null&&Ve.hasOwnProperty(We)||(We.indexOf("--")===0?De.setProperty(We,""):We==="float"?De.cssFloat="":De[We]="");for(var pr in Ve)We=Ve[pr],Ve.hasOwnProperty(pr)&&He[pr]!==We&&Gl(De,pr,We)}else for(var br in Ve)Ve.hasOwnProperty(br)&&Gl(De,br,Ve[br])}function cA(De){if(De.indexOf("-")===-1)return!1;switch(De){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xo(De){return uA.test(""+De)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":De}var Ns=null;function oo(De){return De=De.target||De.srcElement||window,De.correspondingUseElement&&(De=De.correspondingUseElement),De.nodeType===3?De.parentNode:De}var Ks=null,uo=null;function Wi(De){var Ve=Fi(De);if(Ve&&(De=Ve.stateNode)){var He=De[On]||null;e:switch(De=Ve.stateNode,Ve.type){case"input":if(Rs(De,He.value,He.defaultValue,He.defaultValue,He.checked,He.defaultChecked,He.type,He.name),Ve=He.name,He.type==="radio"&&Ve!=null){for(He=De;He.parentNode;)He=He.parentNode;for(He=He.querySelectorAll('input[name="'+sa(""+Ve)+'"][type="radio"]'),Ve=0;Ve<He.length;Ve++){var We=He[Ve];if(We!==De&&We.form===De.form){var pr=We[On]||null;if(!pr)throw Error(Ce(90));Rs(We,pr.value,pr.defaultValue,pr.defaultValue,pr.checked,pr.defaultChecked,pr.type,pr.name)}}for(Ve=0;Ve<He.length;Ve++)We=He[Ve],We.form===De.form&&Oo(We)}break e;case"textarea":la(De,He.value,He.defaultValue);break e;case"select":Ve=He.value,Ve!=null&&ko(De,!!He.multiple,Ve,!1)}}}var Co=!1;function UA(De,Ve,He){if(Co)return De(Ve,He);Co=!0;try{var We=De(Ve);return We}finally{if(Co=!1,(Ks!==null||uo!==null)&&(zh(),Ks&&(Ve=Ks,De=uo,uo=Ks=null,Wi(Ve),De)))for(Ve=0;Ve<De.length;Ve++)Wi(De[Ve])}}function Tl(De,Ve){var He=De.stateNode;if(He===null)return null;var We=He[On]||null;if(We===null)return null;He=We[Ve];e:switch(Ve){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(We=!We.disabled)||(De=De.type,We=!(De==="button"||De==="input"||De==="select"||De==="textarea")),De=!We;break e;default:De=!1}if(De)return null;if(He&&typeof He!="function")throw Error(Ce(231,Ve,typeof He));return He}var ho=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hs=!1;if(ho)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){hs=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{hs=!1}var So=null,$o=null,lo=null;function Rl(){if(lo)return lo;var De,Ve=$o,He=Ve.length,We,pr="value"in So?So.value:So.textContent,br=pr.length;for(De=0;De<He&&Ve[De]===pr[De];De++);var Zr=He-De;for(We=1;We<=Zr&&Ve[He-We]===pr[br-We];We++);return lo=pr.slice(De,1<We?1-We:void 0)}function Us(De){var Ve=De.keyCode;return"charCode"in De?(De=De.charCode,De===0&&Ve===13&&(De=13)):De=Ve,De===10&&(De=13),32<=De||De===13?De:0}function zs(){return!0}function Jo(){return!1}function ds(De){function Ve(He,We,pr,br,Zr){this._reactName=He,this._targetInst=pr,this.type=We,this.nativeEvent=br,this.target=Zr,this.currentTarget=null;for(var En in De)De.hasOwnProperty(En)&&(He=De[En],this[En]=He?He(br):br[En]);return this.isDefaultPrevented=(br.defaultPrevented!=null?br.defaultPrevented:br.returnValue===!1)?zs:Jo,this.isPropagationStopped=Jo,this}return Qe(Ve.prototype,{preventDefault:function(){this.defaultPrevented=!0;var He=this.nativeEvent;He&&(He.preventDefault?He.preventDefault():typeof He.returnValue!="unknown"&&(He.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var He=this.nativeEvent;He&&(He.stopPropagation?He.stopPropagation():typeof He.cancelBubble!="unknown"&&(He.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),Ve}var ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(De){return De.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},el=ds(ya),fo=Qe({},ya,{view:0,detail:0}),tl=ds(fo),rl,Mo,Ao,po=Qe({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(De){return De.relatedTarget===void 0?De.fromElement===De.srcElement?De.toElement:De.fromElement:De.relatedTarget},movementX:function(De){return"movementX"in De?De.movementX:(De!==Ao&&(Ao&&De.type==="mousemove"?(rl=De.screenX-Ao.screenX,Mo=De.screenY-Ao.screenY):Mo=rl=0,Ao=De),rl)},movementY:function(De){return"movementY"in De?De.movementY:Mo}}),Ls=ds(po),Wl=Qe({},po,{dataTransfer:0}),Gs=ds(Wl),Os=Qe({},fo,{relatedTarget:0}),Sr=ds(Os),un=Qe({},ya,{animationName:0,elapsedTime:0,pseudoElement:0}),Un=ds(un),Hn=Qe({},ya,{clipboardData:function(De){return"clipboardData"in De?De.clipboardData:window.clipboardData}}),ei=ds(Hn),wi=Qe({},ya,{data:0}),Bi=ds(wi),Li={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ji(De){var Ve=this.nativeEvent;return Ve.getModifierState?Ve.getModifierState(De):(De=Gi[De])?!!Ve[De]:!1}function Aa(){return Ji}var La=Qe({},fo,{key:function(De){if(De.key){var Ve=Li[De.key]||De.key;if(Ve!=="Unidentified")return Ve}return De.type==="keypress"?(De=Us(De),De===13?"Enter":String.fromCharCode(De)):De.type==="keydown"||De.type==="keyup"?Qi[De.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(De){return De.type==="keypress"?Us(De):0},keyCode:function(De){return De.type==="keydown"||De.type==="keyup"?De.keyCode:0},which:function(De){return De.type==="keypress"?Us(De):De.type==="keydown"||De.type==="keyup"?De.keyCode:0}}),Va=ds(La),Ca=Qe({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wa=ds(Ca),Fa=Qe({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),fs=ds(Fa),To=Qe({},ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),jo=ds(To),LA=Qe({},po,{deltaX:function(De){return"deltaX"in De?De.deltaX:"wheelDeltaX"in De?-De.wheelDeltaX:0},deltaY:function(De){return"deltaY"in De?De.deltaY:"wheelDeltaY"in De?-De.wheelDeltaY:"wheelDelta"in De?-De.wheelDelta:0},deltaZ:0,deltaMode:0}),Bl=ds(LA),ss=Qe({},ya,{newState:0,oldState:0}),co=ds(ss),Xl=[9,13,27,32],Ws=ho&&"CompositionEvent"in window,sr=null;ho&&"documentMode"in document&&(sr=document.documentMode);var Dr=ho&&"TextEvent"in window&&!sr,Xr=ho&&(!Ws||sr&&8<sr&&11>=sr),Cn=" ",ni=!1;function gi(De,Ve){switch(De){case"keyup":return Xl.indexOf(Ve.keyCode)!==-1;case"keydown":return Ve.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ii(De){return De=De.detail,typeof De=="object"&&"data"in De?De.data:null}var ca=!1;function qa(De,Ve){switch(De){case"compositionend":return Ii(Ve);case"keypress":return Ve.which!==32?null:(ni=!0,Cn);case"textInput":return De=Ve.data,De===Cn&&ni?null:De;default:return null}}function ua(De,Ve){if(ca)return De==="compositionend"||!Ws&&gi(De,Ve)?(De=Rl(),lo=$o=So=null,ca=!1,De):null;switch(De){case"paste":return null;case"keypress":if(!(Ve.ctrlKey||Ve.altKey||Ve.metaKey)||Ve.ctrlKey&&Ve.altKey){if(Ve.char&&1<Ve.char.length)return Ve.char;if(Ve.which)return String.fromCharCode(Ve.which)}return null;case"compositionend":return Xr&&Ve.locale!=="ko"?null:Ve.data;default:return null}}var da={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ra(De){var Ve=De&&De.nodeName&&De.nodeName.toLowerCase();return Ve==="input"?!!da[De.type]:Ve==="textarea"}function go(De,Ve,He,We){Ks?uo?uo.push(We):uo=[We]:Ks=We,Ve=$h(Ve,"onChange"),0<Ve.length&&(He=new el("onChange","change",null,He,We),De.push({event:He,listeners:Ve}))}var os=null,Bs=null;function nl(De){Ng(De,0)}function Ps(De){var Ve=Di(De);if(Oo(Ve))return De}function Xs(De,Ve){if(De==="change")return Ve}var Yl=!1;if(ho){var Ro;if(ho){var il="oninput"in document;if(!il){var OA=document.createElement("div");OA.setAttribute("oninput","return;"),il=typeof OA.oninput=="function"}Ro=il}else Ro=!1;Yl=Ro&&(!document.documentMode||9<document.documentMode)}function Pl(){os&&(os.detachEvent("onpropertychange",$a),Bs=os=null)}function $a(De){if(De.propertyName==="value"&&Ps(Bs)){var Ve=[];go(Ve,Bs,De,oo(De)),UA(nl,Ve)}}function pu(De,Ve,He){De==="focusin"?(Pl(),os=Ve,Bs=He,os.attachEvent("onpropertychange",$a)):De==="focusout"&&Pl()}function al(De){if(De==="selectionchange"||De==="keyup"||De==="keydown")return Ps(Bs)}function sl(De,Ve){if(De==="click")return Ps(Ve)}function kA(De,Ve){if(De==="input"||De==="change")return Ps(Ve)}function dc(De,Ve){return De===Ve&&(De!==0||1/De===1/Ve)||De!==De&&Ve!==Ve}var xs=typeof Object.is=="function"?Object.is:dc;function ol(De,Ve){if(xs(De,Ve))return!0;if(typeof De!="object"||De===null||typeof Ve!="object"||Ve===null)return!1;var He=Object.keys(De),We=Object.keys(Ve);if(He.length!==We.length)return!1;for(We=0;We<He.length;We++){var pr=He[We];if(!fn.call(Ve,pr)||!xs(De[pr],Ve[pr]))return!1}return!0}function Zl(De){for(;De&&De.firstChild;)De=De.firstChild;return De}function $l(De,Ve){var He=Zl(De);De=0;for(var We;He;){if(He.nodeType===3){if(We=De+He.textContent.length,De<=Ve&&We>=Ve)return{node:He,offset:Ve-De};De=We}e:{for(;He;){if(He.nextSibling){He=He.nextSibling;break e}He=He.parentNode}He=void 0}He=Zl(He)}}function ll(De,Ve){return De&&Ve?De===Ve?!0:De&&De.nodeType===3?!1:Ve&&Ve.nodeType===3?ll(De,Ve.parentNode):"contains"in De?De.contains(Ve):De.compareDocumentPosition?!!(De.compareDocumentPosition(Ve)&16):!1:!1}function MA(De){De=De!=null&&De.ownerDocument!=null&&De.ownerDocument.defaultView!=null?De.ownerDocument.defaultView:window;for(var Ve=Ts(De.document);Ve instanceof De.HTMLIFrameElement;){try{var He=typeof Ve.contentWindow.location.href=="string"}catch{He=!1}if(He)De=Ve.contentWindow;else break;Ve=Ts(De.document)}return Ve}function Ys(De){var Ve=De&&De.nodeName&&De.nodeName.toLowerCase();return Ve&&(Ve==="input"&&(De.type==="text"||De.type==="search"||De.type==="tel"||De.type==="url"||De.type==="password")||Ve==="textarea"||De.contentEditable==="true")}var Al=ho&&"documentMode"in document&&11>=document.documentMode,Sa=null,Ia=null,Qa=null,Xa=!1;function cl(De,Ve,He){var We=He.window===He?He.document:He.nodeType===9?He:He.ownerDocument;Xa||Sa==null||Sa!==Ts(We)||(We=Sa,"selectionStart"in We&&Ys(We)?We={start:We.selectionStart,end:We.selectionEnd}:(We=(We.ownerDocument&&We.ownerDocument.defaultView||window).getSelection(),We={anchorNode:We.anchorNode,anchorOffset:We.anchorOffset,focusNode:We.focusNode,focusOffset:We.focusOffset}),Qa&&ol(Qa,We)||(Qa=We,We=$h(Ia,"onSelect"),0<We.length&&(Ve=new el("onSelect","select",null,Ve,He),De.push({event:Ve,listeners:We}),Ve.target=Sa)))}function Bo(De,Ve){var He={};return He[De.toLowerCase()]=Ve.toLowerCase(),He["Webkit"+De]="webkit"+Ve,He["Moz"+De]="moz"+Ve,He}var Zs={animationend:Bo("Animation","AnimationEnd"),animationiteration:Bo("Animation","AnimationIteration"),animationstart:Bo("Animation","AnimationStart"),transitionrun:Bo("Transition","TransitionRun"),transitionstart:Bo("Transition","TransitionStart"),transitioncancel:Bo("Transition","TransitionCancel"),transitionend:Bo("Transition","TransitionEnd")},hA={},gu={};ho&&(gu=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function Jl(De){if(hA[De])return hA[De];if(!Zs[De])return De;var Ve=Zs[De],He;for(He in Ve)if(Ve.hasOwnProperty(He)&&He in gu)return hA[De]=Ve[He];return De}var mu=Jl("animationend"),vu=Jl("animationiteration"),_u=Jl("animationstart"),dh=Jl("transitionrun"),fh=Jl("transitionstart"),ph=Jl("transitioncancel"),yu=Jl("transitionend"),Eu=new Map,Uc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uc.push("scrollEnd");function Po(De,Ve){Eu.set(De,Ve),ja(Ve,[De])}var jA=new WeakMap;function mo(De,Ve){if(typeof De=="object"&&De!==null){var He=jA.get(De);return He!==void 0?He:(Ve={value:De,source:Ve,stack:ql(Ve)},jA.set(De,Ve),Ve)}return{value:De,source:Ve,stack:ql(Ve)}}var vo=[],dA=0,Lc=0;function fc(){for(var De=dA,Ve=Lc=dA=0;Ve<De;){var He=vo[Ve];vo[Ve++]=null;var We=vo[Ve];vo[Ve++]=null;var pr=vo[Ve];vo[Ve++]=null;var br=vo[Ve];if(vo[Ve++]=null,We!==null&&pr!==null){var Zr=We.pending;Zr===null?pr.next=pr:(pr.next=Zr.next,Zr.next=pr),We.pending=pr}br!==0&&kc(He,pr,br)}}function pc(De,Ve,He,We){vo[dA++]=De,vo[dA++]=Ve,vo[dA++]=He,vo[dA++]=We,Lc|=We,De.lanes|=We,De=De.alternate,De!==null&&(De.lanes|=We)}function Oc(De,Ve,He,We){return pc(De,Ve,He,We),pA(De)}function fA(De,Ve){return pc(De,null,null,Ve),pA(De)}function kc(De,Ve,He){De.lanes|=He;var We=De.alternate;We!==null&&(We.lanes|=He);for(var pr=!1,br=De.return;br!==null;)br.childLanes|=He,We=br.alternate,We!==null&&(We.childLanes|=He),br.tag===22&&(De=br.stateNode,De===null||De._visibility&1||(pr=!0)),De=br,br=br.return;return De.tag===3?(br=De.stateNode,pr&&Ve!==null&&(pr=31-ai(He),De=br.hiddenUpdates,We=De[pr],We===null?De[pr]=[Ve]:We.push(Ve),Ve.lane=He|536870912),br):null}function pA(De){if(50<zu)throw zu=0,nf=null,Error(Ce(185));for(var Ve=De.return;Ve!==null;)De=Ve,Ve=De.return;return De.tag===3?De.stateNode:null}var Cs={};function Fo(De,Ve,He,We){this.tag=De,this.key=He,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=Ve,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=We,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ks(De,Ve,He,We){return new Fo(De,Ve,He,We)}function VA(De){return De=De.prototype,!(!De||!De.isReactComponent)}function ul(De,Ve){var He=De.alternate;return He===null?(He=ks(De.tag,Ve,De.key,De.mode),He.elementType=De.elementType,He.type=De.type,He.stateNode=De.stateNode,He.alternate=De,De.alternate=He):(He.pendingProps=Ve,He.type=De.type,He.flags=0,He.subtreeFlags=0,He.deletions=null),He.flags=De.flags&65011712,He.childLanes=De.childLanes,He.lanes=De.lanes,He.child=De.child,He.memoizedProps=De.memoizedProps,He.memoizedState=De.memoizedState,He.updateQueue=De.updateQueue,Ve=De.dependencies,He.dependencies=Ve===null?null:{lanes:Ve.lanes,firstContext:Ve.firstContext},He.sibling=De.sibling,He.index=De.index,He.ref=De.ref,He.refCleanup=De.refCleanup,He}function gc(De,Ve){De.flags&=65011714;var He=De.alternate;return He===null?(De.childLanes=0,De.lanes=Ve,De.child=null,De.subtreeFlags=0,De.memoizedProps=null,De.memoizedState=null,De.updateQueue=null,De.dependencies=null,De.stateNode=null):(De.childLanes=He.childLanes,De.lanes=He.lanes,De.child=He.child,De.subtreeFlags=0,De.deletions=null,De.memoizedProps=He.memoizedProps,De.memoizedState=He.memoizedState,De.updateQueue=He.updateQueue,De.type=He.type,Ve=He.dependencies,De.dependencies=Ve===null?null:{lanes:Ve.lanes,firstContext:Ve.firstContext}),De}function gA(De,Ve,He,We,pr,br){var Zr=0;if(We=De,typeof De=="function")VA(De)&&(Zr=1);else if(typeof De=="string")Zr=U0(De,He,yr.current)?26:De==="html"||De==="head"||De==="body"?27:5;else e:switch(De){case ir:return De=ks(31,He,Ve,pr),De.elementType=ir,De.lanes=br,De;case Xe:return Fl(He.children,pr,br,Ve);case tr:Zr=8,pr|=24;break;case Je:return De=ks(12,He,Ve,pr|2),De.elementType=Je,De.lanes=br,De;case ur:return De=ks(13,He,Ve,pr),De.elementType=ur,De.lanes=br,De;case fr:return De=ks(19,He,Ve,pr),De.elementType=fr,De.lanes=br,De;default:if(typeof De=="object"&&De!==null)switch(De.$$typeof){case Ye:case cr:Zr=10;break e;case lr:Zr=9;break e;case hr:Zr=11;break e;case er:Zr=14;break e;case nr:Zr=16,We=null;break e}Zr=29,He=Error(Ce(130,De===null?"null":typeof De,"")),We=null}return Ve=ks(Zr,He,Ve,pr),Ve.elementType=De,Ve.type=We,Ve.lanes=br,Ve}function Fl(De,Ve,He,We){return De=ks(7,De,We,Ve),De.lanes=He,De}function Mc(De,Ve,He){return De=ks(6,De,null,Ve),De.lanes=He,De}function mc(De,Ve,He){return Ve=ks(4,De.children!==null?De.children:[],De.key,Ve),Ve.lanes=He,Ve.stateNode={containerInfo:De.containerInfo,pendingChildren:null,implementation:De.implementation},Ve}var eA=[],Il=0,QA=null,jc=0,Io=[],_o=0,mA=null,Dl=1,Nl="";function vA(De,Ve){eA[Il++]=jc,eA[Il++]=QA,QA=De,jc=Ve}function gh(De,Ve,He){Io[_o++]=Dl,Io[_o++]=Nl,Io[_o++]=mA,mA=De;var We=Dl;De=Nl;var pr=32-ai(We)-1;We&=~(1<<pr),He+=1;var br=32-ai(Ve)+pr;if(30<br){var Zr=pr-pr%5;br=(We&(1<<Zr)-1).toString(32),We>>=Zr,pr-=Zr,Dl=1<<32-ai(Ve)+pr|He<<pr|We,Nl=br+De}else Dl=1<<br|He<<pr|We,Nl=De}function vc(De){De.return!==null&&(vA(De,1),gh(De,1,0))}function _c(De){for(;De===QA;)QA=eA[--Il],eA[Il]=null,jc=eA[--Il],eA[Il]=null;for(;De===mA;)mA=Io[--_o],Io[_o]=null,Nl=Io[--_o],Io[_o]=null,Dl=Io[--_o],Io[_o]=null}var ms=null,Ja=null,Ta=!1,tA=null,hl=!1,bu=Error(Ce(519));function _A(De){var Ve=Error(Ce(418,""));throw HA(mo(Ve,De)),bu}function mh(De){var Ve=De.stateNode,He=De.type,We=De.memoizedProps;switch(Ve[kn]=De,Ve[On]=We,He){case"dialog":ma("cancel",Ve),ma("close",Ve);break;case"iframe":case"object":case"embed":ma("load",Ve);break;case"video":case"audio":for(He=0;He<Wu.length;He++)ma(Wu[He],Ve);break;case"source":ma("error",Ve);break;case"img":case"image":case"link":ma("error",Ve),ma("load",Ve);break;case"details":ma("toggle",Ve);break;case"input":ma("invalid",Ve),Sl(Ve,We.value,We.defaultValue,We.checked,We.defaultChecked,We.type,We.name,!0),ao(Ve);break;case"select":ma("invalid",Ve);break;case"textarea":ma("invalid",Ve),Zo(Ve,We.value,We.defaultValue,We.children),ao(Ve)}He=We.children,typeof He!="string"&&typeof He!="number"&&typeof He!="bigint"||Ve.textContent===""+He||We.suppressHydrationWarning===!0||kg(Ve.textContent,He)?(We.popover!=null&&(ma("beforetoggle",Ve),ma("toggle",Ve)),We.onScroll!=null&&ma("scroll",Ve),We.onScrollEnd!=null&&ma("scrollend",Ve),We.onClick!=null&&(Ve.onclick=Jh),Ve=!0):Ve=!1,Ve||_A(De)}function Ul(De){for(ms=De.return;ms;)switch(ms.tag){case 5:case 13:hl=!1;return;case 27:case 3:hl=!0;return;default:ms=ms.return}}function $s(De){if(De!==ms)return!1;if(!Ta)return Ul(De),Ta=!0,!1;var Ve=De.tag,He;if((He=Ve!==3&&Ve!==27)&&((He=Ve===5)&&(He=De.type,He=!(He!=="form"&&He!=="button")||yf(De.type,De.memoizedProps)),He=!He),He&&Ja&&_A(De),Ul(De),Ve===13){if(De=De.memoizedState,De=De!==null?De.dehydrated:null,!De)throw Error(Ce(317));e:{for(De=De.nextSibling,Ve=0;De;){if(De.nodeType===8)if(He=De.data,He==="/$"){if(Ve===0){Ja=Hl(De.nextSibling);break e}Ve--}else He!=="$"&&He!=="$!"&&He!=="$?"||Ve++;De=De.nextSibling}Ja=null}}else Ve===27?(Ve=Ja,ac(De.type)?(De=xf,xf=null,Ja=De):Ja=Ve):Ja=ms?Hl(De.stateNode.nextSibling):null;return!0}function yo(){Ja=ms=null,Ta=!1}function vh(){var De=tA;return De!==null&&(No===null?No=De:No.push.apply(No,De),tA=null),De}function HA(De){tA===null?tA=[De]:tA.push(De)}var dl=Mr(null),Ss=null,Ll=null;function rA(De,Ve,He){gr(dl,Ve._currentValue),Ve._currentValue=He}function pl(De){De._currentValue=dl.current,_r(dl)}function Vc(De,Ve,He){for(;De!==null;){var We=De.alternate;if((De.childLanes&Ve)!==Ve?(De.childLanes|=Ve,We!==null&&(We.childLanes|=Ve)):We!==null&&(We.childLanes&Ve)!==Ve&&(We.childLanes|=Ve),De===He)break;De=De.return}}function Qc(De,Ve,He,We){var pr=De.child;for(pr!==null&&(pr.return=De);pr!==null;){var br=pr.dependencies;if(br!==null){var Zr=pr.child;br=br.firstContext;e:for(;br!==null;){var En=br;br=pr;for(var Vn=0;Vn<Ve.length;Vn++)if(En.context===Ve[Vn]){br.lanes|=He,En=br.alternate,En!==null&&(En.lanes|=He),Vc(br.return,He,De),We||(Zr=null);break e}br=En.next}}else if(pr.tag===18){if(Zr=pr.return,Zr===null)throw Error(Ce(341));Zr.lanes|=He,br=Zr.alternate,br!==null&&(br.lanes|=He),Vc(Zr,He,De),Zr=null}else Zr=pr.child;if(Zr!==null)Zr.return=pr;else for(Zr=pr;Zr!==null;){if(Zr===De){Zr=null;break}if(pr=Zr.sibling,pr!==null){pr.return=Zr.return,Zr=pr;break}Zr=Zr.return}pr=Zr}}function KA(De,Ve,He,We){De=null;for(var pr=Ve,br=!1;pr!==null;){if(!br){if((pr.flags&524288)!==0)br=!0;else if((pr.flags&262144)!==0)break}if(pr.tag===10){var Zr=pr.alternate;if(Zr===null)throw Error(Ce(387));if(Zr=Zr.memoizedProps,Zr!==null){var En=pr.type;xs(pr.pendingProps.value,Zr.value)||(De!==null?De.push(En):De=[En])}}else if(pr===Qr.current){if(Zr=pr.alternate,Zr===null)throw Error(Ce(387));Zr.memoizedState.memoizedState!==pr.memoizedState.memoizedState&&(De!==null?De.push(eh):De=[eh])}pr=pr.return}De!==null&&Qc(Ve,De,He,We),Ve.flags|=262144}function Hc(De){for(De=De.firstContext;De!==null;){if(!xs(De.context._currentValue,De.memoizedValue))return!0;De=De.next}return!1}function gl(De){Ss=De,Ll=null,De=De.dependencies,De!==null&&(De.firstContext=null)}function vs(De){return Kc(Ss,De)}function nA(De,Ve){return Ss===null&&gl(De),Kc(De,Ve)}function Kc(De,Ve){var He=Ve._currentValue;if(Ve={context:Ve,memoizedValue:He,next:null},Ll===null){if(De===null)throw Error(Ce(308));Ll=Ve,De.dependencies={lanes:0,firstContext:Ve},De.flags|=524288}else Ll=Ll.next=Ve;return He}var Rd=typeof AbortController<"u"?AbortController:function(){var De=[],Ve=this.signal={aborted:!1,addEventListener:function(He,We){De.push(We)}};this.abort=function(){Ve.aborted=!0,De.forEach(function(He){return He()})}},_h=Ee.unstable_scheduleCallback,Bd=Ee.unstable_NormalPriority,_s={$$typeof:cr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wu(){return{controller:new Rd,data:new Map,refCount:0}}function yc(De){De.refCount--,De.refCount===0&&_h(Bd,function(){De.controller.abort()})}var Ec=null,xu=0,yA=0,Ol=null;function Pd(De,Ve){if(Ec===null){var He=Ec=[];xu=0,yA=uf(),Ol={status:"pending",value:void 0,then:function(We){He.push(We)}}}return xu++,Ve.then(yh,yh),Ve}function yh(){if(--xu===0&&Ec!==null){Ol!==null&&(Ol.status="fulfilled");var De=Ec;Ec=null,yA=0,Ol=null;for(var Ve=0;Ve<De.length;Ve++)(0,De[Ve])()}}function Eh(De,Ve){var He=[],We={status:"pending",value:null,reason:null,then:function(pr){He.push(pr)}};return De.then(function(){We.status="fulfilled",We.value=Ve;for(var pr=0;pr<He.length;pr++)(0,He[pr])(Ve)},function(pr){for(We.status="rejected",We.reason=pr,pr=0;pr<He.length;pr++)(0,He[pr])(void 0)}),We}var ar=Fr.S;Fr.S=function(De,Ve){typeof Ve=="object"&&Ve!==null&&typeof Ve.then=="function"&&Pd(De,Ve),ar!==null&&ar(De,Ve)};var vr=Mr(null);function Pr(){var De=vr.current;return De!==null?De:za.pooledCache}function qr(De,Ve){Ve===null?gr(vr,vr.current):gr(vr,Ve.pool)}function hn(){var De=Pr();return De===null?null:{parent:_s._currentValue,pool:De}}var pn=Error(Ce(460)),yn=Error(Ce(474)),xn=Error(Ce(542)),Tn={then:function(){}};function Ln(De){return De=De.status,De==="fulfilled"||De==="rejected"}function Gn(){}function Ai(De,Ve,He){switch(He=De[He],He===void 0?De.push(Ve):He!==Ve&&(Ve.then(Gn,Gn),Ve=He),Ve.status){case"fulfilled":return Ve.value;case"rejected":throw De=Ve.reason,ii(De),De;default:if(typeof Ve.status=="string")Ve.then(Gn,Gn);else{if(De=za,De!==null&&100<De.shellSuspendCounter)throw Error(Ce(482));De=Ve,De.status="pending",De.then(function(We){if(Ve.status==="pending"){var pr=Ve;pr.status="fulfilled",pr.value=We}},function(We){if(Ve.status==="pending"){var pr=Ve;pr.status="rejected",pr.reason=We}})}switch(Ve.status){case"fulfilled":return Ve.value;case"rejected":throw De=Ve.reason,ii(De),De}throw Nn=Ve,pn}}var Nn=null;function Zn(){if(Nn===null)throw Error(Ce(459));var De=Nn;return Nn=null,De}function ii(De){if(De===pn||De===xn)throw Error(Ce(483))}var vi=!1;function li(De){De.updateQueue={baseState:De.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bi(De,Ve){De=De.updateQueue,Ve.updateQueue===De&&(Ve.updateQueue={baseState:De.baseState,firstBaseUpdate:De.firstBaseUpdate,lastBaseUpdate:De.lastBaseUpdate,shared:De.shared,callbacks:null})}function Ei(De){return{lane:De,tag:0,payload:null,callback:null,next:null}}function Pi(De,Ve,He){var We=De.updateQueue;if(We===null)return null;if(We=We.shared,(Na&2)!==0){var pr=We.pending;return pr===null?Ve.next=Ve:(Ve.next=pr.next,pr.next=Ve),We.pending=Ve,Ve=pA(De),kc(De,null,He),Ve}return pc(De,We,Ve,He),pA(De)}function Ti(De,Ve,He){if(Ve=Ve.updateQueue,Ve!==null&&(Ve=Ve.shared,(He&4194048)!==0)){var We=Ve.lanes;We&=De.pendingLanes,He|=We,Ve.lanes=He,Kr(De,He)}}function Ki(De,Ve){var He=De.updateQueue,We=De.alternate;if(We!==null&&(We=We.updateQueue,He===We)){var pr=null,br=null;if(He=He.firstBaseUpdate,He!==null){do{var Zr={lane:He.lane,tag:He.tag,payload:He.payload,callback:null,next:null};br===null?pr=br=Zr:br=br.next=Zr,He=He.next}while(He!==null);br===null?pr=br=Ve:br=br.next=Ve}else pr=br=Ve;He={baseState:We.baseState,firstBaseUpdate:pr,lastBaseUpdate:br,shared:We.shared,callbacks:We.callbacks},De.updateQueue=He;return}De=He.lastBaseUpdate,De===null?He.firstBaseUpdate=Ve:De.next=Ve,He.lastBaseUpdate=Ve}var ki=!1;function ra(){if(ki){var De=Ol;if(De!==null)throw De}}function Mi(De,Ve,He,We){ki=!1;var pr=De.updateQueue;vi=!1;var br=pr.firstBaseUpdate,Zr=pr.lastBaseUpdate,En=pr.shared.pending;if(En!==null){pr.shared.pending=null;var Vn=En,ci=Vn.next;Vn.next=null,Zr===null?br=ci:Zr.next=ci,Zr=Vn;var xi=De.alternate;xi!==null&&(xi=xi.updateQueue,En=xi.lastBaseUpdate,En!==Zr&&(En===null?xi.firstBaseUpdate=ci:En.next=ci,xi.lastBaseUpdate=Vn))}if(br!==null){var Ri=pr.baseState;Zr=0,xi=ci=Vn=null,En=br;do{var di=En.lane&-536870913,fi=di!==En.lane;if(fi?(xa&di)===di:(We&di)===di){di!==0&&di===yA&&(ki=!0),xi!==null&&(xi=xi.next={lane:0,tag:En.tag,payload:En.payload,callback:null,next:null});e:{var ta=De,Yi=En;di=Ve;var Ma=He;switch(Yi.tag){case 1:if(ta=Yi.payload,typeof ta=="function"){Ri=ta.call(Ma,Ri,di);break e}Ri=ta;break e;case 3:ta.flags=ta.flags&-65537|128;case 0:if(ta=Yi.payload,di=typeof ta=="function"?ta.call(Ma,Ri,di):ta,di==null)break e;Ri=Qe({},Ri,di);break e;case 2:vi=!0}}di=En.callback,di!==null&&(De.flags|=64,fi&&(De.flags|=8192),fi=pr.callbacks,fi===null?pr.callbacks=[di]:fi.push(di))}else fi={lane:di,tag:En.tag,payload:En.payload,callback:En.callback,next:null},xi===null?(ci=xi=fi,Vn=Ri):xi=xi.next=fi,Zr|=di;if(En=En.next,En===null){if(En=pr.shared.pending,En===null)break;fi=En,En=fi.next,fi.next=null,pr.lastBaseUpdate=fi,pr.shared.pending=null}}while(!0);xi===null&&(Vn=Ri),pr.baseState=Vn,pr.firstBaseUpdate=ci,pr.lastBaseUpdate=xi,br===null&&(pr.shared.lanes=0),tc|=Zr,De.lanes=Zr,De.memoizedState=Ri}}function fa(De,Ve){if(typeof De!="function")throw Error(Ce(191,De));De.call(Ve)}function ps(De,Ve){var He=De.callbacks;if(He!==null)for(De.callbacks=null,De=0;De<He.length;De++)fa(He[De],Ve)}var ea=Mr(null),ji=Mr(0);function Ui(De,Ve){De=PA,gr(ji,De),gr(ea,Ve),PA=De|Ve.baseLanes}function Ya(){gr(ji,PA),gr(ea,ea.current)}function na(){PA=ji.current,_r(ea),_r(ji)}var aa=0,Vi=null,ia=null,Ea=null,Ha=!1,ls=!1,As=!1,es=0,ha=0,ba=null,ts=0;function Xi(){throw Error(Ce(321))}function ys(De,Ve){if(Ve===null)return!1;for(var He=0;He<Ve.length&&He<De.length;He++)if(!xs(De[He],Ve[He]))return!1;return!0}function Eo(De,Ve,He,We,pr,br){return aa=br,Vi=Ve,Ve.memoizedState=null,Ve.updateQueue=null,Ve.lanes=0,Fr.H=De===null||De.memoizedState===null?vp:_p,As=!1,br=He(We,pr),As=!1,ls&&(br=Js(Ve,He,We,pr)),rs(De),br}function rs(De){Fr.H=Dh;var Ve=ia!==null&&ia.next!==null;if(aa=0,Ea=ia=Vi=null,Ha=!1,ha=0,ba=null,Ve)throw Error(Ce(300));De===null||js||(De=De.dependencies,De!==null&&Hc(De)&&(js=!0))}function Js(De,Ve,He,We){Vi=De;var pr=0;do{if(ls&&(ba=null),ha=0,ls=!1,25<=pr)throw Error(Ce(301));if(pr+=1,Ea=ia=null,De.updateQueue!=null){var br=De.updateQueue;br.lastEffect=null,br.events=null,br.stores=null,br.memoCache!=null&&(br.memoCache.index=0)}Fr.H=zm,br=Ve(He,We)}while(ls);return br}function Da(){var De=Fr.H,Ve=De.useState()[0];return Ve=typeof Ve.then=="function"?Is(Ve):Ve,De=De.useState()[0],(ia!==null?ia.memoizedState:null)!==De&&(Vi.flags|=1024),Ve}function cs(){var De=es!==0;return es=0,De}function eo(De,Ve,He){Ve.updateQueue=De.updateQueue,Ve.flags&=-2053,De.lanes&=~He}function Fs(De){if(Ha){for(De=De.memoizedState;De!==null;){var Ve=De.queue;Ve!==null&&(Ve.pending=null),De=De.next}Ha=!1}aa=0,Ea=ia=Vi=null,ls=!1,ha=es=0,ba=null}function Oa(){var De={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ea===null?Vi.memoizedState=Ea=De:Ea=Ea.next=De,Ea}function wa(){if(ia===null){var De=Vi.alternate;De=De!==null?De.memoizedState:null}else De=ia.next;var Ve=Ea===null?Vi.memoizedState:Ea.next;if(Ve!==null)Ea=Ve,ia=De;else{if(De===null)throw Vi.alternate===null?Error(Ce(467)):Error(Ce(310));ia=De,De={memoizedState:ia.memoizedState,baseState:ia.baseState,baseQueue:ia.baseQueue,queue:ia.queue,next:null},Ea===null?Vi.memoizedState=Ea=De:Ea=Ea.next=De}return Ea}function Ms(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Is(De){var Ve=ha;return ha+=1,ba===null&&(ba=[]),De=Ai(ba,De,Ve),Ve=Vi,(Ea===null?Ve.memoizedState:Ea.next)===null&&(Ve=Ve.alternate,Fr.H=Ve===null||Ve.memoizedState===null?vp:_p),De}function Pa(De){if(De!==null&&typeof De=="object"){if(typeof De.then=="function")return Is(De);if(De.$$typeof===cr)return vs(De)}throw Error(Ce(438,String(De)))}function to(De){var Ve=null,He=Vi.updateQueue;if(He!==null&&(Ve=He.memoCache),Ve==null){var We=Vi.alternate;We!==null&&(We=We.updateQueue,We!==null&&(We=We.memoCache,We!=null&&(Ve={data:We.data.map(function(pr){return pr.slice()}),index:0})))}if(Ve==null&&(Ve={data:[],index:0}),He===null&&(He=Ms(),Vi.updateQueue=He),He.memoCache=Ve,He=Ve.data[Ve.index],He===void 0)for(He=Ve.data[Ve.index]=Array(De),We=0;We<De;We++)He[We]=mr;return Ve.index++,He}function Es(De,Ve){return typeof Ve=="function"?Ve(De):Ve}function ml(De){var Ve=wa();return Vo(Ve,ia,De)}function Vo(De,Ve,He){var We=De.queue;if(We===null)throw Error(Ce(311));We.lastRenderedReducer=He;var pr=De.baseQueue,br=We.pending;if(br!==null){if(pr!==null){var Zr=pr.next;pr.next=br.next,br.next=Zr}Ve.baseQueue=pr=br,We.pending=null}if(br=De.baseState,pr===null)De.memoizedState=br;else{Ve=pr.next;var En=Zr=null,Vn=null,ci=Ve,xi=!1;do{var Ri=ci.lane&-536870913;if(Ri!==ci.lane?(xa&Ri)===Ri:(aa&Ri)===Ri){var di=ci.revertLane;if(di===0)Vn!==null&&(Vn=Vn.next={lane:0,revertLane:0,action:ci.action,hasEagerState:ci.hasEagerState,eagerState:ci.eagerState,next:null}),Ri===yA&&(xi=!0);else if((aa&di)===di){ci=ci.next,di===yA&&(xi=!0);continue}else Ri={lane:0,revertLane:ci.revertLane,action:ci.action,hasEagerState:ci.hasEagerState,eagerState:ci.eagerState,next:null},Vn===null?(En=Vn=Ri,Zr=br):Vn=Vn.next=Ri,Vi.lanes|=di,tc|=di;Ri=ci.action,As&&He(br,Ri),br=ci.hasEagerState?ci.eagerState:He(br,Ri)}else di={lane:Ri,revertLane:ci.revertLane,action:ci.action,hasEagerState:ci.hasEagerState,eagerState:ci.eagerState,next:null},Vn===null?(En=Vn=di,Zr=br):Vn=Vn.next=di,Vi.lanes|=Ri,tc|=Ri;ci=ci.next}while(ci!==null&&ci!==Ve);if(Vn===null?Zr=br:Vn.next=En,!xs(br,De.memoizedState)&&(js=!0,xi&&(He=Ol,He!==null)))throw He;De.memoizedState=br,De.baseState=Zr,De.baseQueue=Vn,We.lastRenderedState=br}return pr===null&&(We.lanes=0),[De.memoizedState,We.dispatch]}function bs(De){var Ve=wa(),He=Ve.queue;if(He===null)throw Error(Ce(311));He.lastRenderedReducer=De;var We=He.dispatch,pr=He.pending,br=Ve.memoizedState;if(pr!==null){He.pending=null;var Zr=pr=pr.next;do br=De(br,Zr.action),Zr=Zr.next;while(Zr!==pr);xs(br,Ve.memoizedState)||(js=!0),Ve.memoizedState=br,Ve.baseQueue===null&&(Ve.baseState=br),He.lastRenderedState=br}return[br,We]}function bc(De,Ve,He){var We=Vi,pr=wa(),br=Ta;if(br){if(He===void 0)throw Error(Ce(407));He=He()}else He=Ve();var Zr=!xs((ia||pr).memoizedState,He);Zr&&(pr.memoizedState=He,js=!0),pr=pr.queue;var En=qA.bind(null,We,pr,De);if(WA(2048,8,En,[De]),pr.getSnapshot!==Ve||Zr||Ea!==null&&Ea.memoizedState.tag&1){if(We.flags|=2048,Ml(9,Sc(),wc.bind(null,We,pr,He,Ve),null),za===null)throw Error(Ce(349));br||(aa&124)!==0||qc(We,Ve,He)}return He}function qc(De,Ve,He){De.flags|=16384,De={getSnapshot:Ve,value:He},Ve=Vi.updateQueue,Ve===null?(Ve=Ms(),Vi.updateQueue=Ve,Ve.stores=[De]):(He=Ve.stores,He===null?Ve.stores=[De]:He.push(De))}function wc(De,Ve,He,We){Ve.value=He,Ve.getSnapshot=We,bh(Ve)&&wh(De)}function qA(De,Ve,He){return He(function(){bh(Ve)&&wh(De)})}function bh(De){var Ve=De.getSnapshot;De=De.value;try{var He=Ve();return!xs(De,He)}catch{return!0}}function wh(De){var Ve=fA(De,2);Ve!==null&&Go(Ve,De,2)}function xc(De){var Ve=Oa();if(typeof De=="function"){var He=De;if(De=He(),As){si(!0);try{He()}finally{si(!1)}}}return Ve.memoizedState=Ve.baseState=De,Ve.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:De},Ve}function kl(De,Ve,He,We){return De.baseState=He,Vo(De,ia,typeof We=="function"?We:Es)}function Fd(De,Ve,He,We,pr){if(Ih(De))throw Error(Ce(485));if(De=Ve.action,De!==null){var br={payload:pr,action:De,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Zr){br.listeners.push(Zr)}};Fr.T!==null?He(!0):br.isTransition=!1,We(br),He=Ve.pending,He===null?(br.next=Ve.pending=br,xh(Ve,br)):(br.next=He.next,Ve.pending=He.next=br)}}function xh(De,Ve){var He=Ve.action,We=Ve.payload,pr=De.state;if(Ve.isTransition){var br=Fr.T,Zr={};Fr.T=Zr;try{var En=He(pr,We),Vn=Fr.S;Vn!==null&&Vn(Zr,En),Ch(De,Ve,En)}catch(ci){zA(De,Ve,ci)}finally{Fr.T=br}}else try{br=He(pr,We),Ch(De,Ve,br)}catch(ci){zA(De,Ve,ci)}}function Ch(De,Ve,He){He!==null&&typeof He=="object"&&typeof He.then=="function"?He.then(function(We){Cu(De,Ve,We)},function(We){return zA(De,Ve,We)}):Cu(De,Ve,He)}function Cu(De,Ve,He){Ve.status="fulfilled",Ve.value=He,Su(Ve),De.state=He,Ve=De.pending,Ve!==null&&(He=Ve.next,He===Ve?De.pending=null:(He=He.next,Ve.next=He,xh(De,He)))}function zA(De,Ve,He){var We=De.pending;if(De.pending=null,We!==null){We=We.next;do Ve.status="rejected",Ve.reason=He,Su(Ve),Ve=Ve.next;while(Ve!==We)}De.action=null}function Su(De){De=De.listeners;for(var Ve=0;Ve<De.length;Ve++)(0,De[Ve])()}function Tu(De,Ve){return Ve}function Cc(De,Ve){if(Ta){var He=za.formState;if(He!==null){e:{var We=Vi;if(Ta){if(Ja){t:{for(var pr=Ja,br=hl;pr.nodeType!==8;){if(!br){pr=null;break t}if(pr=Hl(pr.nextSibling),pr===null){pr=null;break t}}br=pr.data,pr=br==="F!"||br==="F"?pr:null}if(pr){Ja=Hl(pr.nextSibling),We=pr.data==="F!";break e}}_A(We)}We=!1}We&&(Ve=He[0])}}return He=Oa(),He.memoizedState=He.baseState=Ve,We={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tu,lastRenderedState:Ve},He.queue=We,He=pp.bind(null,Vi,We),We.dispatch=He,We=xc(!1),br=Id.bind(null,Vi,!1,We.queue),We=Oa(),pr={state:Ve,dispatch:null,action:De,pending:null},We.queue=pr,He=Fd.bind(null,Vi,pr,br,He),pr.dispatch=He,We.memoizedState=De,[Ve,He,!1]}function zc(De){var Ve=wa();return GA(Ve,ia,De)}function GA(De,Ve,He){if(Ve=Vo(De,Ve,Tu)[0],De=ml(Es)[0],typeof Ve=="object"&&Ve!==null&&typeof Ve.then=="function")try{var We=Is(Ve)}catch(Zr){throw Zr===pn?xn:Zr}else We=Ve;Ve=wa();var pr=Ve.queue,br=pr.dispatch;return He!==Ve.memoizedState&&(Vi.flags|=2048,Ml(9,Sc(),Sh.bind(null,pr,He),null)),[We,br,De]}function Sh(De,Ve){De.action=Ve}function Th(De){var Ve=wa(),He=ia;if(He!==null)return GA(Ve,He,De);wa(),Ve=Ve.memoizedState,He=wa();var We=He.queue.dispatch;return He.memoizedState=De,[Ve,We,!1]}function Ml(De,Ve,He,We){return De={tag:De,create:He,deps:We,inst:Ve,next:null},Ve=Vi.updateQueue,Ve===null&&(Ve=Ms(),Vi.updateQueue=Ve),He=Ve.lastEffect,He===null?Ve.lastEffect=De.next=De:(We=He.next,He.next=De,De.next=We,Ve.lastEffect=De),De}function Sc(){return{destroy:void 0,resource:void 0}}function Gc(){return wa().memoizedState}function Qo(De,Ve,He,We){var pr=Oa();We=We===void 0?null:We,Vi.flags|=De,pr.memoizedState=Ml(1|Ve,Sc(),He,We)}function WA(De,Ve,He,We){var pr=wa();We=We===void 0?null:We;var br=pr.memoizedState.inst;ia!==null&&We!==null&&ys(We,ia.memoizedState.deps)?pr.memoizedState=Ml(Ve,br,He,We):(Vi.flags|=De,pr.memoizedState=Ml(1|Ve,br,He,We))}function Ru(De,Ve){Qo(8390656,8,De,Ve)}function Rh(De,Ve){WA(2048,8,De,Ve)}function Bu(De,Ve){return WA(4,2,De,Ve)}function EA(De,Ve){return WA(4,4,De,Ve)}function Bh(De,Ve){if(typeof Ve=="function"){De=De();var He=Ve(De);return function(){typeof He=="function"?He():Ve(null)}}if(Ve!=null)return De=De(),Ve.current=De,function(){Ve.current=null}}function Pu(De,Ve,He){He=He!=null?He.concat([De]):null,WA(4,4,Bh.bind(null,Ve,De),He)}function Fu(){}function Iu(De,Ve){var He=wa();Ve=Ve===void 0?null:Ve;var We=He.memoizedState;return Ve!==null&&ys(Ve,We[1])?We[0]:(He.memoizedState=[De,Ve],De)}function Ph(De,Ve){var He=wa();Ve=Ve===void 0?null:Ve;var We=He.memoizedState;if(Ve!==null&&ys(Ve,We[1]))return We[0];if(We=De(),As){si(!0);try{De()}finally{si(!1)}}return He.memoizedState=[We,Ve],We}function bA(De,Ve,He){return He===void 0||(aa&1073741824)!==0?De.memoizedState=Ve:(De.memoizedState=He,De=ug(),Vi.lanes|=De,tc|=De,He)}function Wc(De,Ve,He,We){return xs(He,Ve)?He:ea.current!==null?(De=bA(De,He,We),xs(De,Ve)||(js=!0),De):(aa&42)===0?(js=!0,De.memoizedState=He):(De=ug(),Vi.lanes|=De,tc|=De,Ve)}function Tc(De,Ve,He,We,pr){var br=Er.p;Er.p=br!==0&&8>br?br:8;var Zr=Fr.T,En={};Fr.T=En,Id(De,!1,Ve,He);try{var Vn=pr(),ci=Fr.S;if(ci!==null&&ci(En,Vn),Vn!==null&&typeof Vn=="object"&&typeof Vn.then=="function"){var xi=Eh(Vn,We);Lu(De,Ve,xi,zo(De))}else Lu(De,Ve,We,zo(De))}catch(Ri){Lu(De,Ve,{then:function(){},status:"rejected",reason:Ri},zo())}finally{Er.p=br,Fr.T=Zr}}function jl(){}function vl(De,Ve,He,We){if(De.tag!==5)throw Error(Ce(476));var pr=Vl(De).queue;Tc(De,pr,Ve,jr,He===null?jl:function(){return Rc(De),He(We)})}function Vl(De){var Ve=De.memoizedState;if(Ve!==null)return Ve;Ve={memoizedState:jr,baseState:jr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:jr},next:null};var He={};return Ve.next={memoizedState:He,baseState:He,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:He},next:null},De.memoizedState=Ve,De=De.alternate,De!==null&&(De.memoizedState=Ve),Ve}function Rc(De){var Ve=Vl(De).next.queue;Lu(De,Ve,{},zo())}function Bc(){return vs(eh)}function Du(){return wa().memoizedState}function Fh(){return wa().memoizedState}function Nu(De){for(var Ve=De.return;Ve!==null;){switch(Ve.tag){case 24:case 3:var He=zo();De=Ei(He);var We=Pi(Ve,De,He);We!==null&&(Go(We,Ve,He),Ti(We,Ve,He)),Ve={cache:wu()},De.payload=Ve;return}Ve=Ve.return}}function Uu(De,Ve,He){var We=zo();He={lane:We,revertLane:0,action:He,hasEagerState:!1,eagerState:null,next:null},Ih(De)?gp(Ve,He):(He=Oc(De,Ve,He,We),He!==null&&(Go(He,De,We),mp(He,Ve,We)))}function pp(De,Ve,He){var We=zo();Lu(De,Ve,He,We)}function Lu(De,Ve,He,We){var pr={lane:We,revertLane:0,action:He,hasEagerState:!1,eagerState:null,next:null};if(Ih(De))gp(Ve,pr);else{var br=De.alternate;if(De.lanes===0&&(br===null||br.lanes===0)&&(br=Ve.lastRenderedReducer,br!==null))try{var Zr=Ve.lastRenderedState,En=br(Zr,He);if(pr.hasEagerState=!0,pr.eagerState=En,xs(En,Zr))return pc(De,Ve,pr,0),za===null&&fc(),!1}catch{}finally{}if(He=Oc(De,Ve,pr,We),He!==null)return Go(He,De,We),mp(He,Ve,We),!0}return!1}function Id(De,Ve,He,We){if(We={lane:2,revertLane:uf(),action:We,hasEagerState:!1,eagerState:null,next:null},Ih(De)){if(Ve)throw Error(Ce(479))}else Ve=Oc(De,He,We,2),Ve!==null&&Go(Ve,De,2)}function Ih(De){var Ve=De.alternate;return De===Vi||Ve!==null&&Ve===Vi}function gp(De,Ve){ls=Ha=!0;var He=De.pending;He===null?Ve.next=Ve:(Ve.next=He.next,He.next=Ve),De.pending=Ve}function mp(De,Ve,He){if((He&4194048)!==0){var We=Ve.lanes;We&=De.pendingLanes,He|=We,Ve.lanes=He,Kr(De,He)}}var Dh={readContext:vs,use:Pa,useCallback:Xi,useContext:Xi,useEffect:Xi,useImperativeHandle:Xi,useLayoutEffect:Xi,useInsertionEffect:Xi,useMemo:Xi,useReducer:Xi,useRef:Xi,useState:Xi,useDebugValue:Xi,useDeferredValue:Xi,useTransition:Xi,useSyncExternalStore:Xi,useId:Xi,useHostTransitionStatus:Xi,useFormState:Xi,useActionState:Xi,useOptimistic:Xi,useMemoCache:Xi,useCacheRefresh:Xi},vp={readContext:vs,use:Pa,useCallback:function(De,Ve){return Oa().memoizedState=[De,Ve===void 0?null:Ve],De},useContext:vs,useEffect:Ru,useImperativeHandle:function(De,Ve,He){He=He!=null?He.concat([De]):null,Qo(4194308,4,Bh.bind(null,Ve,De),He)},useLayoutEffect:function(De,Ve){return Qo(4194308,4,De,Ve)},useInsertionEffect:function(De,Ve){Qo(4,2,De,Ve)},useMemo:function(De,Ve){var He=Oa();Ve=Ve===void 0?null:Ve;var We=De();if(As){si(!0);try{De()}finally{si(!1)}}return He.memoizedState=[We,Ve],We},useReducer:function(De,Ve,He){var We=Oa();if(He!==void 0){var pr=He(Ve);if(As){si(!0);try{He(Ve)}finally{si(!1)}}}else pr=Ve;return We.memoizedState=We.baseState=pr,De={pending:null,lanes:0,dispatch:null,lastRenderedReducer:De,lastRenderedState:pr},We.queue=De,De=De.dispatch=Uu.bind(null,Vi,De),[We.memoizedState,De]},useRef:function(De){var Ve=Oa();return De={current:De},Ve.memoizedState=De},useState:function(De){De=xc(De);var Ve=De.queue,He=pp.bind(null,Vi,Ve);return Ve.dispatch=He,[De.memoizedState,He]},useDebugValue:Fu,useDeferredValue:function(De,Ve){var He=Oa();return bA(He,De,Ve)},useTransition:function(){var De=xc(!1);return De=Tc.bind(null,Vi,De.queue,!0,!1),Oa().memoizedState=De,[!1,De]},useSyncExternalStore:function(De,Ve,He){var We=Vi,pr=Oa();if(Ta){if(He===void 0)throw Error(Ce(407));He=He()}else{if(He=Ve(),za===null)throw Error(Ce(349));(xa&124)!==0||qc(We,Ve,He)}pr.memoizedState=He;var br={value:He,getSnapshot:Ve};return pr.queue=br,Ru(qA.bind(null,We,br,De),[De]),We.flags|=2048,Ml(9,Sc(),wc.bind(null,We,br,He,Ve),null),He},useId:function(){var De=Oa(),Ve=za.identifierPrefix;if(Ta){var He=Nl,We=Dl;He=(We&~(1<<32-ai(We)-1)).toString(32)+He,Ve=""+Ve+"R"+He,He=es++,0<He&&(Ve+="H"+He.toString(32)),Ve+=""}else He=ts++,Ve=""+Ve+"r"+He.toString(32)+"";return De.memoizedState=Ve},useHostTransitionStatus:Bc,useFormState:Cc,useActionState:Cc,useOptimistic:function(De){var Ve=Oa();Ve.memoizedState=Ve.baseState=De;var He={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return Ve.queue=He,Ve=Id.bind(null,Vi,!0,He),He.dispatch=Ve,[De,Ve]},useMemoCache:to,useCacheRefresh:function(){return Oa().memoizedState=Nu.bind(null,Vi)}},_p={readContext:vs,use:Pa,useCallback:Iu,useContext:vs,useEffect:Rh,useImperativeHandle:Pu,useInsertionEffect:Bu,useLayoutEffect:EA,useMemo:Ph,useReducer:ml,useRef:Gc,useState:function(){return ml(Es)},useDebugValue:Fu,useDeferredValue:function(De,Ve){var He=wa();return Wc(He,ia.memoizedState,De,Ve)},useTransition:function(){var De=ml(Es)[0],Ve=wa().memoizedState;return[typeof De=="boolean"?De:Is(De),Ve]},useSyncExternalStore:bc,useId:Du,useHostTransitionStatus:Bc,useFormState:zc,useActionState:zc,useOptimistic:function(De,Ve){var He=wa();return kl(He,ia,De,Ve)},useMemoCache:to,useCacheRefresh:Fh},zm={readContext:vs,use:Pa,useCallback:Iu,useContext:vs,useEffect:Rh,useImperativeHandle:Pu,useInsertionEffect:Bu,useLayoutEffect:EA,useMemo:Ph,useReducer:bs,useRef:Gc,useState:function(){return bs(Es)},useDebugValue:Fu,useDeferredValue:function(De,Ve){var He=wa();return ia===null?bA(He,De,Ve):Wc(He,ia.memoizedState,De,Ve)},useTransition:function(){var De=bs(Es)[0],Ve=wa().memoizedState;return[typeof De=="boolean"?De:Is(De),Ve]},useSyncExternalStore:bc,useId:Du,useHostTransitionStatus:Bc,useFormState:Th,useActionState:Th,useOptimistic:function(De,Ve){var He=wa();return ia!==null?kl(He,ia,De,Ve):(He.baseState=De,[De,He.queue.dispatch])},useMemoCache:to,useCacheRefresh:Fh},Xc=null,Ou=0;function Nh(De){var Ve=Ou;return Ou+=1,Xc===null&&(Xc=[]),Ai(Xc,De,Ve)}function ku(De,Ve){Ve=Ve.props.ref,De.ref=Ve!==void 0?Ve:null}function Uh(De,Ve){throw Ve.$$typeof===Ke?Error(Ce(525)):(De=Object.prototype.toString.call(Ve),Error(Ce(31,De==="[object Object]"?"object with keys {"+Object.keys(Ve).join(", ")+"}":De)))}function yp(De){var Ve=De._init;return Ve(De._payload)}function Ep(De){function Ve(ri,Wn){if(De){var oi=ri.deletions;oi===null?(ri.deletions=[Wn],ri.flags|=16):oi.push(Wn)}}function He(ri,Wn){if(!De)return null;for(;Wn!==null;)Ve(ri,Wn),Wn=Wn.sibling;return null}function We(ri){for(var Wn=new Map;ri!==null;)ri.key!==null?Wn.set(ri.key,ri):Wn.set(ri.index,ri),ri=ri.sibling;return Wn}function pr(ri,Wn){return ri=ul(ri,Wn),ri.index=0,ri.sibling=null,ri}function br(ri,Wn,oi){return ri.index=oi,De?(oi=ri.alternate,oi!==null?(oi=oi.index,oi<Wn?(ri.flags|=67108866,Wn):oi):(ri.flags|=67108866,Wn)):(ri.flags|=1048576,Wn)}function Zr(ri){return De&&ri.alternate===null&&(ri.flags|=67108866),ri}function En(ri,Wn,oi,Si){return Wn===null||Wn.tag!==6?(Wn=Mc(oi,ri.mode,Si),Wn.return=ri,Wn):(Wn=pr(Wn,oi),Wn.return=ri,Wn)}function Vn(ri,Wn,oi,Si){var Hi=oi.type;return Hi===Xe?xi(ri,Wn,oi.props.children,Si,oi.key):Wn!==null&&(Wn.elementType===Hi||typeof Hi=="object"&&Hi!==null&&Hi.$$typeof===nr&&yp(Hi)===Wn.type)?(Wn=pr(Wn,oi.props),ku(Wn,oi),Wn.return=ri,Wn):(Wn=gA(oi.type,oi.key,oi.props,null,ri.mode,Si),ku(Wn,oi),Wn.return=ri,Wn)}function ci(ri,Wn,oi,Si){return Wn===null||Wn.tag!==4||Wn.stateNode.containerInfo!==oi.containerInfo||Wn.stateNode.implementation!==oi.implementation?(Wn=mc(oi,ri.mode,Si),Wn.return=ri,Wn):(Wn=pr(Wn,oi.children||[]),Wn.return=ri,Wn)}function xi(ri,Wn,oi,Si,Hi){return Wn===null||Wn.tag!==7?(Wn=Fl(oi,ri.mode,Si,Hi),Wn.return=ri,Wn):(Wn=pr(Wn,oi),Wn.return=ri,Wn)}function Ri(ri,Wn,oi){if(typeof Wn=="string"&&Wn!==""||typeof Wn=="number"||typeof Wn=="bigint")return Wn=Mc(""+Wn,ri.mode,oi),Wn.return=ri,Wn;if(typeof Wn=="object"&&Wn!==null){switch(Wn.$$typeof){case Ge:return oi=gA(Wn.type,Wn.key,Wn.props,null,ri.mode,oi),ku(oi,Wn),oi.return=ri,oi;case qe:return Wn=mc(Wn,ri.mode,oi),Wn.return=ri,Wn;case nr:var Si=Wn._init;return Wn=Si(Wn._payload),Ri(ri,Wn,oi)}if(Ur(Wn)||Ar(Wn))return Wn=Fl(Wn,ri.mode,oi,null),Wn.return=ri,Wn;if(typeof Wn.then=="function")return Ri(ri,Nh(Wn),oi);if(Wn.$$typeof===cr)return Ri(ri,nA(ri,Wn),oi);Uh(ri,Wn)}return null}function di(ri,Wn,oi,Si){var Hi=Wn!==null?Wn.key:null;if(typeof oi=="string"&&oi!==""||typeof oi=="number"||typeof oi=="bigint")return Hi!==null?null:En(ri,Wn,""+oi,Si);if(typeof oi=="object"&&oi!==null){switch(oi.$$typeof){case Ge:return oi.key===Hi?Vn(ri,Wn,oi,Si):null;case qe:return oi.key===Hi?ci(ri,Wn,oi,Si):null;case nr:return Hi=oi._init,oi=Hi(oi._payload),di(ri,Wn,oi,Si)}if(Ur(oi)||Ar(oi))return Hi!==null?null:xi(ri,Wn,oi,Si,null);if(typeof oi.then=="function")return di(ri,Wn,Nh(oi),Si);if(oi.$$typeof===cr)return di(ri,Wn,nA(ri,oi),Si);Uh(ri,oi)}return null}function fi(ri,Wn,oi,Si,Hi){if(typeof Si=="string"&&Si!==""||typeof Si=="number"||typeof Si=="bigint")return ri=ri.get(oi)||null,En(Wn,ri,""+Si,Hi);if(typeof Si=="object"&&Si!==null){switch(Si.$$typeof){case Ge:return ri=ri.get(Si.key===null?oi:Si.key)||null,Vn(Wn,ri,Si,Hi);case qe:return ri=ri.get(Si.key===null?oi:Si.key)||null,ci(Wn,ri,Si,Hi);case nr:var pa=Si._init;return Si=pa(Si._payload),fi(ri,Wn,oi,Si,Hi)}if(Ur(Si)||Ar(Si))return ri=ri.get(oi)||null,xi(Wn,ri,Si,Hi,null);if(typeof Si.then=="function")return fi(ri,Wn,oi,Nh(Si),Hi);if(Si.$$typeof===cr)return fi(ri,Wn,oi,nA(Wn,Si),Hi);Uh(Wn,Si)}return null}function ta(ri,Wn,oi,Si){for(var Hi=null,pa=null,qi=Wn,Zi=Wn=0,Qs=null;qi!==null&&Zi<oi.length;Zi++){qi.index>Zi?(Qs=qi,qi=null):Qs=qi.sibling;var Ba=di(ri,qi,oi[Zi],Si);if(Ba===null){qi===null&&(qi=Qs);break}De&&qi&&Ba.alternate===null&&Ve(ri,qi),Wn=br(Ba,Wn,Zi),pa===null?Hi=Ba:pa.sibling=Ba,pa=Ba,qi=Qs}if(Zi===oi.length)return He(ri,qi),Ta&&vA(ri,Zi),Hi;if(qi===null){for(;Zi<oi.length;Zi++)qi=Ri(ri,oi[Zi],Si),qi!==null&&(Wn=br(qi,Wn,Zi),pa===null?Hi=qi:pa.sibling=qi,pa=qi);return Ta&&vA(ri,Zi),Hi}for(qi=We(qi);Zi<oi.length;Zi++)Qs=fi(qi,ri,Zi,oi[Zi],Si),Qs!==null&&(De&&Qs.alternate!==null&&qi.delete(Qs.key===null?Zi:Qs.key),Wn=br(Qs,Wn,Zi),pa===null?Hi=Qs:pa.sibling=Qs,pa=Qs);return De&&qi.forEach(function(uc){return Ve(ri,uc)}),Ta&&vA(ri,Zi),Hi}function Yi(ri,Wn,oi,Si){if(oi==null)throw Error(Ce(151));for(var Hi=null,pa=null,qi=Wn,Zi=Wn=0,Qs=null,Ba=oi.next();qi!==null&&!Ba.done;Zi++,Ba=oi.next()){qi.index>Zi?(Qs=qi,qi=null):Qs=qi.sibling;var uc=di(ri,qi,Ba.value,Si);if(uc===null){qi===null&&(qi=Qs);break}De&&qi&&uc.alternate===null&&Ve(ri,qi),Wn=br(uc,Wn,Zi),pa===null?Hi=uc:pa.sibling=uc,pa=uc,qi=Qs}if(Ba.done)return He(ri,qi),Ta&&vA(ri,Zi),Hi;if(qi===null){for(;!Ba.done;Zi++,Ba=oi.next())Ba=Ri(ri,Ba.value,Si),Ba!==null&&(Wn=br(Ba,Wn,Zi),pa===null?Hi=Ba:pa.sibling=Ba,pa=Ba);return Ta&&vA(ri,Zi),Hi}for(qi=We(qi);!Ba.done;Zi++,Ba=oi.next())Ba=fi(qi,ri,Zi,Ba.value,Si),Ba!==null&&(De&&Ba.alternate!==null&&qi.delete(Ba.key===null?Zi:Ba.key),Wn=br(Ba,Wn,Zi),pa===null?Hi=Ba:pa.sibling=Ba,pa=Ba);return De&&qi.forEach(function(G0){return Ve(ri,G0)}),Ta&&vA(ri,Zi),Hi}function Ma(ri,Wn,oi,Si){if(typeof oi=="object"&&oi!==null&&oi.type===Xe&&oi.key===null&&(oi=oi.props.children),typeof oi=="object"&&oi!==null){switch(oi.$$typeof){case Ge:e:{for(var Hi=oi.key;Wn!==null;){if(Wn.key===Hi){if(Hi=oi.type,Hi===Xe){if(Wn.tag===7){He(ri,Wn.sibling),Si=pr(Wn,oi.props.children),Si.return=ri,ri=Si;break e}}else if(Wn.elementType===Hi||typeof Hi=="object"&&Hi!==null&&Hi.$$typeof===nr&&yp(Hi)===Wn.type){He(ri,Wn.sibling),Si=pr(Wn,oi.props),ku(Si,oi),Si.return=ri,ri=Si;break e}He(ri,Wn);break}else Ve(ri,Wn);Wn=Wn.sibling}oi.type===Xe?(Si=Fl(oi.props.children,ri.mode,Si,oi.key),Si.return=ri,ri=Si):(Si=gA(oi.type,oi.key,oi.props,null,ri.mode,Si),ku(Si,oi),Si.return=ri,ri=Si)}return Zr(ri);case qe:e:{for(Hi=oi.key;Wn!==null;){if(Wn.key===Hi)if(Wn.tag===4&&Wn.stateNode.containerInfo===oi.containerInfo&&Wn.stateNode.implementation===oi.implementation){He(ri,Wn.sibling),Si=pr(Wn,oi.children||[]),Si.return=ri,ri=Si;break e}else{He(ri,Wn);break}else Ve(ri,Wn);Wn=Wn.sibling}Si=mc(oi,ri.mode,Si),Si.return=ri,ri=Si}return Zr(ri);case nr:return Hi=oi._init,oi=Hi(oi._payload),Ma(ri,Wn,oi,Si)}if(Ur(oi))return ta(ri,Wn,oi,Si);if(Ar(oi)){if(Hi=Ar(oi),typeof Hi!="function")throw Error(Ce(150));return oi=Hi.call(oi),Yi(ri,Wn,oi,Si)}if(typeof oi.then=="function")return Ma(ri,Wn,Nh(oi),Si);if(oi.$$typeof===cr)return Ma(ri,Wn,nA(ri,oi),Si);Uh(ri,oi)}return typeof oi=="string"&&oi!==""||typeof oi=="number"||typeof oi=="bigint"?(oi=""+oi,Wn!==null&&Wn.tag===6?(He(ri,Wn.sibling),Si=pr(Wn,oi),Si.return=ri,ri=Si):(He(ri,Wn),Si=Mc(oi,ri.mode,Si),Si.return=ri,ri=Si),Zr(ri)):He(ri,Wn)}return function(ri,Wn,oi,Si){try{Ou=0;var Hi=Ma(ri,Wn,oi,Si);return Xc=null,Hi}catch(qi){if(qi===pn||qi===xn)throw qi;var pa=ks(29,qi,null,ri.mode);return pa.lanes=Si,pa.return=ri,pa}finally{}}}var Yc=Ep(!0),bp=Ep(!1),_l=Mr(null),iA=null;function XA(De){var Ve=De.alternate;gr(Ds,Ds.current&1),gr(_l,De),iA===null&&(Ve===null||ea.current!==null||Ve.memoizedState!==null)&&(iA=De)}function wp(De){if(De.tag===22){if(gr(Ds,Ds.current),gr(_l,De),iA===null){var Ve=De.alternate;Ve!==null&&Ve.memoizedState!==null&&(iA=De)}}else YA()}function YA(){gr(Ds,Ds.current),gr(_l,_l.current)}function wA(De){_r(_l),iA===De&&(iA=null),_r(Ds)}var Ds=Mr(0);function Lh(De){for(var Ve=De;Ve!==null;){if(Ve.tag===13){var He=Ve.memoizedState;if(He!==null&&(He=He.dehydrated,He===null||He.data==="$?"||wf(He)))return Ve}else if(Ve.tag===19&&Ve.memoizedProps.revealOrder!==void 0){if((Ve.flags&128)!==0)return Ve}else if(Ve.child!==null){Ve.child.return=Ve,Ve=Ve.child;continue}if(Ve===De)break;for(;Ve.sibling===null;){if(Ve.return===null||Ve.return===De)return null;Ve=Ve.return}Ve.sibling.return=Ve.return,Ve=Ve.sibling}return null}function Dd(De,Ve,He,We){Ve=De.memoizedState,He=He(We,Ve),He=He==null?Ve:Qe({},Ve,He),De.memoizedState=He,De.lanes===0&&(De.updateQueue.baseState=He)}var Nd={enqueueSetState:function(De,Ve,He){De=De._reactInternals;var We=zo(),pr=Ei(We);pr.payload=Ve,He!=null&&(pr.callback=He),Ve=Pi(De,pr,We),Ve!==null&&(Go(Ve,De,We),Ti(Ve,De,We))},enqueueReplaceState:function(De,Ve,He){De=De._reactInternals;var We=zo(),pr=Ei(We);pr.tag=1,pr.payload=Ve,He!=null&&(pr.callback=He),Ve=Pi(De,pr,We),Ve!==null&&(Go(Ve,De,We),Ti(Ve,De,We))},enqueueForceUpdate:function(De,Ve){De=De._reactInternals;var He=zo(),We=Ei(He);We.tag=2,Ve!=null&&(We.callback=Ve),Ve=Pi(De,We,He),Ve!==null&&(Go(Ve,De,He),Ti(Ve,De,He))}};function xp(De,Ve,He,We,pr,br,Zr){return De=De.stateNode,typeof De.shouldComponentUpdate=="function"?De.shouldComponentUpdate(We,br,Zr):Ve.prototype&&Ve.prototype.isPureReactComponent?!ol(He,We)||!ol(pr,br):!0}function Cp(De,Ve,He,We){De=Ve.state,typeof Ve.componentWillReceiveProps=="function"&&Ve.componentWillReceiveProps(He,We),typeof Ve.UNSAFE_componentWillReceiveProps=="function"&&Ve.UNSAFE_componentWillReceiveProps(He,We),Ve.state!==De&&Nd.enqueueReplaceState(Ve,Ve.state,null)}function Pc(De,Ve){var He=Ve;if("ref"in Ve){He={};for(var We in Ve)We!=="ref"&&(He[We]=Ve[We])}if(De=De.defaultProps){He===Ve&&(He=Qe({},He));for(var pr in De)He[pr]===void 0&&(He[pr]=De[pr])}return He}var Oh=typeof reportError=="function"?reportError:function(De){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Ve=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof De=="object"&&De!==null&&typeof De.message=="string"?String(De.message):String(De),error:De});if(!window.dispatchEvent(Ve))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",De);return}console.error(De)};function Sp(De){Oh(De)}function Tp(De){console.error(De)}function Rp(De){Oh(De)}function kh(De,Ve){try{var He=De.onUncaughtError;He(Ve.value,{componentStack:Ve.stack})}catch(We){setTimeout(function(){throw We})}}function Bp(De,Ve,He){try{var We=De.onCaughtError;We(He.value,{componentStack:He.stack,errorBoundary:Ve.tag===1?Ve.stateNode:null})}catch(pr){setTimeout(function(){throw pr})}}function Ud(De,Ve,He){return He=Ei(He),He.tag=3,He.payload={element:null},He.callback=function(){kh(De,Ve)},He}function Pp(De){return De=Ei(De),De.tag=3,De}function Fp(De,Ve,He,We){var pr=He.type.getDerivedStateFromError;if(typeof pr=="function"){var br=We.value;De.payload=function(){return pr(br)},De.callback=function(){Bp(Ve,He,We)}}var Zr=He.stateNode;Zr!==null&&typeof Zr.componentDidCatch=="function"&&(De.callback=function(){Bp(Ve,He,We),typeof pr!="function"&&(rc===null?rc=new Set([this]):rc.add(this));var En=We.stack;this.componentDidCatch(We.value,{componentStack:En!==null?En:""})})}function Gm(De,Ve,He,We,pr){if(He.flags|=32768,We!==null&&typeof We=="object"&&typeof We.then=="function"){if(Ve=He.alternate,Ve!==null&&KA(Ve,He,pr,!0),He=_l.current,He!==null){switch(He.tag){case 13:return iA===null?sf():He.alternate===null&&gs===0&&(gs=3),He.flags&=-257,He.flags|=65536,He.lanes=pr,We===Tn?He.flags|=16384:(Ve=He.updateQueue,Ve===null?He.updateQueue=new Set([We]):Ve.add(We),lf(De,We,pr)),!1;case 22:return He.flags|=65536,We===Tn?He.flags|=16384:(Ve=He.updateQueue,Ve===null?(Ve={transitions:null,markerInstances:null,retryQueue:new Set([We])},He.updateQueue=Ve):(He=Ve.retryQueue,He===null?Ve.retryQueue=new Set([We]):He.add(We)),lf(De,We,pr)),!1}throw Error(Ce(435,He.tag))}return lf(De,We,pr),sf(),!1}if(Ta)return Ve=_l.current,Ve!==null?((Ve.flags&65536)===0&&(Ve.flags|=256),Ve.flags|=65536,Ve.lanes=pr,We!==bu&&(De=Error(Ce(422),{cause:We}),HA(mo(De,He)))):(We!==bu&&(Ve=Error(Ce(423),{cause:We}),HA(mo(Ve,He))),De=De.current.alternate,De.flags|=65536,pr&=-pr,De.lanes|=pr,We=mo(We,He),pr=Ud(De.stateNode,We,pr),Ki(De,pr),gs!==4&&(gs=2)),!1;var br=Error(Ce(520),{cause:We});if(br=mo(br,He),qu===null?qu=[br]:qu.push(br),gs!==4&&(gs=2),Ve===null)return!0;We=mo(We,He),He=Ve;do{switch(He.tag){case 3:return He.flags|=65536,De=pr&-pr,He.lanes|=De,De=Ud(He.stateNode,We,De),Ki(He,De),!1;case 1:if(Ve=He.type,br=He.stateNode,(He.flags&128)===0&&(typeof Ve.getDerivedStateFromError=="function"||br!==null&&typeof br.componentDidCatch=="function"&&(rc===null||!rc.has(br))))return He.flags|=65536,pr&=-pr,He.lanes|=pr,pr=Pp(pr),Fp(pr,De,He,We),Ki(He,pr),!1}He=He.return}while(He!==null);return!1}var Ip=Error(Ce(461)),js=!1;function ro(De,Ve,He,We){Ve.child=De===null?bp(Ve,null,He,We):Yc(Ve,De.child,He,We)}function Dp(De,Ve,He,We,pr){He=He.render;var br=Ve.ref;if("ref"in We){var Zr={};for(var En in We)En!=="ref"&&(Zr[En]=We[En])}else Zr=We;return gl(Ve),We=Eo(De,Ve,He,Zr,br,pr),En=cs(),De!==null&&!js?(eo(De,Ve,pr),xA(De,Ve,pr)):(Ta&&En&&vc(Ve),Ve.flags|=1,ro(De,Ve,We,pr),Ve.child)}function Np(De,Ve,He,We,pr){if(De===null){var br=He.type;return typeof br=="function"&&!VA(br)&&br.defaultProps===void 0&&He.compare===null?(Ve.tag=15,Ve.type=br,Up(De,Ve,br,We,pr)):(De=gA(He.type,null,We,Ve,Ve.mode,pr),De.ref=Ve.ref,De.return=Ve,Ve.child=De)}if(br=De.child,!Hd(De,pr)){var Zr=br.memoizedProps;if(He=He.compare,He=He!==null?He:ol,He(Zr,We)&&De.ref===Ve.ref)return xA(De,Ve,pr)}return Ve.flags|=1,De=ul(br,We),De.ref=Ve.ref,De.return=Ve,Ve.child=De}function Up(De,Ve,He,We,pr){if(De!==null){var br=De.memoizedProps;if(ol(br,We)&&De.ref===Ve.ref)if(js=!1,Ve.pendingProps=We=br,Hd(De,pr))(De.flags&131072)!==0&&(js=!0);else return Ve.lanes=De.lanes,xA(De,Ve,pr)}return Ld(De,Ve,He,We,pr)}function Lp(De,Ve,He){var We=Ve.pendingProps,pr=We.children,br=De!==null?De.memoizedState:null;if(We.mode==="hidden"){if((Ve.flags&128)!==0){if(We=br!==null?br.baseLanes|He:He,De!==null){for(pr=Ve.child=De.child,br=0;pr!==null;)br=br|pr.lanes|pr.childLanes,pr=pr.sibling;Ve.childLanes=br&~We}else Ve.childLanes=0,Ve.child=null;return Op(De,Ve,We,He)}if((He&536870912)!==0)Ve.memoizedState={baseLanes:0,cachePool:null},De!==null&&qr(Ve,br!==null?br.cachePool:null),br!==null?Ui(Ve,br):Ya(),wp(Ve);else return Ve.lanes=Ve.childLanes=536870912,Op(De,Ve,br!==null?br.baseLanes|He:He,He)}else br!==null?(qr(Ve,br.cachePool),Ui(Ve,br),YA(),Ve.memoizedState=null):(De!==null&&qr(Ve,null),Ya(),YA());return ro(De,Ve,pr,He),Ve.child}function Op(De,Ve,He,We){var pr=Pr();return pr=pr===null?null:{parent:_s._currentValue,pool:pr},Ve.memoizedState={baseLanes:He,cachePool:pr},De!==null&&qr(Ve,null),Ya(),wp(Ve),De!==null&&KA(De,Ve,We,!0),null}function Mh(De,Ve){var He=Ve.ref;if(He===null)De!==null&&De.ref!==null&&(Ve.flags|=4194816);else{if(typeof He!="function"&&typeof He!="object")throw Error(Ce(284));(De===null||De.ref!==He)&&(Ve.flags|=4194816)}}function Ld(De,Ve,He,We,pr){return gl(Ve),He=Eo(De,Ve,He,We,void 0,pr),We=cs(),De!==null&&!js?(eo(De,Ve,pr),xA(De,Ve,pr)):(Ta&&We&&vc(Ve),Ve.flags|=1,ro(De,Ve,He,pr),Ve.child)}function kp(De,Ve,He,We,pr,br){return gl(Ve),Ve.updateQueue=null,He=Js(Ve,We,He,pr),rs(De),We=cs(),De!==null&&!js?(eo(De,Ve,br),xA(De,Ve,br)):(Ta&&We&&vc(Ve),Ve.flags|=1,ro(De,Ve,He,br),Ve.child)}function Mp(De,Ve,He,We,pr){if(gl(Ve),Ve.stateNode===null){var br=Cs,Zr=He.contextType;typeof Zr=="object"&&Zr!==null&&(br=vs(Zr)),br=new He(We,br),Ve.memoizedState=br.state!==null&&br.state!==void 0?br.state:null,br.updater=Nd,Ve.stateNode=br,br._reactInternals=Ve,br=Ve.stateNode,br.props=We,br.state=Ve.memoizedState,br.refs={},li(Ve),Zr=He.contextType,br.context=typeof Zr=="object"&&Zr!==null?vs(Zr):Cs,br.state=Ve.memoizedState,Zr=He.getDerivedStateFromProps,typeof Zr=="function"&&(Dd(Ve,He,Zr,We),br.state=Ve.memoizedState),typeof He.getDerivedStateFromProps=="function"||typeof br.getSnapshotBeforeUpdate=="function"||typeof br.UNSAFE_componentWillMount!="function"&&typeof br.componentWillMount!="function"||(Zr=br.state,typeof br.componentWillMount=="function"&&br.componentWillMount(),typeof br.UNSAFE_componentWillMount=="function"&&br.UNSAFE_componentWillMount(),Zr!==br.state&&Nd.enqueueReplaceState(br,br.state,null),Mi(Ve,We,br,pr),ra(),br.state=Ve.memoizedState),typeof br.componentDidMount=="function"&&(Ve.flags|=4194308),We=!0}else if(De===null){br=Ve.stateNode;var En=Ve.memoizedProps,Vn=Pc(He,En);br.props=Vn;var ci=br.context,xi=He.contextType;Zr=Cs,typeof xi=="object"&&xi!==null&&(Zr=vs(xi));var Ri=He.getDerivedStateFromProps;xi=typeof Ri=="function"||typeof br.getSnapshotBeforeUpdate=="function",En=Ve.pendingProps!==En,xi||typeof br.UNSAFE_componentWillReceiveProps!="function"&&typeof br.componentWillReceiveProps!="function"||(En||ci!==Zr)&&Cp(Ve,br,We,Zr),vi=!1;var di=Ve.memoizedState;br.state=di,Mi(Ve,We,br,pr),ra(),ci=Ve.memoizedState,En||di!==ci||vi?(typeof Ri=="function"&&(Dd(Ve,He,Ri,We),ci=Ve.memoizedState),(Vn=vi||xp(Ve,He,Vn,We,di,ci,Zr))?(xi||typeof br.UNSAFE_componentWillMount!="function"&&typeof br.componentWillMount!="function"||(typeof br.componentWillMount=="function"&&br.componentWillMount(),typeof br.UNSAFE_componentWillMount=="function"&&br.UNSAFE_componentWillMount()),typeof br.componentDidMount=="function"&&(Ve.flags|=4194308)):(typeof br.componentDidMount=="function"&&(Ve.flags|=4194308),Ve.memoizedProps=We,Ve.memoizedState=ci),br.props=We,br.state=ci,br.context=Zr,We=Vn):(typeof br.componentDidMount=="function"&&(Ve.flags|=4194308),We=!1)}else{br=Ve.stateNode,bi(De,Ve),Zr=Ve.memoizedProps,xi=Pc(He,Zr),br.props=xi,Ri=Ve.pendingProps,di=br.context,ci=He.contextType,Vn=Cs,typeof ci=="object"&&ci!==null&&(Vn=vs(ci)),En=He.getDerivedStateFromProps,(ci=typeof En=="function"||typeof br.getSnapshotBeforeUpdate=="function")||typeof br.UNSAFE_componentWillReceiveProps!="function"&&typeof br.componentWillReceiveProps!="function"||(Zr!==Ri||di!==Vn)&&Cp(Ve,br,We,Vn),vi=!1,di=Ve.memoizedState,br.state=di,Mi(Ve,We,br,pr),ra();var fi=Ve.memoizedState;Zr!==Ri||di!==fi||vi||De!==null&&De.dependencies!==null&&Hc(De.dependencies)?(typeof En=="function"&&(Dd(Ve,He,En,We),fi=Ve.memoizedState),(xi=vi||xp(Ve,He,xi,We,di,fi,Vn)||De!==null&&De.dependencies!==null&&Hc(De.dependencies))?(ci||typeof br.UNSAFE_componentWillUpdate!="function"&&typeof br.componentWillUpdate!="function"||(typeof br.componentWillUpdate=="function"&&br.componentWillUpdate(We,fi,Vn),typeof br.UNSAFE_componentWillUpdate=="function"&&br.UNSAFE_componentWillUpdate(We,fi,Vn)),typeof br.componentDidUpdate=="function"&&(Ve.flags|=4),typeof br.getSnapshotBeforeUpdate=="function"&&(Ve.flags|=1024)):(typeof br.componentDidUpdate!="function"||Zr===De.memoizedProps&&di===De.memoizedState||(Ve.flags|=4),typeof br.getSnapshotBeforeUpdate!="function"||Zr===De.memoizedProps&&di===De.memoizedState||(Ve.flags|=1024),Ve.memoizedProps=We,Ve.memoizedState=fi),br.props=We,br.state=fi,br.context=Vn,We=xi):(typeof br.componentDidUpdate!="function"||Zr===De.memoizedProps&&di===De.memoizedState||(Ve.flags|=4),typeof br.getSnapshotBeforeUpdate!="function"||Zr===De.memoizedProps&&di===De.memoizedState||(Ve.flags|=1024),We=!1)}return br=We,Mh(De,Ve),We=(Ve.flags&128)!==0,br||We?(br=Ve.stateNode,He=We&&typeof He.getDerivedStateFromError!="function"?null:br.render(),Ve.flags|=1,De!==null&&We?(Ve.child=Yc(Ve,De.child,null,pr),Ve.child=Yc(Ve,null,He,pr)):ro(De,Ve,He,pr),Ve.memoizedState=br.state,De=Ve.child):De=xA(De,Ve,pr),De}function jp(De,Ve,He,We){return yo(),Ve.flags|=256,ro(De,Ve,He,We),Ve.child}var Od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kd(De){return{baseLanes:De,cachePool:hn()}}function Md(De,Ve,He){return De=De!==null?De.childLanes&~He:0,Ve&&(De|=yl),De}function Vp(De,Ve,He){var We=Ve.pendingProps,pr=!1,br=(Ve.flags&128)!==0,Zr;if((Zr=br)||(Zr=De!==null&&De.memoizedState===null?!1:(Ds.current&2)!==0),Zr&&(pr=!0,Ve.flags&=-129),Zr=(Ve.flags&32)!==0,Ve.flags&=-33,De===null){if(Ta){if(pr?XA(Ve):YA(),Ta){var En=Ja,Vn;if(Vn=En){e:{for(Vn=En,En=hl;Vn.nodeType!==8;){if(!En){En=null;break e}if(Vn=Hl(Vn.nextSibling),Vn===null){En=null;break e}}En=Vn}En!==null?(Ve.memoizedState={dehydrated:En,treeContext:mA!==null?{id:Dl,overflow:Nl}:null,retryLane:536870912,hydrationErrors:null},Vn=ks(18,null,null,0),Vn.stateNode=En,Vn.return=Ve,Ve.child=Vn,ms=Ve,Ja=null,Vn=!0):Vn=!1}Vn||_A(Ve)}if(En=Ve.memoizedState,En!==null&&(En=En.dehydrated,En!==null))return wf(En)?Ve.lanes=32:Ve.lanes=536870912,null;wA(Ve)}return En=We.children,We=We.fallback,pr?(YA(),pr=Ve.mode,En=jh({mode:"hidden",children:En},pr),We=Fl(We,pr,He,null),En.return=Ve,We.return=Ve,En.sibling=We,Ve.child=En,pr=Ve.child,pr.memoizedState=kd(He),pr.childLanes=Md(De,Zr,He),Ve.memoizedState=Od,We):(XA(Ve),jd(Ve,En))}if(Vn=De.memoizedState,Vn!==null&&(En=Vn.dehydrated,En!==null)){if(br)Ve.flags&256?(XA(Ve),Ve.flags&=-257,Ve=Vd(De,Ve,He)):Ve.memoizedState!==null?(YA(),Ve.child=De.child,Ve.flags|=128,Ve=null):(YA(),pr=We.fallback,En=Ve.mode,We=jh({mode:"visible",children:We.children},En),pr=Fl(pr,En,He,null),pr.flags|=2,We.return=Ve,pr.return=Ve,We.sibling=pr,Ve.child=We,Yc(Ve,De.child,null,He),We=Ve.child,We.memoizedState=kd(He),We.childLanes=Md(De,Zr,He),Ve.memoizedState=Od,Ve=pr);else if(XA(Ve),wf(En)){if(Zr=En.nextSibling&&En.nextSibling.dataset,Zr)var ci=Zr.dgst;Zr=ci,We=Error(Ce(419)),We.stack="",We.digest=Zr,HA({value:We,source:null,stack:null}),Ve=Vd(De,Ve,He)}else if(js||KA(De,Ve,He,!1),Zr=(He&De.childLanes)!==0,js||Zr){if(Zr=za,Zr!==null&&(We=He&-He,We=(We&42)!==0?1:Dn(We),We=(We&(Zr.suspendedLanes|He))!==0?0:We,We!==0&&We!==Vn.retryLane))throw Vn.retryLane=We,fA(De,We),Go(Zr,De,We),Ip;En.data==="$?"||sf(),Ve=Vd(De,Ve,He)}else En.data==="$?"?(Ve.flags|=192,Ve.child=De.child,Ve=null):(De=Vn.treeContext,Ja=Hl(En.nextSibling),ms=Ve,Ta=!0,tA=null,hl=!1,De!==null&&(Io[_o++]=Dl,Io[_o++]=Nl,Io[_o++]=mA,Dl=De.id,Nl=De.overflow,mA=Ve),Ve=jd(Ve,We.children),Ve.flags|=4096);return Ve}return pr?(YA(),pr=We.fallback,En=Ve.mode,Vn=De.child,ci=Vn.sibling,We=ul(Vn,{mode:"hidden",children:We.children}),We.subtreeFlags=Vn.subtreeFlags&65011712,ci!==null?pr=ul(ci,pr):(pr=Fl(pr,En,He,null),pr.flags|=2),pr.return=Ve,We.return=Ve,We.sibling=pr,Ve.child=We,We=pr,pr=Ve.child,En=De.child.memoizedState,En===null?En=kd(He):(Vn=En.cachePool,Vn!==null?(ci=_s._currentValue,Vn=Vn.parent!==ci?{parent:ci,pool:ci}:Vn):Vn=hn(),En={baseLanes:En.baseLanes|He,cachePool:Vn}),pr.memoizedState=En,pr.childLanes=Md(De,Zr,He),Ve.memoizedState=Od,We):(XA(Ve),He=De.child,De=He.sibling,He=ul(He,{mode:"visible",children:We.children}),He.return=Ve,He.sibling=null,De!==null&&(Zr=Ve.deletions,Zr===null?(Ve.deletions=[De],Ve.flags|=16):Zr.push(De)),Ve.child=He,Ve.memoizedState=null,He)}function jd(De,Ve){return Ve=jh({mode:"visible",children:Ve},De.mode),Ve.return=De,De.child=Ve}function jh(De,Ve){return De=ks(22,De,null,Ve),De.lanes=0,De.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},De}function Vd(De,Ve,He){return Yc(Ve,De.child,null,He),De=jd(Ve,Ve.pendingProps.children),De.flags|=2,Ve.memoizedState=null,De}function Qp(De,Ve,He){De.lanes|=Ve;var We=De.alternate;We!==null&&(We.lanes|=Ve),Vc(De.return,Ve,He)}function Qd(De,Ve,He,We,pr){var br=De.memoizedState;br===null?De.memoizedState={isBackwards:Ve,rendering:null,renderingStartTime:0,last:We,tail:He,tailMode:pr}:(br.isBackwards=Ve,br.rendering=null,br.renderingStartTime=0,br.last=We,br.tail=He,br.tailMode=pr)}function Hp(De,Ve,He){var We=Ve.pendingProps,pr=We.revealOrder,br=We.tail;if(ro(De,Ve,We.children,He),We=Ds.current,(We&2)!==0)We=We&1|2,Ve.flags|=128;else{if(De!==null&&(De.flags&128)!==0)e:for(De=Ve.child;De!==null;){if(De.tag===13)De.memoizedState!==null&&Qp(De,He,Ve);else if(De.tag===19)Qp(De,He,Ve);else if(De.child!==null){De.child.return=De,De=De.child;continue}if(De===Ve)break e;for(;De.sibling===null;){if(De.return===null||De.return===Ve)break e;De=De.return}De.sibling.return=De.return,De=De.sibling}We&=1}switch(gr(Ds,We),pr){case"forwards":for(He=Ve.child,pr=null;He!==null;)De=He.alternate,De!==null&&Lh(De)===null&&(pr=He),He=He.sibling;He=pr,He===null?(pr=Ve.child,Ve.child=null):(pr=He.sibling,He.sibling=null),Qd(Ve,!1,pr,He,br);break;case"backwards":for(He=null,pr=Ve.child,Ve.child=null;pr!==null;){if(De=pr.alternate,De!==null&&Lh(De)===null){Ve.child=pr;break}De=pr.sibling,pr.sibling=He,He=pr,pr=De}Qd(Ve,!0,He,null,br);break;case"together":Qd(Ve,!1,null,null,void 0);break;default:Ve.memoizedState=null}return Ve.child}function xA(De,Ve,He){if(De!==null&&(Ve.dependencies=De.dependencies),tc|=Ve.lanes,(He&Ve.childLanes)===0)if(De!==null){if(KA(De,Ve,He,!1),(He&Ve.childLanes)===0)return null}else return null;if(De!==null&&Ve.child!==De.child)throw Error(Ce(153));if(Ve.child!==null){for(De=Ve.child,He=ul(De,De.pendingProps),Ve.child=He,He.return=Ve;De.sibling!==null;)De=De.sibling,He=He.sibling=ul(De,De.pendingProps),He.return=Ve;He.sibling=null}return Ve.child}function Hd(De,Ve){return(De.lanes&Ve)!==0?!0:(De=De.dependencies,!!(De!==null&&Hc(De)))}function Wm(De,Ve,He){switch(Ve.tag){case 3:Vr(Ve,Ve.stateNode.containerInfo),rA(Ve,_s,De.memoizedState.cache),yo();break;case 27:case 5:mn(Ve);break;case 4:Vr(Ve,Ve.stateNode.containerInfo);break;case 10:rA(Ve,Ve.type,Ve.memoizedProps.value);break;case 13:var We=Ve.memoizedState;if(We!==null)return We.dehydrated!==null?(XA(Ve),Ve.flags|=128,null):(He&Ve.child.childLanes)!==0?Vp(De,Ve,He):(XA(Ve),De=xA(De,Ve,He),De!==null?De.sibling:null);XA(Ve);break;case 19:var pr=(De.flags&128)!==0;if(We=(He&Ve.childLanes)!==0,We||(KA(De,Ve,He,!1),We=(He&Ve.childLanes)!==0),pr){if(We)return Hp(De,Ve,He);Ve.flags|=128}if(pr=Ve.memoizedState,pr!==null&&(pr.rendering=null,pr.tail=null,pr.lastEffect=null),gr(Ds,Ds.current),We)break;return null;case 22:case 23:return Ve.lanes=0,Lp(De,Ve,He);case 24:rA(Ve,_s,De.memoizedState.cache)}return xA(De,Ve,He)}function Kp(De,Ve,He){if(De!==null)if(De.memoizedProps!==Ve.pendingProps)js=!0;else{if(!Hd(De,He)&&(Ve.flags&128)===0)return js=!1,Wm(De,Ve,He);js=(De.flags&131072)!==0}else js=!1,Ta&&(Ve.flags&1048576)!==0&&gh(Ve,jc,Ve.index);switch(Ve.lanes=0,Ve.tag){case 16:e:{De=Ve.pendingProps;var We=Ve.elementType,pr=We._init;if(We=pr(We._payload),Ve.type=We,typeof We=="function")VA(We)?(De=Pc(We,De),Ve.tag=1,Ve=Mp(null,Ve,We,De,He)):(Ve.tag=0,Ve=Ld(null,Ve,We,De,He));else{if(We!=null){if(pr=We.$$typeof,pr===hr){Ve.tag=11,Ve=Dp(null,Ve,We,De,He);break e}else if(pr===er){Ve.tag=14,Ve=Np(null,Ve,We,De,He);break e}}throw Ve=Tr(We)||We,Error(Ce(306,Ve,""))}}return Ve;case 0:return Ld(De,Ve,Ve.type,Ve.pendingProps,He);case 1:return We=Ve.type,pr=Pc(We,Ve.pendingProps),Mp(De,Ve,We,pr,He);case 3:e:{if(Vr(Ve,Ve.stateNode.containerInfo),De===null)throw Error(Ce(387));We=Ve.pendingProps;var br=Ve.memoizedState;pr=br.element,bi(De,Ve),Mi(Ve,We,null,He);var Zr=Ve.memoizedState;if(We=Zr.cache,rA(Ve,_s,We),We!==br.cache&&Qc(Ve,[_s],He,!0),ra(),We=Zr.element,br.isDehydrated)if(br={element:We,isDehydrated:!1,cache:Zr.cache},Ve.updateQueue.baseState=br,Ve.memoizedState=br,Ve.flags&256){Ve=jp(De,Ve,We,He);break e}else if(We!==pr){pr=mo(Error(Ce(424)),Ve),HA(pr),Ve=jp(De,Ve,We,He);break e}else{switch(De=Ve.stateNode.containerInfo,De.nodeType){case 9:De=De.body;break;default:De=De.nodeName==="HTML"?De.ownerDocument.body:De}for(Ja=Hl(De.firstChild),ms=Ve,Ta=!0,tA=null,hl=!0,He=bp(Ve,null,We,He),Ve.child=He;He;)He.flags=He.flags&-3|4096,He=He.sibling}else{if(yo(),We===pr){Ve=xA(De,Ve,He);break e}ro(De,Ve,We,He)}Ve=Ve.child}return Ve;case 26:return Mh(De,Ve),De===null?(He=Wg(Ve.type,null,Ve.pendingProps,null))?Ve.memoizedState=He:Ta||(He=Ve.type,De=Ve.pendingProps,We=ed(Ir.current).createElement(He),We[kn]=Ve,We[On]=De,io(We,He,De),$i(We),Ve.stateNode=We):Ve.memoizedState=Wg(Ve.type,De.memoizedProps,Ve.pendingProps,De.memoizedState),null;case 27:return mn(Ve),De===null&&Ta&&(We=Ve.stateNode=qg(Ve.type,Ve.pendingProps,Ir.current),ms=Ve,hl=!0,pr=Ja,ac(Ve.type)?(xf=pr,Ja=Hl(We.firstChild)):Ja=pr),ro(De,Ve,Ve.pendingProps.children,He),Mh(De,Ve),De===null&&(Ve.flags|=4194304),Ve.child;case 5:return De===null&&Ta&&((pr=We=Ja)&&(We=b0(We,Ve.type,Ve.pendingProps,hl),We!==null?(Ve.stateNode=We,ms=Ve,Ja=Hl(We.firstChild),hl=!1,pr=!0):pr=!1),pr||_A(Ve)),mn(Ve),pr=Ve.type,br=Ve.pendingProps,Zr=De!==null?De.memoizedProps:null,We=br.children,yf(pr,br)?We=null:Zr!==null&&yf(pr,Zr)&&(Ve.flags|=32),Ve.memoizedState!==null&&(pr=Eo(De,Ve,Da,null,null,He),eh._currentValue=pr),Mh(De,Ve),ro(De,Ve,We,He),Ve.child;case 6:return De===null&&Ta&&((De=He=Ja)&&(He=w0(He,Ve.pendingProps,hl),He!==null?(Ve.stateNode=He,ms=Ve,Ja=null,De=!0):De=!1),De||_A(Ve)),null;case 13:return Vp(De,Ve,He);case 4:return Vr(Ve,Ve.stateNode.containerInfo),We=Ve.pendingProps,De===null?Ve.child=Yc(Ve,null,We,He):ro(De,Ve,We,He),Ve.child;case 11:return Dp(De,Ve,Ve.type,Ve.pendingProps,He);case 7:return ro(De,Ve,Ve.pendingProps,He),Ve.child;case 8:return ro(De,Ve,Ve.pendingProps.children,He),Ve.child;case 12:return ro(De,Ve,Ve.pendingProps.children,He),Ve.child;case 10:return We=Ve.pendingProps,rA(Ve,Ve.type,We.value),ro(De,Ve,We.children,He),Ve.child;case 9:return pr=Ve.type._context,We=Ve.pendingProps.children,gl(Ve),pr=vs(pr),We=We(pr),Ve.flags|=1,ro(De,Ve,We,He),Ve.child;case 14:return Np(De,Ve,Ve.type,Ve.pendingProps,He);case 15:return Up(De,Ve,Ve.type,Ve.pendingProps,He);case 19:return Hp(De,Ve,He);case 31:return We=Ve.pendingProps,He=Ve.mode,We={mode:We.mode,children:We.children},De===null?(He=jh(We,He),He.ref=Ve.ref,Ve.child=He,He.return=Ve,Ve=He):(He=ul(De.child,We),He.ref=Ve.ref,Ve.child=He,He.return=Ve,Ve=He),Ve;case 22:return Lp(De,Ve,He);case 24:return gl(Ve),We=vs(_s),De===null?(pr=Pr(),pr===null&&(pr=za,br=wu(),pr.pooledCache=br,br.refCount++,br!==null&&(pr.pooledCacheLanes|=He),pr=br),Ve.memoizedState={parent:We,cache:pr},li(Ve),rA(Ve,_s,pr)):((De.lanes&He)!==0&&(bi(De,Ve),Mi(Ve,null,null,He),ra()),pr=De.memoizedState,br=Ve.memoizedState,pr.parent!==We?(pr={parent:We,cache:We},Ve.memoizedState=pr,Ve.lanes===0&&(Ve.memoizedState=Ve.updateQueue.baseState=pr),rA(Ve,_s,We)):(We=br.cache,rA(Ve,_s,We),We!==pr.cache&&Qc(Ve,[_s],He,!0))),ro(De,Ve,Ve.pendingProps.children,He),Ve.child;case 29:throw Ve.pendingProps}throw Error(Ce(156,Ve.tag))}function CA(De){De.flags|=4}function qp(De,Ve){if(Ve.type!=="stylesheet"||(Ve.state.loading&4)!==0)De.flags&=-16777217;else if(De.flags|=16777216,!Jg(Ve)){if(Ve=_l.current,Ve!==null&&((xa&4194048)===xa?iA!==null:(xa&62914560)!==xa&&(xa&536870912)===0||Ve!==iA))throw Nn=Tn,yn;De.flags|=8192}}function Vh(De,Ve){Ve!==null&&(De.flags|=4),De.flags&16384&&(Ve=De.tag!==22?ze():536870912,De.lanes|=Ve,eu|=Ve)}function Mu(De,Ve){if(!Ta)switch(De.tailMode){case"hidden":Ve=De.tail;for(var He=null;Ve!==null;)Ve.alternate!==null&&(He=Ve),Ve=Ve.sibling;He===null?De.tail=null:He.sibling=null;break;case"collapsed":He=De.tail;for(var We=null;He!==null;)He.alternate!==null&&(We=He),He=He.sibling;We===null?Ve||De.tail===null?De.tail=null:De.tail.sibling=null:We.sibling=null}}function us(De){var Ve=De.alternate!==null&&De.alternate.child===De.child,He=0,We=0;if(Ve)for(var pr=De.child;pr!==null;)He|=pr.lanes|pr.childLanes,We|=pr.subtreeFlags&65011712,We|=pr.flags&65011712,pr.return=De,pr=pr.sibling;else for(pr=De.child;pr!==null;)He|=pr.lanes|pr.childLanes,We|=pr.subtreeFlags,We|=pr.flags,pr.return=De,pr=pr.sibling;return De.subtreeFlags|=We,De.childLanes=He,Ve}function Xm(De,Ve,He){var We=Ve.pendingProps;switch(_c(Ve),Ve.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return us(Ve),null;case 1:return us(Ve),null;case 3:return He=Ve.stateNode,We=null,De!==null&&(We=De.memoizedState.cache),Ve.memoizedState.cache!==We&&(Ve.flags|=2048),pl(_s),Wr(),He.pendingContext&&(He.context=He.pendingContext,He.pendingContext=null),(De===null||De.child===null)&&($s(Ve)?CA(Ve):De===null||De.memoizedState.isDehydrated&&(Ve.flags&256)===0||(Ve.flags|=1024,vh())),us(Ve),null;case 26:return He=Ve.memoizedState,De===null?(CA(Ve),He!==null?(us(Ve),qp(Ve,He)):(us(Ve),Ve.flags&=-16777217)):He?He!==De.memoizedState?(CA(Ve),us(Ve),qp(Ve,He)):(us(Ve),Ve.flags&=-16777217):(De.memoizedProps!==We&&CA(Ve),us(Ve),Ve.flags&=-16777217),null;case 27:gn(Ve),He=Ir.current;var pr=Ve.type;if(De!==null&&Ve.stateNode!=null)De.memoizedProps!==We&&CA(Ve);else{if(!We){if(Ve.stateNode===null)throw Error(Ce(166));return us(Ve),null}De=yr.current,$s(Ve)?mh(Ve):(De=qg(pr,We,He),Ve.stateNode=De,CA(Ve))}return us(Ve),null;case 5:if(gn(Ve),He=Ve.type,De!==null&&Ve.stateNode!=null)De.memoizedProps!==We&&CA(Ve);else{if(!We){if(Ve.stateNode===null)throw Error(Ce(166));return us(Ve),null}if(De=yr.current,$s(Ve))mh(Ve);else{switch(pr=ed(Ir.current),De){case 1:De=pr.createElementNS("http://www.w3.org/2000/svg",He);break;case 2:De=pr.createElementNS("http://www.w3.org/1998/Math/MathML",He);break;default:switch(He){case"svg":De=pr.createElementNS("http://www.w3.org/2000/svg",He);break;case"math":De=pr.createElementNS("http://www.w3.org/1998/Math/MathML",He);break;case"script":De=pr.createElement("div"),De.innerHTML="<script><\/script>",De=De.removeChild(De.firstChild);break;case"select":De=typeof We.is=="string"?pr.createElement("select",{is:We.is}):pr.createElement("select"),We.multiple?De.multiple=!0:We.size&&(De.size=We.size);break;default:De=typeof We.is=="string"?pr.createElement(He,{is:We.is}):pr.createElement(He)}}De[kn]=Ve,De[On]=We;e:for(pr=Ve.child;pr!==null;){if(pr.tag===5||pr.tag===6)De.appendChild(pr.stateNode);else if(pr.tag!==4&&pr.tag!==27&&pr.child!==null){pr.child.return=pr,pr=pr.child;continue}if(pr===Ve)break e;for(;pr.sibling===null;){if(pr.return===null||pr.return===Ve)break e;pr=pr.return}pr.sibling.return=pr.return,pr=pr.sibling}Ve.stateNode=De;e:switch(io(De,He,We),He){case"button":case"input":case"select":case"textarea":De=!!We.autoFocus;break e;case"img":De=!0;break e;default:De=!1}De&&CA(Ve)}}return us(Ve),Ve.flags&=-16777217,null;case 6:if(De&&Ve.stateNode!=null)De.memoizedProps!==We&&CA(Ve);else{if(typeof We!="string"&&Ve.stateNode===null)throw Error(Ce(166));if(De=Ir.current,$s(Ve)){if(De=Ve.stateNode,He=Ve.memoizedProps,We=null,pr=ms,pr!==null)switch(pr.tag){case 27:case 5:We=pr.memoizedProps}De[kn]=Ve,De=!!(De.nodeValue===He||We!==null&&We.suppressHydrationWarning===!0||kg(De.nodeValue,He)),De||_A(Ve)}else De=ed(De).createTextNode(We),De[kn]=Ve,Ve.stateNode=De}return us(Ve),null;case 13:if(We=Ve.memoizedState,De===null||De.memoizedState!==null&&De.memoizedState.dehydrated!==null){if(pr=$s(Ve),We!==null&&We.dehydrated!==null){if(De===null){if(!pr)throw Error(Ce(318));if(pr=Ve.memoizedState,pr=pr!==null?pr.dehydrated:null,!pr)throw Error(Ce(317));pr[kn]=Ve}else yo(),(Ve.flags&128)===0&&(Ve.memoizedState=null),Ve.flags|=4;us(Ve),pr=!1}else pr=vh(),De!==null&&De.memoizedState!==null&&(De.memoizedState.hydrationErrors=pr),pr=!0;if(!pr)return Ve.flags&256?(wA(Ve),Ve):(wA(Ve),null)}if(wA(Ve),(Ve.flags&128)!==0)return Ve.lanes=He,Ve;if(He=We!==null,De=De!==null&&De.memoizedState!==null,He){We=Ve.child,pr=null,We.alternate!==null&&We.alternate.memoizedState!==null&&We.alternate.memoizedState.cachePool!==null&&(pr=We.alternate.memoizedState.cachePool.pool);var br=null;We.memoizedState!==null&&We.memoizedState.cachePool!==null&&(br=We.memoizedState.cachePool.pool),br!==pr&&(We.flags|=2048)}return He!==De&&He&&(Ve.child.flags|=8192),Vh(Ve,Ve.updateQueue),us(Ve),null;case 4:return Wr(),De===null&&pf(Ve.stateNode.containerInfo),us(Ve),null;case 10:return pl(Ve.type),us(Ve),null;case 19:if(_r(Ds),pr=Ve.memoizedState,pr===null)return us(Ve),null;if(We=(Ve.flags&128)!==0,br=pr.rendering,br===null)if(We)Mu(pr,!1);else{if(gs!==0||De!==null&&(De.flags&128)!==0)for(De=Ve.child;De!==null;){if(br=Lh(De),br!==null){for(Ve.flags|=128,Mu(pr,!1),De=br.updateQueue,Ve.updateQueue=De,Vh(Ve,De),Ve.subtreeFlags=0,De=He,He=Ve.child;He!==null;)gc(He,De),He=He.sibling;return gr(Ds,Ds.current&1|2),Ve.child}De=De.sibling}pr.tail!==null&&bn()>Kh&&(Ve.flags|=128,We=!0,Mu(pr,!1),Ve.lanes=4194304)}else{if(!We)if(De=Lh(br),De!==null){if(Ve.flags|=128,We=!0,De=De.updateQueue,Ve.updateQueue=De,Vh(Ve,De),Mu(pr,!0),pr.tail===null&&pr.tailMode==="hidden"&&!br.alternate&&!Ta)return us(Ve),null}else 2*bn()-pr.renderingStartTime>Kh&&He!==536870912&&(Ve.flags|=128,We=!0,Mu(pr,!1),Ve.lanes=4194304);pr.isBackwards?(br.sibling=Ve.child,Ve.child=br):(De=pr.last,De!==null?De.sibling=br:Ve.child=br,pr.last=br)}return pr.tail!==null?(Ve=pr.tail,pr.rendering=Ve,pr.tail=Ve.sibling,pr.renderingStartTime=bn(),Ve.sibling=null,De=Ds.current,gr(Ds,We?De&1|2:De&1),Ve):(us(Ve),null);case 22:case 23:return wA(Ve),na(),We=Ve.memoizedState!==null,De!==null?De.memoizedState!==null!==We&&(Ve.flags|=8192):We&&(Ve.flags|=8192),We?(He&536870912)!==0&&(Ve.flags&128)===0&&(us(Ve),Ve.subtreeFlags&6&&(Ve.flags|=8192)):us(Ve),He=Ve.updateQueue,He!==null&&Vh(Ve,He.retryQueue),He=null,De!==null&&De.memoizedState!==null&&De.memoizedState.cachePool!==null&&(He=De.memoizedState.cachePool.pool),We=null,Ve.memoizedState!==null&&Ve.memoizedState.cachePool!==null&&(We=Ve.memoizedState.cachePool.pool),We!==He&&(Ve.flags|=2048),De!==null&&_r(vr),null;case 24:return He=null,De!==null&&(He=De.memoizedState.cache),Ve.memoizedState.cache!==He&&(Ve.flags|=2048),pl(_s),us(Ve),null;case 25:return null;case 30:return null}throw Error(Ce(156,Ve.tag))}function Ym(De,Ve){switch(_c(Ve),Ve.tag){case 1:return De=Ve.flags,De&65536?(Ve.flags=De&-65537|128,Ve):null;case 3:return pl(_s),Wr(),De=Ve.flags,(De&65536)!==0&&(De&128)===0?(Ve.flags=De&-65537|128,Ve):null;case 26:case 27:case 5:return gn(Ve),null;case 13:if(wA(Ve),De=Ve.memoizedState,De!==null&&De.dehydrated!==null){if(Ve.alternate===null)throw Error(Ce(340));yo()}return De=Ve.flags,De&65536?(Ve.flags=De&-65537|128,Ve):null;case 19:return _r(Ds),null;case 4:return Wr(),null;case 10:return pl(Ve.type),null;case 22:case 23:return wA(Ve),na(),De!==null&&_r(vr),De=Ve.flags,De&65536?(Ve.flags=De&-65537|128,Ve):null;case 24:return pl(_s),null;case 25:return null;default:return null}}function zp(De,Ve){switch(_c(Ve),Ve.tag){case 3:pl(_s),Wr();break;case 26:case 27:case 5:gn(Ve);break;case 4:Wr();break;case 13:wA(Ve);break;case 19:_r(Ds);break;case 10:pl(Ve.type);break;case 22:case 23:wA(Ve),na(),De!==null&&_r(vr);break;case 24:pl(_s)}}function ju(De,Ve){try{var He=Ve.updateQueue,We=He!==null?He.lastEffect:null;if(We!==null){var pr=We.next;He=pr;do{if((He.tag&De)===De){We=void 0;var br=He.create,Zr=He.inst;We=br(),Zr.destroy=We}He=He.next}while(He!==pr)}}catch(En){Ka(Ve,Ve.return,En)}}function ZA(De,Ve,He){try{var We=Ve.updateQueue,pr=We!==null?We.lastEffect:null;if(pr!==null){var br=pr.next;We=br;do{if((We.tag&De)===De){var Zr=We.inst,En=Zr.destroy;if(En!==void 0){Zr.destroy=void 0,pr=Ve;var Vn=He,ci=En;try{ci()}catch(xi){Ka(pr,Vn,xi)}}}We=We.next}while(We!==br)}}catch(xi){Ka(Ve,Ve.return,xi)}}function Gp(De){var Ve=De.updateQueue;if(Ve!==null){var He=De.stateNode;try{ps(Ve,He)}catch(We){Ka(De,De.return,We)}}}function Wp(De,Ve,He){He.props=Pc(De.type,De.memoizedProps),He.state=De.memoizedState;try{He.componentWillUnmount()}catch(We){Ka(De,Ve,We)}}function Vu(De,Ve){try{var He=De.ref;if(He!==null){switch(De.tag){case 26:case 27:case 5:var We=De.stateNode;break;case 30:We=De.stateNode;break;default:We=De.stateNode}typeof He=="function"?De.refCleanup=He(We):He.current=We}}catch(pr){Ka(De,Ve,pr)}}function aA(De,Ve){var He=De.ref,We=De.refCleanup;if(He!==null)if(typeof We=="function")try{We()}catch(pr){Ka(De,Ve,pr)}finally{De.refCleanup=null,De=De.alternate,De!=null&&(De.refCleanup=null)}else if(typeof He=="function")try{He(null)}catch(pr){Ka(De,Ve,pr)}else He.current=null}function Xp(De){var Ve=De.type,He=De.memoizedProps,We=De.stateNode;try{e:switch(Ve){case"button":case"input":case"select":case"textarea":He.autoFocus&&We.focus();break e;case"img":He.src?We.src=He.src:He.srcSet&&(We.srcset=He.srcSet)}}catch(pr){Ka(De,De.return,pr)}}function Kd(De,Ve,He){try{var We=De.stateNode;m0(We,De.type,He,Ve),We[On]=Ve}catch(pr){Ka(De,De.return,pr)}}function Yp(De){return De.tag===5||De.tag===3||De.tag===26||De.tag===27&&ac(De.type)||De.tag===4}function qd(De){e:for(;;){for(;De.sibling===null;){if(De.return===null||Yp(De.return))return null;De=De.return}for(De.sibling.return=De.return,De=De.sibling;De.tag!==5&&De.tag!==6&&De.tag!==18;){if(De.tag===27&&ac(De.type)||De.flags&2||De.child===null||De.tag===4)continue e;De.child.return=De,De=De.child}if(!(De.flags&2))return De.stateNode}}function zd(De,Ve,He){var We=De.tag;if(We===5||We===6)De=De.stateNode,Ve?(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).insertBefore(De,Ve):(Ve=He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He,Ve.appendChild(De),He=He._reactRootContainer,He!=null||Ve.onclick!==null||(Ve.onclick=Jh));else if(We!==4&&(We===27&&ac(De.type)&&(He=De.stateNode,Ve=null),De=De.child,De!==null))for(zd(De,Ve,He),De=De.sibling;De!==null;)zd(De,Ve,He),De=De.sibling}function Qh(De,Ve,He){var We=De.tag;if(We===5||We===6)De=De.stateNode,Ve?He.insertBefore(De,Ve):He.appendChild(De);else if(We!==4&&(We===27&&ac(De.type)&&(He=De.stateNode),De=De.child,De!==null))for(Qh(De,Ve,He),De=De.sibling;De!==null;)Qh(De,Ve,He),De=De.sibling}function Zp(De){var Ve=De.stateNode,He=De.memoizedProps;try{for(var We=De.type,pr=Ve.attributes;pr.length;)Ve.removeAttributeNode(pr[0]);io(Ve,We,He),Ve[kn]=De,Ve[On]=He}catch(br){Ka(De,De.return,br)}}var TA=!1,ws=!1,Gd=!1,$p=typeof WeakSet=="function"?WeakSet:Set,Vs=null;function Zm(De,Ve){if(De=De.containerInfo,vf=od,De=MA(De),Ys(De)){if("selectionStart"in De)var He={start:De.selectionStart,end:De.selectionEnd};else e:{He=(He=De.ownerDocument)&&He.defaultView||window;var We=He.getSelection&&He.getSelection();if(We&&We.rangeCount!==0){He=We.anchorNode;var pr=We.anchorOffset,br=We.focusNode;We=We.focusOffset;try{He.nodeType,br.nodeType}catch{He=null;break e}var Zr=0,En=-1,Vn=-1,ci=0,xi=0,Ri=De,di=null;t:for(;;){for(var fi;Ri!==He||pr!==0&&Ri.nodeType!==3||(En=Zr+pr),Ri!==br||We!==0&&Ri.nodeType!==3||(Vn=Zr+We),Ri.nodeType===3&&(Zr+=Ri.nodeValue.length),(fi=Ri.firstChild)!==null;)di=Ri,Ri=fi;for(;;){if(Ri===De)break t;if(di===He&&++ci===pr&&(En=Zr),di===br&&++xi===We&&(Vn=Zr),(fi=Ri.nextSibling)!==null)break;Ri=di,di=Ri.parentNode}Ri=fi}He=En===-1||Vn===-1?null:{start:En,end:Vn}}else He=null}He=He||{start:0,end:0}}else He=null;for(_f={focusedElem:De,selectionRange:He},od=!1,Vs=Ve;Vs!==null;)if(Ve=Vs,De=Ve.child,(Ve.subtreeFlags&1024)!==0&&De!==null)De.return=Ve,Vs=De;else for(;Vs!==null;){switch(Ve=Vs,br=Ve.alternate,De=Ve.flags,Ve.tag){case 0:break;case 11:case 15:break;case 1:if((De&1024)!==0&&br!==null){De=void 0,He=Ve,pr=br.memoizedProps,br=br.memoizedState,We=He.stateNode;try{var ta=Pc(He.type,pr,He.elementType===He.type);De=We.getSnapshotBeforeUpdate(ta,br),We.__reactInternalSnapshotBeforeUpdate=De}catch(Yi){Ka(He,He.return,Yi)}}break;case 3:if((De&1024)!==0){if(De=Ve.stateNode.containerInfo,He=De.nodeType,He===9)bf(De);else if(He===1)switch(De.nodeName){case"HEAD":case"HTML":case"BODY":bf(De);break;default:De.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((De&1024)!==0)throw Error(Ce(163))}if(De=Ve.sibling,De!==null){De.return=Ve.return,Vs=De;break}Vs=Ve.return}}function Jp(De,Ve,He){var We=He.flags;switch(He.tag){case 0:case 11:case 15:$A(De,He),We&4&&ju(5,He);break;case 1:if($A(De,He),We&4)if(De=He.stateNode,Ve===null)try{De.componentDidMount()}catch(Zr){Ka(He,He.return,Zr)}else{var pr=Pc(He.type,Ve.memoizedProps);Ve=Ve.memoizedState;try{De.componentDidUpdate(pr,Ve,De.__reactInternalSnapshotBeforeUpdate)}catch(Zr){Ka(He,He.return,Zr)}}We&64&&Gp(He),We&512&&Vu(He,He.return);break;case 3:if($A(De,He),We&64&&(De=He.updateQueue,De!==null)){if(Ve=null,He.child!==null)switch(He.child.tag){case 27:case 5:Ve=He.child.stateNode;break;case 1:Ve=He.child.stateNode}try{ps(De,Ve)}catch(Zr){Ka(He,He.return,Zr)}}break;case 27:Ve===null&&We&4&&Zp(He);case 26:case 5:$A(De,He),Ve===null&&We&4&&Xp(He),We&512&&Vu(He,He.return);break;case 12:$A(De,He);break;case 13:$A(De,He),We&4&&rg(De,He),We&64&&(De=He.memoizedState,De!==null&&(De=De.dehydrated,De!==null&&(He=s0.bind(null,He),x0(De,He))));break;case 22:if(We=He.memoizedState!==null||TA,!We){Ve=Ve!==null&&Ve.memoizedState!==null||ws,pr=TA;var br=ws;TA=We,(ws=Ve)&&!br?JA(De,He,(He.subtreeFlags&8772)!==0):$A(De,He),TA=pr,ws=br}break;case 30:break;default:$A(De,He)}}function eg(De){var Ve=De.alternate;Ve!==null&&(De.alternate=null,eg(Ve)),De.child=null,De.deletions=null,De.sibling=null,De.tag===5&&(Ve=De.stateNode,Ve!==null&&yi(Ve)),De.stateNode=null,De.return=null,De.dependencies=null,De.memoizedProps=null,De.memoizedState=null,De.pendingProps=null,De.stateNode=null,De.updateQueue=null}var ns=null,Do=!1;function RA(De,Ve,He){for(He=He.child;He!==null;)tg(De,Ve,He),He=He.sibling}function tg(De,Ve,He){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount($n,He)}catch{}switch(He.tag){case 26:ws||aA(He,Ve),RA(De,Ve,He),He.memoizedState?He.memoizedState.count--:He.stateNode&&(He=He.stateNode,He.parentNode.removeChild(He));break;case 27:ws||aA(He,Ve);var We=ns,pr=Do;ac(He.type)&&(ns=He.stateNode,Do=!1),RA(De,Ve,He),Yu(He.stateNode),ns=We,Do=pr;break;case 5:ws||aA(He,Ve);case 6:if(We=ns,pr=Do,ns=null,RA(De,Ve,He),ns=We,Do=pr,ns!==null)if(Do)try{(ns.nodeType===9?ns.body:ns.nodeName==="HTML"?ns.ownerDocument.body:ns).removeChild(He.stateNode)}catch(br){Ka(He,Ve,br)}else try{ns.removeChild(He.stateNode)}catch(br){Ka(He,Ve,br)}break;case 18:ns!==null&&(Do?(De=ns,Hg(De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De,He.stateNode),ih(De)):Hg(ns,He.stateNode));break;case 4:We=ns,pr=Do,ns=He.stateNode.containerInfo,Do=!0,RA(De,Ve,He),ns=We,Do=pr;break;case 0:case 11:case 14:case 15:ws||ZA(2,He,Ve),ws||ZA(4,He,Ve),RA(De,Ve,He);break;case 1:ws||(aA(He,Ve),We=He.stateNode,typeof We.componentWillUnmount=="function"&&Wp(He,Ve,We)),RA(De,Ve,He);break;case 21:RA(De,Ve,He);break;case 22:ws=(We=ws)||He.memoizedState!==null,RA(De,Ve,He),ws=We;break;default:RA(De,Ve,He)}}function rg(De,Ve){if(Ve.memoizedState===null&&(De=Ve.alternate,De!==null&&(De=De.memoizedState,De!==null&&(De=De.dehydrated,De!==null))))try{ih(De)}catch(He){Ka(Ve,Ve.return,He)}}function $m(De){switch(De.tag){case 13:case 19:var Ve=De.stateNode;return Ve===null&&(Ve=De.stateNode=new $p),Ve;case 22:return De=De.stateNode,Ve=De._retryCache,Ve===null&&(Ve=De._retryCache=new $p),Ve;default:throw Error(Ce(435,De.tag))}}function Wd(De,Ve){var He=$m(De);Ve.forEach(function(We){var pr=o0.bind(null,De,We);He.has(We)||(He.add(We),We.then(pr,pr))})}function Ho(De,Ve){var He=Ve.deletions;if(He!==null)for(var We=0;We<He.length;We++){var pr=He[We],br=De,Zr=Ve,En=Zr;e:for(;En!==null;){switch(En.tag){case 27:if(ac(En.type)){ns=En.stateNode,Do=!1;break e}break;case 5:ns=En.stateNode,Do=!1;break e;case 3:case 4:ns=En.stateNode.containerInfo,Do=!0;break e}En=En.return}if(ns===null)throw Error(Ce(160));tg(br,Zr,pr),ns=null,Do=!1,br=pr.alternate,br!==null&&(br.return=null),pr.return=null}if(Ve.subtreeFlags&13878)for(Ve=Ve.child;Ve!==null;)ng(Ve,De),Ve=Ve.sibling}var Ql=null;function ng(De,Ve){var He=De.alternate,We=De.flags;switch(De.tag){case 0:case 11:case 14:case 15:Ho(Ve,De),Ko(De),We&4&&(ZA(3,De,De.return),ju(3,De),ZA(5,De,De.return));break;case 1:Ho(Ve,De),Ko(De),We&512&&(ws||He===null||aA(He,He.return)),We&64&&TA&&(De=De.updateQueue,De!==null&&(We=De.callbacks,We!==null&&(He=De.shared.hiddenCallbacks,De.shared.hiddenCallbacks=He===null?We:He.concat(We))));break;case 26:var pr=Ql;if(Ho(Ve,De),Ko(De),We&512&&(ws||He===null||aA(He,He.return)),We&4){var br=He!==null?He.memoizedState:null;if(We=De.memoizedState,He===null)if(We===null)if(De.stateNode===null){e:{We=De.type,He=De.memoizedProps,pr=pr.ownerDocument||pr;t:switch(We){case"title":br=pr.getElementsByTagName("title")[0],(!br||br[ui]||br[kn]||br.namespaceURI==="http://www.w3.org/2000/svg"||br.hasAttribute("itemprop"))&&(br=pr.createElement(We),pr.head.insertBefore(br,pr.querySelector("head > title"))),io(br,We,He),br[kn]=De,$i(br),We=br;break e;case"link":var Zr=Zg("link","href",pr).get(We+(He.href||""));if(Zr){for(var En=0;En<Zr.length;En++)if(br=Zr[En],br.getAttribute("href")===(He.href==null||He.href===""?null:He.href)&&br.getAttribute("rel")===(He.rel==null?null:He.rel)&&br.getAttribute("title")===(He.title==null?null:He.title)&&br.getAttribute("crossorigin")===(He.crossOrigin==null?null:He.crossOrigin)){Zr.splice(En,1);break t}}br=pr.createElement(We),io(br,We,He),pr.head.appendChild(br);break;case"meta":if(Zr=Zg("meta","content",pr).get(We+(He.content||""))){for(En=0;En<Zr.length;En++)if(br=Zr[En],br.getAttribute("content")===(He.content==null?null:""+He.content)&&br.getAttribute("name")===(He.name==null?null:He.name)&&br.getAttribute("property")===(He.property==null?null:He.property)&&br.getAttribute("http-equiv")===(He.httpEquiv==null?null:He.httpEquiv)&&br.getAttribute("charset")===(He.charSet==null?null:He.charSet)){Zr.splice(En,1);break t}}br=pr.createElement(We),io(br,We,He),pr.head.appendChild(br);break;default:throw Error(Ce(468,We))}br[kn]=De,$i(br),We=br}De.stateNode=We}else $g(pr,De.type,De.stateNode);else De.stateNode=Yg(pr,We,De.memoizedProps);else br!==We?(br===null?He.stateNode!==null&&(He=He.stateNode,He.parentNode.removeChild(He)):br.count--,We===null?$g(pr,De.type,De.stateNode):Yg(pr,We,De.memoizedProps)):We===null&&De.stateNode!==null&&Kd(De,De.memoizedProps,He.memoizedProps)}break;case 27:Ho(Ve,De),Ko(De),We&512&&(ws||He===null||aA(He,He.return)),He!==null&&We&4&&Kd(De,De.memoizedProps,He.memoizedProps);break;case 5:if(Ho(Ve,De),Ko(De),We&512&&(ws||He===null||aA(He,He.return)),De.flags&32){pr=De.stateNode;try{Hs(pr,"")}catch(fi){Ka(De,De.return,fi)}}We&4&&De.stateNode!=null&&(pr=De.memoizedProps,Kd(De,pr,He!==null?He.memoizedProps:pr)),We&1024&&(Gd=!0);break;case 6:if(Ho(Ve,De),Ko(De),We&4){if(De.stateNode===null)throw Error(Ce(162));We=De.memoizedProps,He=De.stateNode;try{He.nodeValue=We}catch(fi){Ka(De,De.return,fi)}}break;case 3:if(id=null,pr=Ql,Ql=rd(Ve.containerInfo),Ho(Ve,De),Ql=pr,Ko(De),We&4&&He!==null&&He.memoizedState.isDehydrated)try{ih(Ve.containerInfo)}catch(fi){Ka(De,De.return,fi)}Gd&&(Gd=!1,ig(De));break;case 4:We=Ql,Ql=rd(De.stateNode.containerInfo),Ho(Ve,De),Ko(De),Ql=We;break;case 12:Ho(Ve,De),Ko(De);break;case 13:Ho(Ve,De),Ko(De),De.child.flags&8192&&De.memoizedState!==null!=(He!==null&&He.memoizedState!==null)&&(ef=bn()),We&4&&(We=De.updateQueue,We!==null&&(De.updateQueue=null,Wd(De,We)));break;case 22:pr=De.memoizedState!==null;var Vn=He!==null&&He.memoizedState!==null,ci=TA,xi=ws;if(TA=ci||pr,ws=xi||Vn,Ho(Ve,De),ws=xi,TA=ci,Ko(De),We&8192)e:for(Ve=De.stateNode,Ve._visibility=pr?Ve._visibility&-2:Ve._visibility|1,pr&&(He===null||Vn||TA||ws||Fc(De)),He=null,Ve=De;;){if(Ve.tag===5||Ve.tag===26){if(He===null){Vn=He=Ve;try{if(br=Vn.stateNode,pr)Zr=br.style,typeof Zr.setProperty=="function"?Zr.setProperty("display","none","important"):Zr.display="none";else{En=Vn.stateNode;var Ri=Vn.memoizedProps.style,di=Ri!=null&&Ri.hasOwnProperty("display")?Ri.display:null;En.style.display=di==null||typeof di=="boolean"?"":(""+di).trim()}}catch(fi){Ka(Vn,Vn.return,fi)}}}else if(Ve.tag===6){if(He===null){Vn=Ve;try{Vn.stateNode.nodeValue=pr?"":Vn.memoizedProps}catch(fi){Ka(Vn,Vn.return,fi)}}}else if((Ve.tag!==22&&Ve.tag!==23||Ve.memoizedState===null||Ve===De)&&Ve.child!==null){Ve.child.return=Ve,Ve=Ve.child;continue}if(Ve===De)break e;for(;Ve.sibling===null;){if(Ve.return===null||Ve.return===De)break e;He===Ve&&(He=null),Ve=Ve.return}He===Ve&&(He=null),Ve.sibling.return=Ve.return,Ve=Ve.sibling}We&4&&(We=De.updateQueue,We!==null&&(He=We.retryQueue,He!==null&&(We.retryQueue=null,Wd(De,He))));break;case 19:Ho(Ve,De),Ko(De),We&4&&(We=De.updateQueue,We!==null&&(De.updateQueue=null,Wd(De,We)));break;case 30:break;case 21:break;default:Ho(Ve,De),Ko(De)}}function Ko(De){var Ve=De.flags;if(Ve&2){try{for(var He,We=De.return;We!==null;){if(Yp(We)){He=We;break}We=We.return}if(He==null)throw Error(Ce(160));switch(He.tag){case 27:var pr=He.stateNode,br=qd(De);Qh(De,br,pr);break;case 5:var Zr=He.stateNode;He.flags&32&&(Hs(Zr,""),He.flags&=-33);var En=qd(De);Qh(De,En,Zr);break;case 3:case 4:var Vn=He.stateNode.containerInfo,ci=qd(De);zd(De,ci,Vn);break;default:throw Error(Ce(161))}}catch(xi){Ka(De,De.return,xi)}De.flags&=-3}Ve&4096&&(De.flags&=-4097)}function ig(De){if(De.subtreeFlags&1024)for(De=De.child;De!==null;){var Ve=De;ig(Ve),Ve.tag===5&&Ve.flags&1024&&Ve.stateNode.reset(),De=De.sibling}}function $A(De,Ve){if(Ve.subtreeFlags&8772)for(Ve=Ve.child;Ve!==null;)Jp(De,Ve.alternate,Ve),Ve=Ve.sibling}function Fc(De){for(De=De.child;De!==null;){var Ve=De;switch(Ve.tag){case 0:case 11:case 14:case 15:ZA(4,Ve,Ve.return),Fc(Ve);break;case 1:aA(Ve,Ve.return);var He=Ve.stateNode;typeof He.componentWillUnmount=="function"&&Wp(Ve,Ve.return,He),Fc(Ve);break;case 27:Yu(Ve.stateNode);case 26:case 5:aA(Ve,Ve.return),Fc(Ve);break;case 22:Ve.memoizedState===null&&Fc(Ve);break;case 30:Fc(Ve);break;default:Fc(Ve)}De=De.sibling}}function JA(De,Ve,He){for(He=He&&(Ve.subtreeFlags&8772)!==0,Ve=Ve.child;Ve!==null;){var We=Ve.alternate,pr=De,br=Ve,Zr=br.flags;switch(br.tag){case 0:case 11:case 15:JA(pr,br,He),ju(4,br);break;case 1:if(JA(pr,br,He),We=br,pr=We.stateNode,typeof pr.componentDidMount=="function")try{pr.componentDidMount()}catch(ci){Ka(We,We.return,ci)}if(We=br,pr=We.updateQueue,pr!==null){var En=We.stateNode;try{var Vn=pr.shared.hiddenCallbacks;if(Vn!==null)for(pr.shared.hiddenCallbacks=null,pr=0;pr<Vn.length;pr++)fa(Vn[pr],En)}catch(ci){Ka(We,We.return,ci)}}He&&Zr&64&&Gp(br),Vu(br,br.return);break;case 27:Zp(br);case 26:case 5:JA(pr,br,He),He&&We===null&&Zr&4&&Xp(br),Vu(br,br.return);break;case 12:JA(pr,br,He);break;case 13:JA(pr,br,He),He&&Zr&4&&rg(pr,br);break;case 22:br.memoizedState===null&&JA(pr,br,He),Vu(br,br.return);break;case 30:break;default:JA(pr,br,He)}Ve=Ve.sibling}}function Xd(De,Ve){var He=null;De!==null&&De.memoizedState!==null&&De.memoizedState.cachePool!==null&&(He=De.memoizedState.cachePool.pool),De=null,Ve.memoizedState!==null&&Ve.memoizedState.cachePool!==null&&(De=Ve.memoizedState.cachePool.pool),De!==He&&(De!=null&&De.refCount++,He!=null&&yc(He))}function Yd(De,Ve){De=null,Ve.alternate!==null&&(De=Ve.alternate.memoizedState.cache),Ve=Ve.memoizedState.cache,Ve!==De&&(Ve.refCount++,De!=null&&yc(De))}function sA(De,Ve,He,We){if(Ve.subtreeFlags&10256)for(Ve=Ve.child;Ve!==null;)ag(De,Ve,He,We),Ve=Ve.sibling}function ag(De,Ve,He,We){var pr=Ve.flags;switch(Ve.tag){case 0:case 11:case 15:sA(De,Ve,He,We),pr&2048&&ju(9,Ve);break;case 1:sA(De,Ve,He,We);break;case 3:sA(De,Ve,He,We),pr&2048&&(De=null,Ve.alternate!==null&&(De=Ve.alternate.memoizedState.cache),Ve=Ve.memoizedState.cache,Ve!==De&&(Ve.refCount++,De!=null&&yc(De)));break;case 12:if(pr&2048){sA(De,Ve,He,We),De=Ve.stateNode;try{var br=Ve.memoizedProps,Zr=br.id,En=br.onPostCommit;typeof En=="function"&&En(Zr,Ve.alternate===null?"mount":"update",De.passiveEffectDuration,-0)}catch(Vn){Ka(Ve,Ve.return,Vn)}}else sA(De,Ve,He,We);break;case 13:sA(De,Ve,He,We);break;case 23:break;case 22:br=Ve.stateNode,Zr=Ve.alternate,Ve.memoizedState!==null?br._visibility&2?sA(De,Ve,He,We):Qu(De,Ve):br._visibility&2?sA(De,Ve,He,We):(br._visibility|=2,Zc(De,Ve,He,We,(Ve.subtreeFlags&10256)!==0)),pr&2048&&Xd(Zr,Ve);break;case 24:sA(De,Ve,He,We),pr&2048&&Yd(Ve.alternate,Ve);break;default:sA(De,Ve,He,We)}}function Zc(De,Ve,He,We,pr){for(pr=pr&&(Ve.subtreeFlags&10256)!==0,Ve=Ve.child;Ve!==null;){var br=De,Zr=Ve,En=He,Vn=We,ci=Zr.flags;switch(Zr.tag){case 0:case 11:case 15:Zc(br,Zr,En,Vn,pr),ju(8,Zr);break;case 23:break;case 22:var xi=Zr.stateNode;Zr.memoizedState!==null?xi._visibility&2?Zc(br,Zr,En,Vn,pr):Qu(br,Zr):(xi._visibility|=2,Zc(br,Zr,En,Vn,pr)),pr&&ci&2048&&Xd(Zr.alternate,Zr);break;case 24:Zc(br,Zr,En,Vn,pr),pr&&ci&2048&&Yd(Zr.alternate,Zr);break;default:Zc(br,Zr,En,Vn,pr)}Ve=Ve.sibling}}function Qu(De,Ve){if(Ve.subtreeFlags&10256)for(Ve=Ve.child;Ve!==null;){var He=De,We=Ve,pr=We.flags;switch(We.tag){case 22:Qu(He,We),pr&2048&&Xd(We.alternate,We);break;case 24:Qu(He,We),pr&2048&&Yd(We.alternate,We);break;default:Qu(He,We)}Ve=Ve.sibling}}var Hu=8192;function $c(De){if(De.subtreeFlags&Hu)for(De=De.child;De!==null;)sg(De),De=De.sibling}function sg(De){switch(De.tag){case 26:$c(De),De.flags&Hu&&De.memoizedState!==null&&O0(Ql,De.memoizedState,De.memoizedProps);break;case 5:$c(De);break;case 3:case 4:var Ve=Ql;Ql=rd(De.stateNode.containerInfo),$c(De),Ql=Ve;break;case 22:De.memoizedState===null&&(Ve=De.alternate,Ve!==null&&Ve.memoizedState!==null?(Ve=Hu,Hu=16777216,$c(De),Hu=Ve):$c(De));break;default:$c(De)}}function og(De){var Ve=De.alternate;if(Ve!==null&&(De=Ve.child,De!==null)){Ve.child=null;do Ve=De.sibling,De.sibling=null,De=Ve;while(De!==null)}}function Ku(De){var Ve=De.deletions;if((De.flags&16)!==0){if(Ve!==null)for(var He=0;He<Ve.length;He++){var We=Ve[He];Vs=We,Ag(We,De)}og(De)}if(De.subtreeFlags&10256)for(De=De.child;De!==null;)lg(De),De=De.sibling}function lg(De){switch(De.tag){case 0:case 11:case 15:Ku(De),De.flags&2048&&ZA(9,De,De.return);break;case 3:Ku(De);break;case 12:Ku(De);break;case 22:var Ve=De.stateNode;De.memoizedState!==null&&Ve._visibility&2&&(De.return===null||De.return.tag!==13)?(Ve._visibility&=-3,Hh(De)):Ku(De);break;default:Ku(De)}}function Hh(De){var Ve=De.deletions;if((De.flags&16)!==0){if(Ve!==null)for(var He=0;He<Ve.length;He++){var We=Ve[He];Vs=We,Ag(We,De)}og(De)}for(De=De.child;De!==null;){switch(Ve=De,Ve.tag){case 0:case 11:case 15:ZA(8,Ve,Ve.return),Hh(Ve);break;case 22:He=Ve.stateNode,He._visibility&2&&(He._visibility&=-3,Hh(Ve));break;default:Hh(Ve)}De=De.sibling}}function Ag(De,Ve){for(;Vs!==null;){var He=Vs;switch(He.tag){case 0:case 11:case 15:ZA(8,He,Ve);break;case 23:case 22:if(He.memoizedState!==null&&He.memoizedState.cachePool!==null){var We=He.memoizedState.cachePool.pool;We!=null&&We.refCount++}break;case 24:yc(He.memoizedState.cache)}if(We=He.child,We!==null)We.return=He,Vs=We;else e:for(He=De;Vs!==null;){We=Vs;var pr=We.sibling,br=We.return;if(eg(We),We===He){Vs=null;break e}if(pr!==null){pr.return=br,Vs=pr;break e}Vs=br}}}var Jm={getCacheForType:function(De){var Ve=vs(_s),He=Ve.data.get(De);return He===void 0&&(He=De(),Ve.data.set(De,He)),He}},e0=typeof WeakMap=="function"?WeakMap:Map,Na=0,za=null,ga=null,xa=0,Ua=0,qo=null,ec=!1,Jc=!1,Zd=!1,PA=0,gs=0,tc=0,Ic=0,$d=0,yl=0,eu=0,qu=null,No=null,Jd=!1,ef=0,Kh=1/0,qh=null,rc=null,no=0,nc=null,tu=null,ru=0,tf=0,rf=null,cg=null,zu=0,nf=null;function zo(){if((Na&2)!==0&&xa!==0)return xa&-xa;if(Fr.T!==null){var De=yA;return De!==0?De:uf()}return Hr()}function ug(){yl===0&&(yl=(xa&536870912)===0||Ta?Mn():536870912);var De=_l.current;return De!==null&&(De.flags|=32),yl}function Go(De,Ve,He){(De===za&&(Ua===2||Ua===9)||De.cancelPendingCommit!==null)&&(nu(De,0),ic(De,xa,yl,!1)),kr(De,He),((Na&2)===0||De!==za)&&(De===za&&((Na&2)===0&&(Ic|=He),gs===4&&ic(De,xa,yl,!1)),oA(De))}function hg(De,Ve,He){if((Na&6)!==0)throw Error(Ce(327));var We=!He&&(Ve&124)===0&&(Ve&De.expiredLanes)===0||Ze(De,Ve),pr=We?n0(De,Ve):of(De,Ve,!0),br=We;do{if(pr===0){Jc&&!We&&ic(De,Ve,0,!1);break}else{if(He=De.current.alternate,br&&!t0(He)){pr=of(De,Ve,!1),br=!1;continue}if(pr===2){if(br=Ve,De.errorRecoveryDisabledLanes&br)var Zr=0;else Zr=De.pendingLanes&-536870913,Zr=Zr!==0?Zr:Zr&536870912?536870912:0;if(Zr!==0){Ve=Zr;e:{var En=De;pr=qu;var Vn=En.current.memoizedState.isDehydrated;if(Vn&&(nu(En,Zr).flags|=256),Zr=of(En,Zr,!1),Zr!==2){if(Zd&&!Vn){En.errorRecoveryDisabledLanes|=br,Ic|=br,pr=4;break e}br=No,No=pr,br!==null&&(No===null?No=br:No.push.apply(No,br))}pr=Zr}if(br=!1,pr!==2)continue}}if(pr===1){nu(De,0),ic(De,Ve,0,!0);break}e:{switch(We=De,br=pr,br){case 0:case 1:throw Error(Ce(345));case 4:if((Ve&4194048)!==Ve)break;case 6:ic(We,Ve,yl,!ec);break e;case 2:No=null;break;case 3:case 5:break;default:throw Error(Ce(329))}if((Ve&62914560)===Ve&&(pr=ef+300-bn(),10<pr)){if(ic(We,Ve,yl,!ec),Or(We,0,!0)!==0)break e;We.timeoutHandle=Vg(dg.bind(null,We,He,No,qh,Jd,Ve,yl,Ic,eu,ec,br,2,-0,0),pr);break e}dg(We,He,No,qh,Jd,Ve,yl,Ic,eu,ec,br,0,-0,0)}}break}while(!0);oA(De)}function dg(De,Ve,He,We,pr,br,Zr,En,Vn,ci,xi,Ri,di,fi){if(De.timeoutHandle=-1,Ri=Ve.subtreeFlags,(Ri&8192||(Ri&16785408)===16785408)&&(Ju={stylesheets:null,count:0,unsuspend:L0},sg(Ve),Ri=k0(),Ri!==null)){De.cancelPendingCommit=Ri(yg.bind(null,De,Ve,br,He,We,pr,Zr,En,Vn,xi,1,di,fi)),ic(De,br,Zr,!ci);return}yg(De,Ve,br,He,We,pr,Zr,En,Vn)}function t0(De){for(var Ve=De;;){var He=Ve.tag;if((He===0||He===11||He===15)&&Ve.flags&16384&&(He=Ve.updateQueue,He!==null&&(He=He.stores,He!==null)))for(var We=0;We<He.length;We++){var pr=He[We],br=pr.getSnapshot;pr=pr.value;try{if(!xs(br(),pr))return!1}catch{return!1}}if(He=Ve.child,Ve.subtreeFlags&16384&&He!==null)He.return=Ve,Ve=He;else{if(Ve===De)break;for(;Ve.sibling===null;){if(Ve.return===null||Ve.return===De)return!0;Ve=Ve.return}Ve.sibling.return=Ve.return,Ve=Ve.sibling}}return!0}function ic(De,Ve,He,We){Ve&=~$d,Ve&=~Ic,De.suspendedLanes|=Ve,De.pingedLanes&=~Ve,We&&(De.warmLanes|=Ve),We=De.expirationTimes;for(var pr=Ve;0<pr;){var br=31-ai(pr),Zr=1<<br;We[br]=-1,pr&=~Zr}He!==0&&xr(De,He,Ve)}function zh(){return(Na&6)===0?(Gu(0),!1):!0}function af(){if(ga!==null){if(Ua===0)var De=ga.return;else De=ga,Ll=Ss=null,Fs(De),Xc=null,Ou=0,De=ga;for(;De!==null;)zp(De.alternate,De),De=De.return;ga=null}}function nu(De,Ve){var He=De.timeoutHandle;He!==-1&&(De.timeoutHandle=-1,_0(He)),He=De.cancelPendingCommit,He!==null&&(De.cancelPendingCommit=null,He()),af(),za=De,ga=He=ul(De.current,null),xa=Ve,Ua=0,qo=null,ec=!1,Jc=Ze(De,Ve),Zd=!1,eu=yl=$d=Ic=tc=gs=0,No=qu=null,Jd=!1,(Ve&8)!==0&&(Ve|=Ve&32);var We=De.entangledLanes;if(We!==0)for(De=De.entanglements,We&=Ve;0<We;){var pr=31-ai(We),br=1<<pr;Ve|=De[pr],We&=~br}return PA=Ve,fc(),He}function fg(De,Ve){Vi=null,Fr.H=Dh,Ve===pn||Ve===xn?(Ve=Zn(),Ua=3):Ve===yn?(Ve=Zn(),Ua=4):Ua=Ve===Ip?8:Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"?6:1,qo=Ve,ga===null&&(gs=1,kh(De,mo(Ve,De.current)))}function pg(){var De=Fr.H;return Fr.H=Dh,De===null?Dh:De}function gg(){var De=Fr.A;return Fr.A=Jm,De}function sf(){gs=4,ec||(xa&4194048)!==xa&&_l.current!==null||(Jc=!0),(tc&134217727)===0&&(Ic&134217727)===0||za===null||ic(za,xa,yl,!1)}function of(De,Ve,He){var We=Na;Na|=2;var pr=pg(),br=gg();(za!==De||xa!==Ve)&&(qh=null,nu(De,Ve)),Ve=!1;var Zr=gs;e:do try{if(Ua!==0&&ga!==null){var En=ga,Vn=qo;switch(Ua){case 8:af(),Zr=6;break e;case 3:case 2:case 9:case 6:_l.current===null&&(Ve=!0);var ci=Ua;if(Ua=0,qo=null,iu(De,En,Vn,ci),He&&Jc){Zr=0;break e}break;default:ci=Ua,Ua=0,qo=null,iu(De,En,Vn,ci)}}r0(),Zr=gs;break}catch(xi){fg(De,xi)}while(!0);return Ve&&De.shellSuspendCounter++,Ll=Ss=null,Na=We,Fr.H=pr,Fr.A=br,ga===null&&(za=null,xa=0,fc()),Zr}function r0(){for(;ga!==null;)mg(ga)}function n0(De,Ve){var He=Na;Na|=2;var We=pg(),pr=gg();za!==De||xa!==Ve?(qh=null,Kh=bn()+500,nu(De,Ve)):Jc=Ze(De,Ve);e:do try{if(Ua!==0&&ga!==null){Ve=ga;var br=qo;t:switch(Ua){case 1:Ua=0,qo=null,iu(De,Ve,br,1);break;case 2:case 9:if(Ln(br)){Ua=0,qo=null,vg(Ve);break}Ve=function(){Ua!==2&&Ua!==9||za!==De||(Ua=7),oA(De)},br.then(Ve,Ve);break e;case 3:Ua=7;break e;case 4:Ua=5;break e;case 7:Ln(br)?(Ua=0,qo=null,vg(Ve)):(Ua=0,qo=null,iu(De,Ve,br,7));break;case 5:var Zr=null;switch(ga.tag){case 26:Zr=ga.memoizedState;case 5:case 27:var En=ga;if(!Zr||Jg(Zr)){Ua=0,qo=null;var Vn=En.sibling;if(Vn!==null)ga=Vn;else{var ci=En.return;ci!==null?(ga=ci,Gh(ci)):ga=null}break t}}Ua=0,qo=null,iu(De,Ve,br,5);break;case 6:Ua=0,qo=null,iu(De,Ve,br,6);break;case 8:af(),gs=6;break e;default:throw Error(Ce(462))}}i0();break}catch(xi){fg(De,xi)}while(!0);return Ll=Ss=null,Fr.H=We,Fr.A=pr,Na=He,ga!==null?0:(za=null,xa=0,fc(),gs)}function i0(){for(;ga!==null&&!Yr();)mg(ga)}function mg(De){var Ve=Kp(De.alternate,De,PA);De.memoizedProps=De.pendingProps,Ve===null?Gh(De):ga=Ve}function vg(De){var Ve=De,He=Ve.alternate;switch(Ve.tag){case 15:case 0:Ve=kp(He,Ve,Ve.pendingProps,Ve.type,void 0,xa);break;case 11:Ve=kp(He,Ve,Ve.pendingProps,Ve.type.render,Ve.ref,xa);break;case 5:Fs(Ve);default:zp(He,Ve),Ve=ga=gc(Ve,PA),Ve=Kp(He,Ve,PA)}De.memoizedProps=De.pendingProps,Ve===null?Gh(De):ga=Ve}function iu(De,Ve,He,We){Ll=Ss=null,Fs(Ve),Xc=null,Ou=0;var pr=Ve.return;try{if(Gm(De,pr,Ve,He,xa)){gs=1,kh(De,mo(He,De.current)),ga=null;return}}catch(br){if(pr!==null)throw ga=pr,br;gs=1,kh(De,mo(He,De.current)),ga=null;return}Ve.flags&32768?(Ta||We===1?De=!0:Jc||(xa&536870912)!==0?De=!1:(ec=De=!0,(We===2||We===9||We===3||We===6)&&(We=_l.current,We!==null&&We.tag===13&&(We.flags|=16384))),_g(Ve,De)):Gh(Ve)}function Gh(De){var Ve=De;do{if((Ve.flags&32768)!==0){_g(Ve,ec);return}De=Ve.return;var He=Xm(Ve.alternate,Ve,PA);if(He!==null){ga=He;return}if(Ve=Ve.sibling,Ve!==null){ga=Ve;return}ga=Ve=De}while(Ve!==null);gs===0&&(gs=5)}function _g(De,Ve){do{var He=Ym(De.alternate,De);if(He!==null){He.flags&=32767,ga=He;return}if(He=De.return,He!==null&&(He.flags|=32768,He.subtreeFlags=0,He.deletions=null),!Ve&&(De=De.sibling,De!==null)){ga=De;return}ga=De=He}while(De!==null);gs=6,ga=null}function yg(De,Ve,He,We,pr,br,Zr,En,Vn){De.cancelPendingCommit=null;do Wh();while(no!==0);if((Na&6)!==0)throw Error(Ce(327));if(Ve!==null){if(Ve===De.current)throw Error(Ce(177));if(br=Ve.lanes|Ve.childLanes,br|=Lc,rr(De,He,br,Zr,En,Vn),De===za&&(ga=za=null,xa=0),tu=Ve,nc=De,ru=He,tf=br,rf=pr,cg=We,(Ve.subtreeFlags&10256)!==0||(Ve.flags&10256)!==0?(De.callbackNode=null,De.callbackPriority=0,l0(Pn,function(){return Cg(),null})):(De.callbackNode=null,De.callbackPriority=0),We=(Ve.flags&13878)!==0,(Ve.subtreeFlags&13878)!==0||We){We=Fr.T,Fr.T=null,pr=Er.p,Er.p=2,Zr=Na,Na|=4;try{Zm(De,Ve,He)}finally{Na=Zr,Er.p=pr,Fr.T=We}}no=1,Eg(),bg(),wg()}}function Eg(){if(no===1){no=0;var De=nc,Ve=tu,He=(Ve.flags&13878)!==0;if((Ve.subtreeFlags&13878)!==0||He){He=Fr.T,Fr.T=null;var We=Er.p;Er.p=2;var pr=Na;Na|=4;try{ng(Ve,De);var br=_f,Zr=MA(De.containerInfo),En=br.focusedElem,Vn=br.selectionRange;if(Zr!==En&&En&&En.ownerDocument&&ll(En.ownerDocument.documentElement,En)){if(Vn!==null&&Ys(En)){var ci=Vn.start,xi=Vn.end;if(xi===void 0&&(xi=ci),"selectionStart"in En)En.selectionStart=ci,En.selectionEnd=Math.min(xi,En.value.length);else{var Ri=En.ownerDocument||document,di=Ri&&Ri.defaultView||window;if(di.getSelection){var fi=di.getSelection(),ta=En.textContent.length,Yi=Math.min(Vn.start,ta),Ma=Vn.end===void 0?Yi:Math.min(Vn.end,ta);!fi.extend&&Yi>Ma&&(Zr=Ma,Ma=Yi,Yi=Zr);var ri=$l(En,Yi),Wn=$l(En,Ma);if(ri&&Wn&&(fi.rangeCount!==1||fi.anchorNode!==ri.node||fi.anchorOffset!==ri.offset||fi.focusNode!==Wn.node||fi.focusOffset!==Wn.offset)){var oi=Ri.createRange();oi.setStart(ri.node,ri.offset),fi.removeAllRanges(),Yi>Ma?(fi.addRange(oi),fi.extend(Wn.node,Wn.offset)):(oi.setEnd(Wn.node,Wn.offset),fi.addRange(oi))}}}}for(Ri=[],fi=En;fi=fi.parentNode;)fi.nodeType===1&&Ri.push({element:fi,left:fi.scrollLeft,top:fi.scrollTop});for(typeof En.focus=="function"&&En.focus(),En=0;En<Ri.length;En++){var Si=Ri[En];Si.element.scrollLeft=Si.left,Si.element.scrollTop=Si.top}}od=!!vf,_f=vf=null}finally{Na=pr,Er.p=We,Fr.T=He}}De.current=Ve,no=2}}function bg(){if(no===2){no=0;var De=nc,Ve=tu,He=(Ve.flags&8772)!==0;if((Ve.subtreeFlags&8772)!==0||He){He=Fr.T,Fr.T=null;var We=Er.p;Er.p=2;var pr=Na;Na|=4;try{Jp(De,Ve.alternate,Ve)}finally{Na=pr,Er.p=We,Fr.T=He}}no=3}}function wg(){if(no===4||no===3){no=0,Rn();var De=nc,Ve=tu,He=ru,We=cg;(Ve.subtreeFlags&10256)!==0||(Ve.flags&10256)!==0?no=5:(no=0,tu=nc=null,xg(De,De.pendingLanes));var pr=De.pendingLanes;if(pr===0&&(rc=null),Gr(He),Ve=Ve.stateNode,Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot($n,Ve,void 0,(Ve.current.flags&128)===128)}catch{}if(We!==null){Ve=Fr.T,pr=Er.p,Er.p=2,Fr.T=null;try{for(var br=De.onRecoverableError,Zr=0;Zr<We.length;Zr++){var En=We[Zr];br(En.value,{componentStack:En.stack})}}finally{Fr.T=Ve,Er.p=pr}}(ru&3)!==0&&Wh(),oA(De),pr=De.pendingLanes,(He&4194090)!==0&&(pr&42)!==0?De===nf?zu++:(zu=0,nf=De):zu=0,Gu(0)}}function xg(De,Ve){(De.pooledCacheLanes&=Ve)===0&&(Ve=De.pooledCache,Ve!=null&&(De.pooledCache=null,yc(Ve)))}function Wh(De){return Eg(),bg(),wg(),Cg()}function Cg(){if(no!==5)return!1;var De=nc,Ve=tf;tf=0;var He=Gr(ru),We=Fr.T,pr=Er.p;try{Er.p=32>He?32:He,Fr.T=null,He=rf,rf=null;var br=nc,Zr=ru;if(no=0,tu=nc=null,ru=0,(Na&6)!==0)throw Error(Ce(331));var En=Na;if(Na|=4,lg(br.current),ag(br,br.current,Zr,He),Na=En,Gu(0,!1),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot($n,br)}catch{}return!0}finally{Er.p=pr,Fr.T=We,xg(De,Ve)}}function Sg(De,Ve,He){Ve=mo(He,Ve),Ve=Ud(De.stateNode,Ve,2),De=Pi(De,Ve,2),De!==null&&(kr(De,2),oA(De))}function Ka(De,Ve,He){if(De.tag===3)Sg(De,De,He);else for(;Ve!==null;){if(Ve.tag===3){Sg(Ve,De,He);break}else if(Ve.tag===1){var We=Ve.stateNode;if(typeof Ve.type.getDerivedStateFromError=="function"||typeof We.componentDidCatch=="function"&&(rc===null||!rc.has(We))){De=mo(He,De),He=Pp(2),We=Pi(Ve,He,2),We!==null&&(Fp(He,We,Ve,De),kr(We,2),oA(We));break}}Ve=Ve.return}}function lf(De,Ve,He){var We=De.pingCache;if(We===null){We=De.pingCache=new e0;var pr=new Set;We.set(Ve,pr)}else pr=We.get(Ve),pr===void 0&&(pr=new Set,We.set(Ve,pr));pr.has(He)||(Zd=!0,pr.add(He),De=a0.bind(null,De,Ve,He),Ve.then(De,De))}function a0(De,Ve,He){var We=De.pingCache;We!==null&&We.delete(Ve),De.pingedLanes|=De.suspendedLanes&He,De.warmLanes&=~He,za===De&&(xa&He)===He&&(gs===4||gs===3&&(xa&62914560)===xa&&300>bn()-ef?(Na&2)===0&&nu(De,0):$d|=He,eu===xa&&(eu=0)),oA(De)}function Tg(De,Ve){Ve===0&&(Ve=ze()),De=fA(De,Ve),De!==null&&(kr(De,Ve),oA(De))}function s0(De){var Ve=De.memoizedState,He=0;Ve!==null&&(He=Ve.retryLane),Tg(De,He)}function o0(De,Ve){var He=0;switch(De.tag){case 13:var We=De.stateNode,pr=De.memoizedState;pr!==null&&(He=pr.retryLane);break;case 19:We=De.stateNode;break;case 22:We=De.stateNode._retryCache;break;default:throw Error(Ce(314))}We!==null&&We.delete(Ve),Tg(De,He)}function l0(De,Ve){return Fn(De,Ve)}var Xh=null,au=null,Af=!1,Yh=!1,cf=!1,Dc=0;function oA(De){De!==au&&De.next===null&&(au===null?Xh=au=De:au=au.next=De),Yh=!0,Af||(Af=!0,c0())}function Gu(De,Ve){if(!cf&&Yh){cf=!0;do for(var He=!1,We=Xh;We!==null;){if(De!==0){var pr=We.pendingLanes;if(pr===0)var br=0;else{var Zr=We.suspendedLanes,En=We.pingedLanes;br=(1<<31-ai(42|De)+1)-1,br&=pr&~(Zr&~En),br=br&201326741?br&201326741|1:br?br|2:0}br!==0&&(He=!0,Fg(We,br))}else br=xa,br=Or(We,We===za?br:0,We.cancelPendingCommit!==null||We.timeoutHandle!==-1),(br&3)===0||Ze(We,br)||(He=!0,Fg(We,br));We=We.next}while(He);cf=!1}}function A0(){Rg()}function Rg(){Yh=Af=!1;var De=0;Dc!==0&&(v0()&&(De=Dc),Dc=0);for(var Ve=bn(),He=null,We=Xh;We!==null;){var pr=We.next,br=Bg(We,Ve);br===0?(We.next=null,He===null?Xh=pr:He.next=pr,pr===null&&(au=He)):(He=We,(De!==0||(br&3)!==0)&&(Yh=!0)),We=pr}Gu(De)}function Bg(De,Ve){for(var He=De.suspendedLanes,We=De.pingedLanes,pr=De.expirationTimes,br=De.pendingLanes&-62914561;0<br;){var Zr=31-ai(br),En=1<<Zr,Vn=pr[Zr];Vn===-1?((En&He)===0||(En&We)!==0)&&(pr[Zr]=Jr(En,Ve)):Vn<=Ve&&(De.expiredLanes|=En),br&=~En}if(Ve=za,He=xa,He=Or(De,De===Ve?He:0,De.cancelPendingCommit!==null||De.timeoutHandle!==-1),We=De.callbackNode,He===0||De===Ve&&(Ua===2||Ua===9)||De.cancelPendingCommit!==null)return We!==null&&We!==null&&wn(We),De.callbackNode=null,De.callbackPriority=0;if((He&3)===0||Ze(De,He)){if(Ve=He&-He,Ve===De.callbackPriority)return Ve;switch(We!==null&&wn(We),Gr(He)){case 2:case 8:He=Bn;break;case 32:He=Pn;break;case 268435456:He=Kn;break;default:He=Pn}return We=Pg.bind(null,De),He=Fn(He,We),De.callbackPriority=Ve,De.callbackNode=He,Ve}return We!==null&&We!==null&&wn(We),De.callbackPriority=2,De.callbackNode=null,2}function Pg(De,Ve){if(no!==0&&no!==5)return De.callbackNode=null,De.callbackPriority=0,null;var He=De.callbackNode;if(Wh()&&De.callbackNode!==He)return null;var We=xa;return We=Or(De,De===za?We:0,De.cancelPendingCommit!==null||De.timeoutHandle!==-1),We===0?null:(hg(De,We,Ve),Bg(De,bn()),De.callbackNode!=null&&De.callbackNode===He?Pg.bind(null,De):null)}function Fg(De,Ve){if(Wh())return null;hg(De,Ve,!0)}function c0(){y0(function(){(Na&6)!==0?Fn($r,A0):Rg()})}function uf(){return Dc===0&&(Dc=Mn()),Dc}function Ig(De){return De==null||typeof De=="symbol"||typeof De=="boolean"?null:typeof De=="function"?De:xo(""+De)}function Dg(De,Ve){var He=Ve.ownerDocument.createElement("input");return He.name=Ve.name,He.value=Ve.value,De.id&&He.setAttribute("form",De.id),Ve.parentNode.insertBefore(He,Ve),De=new FormData(De),He.parentNode.removeChild(He),De}function u0(De,Ve,He,We,pr){if(Ve==="submit"&&He&&He.stateNode===pr){var br=Ig((pr[On]||null).action),Zr=We.submitter;Zr&&(Ve=(Ve=Zr[On]||null)?Ig(Ve.formAction):Zr.getAttribute("formAction"),Ve!==null&&(br=Ve,Zr=null));var En=new el("action","action",null,We,pr);De.push({event:En,listeners:[{instance:null,listener:function(){if(We.defaultPrevented){if(Dc!==0){var Vn=Zr?Dg(pr,Zr):new FormData(pr);vl(He,{pending:!0,data:Vn,method:pr.method,action:br},null,Vn)}}else typeof br=="function"&&(En.preventDefault(),Vn=Zr?Dg(pr,Zr):new FormData(pr),vl(He,{pending:!0,data:Vn,method:pr.method,action:br},br,Vn))},currentTarget:pr}]})}}for(var hf=0;hf<Uc.length;hf++){var df=Uc[hf],h0=df.toLowerCase(),d0=df[0].toUpperCase()+df.slice(1);Po(h0,"on"+d0)}Po(mu,"onAnimationEnd"),Po(vu,"onAnimationIteration"),Po(_u,"onAnimationStart"),Po("dblclick","onDoubleClick"),Po("focusin","onFocus"),Po("focusout","onBlur"),Po(dh,"onTransitionRun"),Po(fh,"onTransitionStart"),Po(ph,"onTransitionCancel"),Po(yu,"onTransitionEnd"),Ga("onMouseEnter",["mouseout","mouseover"]),Ga("onMouseLeave",["mouseout","mouseover"]),Ga("onPointerEnter",["pointerout","pointerover"]),Ga("onPointerLeave",["pointerout","pointerover"]),ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ja("onBeforeInput",["compositionend","keypress","textInput","paste"]),ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wu));function Ng(De,Ve){Ve=(Ve&4)!==0;for(var He=0;He<De.length;He++){var We=De[He],pr=We.event;We=We.listeners;e:{var br=void 0;if(Ve)for(var Zr=We.length-1;0<=Zr;Zr--){var En=We[Zr],Vn=En.instance,ci=En.currentTarget;if(En=En.listener,Vn!==br&&pr.isPropagationStopped())break e;br=En,pr.currentTarget=ci;try{br(pr)}catch(xi){Oh(xi)}pr.currentTarget=null,br=Vn}else for(Zr=0;Zr<We.length;Zr++){if(En=We[Zr],Vn=En.instance,ci=En.currentTarget,En=En.listener,Vn!==br&&pr.isPropagationStopped())break e;br=En,pr.currentTarget=ci;try{br(pr)}catch(xi){Oh(xi)}pr.currentTarget=null,br=Vn}}}}function ma(De,Ve){var He=Ve[hi];He===void 0&&(He=Ve[hi]=new Set);var We=De+"__bubble";He.has(We)||(Ug(Ve,De,2,!1),He.add(We))}function ff(De,Ve,He){var We=0;Ve&&(We|=4),Ug(He,De,We,Ve)}var Zh="_reactListening"+Math.random().toString(36).slice(2);function pf(De){if(!De[Zh]){De[Zh]=!0,oa.forEach(function(He){He!=="selectionchange"&&(f0.has(He)||ff(He,!1,De),ff(He,!0,De))});var Ve=De.nodeType===9?De:De.ownerDocument;Ve===null||Ve[Zh]||(Ve[Zh]=!0,ff("selectionchange",!1,Ve))}}function Ug(De,Ve,He,We){switch(am(Ve)){case 2:var pr=V0;break;case 8:pr=Q0;break;default:pr=Bf}He=pr.bind(null,Ve,He,De),pr=void 0,!hs||Ve!=="touchstart"&&Ve!=="touchmove"&&Ve!=="wheel"||(pr=!0),We?pr!==void 0?De.addEventListener(Ve,He,{capture:!0,passive:pr}):De.addEventListener(Ve,He,!0):pr!==void 0?De.addEventListener(Ve,He,{passive:pr}):De.addEventListener(Ve,He,!1)}function gf(De,Ve,He,We,pr){var br=We;if((Ve&1)===0&&(Ve&2)===0&&We!==null)e:for(;;){if(We===null)return;var Zr=We.tag;if(Zr===3||Zr===4){var En=We.stateNode.containerInfo;if(En===pr)break;if(Zr===4)for(Zr=We.return;Zr!==null;){var Vn=Zr.tag;if((Vn===3||Vn===4)&&Zr.stateNode.containerInfo===pr)return;Zr=Zr.return}for(;En!==null;){if(Zr=_i(En),Zr===null)return;if(Vn=Zr.tag,Vn===5||Vn===6||Vn===26||Vn===27){We=br=Zr;continue e}En=En.parentNode}}We=We.return}UA(function(){var ci=br,xi=oo(He),Ri=[];e:{var di=Eu.get(De);if(di!==void 0){var fi=el,ta=De;switch(De){case"keypress":if(Us(He)===0)break e;case"keydown":case"keyup":fi=Va;break;case"focusin":ta="focus",fi=Sr;break;case"focusout":ta="blur",fi=Sr;break;case"beforeblur":case"afterblur":fi=Sr;break;case"click":if(He.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fi=Ls;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fi=Gs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fi=fs;break;case mu:case vu:case _u:fi=Un;break;case yu:fi=jo;break;case"scroll":case"scrollend":fi=tl;break;case"wheel":fi=Bl;break;case"copy":case"cut":case"paste":fi=ei;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fi=Wa;break;case"toggle":case"beforetoggle":fi=co}var Yi=(Ve&4)!==0,Ma=!Yi&&(De==="scroll"||De==="scrollend"),ri=Yi?di!==null?di+"Capture":null:di;Yi=[];for(var Wn=ci,oi;Wn!==null;){var Si=Wn;if(oi=Si.stateNode,Si=Si.tag,Si!==5&&Si!==26&&Si!==27||oi===null||ri===null||(Si=Tl(Wn,ri),Si!=null&&Yi.push(Xu(Wn,Si,oi))),Ma)break;Wn=Wn.return}0<Yi.length&&(di=new fi(di,ta,null,He,xi),Ri.push({event:di,listeners:Yi}))}}if((Ve&7)===0){e:{if(di=De==="mouseover"||De==="pointerover",fi=De==="mouseout"||De==="pointerout",di&&He!==Ns&&(ta=He.relatedTarget||He.fromElement)&&(_i(ta)||ta[zn]))break e;if((fi||di)&&(di=xi.window===xi?xi:(di=xi.ownerDocument)?di.defaultView||di.parentWindow:window,fi?(ta=He.relatedTarget||He.toElement,fi=ci,ta=ta?_i(ta):null,ta!==null&&(Ma=Re(ta),Yi=ta.tag,ta!==Ma||Yi!==5&&Yi!==27&&Yi!==6)&&(ta=null)):(fi=null,ta=ci),fi!==ta)){if(Yi=Ls,Si="onMouseLeave",ri="onMouseEnter",Wn="mouse",(De==="pointerout"||De==="pointerover")&&(Yi=Wa,Si="onPointerLeave",ri="onPointerEnter",Wn="pointer"),Ma=fi==null?di:Di(fi),oi=ta==null?di:Di(ta),di=new Yi(Si,Wn+"leave",fi,He,xi),di.target=Ma,di.relatedTarget=oi,Si=null,_i(xi)===ci&&(Yi=new Yi(ri,Wn+"enter",ta,He,xi),Yi.target=oi,Yi.relatedTarget=Ma,Si=Yi),Ma=Si,fi&&ta)t:{for(Yi=fi,ri=ta,Wn=0,oi=Yi;oi;oi=su(oi))Wn++;for(oi=0,Si=ri;Si;Si=su(Si))oi++;for(;0<Wn-oi;)Yi=su(Yi),Wn--;for(;0<oi-Wn;)ri=su(ri),oi--;for(;Wn--;){if(Yi===ri||ri!==null&&Yi===ri.alternate)break t;Yi=su(Yi),ri=su(ri)}Yi=null}else Yi=null;fi!==null&&Lg(Ri,di,fi,Yi,!1),ta!==null&&Ma!==null&&Lg(Ri,Ma,ta,Yi,!0)}}e:{if(di=ci?Di(ci):window,fi=di.nodeName&&di.nodeName.toLowerCase(),fi==="select"||fi==="input"&&di.type==="file")var Hi=Xs;else if(Ra(di))if(Yl)Hi=kA;else{Hi=al;var pa=pu}else fi=di.nodeName,!fi||fi.toLowerCase()!=="input"||di.type!=="checkbox"&&di.type!=="radio"?ci&&cA(ci.elementType)&&(Hi=Xs):Hi=sl;if(Hi&&(Hi=Hi(De,ci))){go(Ri,Hi,He,xi);break e}pa&&pa(De,di,ci),De==="focusout"&&ci&&di.type==="number"&&ci.memoizedProps.value!=null&&Yo(di,"number",di.value)}switch(pa=ci?Di(ci):window,De){case"focusin":(Ra(pa)||pa.contentEditable==="true")&&(Sa=pa,Ia=ci,Qa=null);break;case"focusout":Qa=Ia=Sa=null;break;case"mousedown":Xa=!0;break;case"contextmenu":case"mouseup":case"dragend":Xa=!1,cl(Ri,He,xi);break;case"selectionchange":if(Al)break;case"keydown":case"keyup":cl(Ri,He,xi)}var qi;if(Ws)e:{switch(De){case"compositionstart":var Zi="onCompositionStart";break e;case"compositionend":Zi="onCompositionEnd";break e;case"compositionupdate":Zi="onCompositionUpdate";break e}Zi=void 0}else ca?gi(De,He)&&(Zi="onCompositionEnd"):De==="keydown"&&He.keyCode===229&&(Zi="onCompositionStart");Zi&&(Xr&&He.locale!=="ko"&&(ca||Zi!=="onCompositionStart"?Zi==="onCompositionEnd"&&ca&&(qi=Rl()):(So=xi,$o="value"in So?So.value:So.textContent,ca=!0)),pa=$h(ci,Zi),0<pa.length&&(Zi=new Bi(Zi,De,null,He,xi),Ri.push({event:Zi,listeners:pa}),qi?Zi.data=qi:(qi=Ii(He),qi!==null&&(Zi.data=qi)))),(qi=Dr?qa(De,He):ua(De,He))&&(Zi=$h(ci,"onBeforeInput"),0<Zi.length&&(pa=new Bi("onBeforeInput","beforeinput",null,He,xi),Ri.push({event:pa,listeners:Zi}),pa.data=qi)),u0(Ri,De,ci,He,xi)}Ng(Ri,Ve)})}function Xu(De,Ve,He){return{instance:De,listener:Ve,currentTarget:He}}function $h(De,Ve){for(var He=Ve+"Capture",We=[];De!==null;){var pr=De,br=pr.stateNode;if(pr=pr.tag,pr!==5&&pr!==26&&pr!==27||br===null||(pr=Tl(De,He),pr!=null&&We.unshift(Xu(De,pr,br)),pr=Tl(De,Ve),pr!=null&&We.push(Xu(De,pr,br))),De.tag===3)return We;De=De.return}return[]}function su(De){if(De===null)return null;do De=De.return;while(De&&De.tag!==5&&De.tag!==27);return De||null}function Lg(De,Ve,He,We,pr){for(var br=Ve._reactName,Zr=[];He!==null&&He!==We;){var En=He,Vn=En.alternate,ci=En.stateNode;if(En=En.tag,Vn!==null&&Vn===We)break;En!==5&&En!==26&&En!==27||ci===null||(Vn=ci,pr?(ci=Tl(He,br),ci!=null&&Zr.unshift(Xu(He,ci,Vn))):pr||(ci=Tl(He,br),ci!=null&&Zr.push(Xu(He,ci,Vn)))),He=He.return}Zr.length!==0&&De.push({event:Ve,listeners:Zr})}var p0=/\r\n?/g,g0=/\u0000|\uFFFD/g;function Og(De){return(typeof De=="string"?De:""+De).replace(p0,`
`).replace(g0,"")}function kg(De,Ve){return Ve=Og(Ve),Og(De)===Ve}function Jh(){}function ka(De,Ve,He,We,pr,br){switch(He){case"children":typeof We=="string"?Ve==="body"||Ve==="textarea"&&We===""||Hs(De,We):(typeof We=="number"||typeof We=="bigint")&&Ve!=="body"&&Hs(De,""+We);break;case"className":is(De,"class",We);break;case"tabIndex":is(De,"tabindex",We);break;case"dir":case"role":case"viewBox":case"width":case"height":is(De,He,We);break;case"style":AA(De,We,br);break;case"data":if(Ve!=="object"){is(De,"data",We);break}case"src":case"href":if(We===""&&(Ve!=="a"||He!=="href")){De.removeAttribute(He);break}if(We==null||typeof We=="function"||typeof We=="symbol"||typeof We=="boolean"){De.removeAttribute(He);break}We=xo(""+We),De.setAttribute(He,We);break;case"action":case"formAction":if(typeof We=="function"){De.setAttribute(He,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof br=="function"&&(He==="formAction"?(Ve!=="input"&&ka(De,Ve,"name",pr.name,pr,null),ka(De,Ve,"formEncType",pr.formEncType,pr,null),ka(De,Ve,"formMethod",pr.formMethod,pr,null),ka(De,Ve,"formTarget",pr.formTarget,pr,null)):(ka(De,Ve,"encType",pr.encType,pr,null),ka(De,Ve,"method",pr.method,pr,null),ka(De,Ve,"target",pr.target,pr,null)));if(We==null||typeof We=="symbol"||typeof We=="boolean"){De.removeAttribute(He);break}We=xo(""+We),De.setAttribute(He,We);break;case"onClick":We!=null&&(De.onclick=Jh);break;case"onScroll":We!=null&&ma("scroll",De);break;case"onScrollEnd":We!=null&&ma("scrollend",De);break;case"dangerouslySetInnerHTML":if(We!=null){if(typeof We!="object"||!("__html"in We))throw Error(Ce(61));if(He=We.__html,He!=null){if(pr.children!=null)throw Error(Ce(60));De.innerHTML=He}}break;case"multiple":De.multiple=We&&typeof We!="function"&&typeof We!="symbol";break;case"muted":De.muted=We&&typeof We!="function"&&typeof We!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(We==null||typeof We=="function"||typeof We=="boolean"||typeof We=="symbol"){De.removeAttribute("xlink:href");break}He=xo(""+We),De.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",He);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":We!=null&&typeof We!="function"&&typeof We!="symbol"?De.setAttribute(He,""+We):De.removeAttribute(He);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":We&&typeof We!="function"&&typeof We!="symbol"?De.setAttribute(He,""):De.removeAttribute(He);break;case"capture":case"download":We===!0?De.setAttribute(He,""):We!==!1&&We!=null&&typeof We!="function"&&typeof We!="symbol"?De.setAttribute(He,We):De.removeAttribute(He);break;case"cols":case"rows":case"size":case"span":We!=null&&typeof We!="function"&&typeof We!="symbol"&&!isNaN(We)&&1<=We?De.setAttribute(He,We):De.removeAttribute(He);break;case"rowSpan":case"start":We==null||typeof We=="function"||typeof We=="symbol"||isNaN(We)?De.removeAttribute(He):De.setAttribute(He,We);break;case"popover":ma("beforetoggle",De),ma("toggle",De),Lo(De,"popover",We);break;case"xlinkActuate":as(De,"http://www.w3.org/1999/xlink","xlink:actuate",We);break;case"xlinkArcrole":as(De,"http://www.w3.org/1999/xlink","xlink:arcrole",We);break;case"xlinkRole":as(De,"http://www.w3.org/1999/xlink","xlink:role",We);break;case"xlinkShow":as(De,"http://www.w3.org/1999/xlink","xlink:show",We);break;case"xlinkTitle":as(De,"http://www.w3.org/1999/xlink","xlink:title",We);break;case"xlinkType":as(De,"http://www.w3.org/1999/xlink","xlink:type",We);break;case"xmlBase":as(De,"http://www.w3.org/XML/1998/namespace","xml:base",We);break;case"xmlLang":as(De,"http://www.w3.org/XML/1998/namespace","xml:lang",We);break;case"xmlSpace":as(De,"http://www.w3.org/XML/1998/namespace","xml:space",We);break;case"is":Lo(De,"is",We);break;case"innerText":case"textContent":break;default:(!(2<He.length)||He[0]!=="o"&&He[0]!=="O"||He[1]!=="n"&&He[1]!=="N")&&(He=hc.get(He)||He,Lo(De,He,We))}}function mf(De,Ve,He,We,pr,br){switch(He){case"style":AA(De,We,br);break;case"dangerouslySetInnerHTML":if(We!=null){if(typeof We!="object"||!("__html"in We))throw Error(Ce(61));if(He=We.__html,He!=null){if(pr.children!=null)throw Error(Ce(60));De.innerHTML=He}}break;case"children":typeof We=="string"?Hs(De,We):(typeof We=="number"||typeof We=="bigint")&&Hs(De,""+We);break;case"onScroll":We!=null&&ma("scroll",De);break;case"onScrollEnd":We!=null&&ma("scrollend",De);break;case"onClick":We!=null&&(De.onclick=Jh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Za.hasOwnProperty(He))e:{if(He[0]==="o"&&He[1]==="n"&&(pr=He.endsWith("Capture"),Ve=He.slice(2,pr?He.length-7:void 0),br=De[On]||null,br=br!=null?br[He]:null,typeof br=="function"&&De.removeEventListener(Ve,br,pr),typeof We=="function")){typeof br!="function"&&br!==null&&(He in De?De[He]=null:De.hasAttribute(He)&&De.removeAttribute(He)),De.addEventListener(Ve,We,pr);break e}He in De?De[He]=We:We===!0?De.setAttribute(He,""):Lo(De,He,We)}}}function io(De,Ve,He){switch(Ve){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ma("error",De),ma("load",De);var We=!1,pr=!1,br;for(br in He)if(He.hasOwnProperty(br)){var Zr=He[br];if(Zr!=null)switch(br){case"src":We=!0;break;case"srcSet":pr=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Ce(137,Ve));default:ka(De,Ve,br,Zr,He,null)}}pr&&ka(De,Ve,"srcSet",He.srcSet,He,null),We&&ka(De,Ve,"src",He.src,He,null);return;case"input":ma("invalid",De);var En=br=Zr=pr=null,Vn=null,ci=null;for(We in He)if(He.hasOwnProperty(We)){var xi=He[We];if(xi!=null)switch(We){case"name":pr=xi;break;case"type":Zr=xi;break;case"checked":Vn=xi;break;case"defaultChecked":ci=xi;break;case"value":br=xi;break;case"defaultValue":En=xi;break;case"children":case"dangerouslySetInnerHTML":if(xi!=null)throw Error(Ce(137,Ve));break;default:ka(De,Ve,We,xi,He,null)}}Sl(De,br,En,Vn,ci,Zr,pr,!1),ao(De);return;case"select":ma("invalid",De),We=Zr=br=null;for(pr in He)if(He.hasOwnProperty(pr)&&(En=He[pr],En!=null))switch(pr){case"value":br=En;break;case"defaultValue":Zr=En;break;case"multiple":We=En;default:ka(De,Ve,pr,En,He,null)}Ve=br,He=Zr,De.multiple=!!We,Ve!=null?ko(De,!!We,Ve,!1):He!=null&&ko(De,!!We,He,!0);return;case"textarea":ma("invalid",De),br=pr=We=null;for(Zr in He)if(He.hasOwnProperty(Zr)&&(En=He[Zr],En!=null))switch(Zr){case"value":We=En;break;case"defaultValue":pr=En;break;case"children":br=En;break;case"dangerouslySetInnerHTML":if(En!=null)throw Error(Ce(91));break;default:ka(De,Ve,Zr,En,He,null)}Zo(De,We,pr,br),ao(De);return;case"option":for(Vn in He)if(He.hasOwnProperty(Vn)&&(We=He[Vn],We!=null))switch(Vn){case"selected":De.selected=We&&typeof We!="function"&&typeof We!="symbol";break;default:ka(De,Ve,Vn,We,He,null)}return;case"dialog":ma("beforetoggle",De),ma("toggle",De),ma("cancel",De),ma("close",De);break;case"iframe":case"object":ma("load",De);break;case"video":case"audio":for(We=0;We<Wu.length;We++)ma(Wu[We],De);break;case"image":ma("error",De),ma("load",De);break;case"details":ma("toggle",De);break;case"embed":case"source":case"link":ma("error",De),ma("load",De);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ci in He)if(He.hasOwnProperty(ci)&&(We=He[ci],We!=null))switch(ci){case"children":case"dangerouslySetInnerHTML":throw Error(Ce(137,Ve));default:ka(De,Ve,ci,We,He,null)}return;default:if(cA(Ve)){for(xi in He)He.hasOwnProperty(xi)&&(We=He[xi],We!==void 0&&mf(De,Ve,xi,We,He,void 0));return}}for(En in He)He.hasOwnProperty(En)&&(We=He[En],We!=null&&ka(De,Ve,En,We,He,null))}function m0(De,Ve,He,We){switch(Ve){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var pr=null,br=null,Zr=null,En=null,Vn=null,ci=null,xi=null;for(fi in He){var Ri=He[fi];if(He.hasOwnProperty(fi)&&Ri!=null)switch(fi){case"checked":break;case"value":break;case"defaultValue":Vn=Ri;default:We.hasOwnProperty(fi)||ka(De,Ve,fi,null,We,Ri)}}for(var di in We){var fi=We[di];if(Ri=He[di],We.hasOwnProperty(di)&&(fi!=null||Ri!=null))switch(di){case"type":br=fi;break;case"name":pr=fi;break;case"checked":ci=fi;break;case"defaultChecked":xi=fi;break;case"value":Zr=fi;break;case"defaultValue":En=fi;break;case"children":case"dangerouslySetInnerHTML":if(fi!=null)throw Error(Ce(137,Ve));break;default:fi!==Ri&&ka(De,Ve,di,fi,We,Ri)}}Rs(De,Zr,En,Vn,ci,xi,br,pr);return;case"select":fi=Zr=En=di=null;for(br in He)if(Vn=He[br],He.hasOwnProperty(br)&&Vn!=null)switch(br){case"value":break;case"multiple":fi=Vn;default:We.hasOwnProperty(br)||ka(De,Ve,br,null,We,Vn)}for(pr in We)if(br=We[pr],Vn=He[pr],We.hasOwnProperty(pr)&&(br!=null||Vn!=null))switch(pr){case"value":di=br;break;case"defaultValue":En=br;break;case"multiple":Zr=br;default:br!==Vn&&ka(De,Ve,pr,br,We,Vn)}Ve=En,He=Zr,We=fi,di!=null?ko(De,!!He,di,!1):!!We!=!!He&&(Ve!=null?ko(De,!!He,Ve,!0):ko(De,!!He,He?[]:"",!1));return;case"textarea":fi=di=null;for(En in He)if(pr=He[En],He.hasOwnProperty(En)&&pr!=null&&!We.hasOwnProperty(En))switch(En){case"value":break;case"children":break;default:ka(De,Ve,En,null,We,pr)}for(Zr in We)if(pr=We[Zr],br=He[Zr],We.hasOwnProperty(Zr)&&(pr!=null||br!=null))switch(Zr){case"value":di=pr;break;case"defaultValue":fi=pr;break;case"children":break;case"dangerouslySetInnerHTML":if(pr!=null)throw Error(Ce(91));break;default:pr!==br&&ka(De,Ve,Zr,pr,We,br)}la(De,di,fi);return;case"option":for(var ta in He)if(di=He[ta],He.hasOwnProperty(ta)&&di!=null&&!We.hasOwnProperty(ta))switch(ta){case"selected":De.selected=!1;break;default:ka(De,Ve,ta,null,We,di)}for(Vn in We)if(di=We[Vn],fi=He[Vn],We.hasOwnProperty(Vn)&&di!==fi&&(di!=null||fi!=null))switch(Vn){case"selected":De.selected=di&&typeof di!="function"&&typeof di!="symbol";break;default:ka(De,Ve,Vn,di,We,fi)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yi in He)di=He[Yi],He.hasOwnProperty(Yi)&&di!=null&&!We.hasOwnProperty(Yi)&&ka(De,Ve,Yi,null,We,di);for(ci in We)if(di=We[ci],fi=He[ci],We.hasOwnProperty(ci)&&di!==fi&&(di!=null||fi!=null))switch(ci){case"children":case"dangerouslySetInnerHTML":if(di!=null)throw Error(Ce(137,Ve));break;default:ka(De,Ve,ci,di,We,fi)}return;default:if(cA(Ve)){for(var Ma in He)di=He[Ma],He.hasOwnProperty(Ma)&&di!==void 0&&!We.hasOwnProperty(Ma)&&mf(De,Ve,Ma,void 0,We,di);for(xi in We)di=We[xi],fi=He[xi],!We.hasOwnProperty(xi)||di===fi||di===void 0&&fi===void 0||mf(De,Ve,xi,di,We,fi);return}}for(var ri in He)di=He[ri],He.hasOwnProperty(ri)&&di!=null&&!We.hasOwnProperty(ri)&&ka(De,Ve,ri,null,We,di);for(Ri in We)di=We[Ri],fi=He[Ri],!We.hasOwnProperty(Ri)||di===fi||di==null&&fi==null||ka(De,Ve,Ri,di,We,fi)}var vf=null,_f=null;function ed(De){return De.nodeType===9?De:De.ownerDocument}function Mg(De){switch(De){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jg(De,Ve){if(De===0)switch(Ve){case"svg":return 1;case"math":return 2;default:return 0}return De===1&&Ve==="foreignObject"?0:De}function yf(De,Ve){return De==="textarea"||De==="noscript"||typeof Ve.children=="string"||typeof Ve.children=="number"||typeof Ve.children=="bigint"||typeof Ve.dangerouslySetInnerHTML=="object"&&Ve.dangerouslySetInnerHTML!==null&&Ve.dangerouslySetInnerHTML.__html!=null}var Ef=null;function v0(){var De=window.event;return De&&De.type==="popstate"?De===Ef?!1:(Ef=De,!0):(Ef=null,!1)}var Vg=typeof setTimeout=="function"?setTimeout:void 0,_0=typeof clearTimeout=="function"?clearTimeout:void 0,Qg=typeof Promise=="function"?Promise:void 0,y0=typeof queueMicrotask=="function"?queueMicrotask:typeof Qg<"u"?function(De){return Qg.resolve(null).then(De).catch(E0)}:Vg;function E0(De){setTimeout(function(){throw De})}function ac(De){return De==="head"}function Hg(De,Ve){var He=Ve,We=0,pr=0;do{var br=He.nextSibling;if(De.removeChild(He),br&&br.nodeType===8)if(He=br.data,He==="/$"){if(0<We&&8>We){He=We;var Zr=De.ownerDocument;if(He&1&&Yu(Zr.documentElement),He&2&&Yu(Zr.body),He&4)for(He=Zr.head,Yu(He),Zr=He.firstChild;Zr;){var En=Zr.nextSibling,Vn=Zr.nodeName;Zr[ui]||Vn==="SCRIPT"||Vn==="STYLE"||Vn==="LINK"&&Zr.rel.toLowerCase()==="stylesheet"||He.removeChild(Zr),Zr=En}}if(pr===0){De.removeChild(br),ih(Ve);return}pr--}else He==="$"||He==="$?"||He==="$!"?pr++:We=He.charCodeAt(0)-48;else We=0;He=br}while(He);ih(Ve)}function bf(De){var Ve=De.firstChild;for(Ve&&Ve.nodeType===10&&(Ve=Ve.nextSibling);Ve;){var He=Ve;switch(Ve=Ve.nextSibling,He.nodeName){case"HTML":case"HEAD":case"BODY":bf(He),yi(He);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(He.rel.toLowerCase()==="stylesheet")continue}De.removeChild(He)}}function b0(De,Ve,He,We){for(;De.nodeType===1;){var pr=He;if(De.nodeName.toLowerCase()!==Ve.toLowerCase()){if(!We&&(De.nodeName!=="INPUT"||De.type!=="hidden"))break}else if(We){if(!De[ui])switch(Ve){case"meta":if(!De.hasAttribute("itemprop"))break;return De;case"link":if(br=De.getAttribute("rel"),br==="stylesheet"&&De.hasAttribute("data-precedence"))break;if(br!==pr.rel||De.getAttribute("href")!==(pr.href==null||pr.href===""?null:pr.href)||De.getAttribute("crossorigin")!==(pr.crossOrigin==null?null:pr.crossOrigin)||De.getAttribute("title")!==(pr.title==null?null:pr.title))break;return De;case"style":if(De.hasAttribute("data-precedence"))break;return De;case"script":if(br=De.getAttribute("src"),(br!==(pr.src==null?null:pr.src)||De.getAttribute("type")!==(pr.type==null?null:pr.type)||De.getAttribute("crossorigin")!==(pr.crossOrigin==null?null:pr.crossOrigin))&&br&&De.hasAttribute("async")&&!De.hasAttribute("itemprop"))break;return De;default:return De}}else if(Ve==="input"&&De.type==="hidden"){var br=pr.name==null?null:""+pr.name;if(pr.type==="hidden"&&De.getAttribute("name")===br)return De}else return De;if(De=Hl(De.nextSibling),De===null)break}return null}function w0(De,Ve,He){if(Ve==="")return null;for(;De.nodeType!==3;)if((De.nodeType!==1||De.nodeName!=="INPUT"||De.type!=="hidden")&&!He||(De=Hl(De.nextSibling),De===null))return null;return De}function wf(De){return De.data==="$!"||De.data==="$?"&&De.ownerDocument.readyState==="complete"}function x0(De,Ve){var He=De.ownerDocument;if(De.data!=="$?"||He.readyState==="complete")Ve();else{var We=function(){Ve(),He.removeEventListener("DOMContentLoaded",We)};He.addEventListener("DOMContentLoaded",We),De._reactRetry=We}}function Hl(De){for(;De!=null;De=De.nextSibling){var Ve=De.nodeType;if(Ve===1||Ve===3)break;if(Ve===8){if(Ve=De.data,Ve==="$"||Ve==="$!"||Ve==="$?"||Ve==="F!"||Ve==="F")break;if(Ve==="/$")return null}}return De}var xf=null;function Kg(De){De=De.previousSibling;for(var Ve=0;De;){if(De.nodeType===8){var He=De.data;if(He==="$"||He==="$!"||He==="$?"){if(Ve===0)return De;Ve--}else He==="/$"&&Ve++}De=De.previousSibling}return null}function qg(De,Ve,He){switch(Ve=ed(He),De){case"html":if(De=Ve.documentElement,!De)throw Error(Ce(452));return De;case"head":if(De=Ve.head,!De)throw Error(Ce(453));return De;case"body":if(De=Ve.body,!De)throw Error(Ce(454));return De;default:throw Error(Ce(451))}}function Yu(De){for(var Ve=De.attributes;Ve.length;)De.removeAttributeNode(Ve[0]);yi(De)}var El=new Map,zg=new Set;function rd(De){return typeof De.getRootNode=="function"?De.getRootNode():De.nodeType===9?De:De.ownerDocument}var FA=Er.d;Er.d={f:C0,r:S0,D:T0,C:R0,L:B0,m:P0,X:I0,S:F0,M:D0};function C0(){var De=FA.f(),Ve=zh();return De||Ve}function S0(De){var Ve=Fi(De);Ve!==null&&Ve.tag===5&&Ve.type==="form"?Rc(Ve):FA.r(De)}var ou=typeof document>"u"?null:document;function Gg(De,Ve,He){var We=ou;if(We&&typeof Ve=="string"&&Ve){var pr=sa(Ve);pr='link[rel="'+De+'"][href="'+pr+'"]',typeof He=="string"&&(pr+='[crossorigin="'+He+'"]'),zg.has(pr)||(zg.add(pr),De={rel:De,crossOrigin:He,href:Ve},We.querySelector(pr)===null&&(Ve=We.createElement("link"),io(Ve,"link",De),$i(Ve),We.head.appendChild(Ve)))}}function T0(De){FA.D(De),Gg("dns-prefetch",De,null)}function R0(De,Ve){FA.C(De,Ve),Gg("preconnect",De,Ve)}function B0(De,Ve,He){FA.L(De,Ve,He);var We=ou;if(We&&De&&Ve){var pr='link[rel="preload"][as="'+sa(Ve)+'"]';Ve==="image"&&He&&He.imageSrcSet?(pr+='[imagesrcset="'+sa(He.imageSrcSet)+'"]',typeof He.imageSizes=="string"&&(pr+='[imagesizes="'+sa(He.imageSizes)+'"]')):pr+='[href="'+sa(De)+'"]';var br=pr;switch(Ve){case"style":br=lu(De);break;case"script":br=Au(De)}El.has(br)||(De=Qe({rel:"preload",href:Ve==="image"&&He&&He.imageSrcSet?void 0:De,as:Ve},He),El.set(br,De),We.querySelector(pr)!==null||Ve==="style"&&We.querySelector(Zu(br))||Ve==="script"&&We.querySelector($u(br))||(Ve=We.createElement("link"),io(Ve,"link",De),$i(Ve),We.head.appendChild(Ve)))}}function P0(De,Ve){FA.m(De,Ve);var He=ou;if(He&&De){var We=Ve&&typeof Ve.as=="string"?Ve.as:"script",pr='link[rel="modulepreload"][as="'+sa(We)+'"][href="'+sa(De)+'"]',br=pr;switch(We){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":br=Au(De)}if(!El.has(br)&&(De=Qe({rel:"modulepreload",href:De},Ve),El.set(br,De),He.querySelector(pr)===null)){switch(We){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(He.querySelector($u(br)))return}We=He.createElement("link"),io(We,"link",De),$i(We),He.head.appendChild(We)}}}function F0(De,Ve,He){FA.S(De,Ve,He);var We=ou;if(We&&De){var pr=Oi(We).hoistableStyles,br=lu(De);Ve=Ve||"default";var Zr=pr.get(br);if(!Zr){var En={loading:0,preload:null};if(Zr=We.querySelector(Zu(br)))En.loading=5;else{De=Qe({rel:"stylesheet",href:De,"data-precedence":Ve},He),(He=El.get(br))&&Cf(De,He);var Vn=Zr=We.createElement("link");$i(Vn),io(Vn,"link",De),Vn._p=new Promise(function(ci,xi){Vn.onload=ci,Vn.onerror=xi}),Vn.addEventListener("load",function(){En.loading|=1}),Vn.addEventListener("error",function(){En.loading|=2}),En.loading|=4,nd(Zr,Ve,We)}Zr={type:"stylesheet",instance:Zr,count:1,state:En},pr.set(br,Zr)}}}function I0(De,Ve){FA.X(De,Ve);var He=ou;if(He&&De){var We=Oi(He).hoistableScripts,pr=Au(De),br=We.get(pr);br||(br=He.querySelector($u(pr)),br||(De=Qe({src:De,async:!0},Ve),(Ve=El.get(pr))&&Sf(De,Ve),br=He.createElement("script"),$i(br),io(br,"link",De),He.head.appendChild(br)),br={type:"script",instance:br,count:1,state:null},We.set(pr,br))}}function D0(De,Ve){FA.M(De,Ve);var He=ou;if(He&&De){var We=Oi(He).hoistableScripts,pr=Au(De),br=We.get(pr);br||(br=He.querySelector($u(pr)),br||(De=Qe({src:De,async:!0,type:"module"},Ve),(Ve=El.get(pr))&&Sf(De,Ve),br=He.createElement("script"),$i(br),io(br,"link",De),He.head.appendChild(br)),br={type:"script",instance:br,count:1,state:null},We.set(pr,br))}}function Wg(De,Ve,He,We){var pr=(pr=Ir.current)?rd(pr):null;if(!pr)throw Error(Ce(446));switch(De){case"meta":case"title":return null;case"style":return typeof He.precedence=="string"&&typeof He.href=="string"?(Ve=lu(He.href),He=Oi(pr).hoistableStyles,We=He.get(Ve),We||(We={type:"style",instance:null,count:0,state:null},He.set(Ve,We)),We):{type:"void",instance:null,count:0,state:null};case"link":if(He.rel==="stylesheet"&&typeof He.href=="string"&&typeof He.precedence=="string"){De=lu(He.href);var br=Oi(pr).hoistableStyles,Zr=br.get(De);if(Zr||(pr=pr.ownerDocument||pr,Zr={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},br.set(De,Zr),(br=pr.querySelector(Zu(De)))&&!br._p&&(Zr.instance=br,Zr.state.loading=5),El.has(De)||(He={rel:"preload",as:"style",href:He.href,crossOrigin:He.crossOrigin,integrity:He.integrity,media:He.media,hrefLang:He.hrefLang,referrerPolicy:He.referrerPolicy},El.set(De,He),br||N0(pr,De,He,Zr.state))),Ve&&We===null)throw Error(Ce(528,""));return Zr}if(Ve&&We!==null)throw Error(Ce(529,""));return null;case"script":return Ve=He.async,He=He.src,typeof He=="string"&&Ve&&typeof Ve!="function"&&typeof Ve!="symbol"?(Ve=Au(He),He=Oi(pr).hoistableScripts,We=He.get(Ve),We||(We={type:"script",instance:null,count:0,state:null},He.set(Ve,We)),We):{type:"void",instance:null,count:0,state:null};default:throw Error(Ce(444,De))}}function lu(De){return'href="'+sa(De)+'"'}function Zu(De){return'link[rel="stylesheet"]['+De+"]"}function Xg(De){return Qe({},De,{"data-precedence":De.precedence,precedence:null})}function N0(De,Ve,He,We){De.querySelector('link[rel="preload"][as="style"]['+Ve+"]")?We.loading=1:(Ve=De.createElement("link"),We.preload=Ve,Ve.addEventListener("load",function(){return We.loading|=1}),Ve.addEventListener("error",function(){return We.loading|=2}),io(Ve,"link",He),$i(Ve),De.head.appendChild(Ve))}function Au(De){return'[src="'+sa(De)+'"]'}function $u(De){return"script[async]"+De}function Yg(De,Ve,He){if(Ve.count++,Ve.instance===null)switch(Ve.type){case"style":var We=De.querySelector('style[data-href~="'+sa(He.href)+'"]');if(We)return Ve.instance=We,$i(We),We;var pr=Qe({},He,{"data-href":He.href,"data-precedence":He.precedence,href:null,precedence:null});return We=(De.ownerDocument||De).createElement("style"),$i(We),io(We,"style",pr),nd(We,He.precedence,De),Ve.instance=We;case"stylesheet":pr=lu(He.href);var br=De.querySelector(Zu(pr));if(br)return Ve.state.loading|=4,Ve.instance=br,$i(br),br;We=Xg(He),(pr=El.get(pr))&&Cf(We,pr),br=(De.ownerDocument||De).createElement("link"),$i(br);var Zr=br;return Zr._p=new Promise(function(En,Vn){Zr.onload=En,Zr.onerror=Vn}),io(br,"link",We),Ve.state.loading|=4,nd(br,He.precedence,De),Ve.instance=br;case"script":return br=Au(He.src),(pr=De.querySelector($u(br)))?(Ve.instance=pr,$i(pr),pr):(We=He,(pr=El.get(br))&&(We=Qe({},He),Sf(We,pr)),De=De.ownerDocument||De,pr=De.createElement("script"),$i(pr),io(pr,"link",We),De.head.appendChild(pr),Ve.instance=pr);case"void":return null;default:throw Error(Ce(443,Ve.type))}else Ve.type==="stylesheet"&&(Ve.state.loading&4)===0&&(We=Ve.instance,Ve.state.loading|=4,nd(We,He.precedence,De));return Ve.instance}function nd(De,Ve,He){for(var We=He.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),pr=We.length?We[We.length-1]:null,br=pr,Zr=0;Zr<We.length;Zr++){var En=We[Zr];if(En.dataset.precedence===Ve)br=En;else if(br!==pr)break}br?br.parentNode.insertBefore(De,br.nextSibling):(Ve=He.nodeType===9?He.head:He,Ve.insertBefore(De,Ve.firstChild))}function Cf(De,Ve){De.crossOrigin==null&&(De.crossOrigin=Ve.crossOrigin),De.referrerPolicy==null&&(De.referrerPolicy=Ve.referrerPolicy),De.title==null&&(De.title=Ve.title)}function Sf(De,Ve){De.crossOrigin==null&&(De.crossOrigin=Ve.crossOrigin),De.referrerPolicy==null&&(De.referrerPolicy=Ve.referrerPolicy),De.integrity==null&&(De.integrity=Ve.integrity)}var id=null;function Zg(De,Ve,He){if(id===null){var We=new Map,pr=id=new Map;pr.set(He,We)}else pr=id,We=pr.get(He),We||(We=new Map,pr.set(He,We));if(We.has(De))return We;for(We.set(De,null),He=He.getElementsByTagName(De),pr=0;pr<He.length;pr++){var br=He[pr];if(!(br[ui]||br[kn]||De==="link"&&br.getAttribute("rel")==="stylesheet")&&br.namespaceURI!=="http://www.w3.org/2000/svg"){var Zr=br.getAttribute(Ve)||"";Zr=De+Zr;var En=We.get(Zr);En?En.push(br):We.set(Zr,[br])}}return We}function $g(De,Ve,He){De=De.ownerDocument||De,De.head.insertBefore(He,Ve==="title"?De.querySelector("head > title"):null)}function U0(De,Ve,He){if(He===1||Ve.itemProp!=null)return!1;switch(De){case"meta":case"title":return!0;case"style":if(typeof Ve.precedence!="string"||typeof Ve.href!="string"||Ve.href==="")break;return!0;case"link":if(typeof Ve.rel!="string"||typeof Ve.href!="string"||Ve.href===""||Ve.onLoad||Ve.onError)break;switch(Ve.rel){case"stylesheet":return De=Ve.disabled,typeof Ve.precedence=="string"&&De==null;default:return!0}case"script":if(Ve.async&&typeof Ve.async!="function"&&typeof Ve.async!="symbol"&&!Ve.onLoad&&!Ve.onError&&Ve.src&&typeof Ve.src=="string")return!0}return!1}function Jg(De){return!(De.type==="stylesheet"&&(De.state.loading&3)===0)}var Ju=null;function L0(){}function O0(De,Ve,He){if(Ju===null)throw Error(Ce(475));var We=Ju;if(Ve.type==="stylesheet"&&(typeof He.media!="string"||matchMedia(He.media).matches!==!1)&&(Ve.state.loading&4)===0){if(Ve.instance===null){var pr=lu(He.href),br=De.querySelector(Zu(pr));if(br){De=br._p,De!==null&&typeof De=="object"&&typeof De.then=="function"&&(We.count++,We=ad.bind(We),De.then(We,We)),Ve.state.loading|=4,Ve.instance=br,$i(br);return}br=De.ownerDocument||De,He=Xg(He),(pr=El.get(pr))&&Cf(He,pr),br=br.createElement("link"),$i(br);var Zr=br;Zr._p=new Promise(function(En,Vn){Zr.onload=En,Zr.onerror=Vn}),io(br,"link",He),Ve.instance=br}We.stylesheets===null&&(We.stylesheets=new Map),We.stylesheets.set(Ve,De),(De=Ve.state.preload)&&(Ve.state.loading&3)===0&&(We.count++,Ve=ad.bind(We),De.addEventListener("load",Ve),De.addEventListener("error",Ve))}}function k0(){if(Ju===null)throw Error(Ce(475));var De=Ju;return De.stylesheets&&De.count===0&&Tf(De,De.stylesheets),0<De.count?function(Ve){var He=setTimeout(function(){if(De.stylesheets&&Tf(De,De.stylesheets),De.unsuspend){var We=De.unsuspend;De.unsuspend=null,We()}},6e4);return De.unsuspend=Ve,function(){De.unsuspend=null,clearTimeout(He)}}:null}function ad(){if(this.count--,this.count===0){if(this.stylesheets)Tf(this,this.stylesheets);else if(this.unsuspend){var De=this.unsuspend;this.unsuspend=null,De()}}}var sd=null;function Tf(De,Ve){De.stylesheets=null,De.unsuspend!==null&&(De.count++,sd=new Map,Ve.forEach(M0,De),sd=null,ad.call(De))}function M0(De,Ve){if(!(Ve.state.loading&4)){var He=sd.get(De);if(He)var We=He.get(null);else{He=new Map,sd.set(De,He);for(var pr=De.querySelectorAll("link[data-precedence],style[data-precedence]"),br=0;br<pr.length;br++){var Zr=pr[br];(Zr.nodeName==="LINK"||Zr.getAttribute("media")!=="not all")&&(He.set(Zr.dataset.precedence,Zr),We=Zr)}We&&He.set(null,We)}pr=Ve.instance,Zr=pr.getAttribute("data-precedence"),br=He.get(Zr)||We,br===We&&He.set(null,pr),He.set(Zr,pr),this.count++,We=ad.bind(this),pr.addEventListener("load",We),pr.addEventListener("error",We),br?br.parentNode.insertBefore(pr,br.nextSibling):(De=De.nodeType===9?De.head:De,De.insertBefore(pr,De.firstChild)),Ve.state.loading|=4}}var eh={$$typeof:cr,Provider:null,Consumer:null,_currentValue:jr,_currentValue2:jr,_threadCount:0};function j0(De,Ve,He,We,pr,br,Zr,En){this.tag=1,this.containerInfo=De,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.hiddenUpdates=Cr(null),this.identifierPrefix=We,this.onUncaughtError=pr,this.onCaughtError=br,this.onRecoverableError=Zr,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=En,this.incompleteTransitions=new Map}function em(De,Ve,He,We,pr,br,Zr,En,Vn,ci,xi,Ri){return De=new j0(De,Ve,He,Zr,En,Vn,ci,Ri),Ve=1,br===!0&&(Ve|=24),br=ks(3,null,null,Ve),De.current=br,br.stateNode=De,Ve=wu(),Ve.refCount++,De.pooledCache=Ve,Ve.refCount++,br.memoizedState={element:We,isDehydrated:He,cache:Ve},li(br),De}function tm(De){return De?(De=Cs,De):Cs}function rm(De,Ve,He,We,pr,br){pr=tm(pr),We.context===null?We.context=pr:We.pendingContext=pr,We=Ei(Ve),We.payload={element:He},br=br===void 0?null:br,br!==null&&(We.callback=br),He=Pi(De,We,Ve),He!==null&&(Go(He,De,Ve),Ti(He,De,Ve))}function nm(De,Ve){if(De=De.memoizedState,De!==null&&De.dehydrated!==null){var He=De.retryLane;De.retryLane=He!==0&&He<Ve?He:Ve}}function Rf(De,Ve){nm(De,Ve),(De=De.alternate)&&nm(De,Ve)}function im(De){if(De.tag===13){var Ve=fA(De,67108864);Ve!==null&&Go(Ve,De,67108864),Rf(De,67108864)}}var od=!0;function V0(De,Ve,He,We){var pr=Fr.T;Fr.T=null;var br=Er.p;try{Er.p=2,Bf(De,Ve,He,We)}finally{Er.p=br,Fr.T=pr}}function Q0(De,Ve,He,We){var pr=Fr.T;Fr.T=null;var br=Er.p;try{Er.p=8,Bf(De,Ve,He,We)}finally{Er.p=br,Fr.T=pr}}function Bf(De,Ve,He,We){if(od){var pr=Pf(We);if(pr===null)gf(De,Ve,We,ld,He),sm(De,We);else if(K0(pr,De,Ve,He,We))We.stopPropagation();else if(sm(De,We),Ve&4&&-1<H0.indexOf(De)){for(;pr!==null;){var br=Fi(pr);if(br!==null)switch(br.tag){case 3:if(br=br.stateNode,br.current.memoizedState.isDehydrated){var Zr=wr(br.pendingLanes);if(Zr!==0){var En=br;for(En.pendingLanes|=2,En.entangledLanes|=2;Zr;){var Vn=1<<31-ai(Zr);En.entanglements[1]|=Vn,Zr&=~Vn}oA(br),(Na&6)===0&&(Kh=bn()+500,Gu(0))}}break;case 13:En=fA(br,2),En!==null&&Go(En,br,2),zh(),Rf(br,2)}if(br=Pf(We),br===null&&gf(De,Ve,We,ld,He),br===pr)break;pr=br}pr!==null&&We.stopPropagation()}else gf(De,Ve,We,null,He)}}function Pf(De){return De=oo(De),Ff(De)}var ld=null;function Ff(De){if(ld=null,De=_i(De),De!==null){var Ve=Re(De);if(Ve===null)De=null;else{var He=Ve.tag;if(He===13){if(De=Be(Ve),De!==null)return De;De=null}else if(He===3){if(Ve.stateNode.current.memoizedState.isDehydrated)return Ve.tag===3?Ve.stateNode.containerInfo:null;De=null}else Ve!==De&&(De=null)}}return ld=De,null}function am(De){switch(De){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zr()){case $r:return 2;case Bn:return 8;case Pn:case jn:return 32;case Kn:return 268435456;default:return 32}default:return 32}}var If=!1,sc=null,oc=null,Ac=null,th=new Map,rh=new Map,cc=[],H0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sm(De,Ve){switch(De){case"focusin":case"focusout":sc=null;break;case"dragenter":case"dragleave":oc=null;break;case"mouseover":case"mouseout":Ac=null;break;case"pointerover":case"pointerout":th.delete(Ve.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(Ve.pointerId)}}function nh(De,Ve,He,We,pr,br){return De===null||De.nativeEvent!==br?(De={blockedOn:Ve,domEventName:He,eventSystemFlags:We,nativeEvent:br,targetContainers:[pr]},Ve!==null&&(Ve=Fi(Ve),Ve!==null&&im(Ve)),De):(De.eventSystemFlags|=We,Ve=De.targetContainers,pr!==null&&Ve.indexOf(pr)===-1&&Ve.push(pr),De)}function K0(De,Ve,He,We,pr){switch(Ve){case"focusin":return sc=nh(sc,De,Ve,He,We,pr),!0;case"dragenter":return oc=nh(oc,De,Ve,He,We,pr),!0;case"mouseover":return Ac=nh(Ac,De,Ve,He,We,pr),!0;case"pointerover":var br=pr.pointerId;return th.set(br,nh(th.get(br)||null,De,Ve,He,We,pr)),!0;case"gotpointercapture":return br=pr.pointerId,rh.set(br,nh(rh.get(br)||null,De,Ve,He,We,pr)),!0}return!1}function om(De){var Ve=_i(De.target);if(Ve!==null){var He=Re(Ve);if(He!==null){if(Ve=He.tag,Ve===13){if(Ve=Be(He),Ve!==null){De.blockedOn=Ve,dn(De.priority,function(){if(He.tag===13){var We=zo();We=Dn(We);var pr=fA(He,We);pr!==null&&Go(pr,He,We),Rf(He,We)}});return}}else if(Ve===3&&He.stateNode.current.memoizedState.isDehydrated){De.blockedOn=He.tag===3?He.stateNode.containerInfo:null;return}}}De.blockedOn=null}function Ad(De){if(De.blockedOn!==null)return!1;for(var Ve=De.targetContainers;0<Ve.length;){var He=Pf(De.nativeEvent);if(He===null){He=De.nativeEvent;var We=new He.constructor(He.type,He);Ns=We,He.target.dispatchEvent(We),Ns=null}else return Ve=Fi(He),Ve!==null&&im(Ve),De.blockedOn=He,!1;Ve.shift()}return!0}function lm(De,Ve,He){Ad(De)&&He.delete(Ve)}function q0(){If=!1,sc!==null&&Ad(sc)&&(sc=null),oc!==null&&Ad(oc)&&(oc=null),Ac!==null&&Ad(Ac)&&(Ac=null),th.forEach(lm),rh.forEach(lm)}function cd(De,Ve){De.blockedOn===Ve&&(De.blockedOn=null,If||(If=!0,Ee.unstable_scheduleCallback(Ee.unstable_NormalPriority,q0)))}var ud=null;function Am(De){ud!==De&&(ud=De,Ee.unstable_scheduleCallback(Ee.unstable_NormalPriority,function(){ud===De&&(ud=null);for(var Ve=0;Ve<De.length;Ve+=3){var He=De[Ve],We=De[Ve+1],pr=De[Ve+2];if(typeof We!="function"){if(Ff(We||He)===null)continue;break}var br=Fi(He);br!==null&&(De.splice(Ve,3),Ve-=3,vl(br,{pending:!0,data:pr,method:He.method,action:We},We,pr))}}))}function ih(De){function Ve(Vn){return cd(Vn,De)}sc!==null&&cd(sc,De),oc!==null&&cd(oc,De),Ac!==null&&cd(Ac,De),th.forEach(Ve),rh.forEach(Ve);for(var He=0;He<cc.length;He++){var We=cc[He];We.blockedOn===De&&(We.blockedOn=null)}for(;0<cc.length&&(He=cc[0],He.blockedOn===null);)om(He),He.blockedOn===null&&cc.shift();if(He=(De.ownerDocument||De).$$reactFormReplay,He!=null)for(We=0;We<He.length;We+=3){var pr=He[We],br=He[We+1],Zr=pr[On]||null;if(typeof br=="function")Zr||Am(He);else if(Zr){var En=null;if(br&&br.hasAttribute("formAction")){if(pr=br,Zr=br[On]||null)En=Zr.formAction;else if(Ff(pr)!==null)continue}else En=Zr.action;typeof En=="function"?He[We+1]=En:(He.splice(We,3),We-=3),Am(He)}}}function Df(De){this._internalRoot=De}hd.prototype.render=Df.prototype.render=function(De){var Ve=this._internalRoot;if(Ve===null)throw Error(Ce(409));var He=Ve.current,We=zo();rm(He,We,De,Ve,null,null)},hd.prototype.unmount=Df.prototype.unmount=function(){var De=this._internalRoot;if(De!==null){this._internalRoot=null;var Ve=De.containerInfo;rm(De.current,2,null,De,null,null),zh(),Ve[zn]=null}};function hd(De){this._internalRoot=De}hd.prototype.unstable_scheduleHydration=function(De){if(De){var Ve=Hr();De={blockedOn:null,target:De,priority:Ve};for(var He=0;He<cc.length&&Ve!==0&&Ve<cc[He].priority;He++);cc.splice(He,0,De),He===0&&om(De)}};var cm=t.version;if(cm!=="19.1.1")throw Error(Ce(527,cm,"19.1.1"));Er.findDOMNode=function(De){var Ve=De._reactInternals;if(Ve===void 0)throw typeof De.render=="function"?Error(Ce(188)):(De=Object.keys(De).join(","),Error(Ce(268,De)));return De=Oe(Ve),De=De!==null?Me(De):null,De=De===null?null:De.stateNode,De};var z0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Fr,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{$n=dd.inject(z0),Yn=dd}catch{}}return reactDomClient_production.createRoot=function(De,Ve){if(!Te(De))throw Error(Ce(299));var He=!1,We="",pr=Sp,br=Tp,Zr=Rp,En=null;return Ve!=null&&(Ve.unstable_strictMode===!0&&(He=!0),Ve.identifierPrefix!==void 0&&(We=Ve.identifierPrefix),Ve.onUncaughtError!==void 0&&(pr=Ve.onUncaughtError),Ve.onCaughtError!==void 0&&(br=Ve.onCaughtError),Ve.onRecoverableError!==void 0&&(Zr=Ve.onRecoverableError),Ve.unstable_transitionCallbacks!==void 0&&(En=Ve.unstable_transitionCallbacks)),Ve=em(De,1,!1,null,null,He,We,pr,br,Zr,En,null),De[zn]=Ve.current,pf(De),new Df(Ve)},reactDomClient_production.hydrateRoot=function(De,Ve,He){if(!Te(De))throw Error(Ce(299));var We=!1,pr="",br=Sp,Zr=Tp,En=Rp,Vn=null,ci=null;return He!=null&&(He.unstable_strictMode===!0&&(We=!0),He.identifierPrefix!==void 0&&(pr=He.identifierPrefix),He.onUncaughtError!==void 0&&(br=He.onUncaughtError),He.onCaughtError!==void 0&&(Zr=He.onCaughtError),He.onRecoverableError!==void 0&&(En=He.onRecoverableError),He.unstable_transitionCallbacks!==void 0&&(Vn=He.unstable_transitionCallbacks),He.formState!==void 0&&(ci=He.formState)),Ve=em(De,1,!0,Ve,He??null,We,pr,br,Zr,En,Vn,ci),Ve.context=tm(null),He=Ve.current,We=zo(),We=Dn(We),pr=Ei(We),pr.callback=null,Pi(He,pr,We),He=We,Ve.current.lanes=He,kr(Ve,He),oA(Ve),De[zn]=Ve.current,pf(De),new hd(Ve)},reactDomClient_production.version="19.1.1",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function Ee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ee)}catch(t){console.error(t)}}return Ee(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(Ee={}){function t(Ce,Te){let{pathname:Re,search:Be,hash:Ue}=Ce.location;return createLocation("",{pathname:Re,search:Be,hash:Ue},Te.state&&Te.state.usr||null,Te.state&&Te.state.key||"default")}function n(Ce,Te){return typeof Te=="string"?Te:createPath(Te)}return getUrlBasedHistory(t,n,null,Ee)}function invariant$1(Ee,t){if(Ee===!1||Ee===null||typeof Ee>"u")throw new Error(t)}function warning$1(Ee,t){if(!Ee){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(Ee,t){return{usr:Ee.state,key:Ee.key,idx:t}}function createLocation(Ee,t,n=null,Ce){return{pathname:typeof Ee=="string"?Ee:Ee.pathname,search:"",hash:"",...typeof t=="string"?parsePath(t):t,state:n,key:t&&t.key||Ce||createKey()}}function createPath({pathname:Ee="/",search:t="",hash:n=""}){return t&&t!=="?"&&(Ee+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(Ee+=n.charAt(0)==="#"?n:"#"+n),Ee}function parsePath(Ee){let t={};if(Ee){let n=Ee.indexOf("#");n>=0&&(t.hash=Ee.substring(n),Ee=Ee.substring(0,n));let Ce=Ee.indexOf("?");Ce>=0&&(t.search=Ee.substring(Ce),Ee=Ee.substring(0,Ce)),Ee&&(t.pathname=Ee)}return t}function getUrlBasedHistory(Ee,t,n,Ce={}){let{window:Te=document.defaultView,v5Compat:Re=!1}=Ce,Be=Te.history,Ue="POP",Oe=null,Me=Qe();Me==null&&(Me=0,Be.replaceState({...Be.state,idx:Me},""));function Qe(){return(Be.state||{idx:null}).idx}function Ke(){Ue="POP";let Je=Qe(),Ye=Je==null?null:Je-Me;Me=Je,Oe&&Oe({action:Ue,location:tr.location,delta:Ye})}function Ge(Je,Ye){Ue="PUSH";let lr=createLocation(tr.location,Je,Ye);Me=Qe()+1;let cr=getHistoryState(lr,Me),hr=tr.createHref(lr);try{Be.pushState(cr,"",hr)}catch(ur){if(ur instanceof DOMException&&ur.name==="DataCloneError")throw ur;Te.location.assign(hr)}Re&&Oe&&Oe({action:Ue,location:tr.location,delta:1})}function qe(Je,Ye){Ue="REPLACE";let lr=createLocation(tr.location,Je,Ye);Me=Qe();let cr=getHistoryState(lr,Me),hr=tr.createHref(lr);Be.replaceState(cr,"",hr),Re&&Oe&&Oe({action:Ue,location:tr.location,delta:0})}function Xe(Je){return createBrowserURLImpl(Je)}let tr={get action(){return Ue},get location(){return Ee(Te,Be)},listen(Je){if(Oe)throw new Error("A history only accepts one active listener");return Te.addEventListener(PopStateEventType,Ke),Oe=Je,()=>{Te.removeEventListener(PopStateEventType,Ke),Oe=null}},createHref(Je){return t(Te,Je)},createURL:Xe,encodeLocation(Je){let Ye=Xe(Je);return{pathname:Ye.pathname,search:Ye.search,hash:Ye.hash}},push:Ge,replace:qe,go(Je){return Be.go(Je)}};return tr}function createBrowserURLImpl(Ee,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$1(n,"No window.location.(origin|href) available to create URL");let Ce=typeof Ee=="string"?Ee:createPath(Ee);return Ce=Ce.replace(/ $/,"%20"),!t&&Ce.startsWith("//")&&(Ce=n+Ce),new URL(Ce,n)}function matchRoutes(Ee,t,n="/"){return matchRoutesImpl(Ee,t,n,!1)}function matchRoutesImpl(Ee,t,n,Ce){let Te=typeof t=="string"?parsePath(t):t,Re=stripBasename(Te.pathname||"/",n);if(Re==null)return null;let Be=flattenRoutes(Ee);rankRouteBranches(Be);let Ue=null;for(let Oe=0;Ue==null&&Oe<Be.length;++Oe){let Me=decodePath(Re);Ue=matchRouteBranch(Be[Oe],Me,Ce)}return Ue}function flattenRoutes(Ee,t=[],n=[],Ce="",Te=!1){let Re=(Be,Ue,Oe=Te,Me)=>{let Qe={relativePath:Me===void 0?Be.path||"":Me,caseSensitive:Be.caseSensitive===!0,childrenIndex:Ue,route:Be};if(Qe.relativePath.startsWith("/")){if(!Qe.relativePath.startsWith(Ce)&&Oe)return;invariant$1(Qe.relativePath.startsWith(Ce),`Absolute route path "${Qe.relativePath}" nested under path "${Ce}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),Qe.relativePath=Qe.relativePath.slice(Ce.length)}let Ke=joinPaths([Ce,Qe.relativePath]),Ge=n.concat(Qe);Be.children&&Be.children.length>0&&(invariant$1(Be.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${Ke}".`),flattenRoutes(Be.children,t,Ge,Ke,Oe)),!(Be.path==null&&!Be.index)&&t.push({path:Ke,score:computeScore(Ke,Be.index),routesMeta:Ge})};return Ee.forEach((Be,Ue)=>{var Oe;if(Be.path===""||!((Oe=Be.path)!=null&&Oe.includes("?")))Re(Be,Ue);else for(let Me of explodeOptionalSegments(Be.path))Re(Be,Ue,!0,Me)}),t}function explodeOptionalSegments(Ee){let t=Ee.split("/");if(t.length===0)return[];let[n,...Ce]=t,Te=n.endsWith("?"),Re=n.replace(/\?$/,"");if(Ce.length===0)return Te?[Re,""]:[Re];let Be=explodeOptionalSegments(Ce.join("/")),Ue=[];return Ue.push(...Be.map(Oe=>Oe===""?Re:[Re,Oe].join("/"))),Te&&Ue.push(...Be),Ue.map(Oe=>Ee.startsWith("/")&&Oe===""?"/":Oe)}function rankRouteBranches(Ee){Ee.sort((t,n)=>t.score!==n.score?n.score-t.score:compareIndexes(t.routesMeta.map(Ce=>Ce.childrenIndex),n.routesMeta.map(Ce=>Ce.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=Ee=>Ee==="*";function computeScore(Ee,t){let n=Ee.split("/"),Ce=n.length;return n.some(isSplat)&&(Ce+=splatPenalty),t&&(Ce+=indexRouteValue),n.filter(Te=>!isSplat(Te)).reduce((Te,Re)=>Te+(paramRe.test(Re)?dynamicSegmentValue:Re===""?emptySegmentValue:staticSegmentValue),Ce)}function compareIndexes(Ee,t){return Ee.length===t.length&&Ee.slice(0,-1).every((Ce,Te)=>Ce===t[Te])?Ee[Ee.length-1]-t[t.length-1]:0}function matchRouteBranch(Ee,t,n=!1){let{routesMeta:Ce}=Ee,Te={},Re="/",Be=[];for(let Ue=0;Ue<Ce.length;++Ue){let Oe=Ce[Ue],Me=Ue===Ce.length-1,Qe=Re==="/"?t:t.slice(Re.length)||"/",Ke=matchPath({path:Oe.relativePath,caseSensitive:Oe.caseSensitive,end:Me},Qe),Ge=Oe.route;if(!Ke&&Me&&n&&!Ce[Ce.length-1].route.index&&(Ke=matchPath({path:Oe.relativePath,caseSensitive:Oe.caseSensitive,end:!1},Qe)),!Ke)return null;Object.assign(Te,Ke.params),Be.push({params:Te,pathname:joinPaths([Re,Ke.pathname]),pathnameBase:normalizePathname(joinPaths([Re,Ke.pathnameBase])),route:Ge}),Ke.pathnameBase!=="/"&&(Re=joinPaths([Re,Ke.pathnameBase]))}return Be}function matchPath(Ee,t){typeof Ee=="string"&&(Ee={path:Ee,caseSensitive:!1,end:!0});let[n,Ce]=compilePath(Ee.path,Ee.caseSensitive,Ee.end),Te=t.match(n);if(!Te)return null;let Re=Te[0],Be=Re.replace(/(.)\/+$/,"$1"),Ue=Te.slice(1);return{params:Ce.reduce((Me,{paramName:Qe,isOptional:Ke},Ge)=>{if(Qe==="*"){let Xe=Ue[Ge]||"";Be=Re.slice(0,Re.length-Xe.length).replace(/(.)\/+$/,"$1")}const qe=Ue[Ge];return Ke&&!qe?Me[Qe]=void 0:Me[Qe]=(qe||"").replace(/%2F/g,"/"),Me},{}),pathname:Re,pathnameBase:Be,pattern:Ee}}function compilePath(Ee,t=!1,n=!0){warning$1(Ee==="*"||!Ee.endsWith("*")||Ee.endsWith("/*"),`Route path "${Ee}" will be treated as if it were "${Ee.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${Ee.replace(/\*$/,"/*")}".`);let Ce=[],Te="^"+Ee.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Be,Ue,Oe)=>(Ce.push({paramName:Ue,isOptional:Oe!=null}),Oe?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return Ee.endsWith("*")?(Ce.push({paramName:"*"}),Te+=Ee==="*"||Ee==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?Te+="\\/*$":Ee!==""&&Ee!=="/"&&(Te+="(?:(?=\\/|$))"),[new RegExp(Te,t?void 0:"i"),Ce]}function decodePath(Ee){try{return Ee.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return warning$1(!1,`The URL path "${Ee}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),Ee}}function stripBasename(Ee,t){if(t==="/")return Ee;if(!Ee.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,Ce=Ee.charAt(n);return Ce&&Ce!=="/"?null:Ee.slice(n)||"/"}function resolvePath(Ee,t="/"){let{pathname:n,search:Ce="",hash:Te=""}=typeof Ee=="string"?parsePath(Ee):Ee;return{pathname:n?n.startsWith("/")?n:resolvePathname(n,t):t,search:normalizeSearch(Ce),hash:normalizeHash(Te)}}function resolvePathname(Ee,t){let n=t.replace(/\/+$/,"").split("/");return Ee.split("/").forEach(Te=>{Te===".."?n.length>1&&n.pop():Te!=="."&&n.push(Te)}),n.length>1?n.join("/"):"/"}function getInvalidPathError(Ee,t,n,Ce){return`Cannot include a '${Ee}' character in a manually specified \`to.${t}\` field [${JSON.stringify(Ce)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(Ee){return Ee.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function getResolveToMatches(Ee){let t=getPathContributingMatches(Ee);return t.map((n,Ce)=>Ce===t.length-1?n.pathname:n.pathnameBase)}function resolveTo(Ee,t,n,Ce=!1){let Te;typeof Ee=="string"?Te=parsePath(Ee):(Te={...Ee},invariant$1(!Te.pathname||!Te.pathname.includes("?"),getInvalidPathError("?","pathname","search",Te)),invariant$1(!Te.pathname||!Te.pathname.includes("#"),getInvalidPathError("#","pathname","hash",Te)),invariant$1(!Te.search||!Te.search.includes("#"),getInvalidPathError("#","search","hash",Te)));let Re=Ee===""||Te.pathname==="",Be=Re?"/":Te.pathname,Ue;if(Be==null)Ue=n;else{let Ke=t.length-1;if(!Ce&&Be.startsWith("..")){let Ge=Be.split("/");for(;Ge[0]==="..";)Ge.shift(),Ke-=1;Te.pathname=Ge.join("/")}Ue=Ke>=0?t[Ke]:"/"}let Oe=resolvePath(Te,Ue),Me=Be&&Be!=="/"&&Be.endsWith("/"),Qe=(Re||Be===".")&&n.endsWith("/");return!Oe.pathname.endsWith("/")&&(Me||Qe)&&(Oe.pathname+="/"),Oe}var joinPaths=Ee=>Ee.join("/").replace(/\/\/+/g,"/"),normalizePathname=Ee=>Ee.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=Ee=>!Ee||Ee==="?"?"":Ee.startsWith("?")?Ee:"?"+Ee,normalizeHash=Ee=>!Ee||Ee==="#"?"":Ee.startsWith("#")?Ee:"#"+Ee;function isRouteErrorResponse(Ee){return Ee!=null&&typeof Ee.status=="number"&&typeof Ee.statusText=="string"&&typeof Ee.internal=="boolean"&&"data"in Ee}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports.createContext(!1);var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(Ee,{relative:t}={}){invariant$1(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:Ce}=reactExports.useContext(NavigationContext),{hash:Te,pathname:Re,search:Be}=useResolvedPath(Ee,{relative:t}),Ue=Re;return n!=="/"&&(Ue=Re==="/"?n:joinPaths([n,Re])),Ce.createHref({pathname:Ue,search:Be,hash:Te})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$1(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(Ee){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(Ee)}function useNavigate(){let{isDataRoute:Ee}=reactExports.useContext(RouteContext);return Ee?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$1(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let Ee=reactExports.useContext(DataRouterContext),{basename:t,navigator:n}=reactExports.useContext(NavigationContext),{matches:Ce}=reactExports.useContext(RouteContext),{pathname:Te}=useLocation(),Re=JSON.stringify(getResolveToMatches(Ce)),Be=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{Be.current=!0}),reactExports.useCallback((Oe,Me={})=>{if(warning$1(Be.current,navigateEffectWarning),!Be.current)return;if(typeof Oe=="number"){n.go(Oe);return}let Qe=resolveTo(Oe,JSON.parse(Re),Te,Me.relative==="path");Ee==null&&t!=="/"&&(Qe.pathname=Qe.pathname==="/"?t:joinPaths([t,Qe.pathname])),(Me.replace?n.replace:n.push)(Qe,Me.state,Me)},[t,n,Re,Te,Ee])}reactExports.createContext(null);function useParams(){let{matches:Ee}=reactExports.useContext(RouteContext),t=Ee[Ee.length-1];return t?t.params:{}}function useResolvedPath(Ee,{relative:t}={}){let{matches:n}=reactExports.useContext(RouteContext),{pathname:Ce}=useLocation(),Te=JSON.stringify(getResolveToMatches(n));return reactExports.useMemo(()=>resolveTo(Ee,JSON.parse(Te),Ce,t==="path"),[Ee,Te,Ce,t])}function useRoutes(Ee,t){return useRoutesImpl(Ee,t)}function useRoutesImpl(Ee,t,n,Ce,Te){var lr;invariant$1(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:Re}=reactExports.useContext(NavigationContext),{matches:Be}=reactExports.useContext(RouteContext),Ue=Be[Be.length-1],Oe=Ue?Ue.params:{},Me=Ue?Ue.pathname:"/",Qe=Ue?Ue.pathnameBase:"/",Ke=Ue&&Ue.route;{let cr=Ke&&Ke.path||"";warningOnce(Me,!Ke||cr.endsWith("*")||cr.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${Me}" (under <Route path="${cr}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${cr}"> to <Route path="${cr==="/"?"*":`${cr}/*`}">.`)}let Ge=useLocation(),qe;if(t){let cr=typeof t=="string"?parsePath(t):t;invariant$1(Qe==="/"||((lr=cr.pathname)==null?void 0:lr.startsWith(Qe)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${Qe}" but pathname "${cr.pathname}" was given in the \`location\` prop.`),qe=cr}else qe=Ge;let Xe=qe.pathname||"/",tr=Xe;if(Qe!=="/"){let cr=Qe.replace(/^\//,"").split("/");tr="/"+Xe.replace(/^\//,"").split("/").slice(cr.length).join("/")}let Je=matchRoutes(Ee,{pathname:tr});warning$1(Ke||Je!=null,`No routes matched location "${qe.pathname}${qe.search}${qe.hash}" `),warning$1(Je==null||Je[Je.length-1].route.element!==void 0||Je[Je.length-1].route.Component!==void 0||Je[Je.length-1].route.lazy!==void 0,`Matched leaf route at location "${qe.pathname}${qe.search}${qe.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Ye=_renderMatches(Je&&Je.map(cr=>Object.assign({},cr,{params:Object.assign({},Oe,cr.params),pathname:joinPaths([Qe,Re.encodeLocation?Re.encodeLocation(cr.pathname).pathname:cr.pathname]),pathnameBase:cr.pathnameBase==="/"?Qe:joinPaths([Qe,Re.encodeLocation?Re.encodeLocation(cr.pathnameBase).pathname:cr.pathnameBase])})),Be,n,Ce,Te);return t&&Ye?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...qe},navigationType:"POP"}},Ye):Ye}function DefaultErrorComponent(){let Ee=useRouteError(),t=isRouteErrorResponse(Ee)?`${Ee.status} ${Ee.statusText}`:Ee instanceof Error?Ee.message:JSON.stringify(Ee),n=Ee instanceof Error?Ee.stack:null,Ce="rgba(200,200,200, 0.5)",Te={padding:"0.5rem",backgroundColor:Ce},Re={padding:"2px 4px",backgroundColor:Ce},Be=null;return console.error("Error handled by React Router default ErrorBoundary:",Ee),Be=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:Re},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:Re},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},t),n?reactExports.createElement("pre",{style:Te},n):null,Be)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(Ee){super(Ee),this.state={location:Ee.location,revalidation:Ee.revalidation,error:Ee.error}}static getDerivedStateFromError(Ee){return{error:Ee}}static getDerivedStateFromProps(Ee,t){return t.location!==Ee.location||t.revalidation!=="idle"&&Ee.revalidation==="idle"?{error:Ee.error,location:Ee.location,revalidation:Ee.revalidation}:{error:Ee.error!==void 0?Ee.error:t.error,location:t.location,revalidation:Ee.revalidation||t.revalidation}}componentDidCatch(Ee,t){this.props.unstable_onError?this.props.unstable_onError(Ee,t):console.error("React Router caught the following error during render",Ee)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:Ee,match:t,children:n}){let Ce=reactExports.useContext(DataRouterContext);return Ce&&Ce.static&&Ce.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(Ce.staticContext._deepestRenderedBoundaryId=t.route.id),reactExports.createElement(RouteContext.Provider,{value:Ee},n)}function _renderMatches(Ee,t=[],n=null,Ce=null,Te=null){if(Ee==null){if(!n)return null;if(n.errors)Ee=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)Ee=n.matches;else return null}let Re=Ee,Be=n==null?void 0:n.errors;if(Be!=null){let Me=Re.findIndex(Qe=>Qe.route.id&&(Be==null?void 0:Be[Qe.route.id])!==void 0);invariant$1(Me>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(Be).join(",")}`),Re=Re.slice(0,Math.min(Re.length,Me+1))}let Ue=!1,Oe=-1;if(n)for(let Me=0;Me<Re.length;Me++){let Qe=Re[Me];if((Qe.route.HydrateFallback||Qe.route.hydrateFallbackElement)&&(Oe=Me),Qe.route.id){let{loaderData:Ke,errors:Ge}=n,qe=Qe.route.loader&&!Ke.hasOwnProperty(Qe.route.id)&&(!Ge||Ge[Qe.route.id]===void 0);if(Qe.route.lazy||qe){Ue=!0,Oe>=0?Re=Re.slice(0,Oe+1):Re=[Re[0]];break}}}return Re.reduceRight((Me,Qe,Ke)=>{let Ge,qe=!1,Xe=null,tr=null;n&&(Ge=Be&&Qe.route.id?Be[Qe.route.id]:void 0,Xe=Qe.route.errorElement||defaultErrorElement,Ue&&(Oe<0&&Ke===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),qe=!0,tr=null):Oe===Ke&&(qe=!0,tr=Qe.route.hydrateFallbackElement||null)));let Je=t.concat(Re.slice(0,Ke+1)),Ye=()=>{let lr;return Ge?lr=Xe:qe?lr=tr:Qe.route.Component?lr=reactExports.createElement(Qe.route.Component,null):Qe.route.element?lr=Qe.route.element:lr=Me,reactExports.createElement(RenderedRoute,{match:Qe,routeContext:{outlet:Me,matches:Je,isDataRoute:n!=null},children:lr})};return n&&(Qe.route.ErrorBoundary||Qe.route.errorElement||Ke===0)?reactExports.createElement(RenderErrorBoundary,{location:n.location,revalidation:n.revalidation,component:Xe,error:Ge,children:Ye(),routeContext:{outlet:null,matches:Je,isDataRoute:!0},unstable_onError:Ce}):Ye()},null)}function getDataRouterConsoleError(Ee){return`${Ee} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(Ee){let t=reactExports.useContext(DataRouterContext);return invariant$1(t,getDataRouterConsoleError(Ee)),t}function useDataRouterState(Ee){let t=reactExports.useContext(DataRouterStateContext);return invariant$1(t,getDataRouterConsoleError(Ee)),t}function useRouteContext(Ee){let t=reactExports.useContext(RouteContext);return invariant$1(t,getDataRouterConsoleError(Ee)),t}function useCurrentRouteId(Ee){let t=useRouteContext(Ee),n=t.matches[t.matches.length-1];return invariant$1(n.route.id,`${Ee} can only be used on routes that contain a unique "id"`),n.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var Ce;let Ee=reactExports.useContext(RouteErrorContext),t=useDataRouterState("useRouteError"),n=useCurrentRouteId("useRouteError");return Ee!==void 0?Ee:(Ce=t.errors)==null?void 0:Ce[n]}function useNavigateStable(){let{router:Ee}=useDataRouterContext("useNavigate"),t=useCurrentRouteId("useNavigate"),n=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{n.current=!0}),reactExports.useCallback(async(Te,Re={})=>{warning$1(n.current,navigateEffectWarning),n.current&&(typeof Te=="number"?Ee.navigate(Te):await Ee.navigate(Te,{fromRouteId:t,...Re}))},[Ee,t])}var alreadyWarned={};function warningOnce(Ee,t,n){!t&&!alreadyWarned[Ee]&&(alreadyWarned[Ee]=!0,warning$1(!1,n))}reactExports.memo(DataRoutes);function DataRoutes({routes:Ee,future:t,state:n,unstable_onError:Ce}){return useRoutesImpl(Ee,void 0,n,Ce,t)}function Navigate({to:Ee,replace:t,state:n,relative:Ce}){invariant$1(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:Te}=reactExports.useContext(NavigationContext);warning$1(!Te,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:Re}=reactExports.useContext(RouteContext),{pathname:Be}=useLocation(),Ue=useNavigate(),Oe=resolveTo(Ee,getResolveToMatches(Re),Be,Ce==="path"),Me=JSON.stringify(Oe);return reactExports.useEffect(()=>{Ue(JSON.parse(Me),{replace:t,state:n,relative:Ce})},[Ue,Me,Ce,t,n]),null}function Route(Ee){invariant$1(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:Ee="/",children:t=null,location:n,navigationType:Ce="POP",navigator:Te,static:Re=!1}){invariant$1(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let Be=Ee.replace(/^\/*/,"/"),Ue=reactExports.useMemo(()=>({basename:Be,navigator:Te,static:Re,future:{}}),[Be,Te,Re]);typeof n=="string"&&(n=parsePath(n));let{pathname:Oe="/",search:Me="",hash:Qe="",state:Ke=null,key:Ge="default"}=n,qe=reactExports.useMemo(()=>{let Xe=stripBasename(Oe,Be);return Xe==null?null:{location:{pathname:Xe,search:Me,hash:Qe,state:Ke,key:Ge},navigationType:Ce}},[Be,Oe,Me,Qe,Ke,Ge,Ce]);return warning$1(qe!=null,`<Router basename="${Be}"> is not able to match the URL "${Oe}${Me}${Qe}" because it does not start with the basename, so the <Router> won't render anything.`),qe==null?null:reactExports.createElement(NavigationContext.Provider,{value:Ue},reactExports.createElement(LocationContext.Provider,{children:t,value:qe}))}function Routes({children:Ee,location:t}){return useRoutes(createRoutesFromChildren(Ee),t)}function createRoutesFromChildren(Ee,t=[]){let n=[];return reactExports.Children.forEach(Ee,(Ce,Te)=>{if(!reactExports.isValidElement(Ce))return;let Re=[...t,Te];if(Ce.type===reactExports.Fragment){n.push.apply(n,createRoutesFromChildren(Ce.props.children,Re));return}invariant$1(Ce.type===Route,`[${typeof Ce.type=="string"?Ce.type:Ce.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$1(!Ce.props.index||!Ce.props.children,"An index route cannot have child routes.");let Be={id:Ce.props.id||Re.join("-"),caseSensitive:Ce.props.caseSensitive,element:Ce.props.element,Component:Ce.props.Component,index:Ce.props.index,path:Ce.props.path,loader:Ce.props.loader,action:Ce.props.action,hydrateFallbackElement:Ce.props.hydrateFallbackElement,HydrateFallback:Ce.props.HydrateFallback,errorElement:Ce.props.errorElement,ErrorBoundary:Ce.props.ErrorBoundary,hasErrorBoundary:Ce.props.hasErrorBoundary===!0||Ce.props.ErrorBoundary!=null||Ce.props.errorElement!=null,shouldRevalidate:Ce.props.shouldRevalidate,handle:Ce.props.handle,lazy:Ce.props.lazy};Ce.props.children&&(Be.children=createRoutesFromChildren(Ce.props.children,Re)),n.push(Be)}),n}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(Ee){return Ee!=null&&typeof Ee.tagName=="string"}function isButtonElement(Ee){return isHtmlElement(Ee)&&Ee.tagName.toLowerCase()==="button"}function isFormElement(Ee){return isHtmlElement(Ee)&&Ee.tagName.toLowerCase()==="form"}function isInputElement$1(Ee){return isHtmlElement(Ee)&&Ee.tagName.toLowerCase()==="input"}function isModifiedEvent(Ee){return!!(Ee.metaKey||Ee.altKey||Ee.ctrlKey||Ee.shiftKey)}function shouldProcessLinkClick(Ee,t){return Ee.button===0&&(!t||t==="_self")&&!isModifiedEvent(Ee)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(Ee){return Ee!=null&&!supportedFormEncTypes.has(Ee)?(warning$1(!1,`"${Ee}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):Ee}function getFormSubmissionInfo(Ee,t){let n,Ce,Te,Re,Be;if(isFormElement(Ee)){let Ue=Ee.getAttribute("action");Ce=Ue?stripBasename(Ue,t):null,n=Ee.getAttribute("method")||defaultMethod,Te=getFormEncType(Ee.getAttribute("enctype"))||defaultEncType,Re=new FormData(Ee)}else if(isButtonElement(Ee)||isInputElement$1(Ee)&&(Ee.type==="submit"||Ee.type==="image")){let Ue=Ee.form;if(Ue==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let Oe=Ee.getAttribute("formaction")||Ue.getAttribute("action");if(Ce=Oe?stripBasename(Oe,t):null,n=Ee.getAttribute("formmethod")||Ue.getAttribute("method")||defaultMethod,Te=getFormEncType(Ee.getAttribute("formenctype"))||getFormEncType(Ue.getAttribute("enctype"))||defaultEncType,Re=new FormData(Ue,Ee),!isFormDataSubmitterSupported()){let{name:Me,type:Qe,value:Ke}=Ee;if(Qe==="image"){let Ge=Me?`${Me}.`:"";Re.append(`${Ge}x`,"0"),Re.append(`${Ge}y`,"0")}else Me&&Re.append(Me,Ke)}}else{if(isHtmlElement(Ee))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=defaultMethod,Ce=null,Te=defaultEncType,Be=Ee}return Re&&Te==="text/plain"&&(Be=Re,Re=void 0),{action:Ce,method:n.toLowerCase(),encType:Te,formData:Re,body:Be}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(Ee,t){if(Ee===!1||Ee===null||typeof Ee>"u")throw new Error(t)}function singleFetchUrl(Ee,t,n){let Ce=typeof Ee=="string"?new URL(Ee,typeof window>"u"?"server://singlefetch/":window.location.origin):Ee;return Ce.pathname==="/"?Ce.pathname=`_root.${n}`:t&&stripBasename(Ce.pathname,t)==="/"?Ce.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:Ce.pathname=`${Ce.pathname.replace(/\/$/,"")}.${n}`,Ce}async function loadRouteModule(Ee,t){if(Ee.id in t)return t[Ee.id];try{let n=await import(Ee.module);return t[Ee.id]=n,n}catch(n){return console.error(`Error loading route module \`${Ee.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(Ee){return Ee==null?!1:Ee.href==null?Ee.rel==="preload"&&typeof Ee.imageSrcSet=="string"&&typeof Ee.imageSizes=="string":typeof Ee.rel=="string"&&typeof Ee.href=="string"}async function getKeyedPrefetchLinks(Ee,t,n){let Ce=await Promise.all(Ee.map(async Te=>{let Re=t.routes[Te.route.id];if(Re){let Be=await loadRouteModule(Re,n);return Be.links?Be.links():[]}return[]}));return dedupeLinkDescriptors(Ce.flat(1).filter(isHtmlLinkDescriptor).filter(Te=>Te.rel==="stylesheet"||Te.rel==="preload").map(Te=>Te.rel==="stylesheet"?{...Te,rel:"prefetch",as:"style"}:{...Te,rel:"prefetch"}))}function getNewMatchesForLinks(Ee,t,n,Ce,Te,Re){let Be=(Oe,Me)=>n[Me]?Oe.route.id!==n[Me].route.id:!0,Ue=(Oe,Me)=>{var Qe;return n[Me].pathname!==Oe.pathname||((Qe=n[Me].route.path)==null?void 0:Qe.endsWith("*"))&&n[Me].params["*"]!==Oe.params["*"]};return Re==="assets"?t.filter((Oe,Me)=>Be(Oe,Me)||Ue(Oe,Me)):Re==="data"?t.filter((Oe,Me)=>{var Ke;let Qe=Ce.routes[Oe.route.id];if(!Qe||!Qe.hasLoader)return!1;if(Be(Oe,Me)||Ue(Oe,Me))return!0;if(Oe.route.shouldRevalidate){let Ge=Oe.route.shouldRevalidate({currentUrl:new URL(Te.pathname+Te.search+Te.hash,window.origin),currentParams:((Ke=n[0])==null?void 0:Ke.params)||{},nextUrl:new URL(Ee,window.origin),nextParams:Oe.params,defaultShouldRevalidate:!0});if(typeof Ge=="boolean")return Ge}return!0}):[]}function getModuleLinkHrefs(Ee,t,{includeHydrateFallback:n}={}){return dedupeHrefs(Ee.map(Ce=>{let Te=t.routes[Ce.route.id];if(!Te)return[];let Re=[Te.module];return Te.clientActionModule&&(Re=Re.concat(Te.clientActionModule)),Te.clientLoaderModule&&(Re=Re.concat(Te.clientLoaderModule)),n&&Te.hydrateFallbackModule&&(Re=Re.concat(Te.hydrateFallbackModule)),Te.imports&&(Re=Re.concat(Te.imports)),Re}).flat(1))}function dedupeHrefs(Ee){return[...new Set(Ee)]}function sortKeys(Ee){let t={},n=Object.keys(Ee).sort();for(let Ce of n)t[Ce]=Ee[Ce];return t}function dedupeLinkDescriptors(Ee,t){let n=new Set;return new Set(t),Ee.reduce((Ce,Te)=>{let Re=JSON.stringify(sortKeys(Te));return n.has(Re)||(n.add(Re),Ce.push({key:Re,link:Te})),Ce},[])}function useDataRouterContext2(){let Ee=reactExports.useContext(DataRouterContext);return invariant2(Ee,"You must render this element inside a <DataRouterContext.Provider> element"),Ee}function useDataRouterStateContext(){let Ee=reactExports.useContext(DataRouterStateContext);return invariant2(Ee,"You must render this element inside a <DataRouterStateContext.Provider> element"),Ee}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let Ee=reactExports.useContext(FrameworkContext);return invariant2(Ee,"You must render this element inside a <HydratedRouter> element"),Ee}function usePrefetchBehavior(Ee,t){let n=reactExports.useContext(FrameworkContext),[Ce,Te]=reactExports.useState(!1),[Re,Be]=reactExports.useState(!1),{onFocus:Ue,onBlur:Oe,onMouseEnter:Me,onMouseLeave:Qe,onTouchStart:Ke}=t,Ge=reactExports.useRef(null);reactExports.useEffect(()=>{if(Ee==="render"&&Be(!0),Ee==="viewport"){let tr=Ye=>{Ye.forEach(lr=>{Be(lr.isIntersecting)})},Je=new IntersectionObserver(tr,{threshold:.5});return Ge.current&&Je.observe(Ge.current),()=>{Je.disconnect()}}},[Ee]),reactExports.useEffect(()=>{if(Ce){let tr=setTimeout(()=>{Be(!0)},100);return()=>{clearTimeout(tr)}}},[Ce]);let qe=()=>{Te(!0)},Xe=()=>{Te(!1),Be(!1)};return n?Ee!=="intent"?[Re,Ge,{}]:[Re,Ge,{onFocus:composeEventHandlers(Ue,qe),onBlur:composeEventHandlers(Oe,Xe),onMouseEnter:composeEventHandlers(Me,qe),onMouseLeave:composeEventHandlers(Qe,Xe),onTouchStart:composeEventHandlers(Ke,qe)}]:[!1,Ge,{}]}function composeEventHandlers(Ee,t){return n=>{Ee&&Ee(n),n.defaultPrevented||t(n)}}function PrefetchPageLinks({page:Ee,...t}){let{router:n}=useDataRouterContext2(),Ce=reactExports.useMemo(()=>matchRoutes(n.routes,Ee,n.basename),[n.routes,Ee,n.basename]);return Ce?reactExports.createElement(PrefetchPageLinksImpl,{page:Ee,matches:Ce,...t}):null}function useKeyedPrefetchLinks(Ee){let{manifest:t,routeModules:n}=useFrameworkContext(),[Ce,Te]=reactExports.useState([]);return reactExports.useEffect(()=>{let Re=!1;return getKeyedPrefetchLinks(Ee,t,n).then(Be=>{Re||Te(Be)}),()=>{Re=!0}},[Ee,t,n]),Ce}function PrefetchPageLinksImpl({page:Ee,matches:t,...n}){let Ce=useLocation(),{manifest:Te,routeModules:Re}=useFrameworkContext(),{basename:Be}=useDataRouterContext2(),{loaderData:Ue,matches:Oe}=useDataRouterStateContext(),Me=reactExports.useMemo(()=>getNewMatchesForLinks(Ee,t,Oe,Te,Ce,"data"),[Ee,t,Oe,Te,Ce]),Qe=reactExports.useMemo(()=>getNewMatchesForLinks(Ee,t,Oe,Te,Ce,"assets"),[Ee,t,Oe,Te,Ce]),Ke=reactExports.useMemo(()=>{if(Ee===Ce.pathname+Ce.search+Ce.hash)return[];let Xe=new Set,tr=!1;if(t.forEach(Ye=>{var cr;let lr=Te.routes[Ye.route.id];!lr||!lr.hasLoader||(!Me.some(hr=>hr.route.id===Ye.route.id)&&Ye.route.id in Ue&&((cr=Re[Ye.route.id])!=null&&cr.shouldRevalidate)||lr.hasClientLoader?tr=!0:Xe.add(Ye.route.id))}),Xe.size===0)return[];let Je=singleFetchUrl(Ee,Be,"data");return tr&&Xe.size>0&&Je.searchParams.set("_routes",t.filter(Ye=>Xe.has(Ye.route.id)).map(Ye=>Ye.route.id).join(",")),[Je.pathname+Je.search]},[Be,Ue,Ce,Te,Me,t,Ee,Re]),Ge=reactExports.useMemo(()=>getModuleLinkHrefs(Qe,Te),[Qe,Te]),qe=useKeyedPrefetchLinks(Qe);return reactExports.createElement(reactExports.Fragment,null,Ke.map(Xe=>reactExports.createElement("link",{key:Xe,rel:"prefetch",as:"fetch",href:Xe,...n})),Ge.map(Xe=>reactExports.createElement("link",{key:Xe,rel:"modulepreload",href:Xe,...n})),qe.map(({key:Xe,link:tr})=>reactExports.createElement("link",{key:Xe,nonce:n.nonce,...tr})))}function mergeRefs$1(...Ee){return t=>{Ee.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser$1&&(window.__reactRouterVersion="7.8.2")}catch{}function BrowserRouter({basename:Ee,children:t,window:n}){let Ce=reactExports.useRef();Ce.current==null&&(Ce.current=createBrowserHistory({window:n,v5Compat:!0}));let Te=Ce.current,[Re,Be]=reactExports.useState({action:Te.action,location:Te.location}),Ue=reactExports.useCallback(Oe=>{reactExports.startTransition(()=>Be(Oe))},[Be]);return reactExports.useLayoutEffect(()=>Te.listen(Ue),[Te,Ue]),reactExports.createElement(Router,{basename:Ee,children:t,location:Re.location,navigationType:Re.action,navigator:Te})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:t,discover:n="render",prefetch:Ce="none",relative:Te,reloadDocument:Re,replace:Be,state:Ue,target:Oe,to:Me,preventScrollReset:Qe,viewTransition:Ke,...Ge},qe){let{basename:Xe}=reactExports.useContext(NavigationContext),tr=typeof Me=="string"&&ABSOLUTE_URL_REGEX2.test(Me),Je,Ye=!1;if(typeof Me=="string"&&tr&&(Je=Me,isBrowser$1))try{let ir=new URL(window.location.href),mr=Me.startsWith("//")?new URL(ir.protocol+Me):new URL(Me),$e=stripBasename(mr.pathname,Xe);mr.origin===ir.origin&&$e!=null?Me=$e+mr.search+mr.hash:Ye=!0}catch{warning$1(!1,`<Link to="${Me}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let lr=useHref(Me,{relative:Te}),[cr,hr,ur]=usePrefetchBehavior(Ce,Ge),fr=useLinkClickHandler(Me,{replace:Be,state:Ue,target:Oe,preventScrollReset:Qe,relative:Te,viewTransition:Ke});function er(ir){t&&t(ir),ir.defaultPrevented||fr(ir)}let nr=reactExports.createElement("a",{...Ge,...ur,href:Je||lr,onClick:Ye||Re?t:er,ref:mergeRefs$1(qe,hr),target:Oe,"data-discover":!tr&&n==="render"?"true":void 0});return cr&&!tr?reactExports.createElement(reactExports.Fragment,null,nr,reactExports.createElement(PrefetchPageLinks,{page:lr})):nr});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:Ce="",end:Te=!1,style:Re,to:Be,viewTransition:Ue,children:Oe,...Me},Qe){let Ke=useResolvedPath(Be,{relative:Me.relative}),Ge=useLocation(),qe=reactExports.useContext(DataRouterStateContext),{navigator:Xe,basename:tr}=reactExports.useContext(NavigationContext),Je=qe!=null&&useViewTransitionState(Ke)&&Ue===!0,Ye=Xe.encodeLocation?Xe.encodeLocation(Ke).pathname:Ke.pathname,lr=Ge.pathname,cr=qe&&qe.navigation&&qe.navigation.location?qe.navigation.location.pathname:null;n||(lr=lr.toLowerCase(),cr=cr?cr.toLowerCase():null,Ye=Ye.toLowerCase()),cr&&tr&&(cr=stripBasename(cr,tr)||cr);const hr=Ye!=="/"&&Ye.endsWith("/")?Ye.length-1:Ye.length;let ur=lr===Ye||!Te&&lr.startsWith(Ye)&&lr.charAt(hr)==="/",fr=cr!=null&&(cr===Ye||!Te&&cr.startsWith(Ye)&&cr.charAt(Ye.length)==="/"),er={isActive:ur,isPending:fr,isTransitioning:Je},nr=ur?t:void 0,ir;typeof Ce=="function"?ir=Ce(er):ir=[Ce,ur?"active":null,fr?"pending":null,Je?"transitioning":null].filter(Boolean).join(" ");let mr=typeof Re=="function"?Re(er):Re;return reactExports.createElement(Link,{...Me,"aria-current":nr,className:ir,ref:Qe,style:mr,to:Be,viewTransition:Ue},typeof Oe=="function"?Oe(er):Oe)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:Ee="render",fetcherKey:t,navigate:n,reloadDocument:Ce,replace:Te,state:Re,method:Be=defaultMethod,action:Ue,onSubmit:Oe,relative:Me,preventScrollReset:Qe,viewTransition:Ke,...Ge},qe)=>{let Xe=useSubmit(),tr=useFormAction(Ue,{relative:Me}),Je=Be.toLowerCase()==="get"?"get":"post",Ye=typeof Ue=="string"&&ABSOLUTE_URL_REGEX2.test(Ue),lr=cr=>{if(Oe&&Oe(cr),cr.defaultPrevented)return;cr.preventDefault();let hr=cr.nativeEvent.submitter,ur=(hr==null?void 0:hr.getAttribute("formmethod"))||Be;Xe(hr||cr.currentTarget,{fetcherKey:t,method:ur,navigate:n,replace:Te,state:Re,relative:Me,preventScrollReset:Qe,viewTransition:Ke})};return reactExports.createElement("form",{ref:qe,method:Je,action:tr,onSubmit:Ce?Oe:lr,...Ge,"data-discover":!Ye&&Ee==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(Ee){return`${Ee} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(Ee){let t=reactExports.useContext(DataRouterContext);return invariant$1(t,getDataRouterConsoleError2(Ee)),t}function useLinkClickHandler(Ee,{target:t,replace:n,state:Ce,preventScrollReset:Te,relative:Re,viewTransition:Be}={}){let Ue=useNavigate(),Oe=useLocation(),Me=useResolvedPath(Ee,{relative:Re});return reactExports.useCallback(Qe=>{if(shouldProcessLinkClick(Qe,t)){Qe.preventDefault();let Ke=n!==void 0?n:createPath(Oe)===createPath(Me);Ue(Ee,{replace:Ke,state:Ce,preventScrollReset:Te,relative:Re,viewTransition:Be})}},[Oe,Ue,Me,n,Ce,t,Ee,Te,Re,Be])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:Ee}=useDataRouterContext3("useSubmit"),{basename:t}=reactExports.useContext(NavigationContext),n=useRouteId();return reactExports.useCallback(async(Ce,Te={})=>{let{action:Re,method:Be,encType:Ue,formData:Oe,body:Me}=getFormSubmissionInfo(Ce,t);if(Te.navigate===!1){let Qe=Te.fetcherKey||getUniqueFetcherId();await Ee.fetch(Qe,n,Te.action||Re,{preventScrollReset:Te.preventScrollReset,formData:Oe,body:Me,formMethod:Te.method||Be,formEncType:Te.encType||Ue,flushSync:Te.flushSync})}else await Ee.navigate(Te.action||Re,{preventScrollReset:Te.preventScrollReset,formData:Oe,body:Me,formMethod:Te.method||Be,formEncType:Te.encType||Ue,replace:Te.replace,state:Te.state,fromRouteId:n,flushSync:Te.flushSync,viewTransition:Te.viewTransition})},[Ee,t,n])}function useFormAction(Ee,{relative:t}={}){let{basename:n}=reactExports.useContext(NavigationContext),Ce=reactExports.useContext(RouteContext);invariant$1(Ce,"useFormAction must be used inside a RouteContext");let[Te]=Ce.matches.slice(-1),Re={...useResolvedPath(Ee||".",{relative:t})},Be=useLocation();if(Ee==null){Re.search=Be.search;let Ue=new URLSearchParams(Re.search),Oe=Ue.getAll("index");if(Oe.some(Qe=>Qe==="")){Ue.delete("index"),Oe.filter(Ke=>Ke).forEach(Ke=>Ue.append("index",Ke));let Qe=Ue.toString();Re.search=Qe?`?${Qe}`:""}}return(!Ee||Ee===".")&&Te.route.index&&(Re.search=Re.search?Re.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(Re.pathname=Re.pathname==="/"?n:joinPaths([n,Re.pathname])),createPath(Re)}function useViewTransitionState(Ee,{relative:t}={}){let n=reactExports.useContext(ViewTransitionContext);invariant$1(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:Ce}=useDataRouterContext3("useViewTransitionState"),Te=useResolvedPath(Ee,{relative:t});if(!n.isTransitioning)return!1;let Re=stripBasename(n.currentLocation.pathname,Ce)||n.currentLocation.pathname,Be=stripBasename(n.nextLocation.pathname,Ce)||n.nextLocation.pathname;return matchPath(Te.pathname,Be)!=null||matchPath(Te.pathname,Re)!=null}const getDefaultsFromPostinstall=()=>{};var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(Ee){const t=[];let n=0;for(let Ce=0;Ce<Ee.length;Ce++){let Te=Ee.charCodeAt(Ce);Te<128?t[n++]=Te:Te<2048?(t[n++]=Te>>6|192,t[n++]=Te&63|128):(Te&64512)===55296&&Ce+1<Ee.length&&(Ee.charCodeAt(Ce+1)&64512)===56320?(Te=65536+((Te&1023)<<10)+(Ee.charCodeAt(++Ce)&1023),t[n++]=Te>>18|240,t[n++]=Te>>12&63|128,t[n++]=Te>>6&63|128,t[n++]=Te&63|128):(t[n++]=Te>>12|224,t[n++]=Te>>6&63|128,t[n++]=Te&63|128)}return t},byteArrayToString=function(Ee){const t=[];let n=0,Ce=0;for(;n<Ee.length;){const Te=Ee[n++];if(Te<128)t[Ce++]=String.fromCharCode(Te);else if(Te>191&&Te<224){const Re=Ee[n++];t[Ce++]=String.fromCharCode((Te&31)<<6|Re&63)}else if(Te>239&&Te<365){const Re=Ee[n++],Be=Ee[n++],Ue=Ee[n++],Oe=((Te&7)<<18|(Re&63)<<12|(Be&63)<<6|Ue&63)-65536;t[Ce++]=String.fromCharCode(55296+(Oe>>10)),t[Ce++]=String.fromCharCode(56320+(Oe&1023))}else{const Re=Ee[n++],Be=Ee[n++];t[Ce++]=String.fromCharCode((Te&15)<<12|(Re&63)<<6|Be&63)}}return t.join("")},base64$2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(Ee,t){if(!Array.isArray(Ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let Te=0;Te<Ee.length;Te+=3){const Re=Ee[Te],Be=Te+1<Ee.length,Ue=Be?Ee[Te+1]:0,Oe=Te+2<Ee.length,Me=Oe?Ee[Te+2]:0,Qe=Re>>2,Ke=(Re&3)<<4|Ue>>4;let Ge=(Ue&15)<<2|Me>>6,qe=Me&63;Oe||(qe=64,Be||(Ge=64)),Ce.push(n[Qe],n[Ke],n[Ge],n[qe])}return Ce.join("")},encodeString(Ee,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(Ee):this.encodeByteArray(stringToByteArray$1(Ee),t)},decodeString(Ee,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(Ee):byteArrayToString(this.decodeStringToByteArray(Ee,t))},decodeStringToByteArray(Ee,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let Te=0;Te<Ee.length;){const Re=n[Ee.charAt(Te++)],Ue=Te<Ee.length?n[Ee.charAt(Te)]:0;++Te;const Me=Te<Ee.length?n[Ee.charAt(Te)]:64;++Te;const Ke=Te<Ee.length?n[Ee.charAt(Te)]:64;if(++Te,Re==null||Ue==null||Me==null||Ke==null)throw new DecodeBase64StringError;const Ge=Re<<2|Ue>>4;if(Ce.push(Ge),Me!==64){const qe=Ue<<4&240|Me>>2;if(Ce.push(qe),Ke!==64){const Xe=Me<<6&192|Ke;Ce.push(Xe)}}}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ee=0;Ee<this.ENCODED_VALS.length;Ee++)this.byteToCharMap_[Ee]=this.ENCODED_VALS.charAt(Ee),this.charToByteMap_[this.byteToCharMap_[Ee]]=Ee,this.byteToCharMapWebSafe_[Ee]=this.ENCODED_VALS_WEBSAFE.charAt(Ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ee]]=Ee,Ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ee)]=Ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ee)]=Ee)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(Ee){const t=stringToByteArray$1(Ee);return base64$2.encodeByteArray(t,!0)},base64urlEncodeWithoutPadding=function(Ee){return base64Encode(Ee).replace(/\./g,"")},base64Decode=function(Ee){try{return base64$2.decodeString(Ee,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const Ee=define_process_env_default.__FIREBASE_DEFAULTS__;if(Ee)return JSON.parse(Ee)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let Ee;try{Ee=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=Ee&&base64Decode(Ee[1]);return t&&JSON.parse(t)},getDefaults=()=>{try{return getDefaultsFromPostinstall()||getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(Ee){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ee}`);return}},getDefaultEmulatorHost=Ee=>{var t,n;return(n=(t=getDefaults())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[Ee]},getDefaultEmulatorHostnameAndPort=Ee=>{const t=getDefaultEmulatorHost(Ee);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const Ce=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),Ce]:[t.substring(0,n),Ce]},getDefaultAppConfig=()=>{var Ee;return(Ee=getDefaults())===null||Ee===void 0?void 0:Ee.config},getExperimentalSetting=Ee=>{var t;return(t=getDefaults())===null||t===void 0?void 0:t[`_${Ee}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,Ce)=>{n?this.reject(n):this.resolve(Ce),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,Ce))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isCloudWorkstation(Ee){try{return(Ee.startsWith("http://")||Ee.startsWith("https://")?new URL(Ee).hostname:Ee).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pingServer(Ee){return(await fetch(Ee,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(Ee,t){if(Ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},Ce=t||"demo-project",Te=Ee.iat||0,Re=Ee.sub||Ee.user_id;if(!Re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Be=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:Te,exp:Te+3600,auth_time:Te,sub:Re,user_id:Re,firebase:{sign_in_provider:"custom",identities:{}}},Ee);return[base64urlEncodeWithoutPadding(JSON.stringify(n)),base64urlEncodeWithoutPadding(JSON.stringify(Be)),""].join(".")}const emulatorStatus={};function getEmulatorSummary(){const Ee={prod:[],emulator:[]};for(const t of Object.keys(emulatorStatus))emulatorStatus[t]?Ee.emulator.push(t):Ee.prod.push(t);return Ee}function getOrCreateEl(Ee){let t=document.getElementById(Ee),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",Ee),n=!0),{created:n,element:t}}let previouslyDismissed=!1;function updateEmulatorBanner(Ee,t){if(typeof window>"u"||typeof document>"u"||!isCloudWorkstation(window.location.host)||emulatorStatus[Ee]===t||emulatorStatus[Ee]||previouslyDismissed)return;emulatorStatus[Ee]=t;function n(Ge){return`__firebase__banner__${Ge}`}const Ce="__firebase__banner",Re=getEmulatorSummary().prod.length>0;function Be(){const Ge=document.getElementById(Ce);Ge&&Ge.remove()}function Ue(Ge){Ge.style.display="flex",Ge.style.background="#7faaf0",Ge.style.position="fixed",Ge.style.bottom="5px",Ge.style.left="5px",Ge.style.padding=".5em",Ge.style.borderRadius="5px",Ge.style.alignItems="center"}function Oe(Ge,qe){Ge.setAttribute("width","24"),Ge.setAttribute("id",qe),Ge.setAttribute("height","24"),Ge.setAttribute("viewBox","0 0 24 24"),Ge.setAttribute("fill","none"),Ge.style.marginLeft="-6px"}function Me(){const Ge=document.createElement("span");return Ge.style.cursor="pointer",Ge.style.marginLeft="16px",Ge.style.fontSize="24px",Ge.innerHTML=" &times;",Ge.onclick=()=>{previouslyDismissed=!0,Be()},Ge}function Qe(Ge,qe){Ge.setAttribute("id",qe),Ge.innerText="Learn more",Ge.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",Ge.setAttribute("target","__blank"),Ge.style.paddingLeft="5px",Ge.style.textDecoration="underline"}function Ke(){const Ge=getOrCreateEl(Ce),qe=n("text"),Xe=document.getElementById(qe)||document.createElement("span"),tr=n("learnmore"),Je=document.getElementById(tr)||document.createElement("a"),Ye=n("preprendIcon"),lr=document.getElementById(Ye)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(Ge.created){const cr=Ge.element;Ue(cr),Qe(Je,tr);const hr=Me();Oe(lr,Ye),cr.append(lr,Xe,Je,hr),document.body.appendChild(cr)}Re?(Xe.innerText="Preview backend disconnected.",lr.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lr.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Xe.innerText="Preview backend running in this workspace."),Xe.setAttribute("id",qe)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",Ke):Ke()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode(){var Ee;const t=(Ee=getDefaults())===null||Ee===void 0?void 0:Ee.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const Ee=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof Ee=="object"&&Ee.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const Ee=getUA();return Ee.indexOf("MSIE ")>=0||Ee.indexOf("Trident/")>=0}function isSafari(){return!isNode()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((Ee,t)=>{try{let n=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",Te=self.indexedDB.open(Ce);Te.onsuccess=()=>{Te.result.close(),n||self.indexedDB.deleteDatabase(Ce),Ee(!0)},Te.onupgradeneeded=()=>{n=!1},Te.onerror=()=>{var Re;t(((Re=Te.error)===null||Re===void 0?void 0:Re.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(t,n,Ce){super(n),this.code=t,this.customData=Ce,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(t,n,Ce){this.service=t,this.serviceName=n,this.errors=Ce}create(t,...n){const Ce=n[0]||{},Te=`${this.service}/${t}`,Re=this.errors[t],Be=Re?replaceTemplate(Re,Ce):"Error",Ue=`${this.serviceName}: ${Be} (${Te}).`;return new FirebaseError(Te,Ue,Ce)}}function replaceTemplate(Ee,t){return Ee.replace(PATTERN,(n,Ce)=>{const Te=t[Ce];return Te!=null?String(Te):`<${Ce}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$1(Ee){for(const t in Ee)if(Object.prototype.hasOwnProperty.call(Ee,t))return!1;return!0}function deepEqual(Ee,t){if(Ee===t)return!0;const n=Object.keys(Ee),Ce=Object.keys(t);for(const Te of n){if(!Ce.includes(Te))return!1;const Re=Ee[Te],Be=t[Te];if(isObject(Re)&&isObject(Be)){if(!deepEqual(Re,Be))return!1}else if(Re!==Be)return!1}for(const Te of Ce)if(!n.includes(Te))return!1;return!0}function isObject(Ee){return Ee!==null&&typeof Ee=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(Ee){const t=[];for(const[n,Ce]of Object.entries(Ee))Array.isArray(Ce)?Ce.forEach(Te=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(Te))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(Ce));return t.length?"&"+t.join("&"):""}function querystringDecode(Ee){const t={};return Ee.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[Te,Re]=Ce.split("=");t[decodeURIComponent(Te)]=decodeURIComponent(Re)}}),t}function extractQuerystring(Ee){const t=Ee.indexOf("?");if(!t)return"";const n=Ee.indexOf("#",t);return Ee.substring(t,n>0?n:void 0)}function createSubscribe(Ee,t){const n=new ObserverProxy(Ee,t);return n.subscribe.bind(n)}class ObserverProxy{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(Ce=>{this.error(Ce)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,Ce){let Te;if(t===void 0&&n===void 0&&Ce===void 0)throw new Error("Missing Observer.");implementsAnyMethods(t,["next","error","complete"])?Te=t:Te={next:t,error:n,complete:Ce},Te.next===void 0&&(Te.next=noop),Te.error===void 0&&(Te.error=noop),Te.complete===void 0&&(Te.complete=noop);const Re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Te.error(this.finalError):Te.complete()}catch{}}),this.observers.push(Te),Re}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(Ce){typeof console<"u"&&console.error&&console.error(Ce)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(Ee,t){if(typeof Ee!="object"||Ee===null)return!1;for(const n of t)if(n in Ee&&typeof Ee[n]=="function")return!0;return!1}function noop(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(Ee){return Ee&&Ee._delegate?Ee._delegate:Ee}class Component{constructor(t,n,Ce){this.name=t,this.instanceFactory=n,this.type=Ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const Ce=new Deferred;if(this.instancesDeferred.set(n,Ce),this.isInitialized(n)||this.shouldAutoInitialize())try{const Te=this.getOrInitializeService({instanceIdentifier:n});Te&&Ce.resolve(Te)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const Ce=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),Te=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(Ce)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:Ce})}catch(Re){if(Te)return null;throw Re}else{if(Te)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(isComponentEager(t))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[n,Ce]of this.instancesDeferred.entries()){const Te=this.normalizeInstanceIdentifier(n);try{const Re=this.getOrInitializeService({instanceIdentifier:Te});Ce.resolve(Re)}catch{}}}}clearInstance(t=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=DEFAULT_ENTRY_NAME$1){return this.instances.has(t)}getOptions(t=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,Ce=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(Ce))throw Error(`${this.name}(${Ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Te=this.getOrInitializeService({instanceIdentifier:Ce,options:n});for(const[Re,Be]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(Re);Ce===Ue&&Be.resolve(Te)}return Te}onInit(t,n){var Ce;const Te=this.normalizeInstanceIdentifier(n),Re=(Ce=this.onInitCallbacks.get(Te))!==null&&Ce!==void 0?Ce:new Set;Re.add(t),this.onInitCallbacks.set(Te,Re);const Be=this.instances.get(Te);return Be&&t(Be,Te),()=>{Re.delete(t)}}invokeOnInitCallbacks(t,n){const Ce=this.onInitCallbacks.get(n);if(Ce)for(const Te of Ce)try{Te(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let Ce=this.instances.get(t);if(!Ce&&this.component&&(Ce=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(t),options:n}),this.instances.set(t,Ce),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(Ce,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,Ce)}catch{}return Ce||null}normalizeInstanceIdentifier(t=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?t:DEFAULT_ENTRY_NAME$1:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(Ee){return Ee===DEFAULT_ENTRY_NAME$1?void 0:Ee}function isComponentEager(Ee){return Ee.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Provider(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(Ee){Ee[Ee.DEBUG=0]="DEBUG",Ee[Ee.VERBOSE=1]="VERBOSE",Ee[Ee.INFO=2]="INFO",Ee[Ee.WARN=3]="WARN",Ee[Ee.ERROR=4]="ERROR",Ee[Ee.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(Ee,t,...n)=>{if(t<Ee.logLevel)return;const Ce=new Date().toISOString(),Te=ConsoleMethod[t];if(Te)console[Te](`[${Ce}]  ${Ee.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let Logger$1=class{constructor(t){this.name=t,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in LogLevel))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?levelStringToEnum[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...t),this._logHandler(this,LogLevel.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...t),this._logHandler(this,LogLevel.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...t),this._logHandler(this,LogLevel.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...t),this._logHandler(this,LogLevel.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...t),this._logHandler(this,LogLevel.ERROR,...t)}};const instanceOfAny=(Ee,t)=>t.some(n=>Ee instanceof n);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(Ee){const t=new Promise((n,Ce)=>{const Te=()=>{Ee.removeEventListener("success",Re),Ee.removeEventListener("error",Be)},Re=()=>{n(wrap(Ee.result)),Te()},Be=()=>{Ce(Ee.error),Te()};Ee.addEventListener("success",Re),Ee.addEventListener("error",Be)});return t.then(n=>{n instanceof IDBCursor&&cursorRequestMap.set(n,Ee)}).catch(()=>{}),reverseTransformCache.set(t,Ee),t}function cacheDonePromiseForTransaction(Ee){if(transactionDoneMap.has(Ee))return;const t=new Promise((n,Ce)=>{const Te=()=>{Ee.removeEventListener("complete",Re),Ee.removeEventListener("error",Be),Ee.removeEventListener("abort",Be)},Re=()=>{n(),Te()},Be=()=>{Ce(Ee.error||new DOMException("AbortError","AbortError")),Te()};Ee.addEventListener("complete",Re),Ee.addEventListener("error",Be),Ee.addEventListener("abort",Be)});transactionDoneMap.set(Ee,t)}let idbProxyTraps={get(Ee,t,n){if(Ee instanceof IDBTransaction){if(t==="done")return transactionDoneMap.get(Ee);if(t==="objectStoreNames")return Ee.objectStoreNames||transactionStoreNamesMap.get(Ee);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wrap(Ee[t])},set(Ee,t,n){return Ee[t]=n,!0},has(Ee,t){return Ee instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in Ee}};function replaceTraps(Ee){idbProxyTraps=Ee(idbProxyTraps)}function wrapFunction(Ee){return Ee===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const Ce=Ee.call(unwrap(this),t,...n);return transactionStoreNamesMap.set(Ce,t.sort?t.sort():[t]),wrap(Ce)}:getCursorAdvanceMethods().includes(Ee)?function(...t){return Ee.apply(unwrap(this),t),wrap(cursorRequestMap.get(this))}:function(...t){return wrap(Ee.apply(unwrap(this),t))}}function transformCachableValue(Ee){return typeof Ee=="function"?wrapFunction(Ee):(Ee instanceof IDBTransaction&&cacheDonePromiseForTransaction(Ee),instanceOfAny(Ee,getIdbProxyableTypes())?new Proxy(Ee,idbProxyTraps):Ee)}function wrap(Ee){if(Ee instanceof IDBRequest)return promisifyRequest(Ee);if(transformCache.has(Ee))return transformCache.get(Ee);const t=transformCachableValue(Ee);return t!==Ee&&(transformCache.set(Ee,t),reverseTransformCache.set(t,Ee)),t}const unwrap=Ee=>reverseTransformCache.get(Ee);function openDB(Ee,t,{blocked:n,upgrade:Ce,blocking:Te,terminated:Re}={}){const Be=indexedDB.open(Ee,t),Ue=wrap(Be);return Ce&&Be.addEventListener("upgradeneeded",Oe=>{Ce(wrap(Be.result),Oe.oldVersion,Oe.newVersion,wrap(Be.transaction),Oe)}),n&&Be.addEventListener("blocked",Oe=>n(Oe.oldVersion,Oe.newVersion,Oe)),Ue.then(Oe=>{Re&&Oe.addEventListener("close",()=>Re()),Te&&Oe.addEventListener("versionchange",Me=>Te(Me.oldVersion,Me.newVersion,Me))}).catch(()=>{}),Ue}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(Ee,t){if(!(Ee instanceof IDBDatabase&&!(t in Ee)&&typeof t=="string"))return;if(cachedMethods.get(t))return cachedMethods.get(t);const n=t.replace(/FromIndex$/,""),Ce=t!==n,Te=writeMethods.includes(n);if(!(n in(Ce?IDBIndex:IDBObjectStore).prototype)||!(Te||readMethods.includes(n)))return;const Re=async function(Be,...Ue){const Oe=this.transaction(Be,Te?"readwrite":"readonly");let Me=Oe.store;return Ce&&(Me=Me.index(Ue.shift())),(await Promise.all([Me[n](...Ue),Te&&Oe.done]))[0]};return cachedMethods.set(t,Re),Re}replaceTraps(Ee=>({...Ee,get:(t,n,Ce)=>getMethod(t,n)||Ee.get(t,n,Ce),has:(t,n)=>!!getMethod(t,n)||Ee.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(isVersionServiceProvider(n)){const Ce=n.getImmediate();return`${Ce.library}/${Ce.version}`}else return null}).filter(n=>n).join(" ")}}function isVersionServiceProvider(Ee){const t=Ee.getComponent();return(t==null?void 0:t.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger$1("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3="@firebase/firestore",name$2$1="@firebase/ai",name$1$1="@firebase/firestore-compat",name$r="firebase",version$3="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(Ee,t){try{Ee.container.addComponent(t)}catch(n){logger.debug(`Component ${t.name} failed to register with FirebaseApp ${Ee.name}`,n)}}function _registerComponent(Ee){const t=Ee.name;if(_components.has(t))return logger.debug(`There were multiple attempts to register component ${t}.`),!1;_components.set(t,Ee);for(const n of _apps.values())_addComponent(n,Ee);for(const n of _serverApps.values())_addComponent(n,Ee);return!0}function _getProvider(Ee,t){const n=Ee.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),Ee.container.getProvider(t)}function _isFirebaseServerApp(Ee){return Ee==null?!1:Ee.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(t,n,Ce){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=Ce,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$3;function initializeApp(Ee,t={}){let n=Ee;typeof t!="object"&&(t={name:t});const Ce=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!0},t),Te=Ce.name;if(typeof Te!="string"||!Te)throw ERROR_FACTORY.create("bad-app-name",{appName:String(Te)});if(n||(n=getDefaultAppConfig()),!n)throw ERROR_FACTORY.create("no-options");const Re=_apps.get(Te);if(Re){if(deepEqual(n,Re.options)&&deepEqual(Ce,Re.config))return Re;throw ERROR_FACTORY.create("duplicate-app",{appName:Te})}const Be=new ComponentContainer(Te);for(const Oe of _components.values())Be.addComponent(Oe);const Ue=new FirebaseAppImpl(n,Ce,Be);return _apps.set(Te,Ue),Ue}function getApp(Ee=DEFAULT_ENTRY_NAME){const t=_apps.get(Ee);if(!t&&Ee===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!t)throw ERROR_FACTORY.create("no-app",{appName:Ee});return t}function registerVersion(Ee,t,n){var Ce;let Te=(Ce=PLATFORM_LOG_STRING[Ee])!==null&&Ce!==void 0?Ce:Ee;n&&(Te+=`-${n}`);const Re=Te.match(/\s|\//),Be=t.match(/\s|\//);if(Re||Be){const Ue=[`Unable to register library "${Te}" with version "${t}":`];Re&&Ue.push(`library name "${Te}" contains illegal characters (whitespace or "/")`),Re&&Be&&Ue.push("and"),Be&&Ue.push(`version name "${t}" contains illegal characters (whitespace or "/")`),logger.warn(Ue.join(" "));return}_registerComponent(new Component(`${Te}-version`,()=>({library:Te,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(Ee,t)=>{switch(t){case 0:try{Ee.createObjectStore(STORE_NAME)}catch(n){console.warn(n)}}}}).catch(Ee=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:Ee.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(Ee){try{const n=(await getDbPromise()).transaction(STORE_NAME),Ce=await n.objectStore(STORE_NAME).get(computeKey(Ee));return await n.done,Ce}catch(t){if(t instanceof FirebaseError)logger.warn(t.message);else{const n=ERROR_FACTORY.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});logger.warn(n.message)}}}async function writeHeartbeatsToIndexedDB(Ee,t){try{const Ce=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await Ce.objectStore(STORE_NAME).put(t,computeKey(Ee)),await Ce.done}catch(n){if(n instanceof FirebaseError)logger.warn(n.message);else{const Ce=ERROR_FACTORY.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});logger.warn(Ce.message)}}}function computeKey(Ee){return`${Ee.name}!${Ee.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,MAX_NUM_STORED_HEARTBEATS=30;class HeartbeatServiceImpl{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(n),this._heartbeatsCachePromise=this._storage.read().then(Ce=>(this._heartbeatsCache=Ce,Ce))}async triggerHeartbeat(){var t,n;try{const Te=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Re=getUTCDateString();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===Re||this._heartbeatsCache.heartbeats.some(Be=>Be.date===Re))return;if(this._heartbeatsCache.heartbeats.push({date:Re,agent:Te}),this._heartbeatsCache.heartbeats.length>MAX_NUM_STORED_HEARTBEATS){const Be=getEarliestHeartbeatIdx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(Be,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Ce){logger.warn(Ce)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=getUTCDateString(),{heartbeatsToSend:Ce,unsentEntries:Te}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),Re=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:Ce}));return this._heartbeatsCache.lastSentHeartbeatDate=n,Te.length>0?(this._heartbeatsCache.heartbeats=Te,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),Re}catch(n){return logger.warn(n),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(Ee,t=MAX_HEADER_BYTES){const n=[];let Ce=Ee.slice();for(const Te of Ee){const Re=n.find(Be=>Be.agent===Te.agent);if(Re){if(Re.dates.push(Te.date),countBytes(n)>t){Re.dates.pop();break}}else if(n.push({agent:Te.agent,dates:[Te.date]}),countBytes(n)>t){n.pop();break}Ce=Ce.slice(1)}return{heartbeatsToSend:n,unsentEntries:Ce}}class HeartbeatStorageImpl{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await readHeartbeatsFromIndexedDB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const Te=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:Te.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const Te=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:Te.lastSentHeartbeatDate,heartbeats:[...Te.heartbeats,...t.heartbeats]})}else return}}function countBytes(Ee){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:Ee})).length}function getEarliestHeartbeatIdx(Ee){if(Ee.length===0)return-1;let t=0,n=Ee[0].date;for(let Ce=1;Ce<Ee.length;Ce++)Ee[Ce].date<n&&(n=Ee[Ce].date,t=Ce);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(Ee){_registerComponent(new Component("platform-logger",t=>new PlatformLoggerServiceImpl(t),"PRIVATE")),_registerComponent(new Component("heartbeat",t=>new HeartbeatServiceImpl(t),"PRIVATE")),registerVersion(name$q,version$1$1,Ee),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");function __rest$3(Ee,t){var n={};for(var Ce in Ee)Object.prototype.hasOwnProperty.call(Ee,Ce)&&t.indexOf(Ce)<0&&(n[Ce]=Ee[Ce]);if(Ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Te=0,Ce=Object.getOwnPropertySymbols(Ee);Te<Ce.length;Te++)t.indexOf(Ce[Te])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Ce[Te])&&(n[Ce[Te]]=Ee[Ce[Te]]);return n}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger$1("@firebase/auth");function _logWarn(Ee,...t){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${Ee}`,...t)}function _logError(Ee,...t){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${Ee}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(Ee,...t){throw createErrorInternal(Ee,...t)}function _createError(Ee,...t){return createErrorInternal(Ee,...t)}function _errorWithCustomMessage(Ee,t,n){const Ce=Object.assign(Object.assign({},prodErrorMap()),{[t]:n});return new ErrorFactory("auth","Firebase",Ce).create(t,{appName:Ee.name})}function _serverAppCurrentUserOperationNotSupportedError(Ee){return _errorWithCustomMessage(Ee,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function createErrorInternal(Ee,...t){if(typeof Ee!="string"){const n=t[0],Ce=[...t.slice(1)];return Ce[0]&&(Ce[0].appName=Ee.name),Ee._errorFactory.create(n,...Ce)}return _DEFAULT_AUTH_ERROR_FACTORY.create(Ee,...t)}function _assert(Ee,t,...n){if(!Ee)throw createErrorInternal(t,...n)}function debugFail(Ee){const t="INTERNAL ASSERTION FAILED: "+Ee;throw _logError(t),new Error(t)}function debugAssert(Ee,t){Ee||debugFail(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var Ee;return typeof self<"u"&&((Ee=self.location)===null||Ee===void 0?void 0:Ee.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var Ee;return typeof self<"u"&&((Ee=self.location)===null||Ee===void 0?void 0:Ee.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const Ee=navigator;return Ee.languages&&Ee.languages[0]||Ee.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(t,n){this.shortDelay=t,this.longDelay=n,debugAssert(n>t,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(Ee,t){debugAssert(Ee.emulator,"Emulator should always be set here");const{url:n}=Ee.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(t,n,Ce){this.fetchImpl=t,n&&(this.headersImpl=n),Ce&&(this.responseImpl=Ce)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CookieAuthProxiedEndpoints=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(Ee,t){return Ee.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:Ee.tenantId}):t}async function _performApiRequest(Ee,t,n,Ce,Te={}){return _performFetchWithErrorHandling(Ee,Te,async()=>{let Re={},Be={};Ce&&(t==="GET"?Be=Ce:Re={body:JSON.stringify(Ce)});const Ue=querystring(Object.assign({key:Ee.config.apiKey},Be)).slice(1),Oe=await Ee._getAdditionalHeaders();Oe["Content-Type"]="application/json",Ee.languageCode&&(Oe["X-Firebase-Locale"]=Ee.languageCode);const Me=Object.assign({method:t,headers:Oe},Re);return isCloudflareWorker()||(Me.referrerPolicy="no-referrer"),Ee.emulatorConfig&&isCloudWorkstation(Ee.emulatorConfig.host)&&(Me.credentials="include"),FetchProvider.fetch()(await _getFinalTarget(Ee,Ee.config.apiHost,n,Ue),Me)})}async function _performFetchWithErrorHandling(Ee,t,n){Ee._canInitEmulator=!1;const Ce=Object.assign(Object.assign({},SERVER_ERROR_MAP),t);try{const Te=new NetworkTimeout(Ee),Re=await Promise.race([n(),Te.promise]);Te.clearNetworkTimeout();const Be=await Re.json();if("needConfirmation"in Be)throw _makeTaggedError(Ee,"account-exists-with-different-credential",Be);if(Re.ok&&!("errorMessage"in Be))return Be;{const Ue=Re.ok?Be.errorMessage:Be.error.message,[Oe,Me]=Ue.split(" : ");if(Oe==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(Ee,"credential-already-in-use",Be);if(Oe==="EMAIL_EXISTS")throw _makeTaggedError(Ee,"email-already-in-use",Be);if(Oe==="USER_DISABLED")throw _makeTaggedError(Ee,"user-disabled",Be);const Qe=Ce[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if(Me)throw _errorWithCustomMessage(Ee,Qe,Me);_fail(Ee,Qe)}}catch(Te){if(Te instanceof FirebaseError)throw Te;_fail(Ee,"network-request-failed",{message:String(Te)})}}async function _performSignInRequest(Ee,t,n,Ce,Te={}){const Re=await _performApiRequest(Ee,t,n,Ce,Te);return"mfaPendingCredential"in Re&&_fail(Ee,"multi-factor-auth-required",{_serverResponse:Re}),Re}async function _getFinalTarget(Ee,t,n,Ce){const Te=`${t}${n}?${Ce}`,Re=Ee,Be=Re.config.emulator?_emulatorUrl(Ee.config,Te):`${Ee.config.apiScheme}://${Te}`;return CookieAuthProxiedEndpoints.includes(n)&&(await Re._persistenceManagerAvailable,Re._getPersistenceType()==="COOKIE")?Re._getPersistence()._getFinalTarget(Be).toString():Be}function _parseEnforcementState(Ee){switch(Ee){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,Ce)=>{this.timer=setTimeout(()=>Ce(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}}function _makeTaggedError(Ee,t,n){const Ce={appName:Ee.name};n.email&&(Ce.email=n.email),n.phoneNumber&&(Ce.phoneNumber=n.phoneNumber);const Te=_createError(Ee,t,Ce);return Te.customData._tokenResponse=n,Te}function isEnterprise(Ee){return Ee!==void 0&&Ee.enterprise!==void 0}class RecaptchaConfig{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return _parseEnforcementState(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function getRecaptchaConfig(Ee,t){return _performApiRequest(Ee,"GET","/v2/recaptchaConfig",_addTidIfNecessary(Ee,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(Ee,t){return _performApiRequest(Ee,"POST","/v1/accounts:delete",t)}async function getAccountInfo(Ee,t){return _performApiRequest(Ee,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(Ee){if(Ee)try{const t=new Date(Number(Ee));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function getIdTokenResult(Ee,t=!1){const n=getModularInstance(Ee),Ce=await n.getIdToken(t),Te=_parseToken(Ce);_assert(Te&&Te.exp&&Te.auth_time&&Te.iat,n.auth,"internal-error");const Re=typeof Te.firebase=="object"?Te.firebase:void 0,Be=Re==null?void 0:Re.sign_in_provider;return{claims:Te,token:Ce,authTime:utcTimestampToDateString(secondsStringToMilliseconds(Te.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(Te.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(Te.exp)),signInProvider:Be||null,signInSecondFactor:(Re==null?void 0:Re.sign_in_second_factor)||null}}function secondsStringToMilliseconds(Ee){return Number(Ee)*1e3}function _parseToken(Ee){const[t,n,Ce]=Ee.split(".");if(t===void 0||n===void 0||Ce===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const Te=base64Decode(n);return Te?JSON.parse(Te):(_logError("Failed to decode base64 JWT payload"),null)}catch(Te){return _logError("Caught error parsing JWT payload as JSON",Te==null?void 0:Te.toString()),null}}function _tokenExpiresIn(Ee){const t=_parseToken(Ee);return _assert(t,"internal-error"),_assert(typeof t.exp<"u","internal-error"),_assert(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(Ee,t,n=!1){if(n)return t;try{return await t}catch(Ce){throw Ce instanceof FirebaseError&&isUserInvalidated(Ce)&&Ee.auth.currentUser===Ee&&await Ee.auth.signOut(),Ce}}function isUserInvalidated({code:Ee}){return Ee==="auth/user-disabled"||Ee==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const Ce=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),Ce}else{this.errorBackoff=3e4;const Te=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,Te)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(Ee){var t;const n=Ee.auth,Ce=await Ee.getIdToken(),Te=await _logoutIfInvalidated(Ee,getAccountInfo(n,{idToken:Ce}));_assert(Te==null?void 0:Te.users.length,n,"internal-error");const Re=Te.users[0];Ee._notifyReloadListener(Re);const Be=!((t=Re.providerUserInfo)===null||t===void 0)&&t.length?extractProviderData(Re.providerUserInfo):[],Ue=mergeProviderData(Ee.providerData,Be),Oe=Ee.isAnonymous,Me=!(Ee.email&&Re.passwordHash)&&!(Ue!=null&&Ue.length),Qe=Oe?Me:!1,Ke={uid:Re.localId,displayName:Re.displayName||null,photoURL:Re.photoUrl||null,email:Re.email||null,emailVerified:Re.emailVerified||!1,phoneNumber:Re.phoneNumber||null,tenantId:Re.tenantId||null,providerData:Ue,metadata:new UserMetadata(Re.createdAt,Re.lastLoginAt),isAnonymous:Qe};Object.assign(Ee,Ke)}async function reload(Ee){const t=getModularInstance(Ee);await _reloadWithoutSaving(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mergeProviderData(Ee,t){return[...Ee.filter(Ce=>!t.some(Te=>Te.providerId===Ce.providerId)),...t]}function extractProviderData(Ee){return Ee.map(t=>{var{providerId:n}=t,Ce=__rest$3(t,["providerId"]);return{providerId:n,uid:Ce.rawId||"",displayName:Ce.displayName||null,email:Ce.email||null,phoneNumber:Ce.phoneNumber||null,photoURL:Ce.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(Ee,t){const n=await _performFetchWithErrorHandling(Ee,{},async()=>{const Ce=querystring({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:Te,apiKey:Re}=Ee.config,Be=await _getFinalTarget(Ee,Te,"/v1/token",`key=${Re}`),Ue=await Ee._getAdditionalHeaders();Ue["Content-Type"]="application/x-www-form-urlencoded";const Oe={method:"POST",headers:Ue,body:Ce};return Ee.emulatorConfig&&isCloudWorkstation(Ee.emulatorConfig.host)&&(Oe.credentials="include"),FetchProvider.fetch()(Be,Oe)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function revokeToken(Ee,t){return _performApiRequest(Ee,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(Ee,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_assert(t.idToken,"internal-error"),_assert(typeof t.idToken<"u","internal-error"),_assert(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_tokenExpiresIn(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_assert(t.length!==0,"internal-error");const n=_tokenExpiresIn(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:Ce,refreshToken:Te,expiresIn:Re}=await requestStsToken(t,n);this.updateTokensAndExpiration(Ce,Te,Number(Re))}updateTokensAndExpiration(t,n,Ce){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+Ce*1e3}static fromJSON(t,n){const{refreshToken:Ce,accessToken:Te,expirationTime:Re}=n,Be=new StsTokenManager;return Ce&&(_assert(typeof Ce=="string","internal-error",{appName:t}),Be.refreshToken=Ce),Te&&(_assert(typeof Te=="string","internal-error",{appName:t}),Be.accessToken=Te),Re&&(_assert(typeof Re=="number","internal-error",{appName:t}),Be.expirationTime=Re),Be}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(Ee,t){_assert(typeof Ee=="string"||typeof Ee>"u","internal-error",{appName:t})}class UserImpl{constructor(t){var{uid:n,auth:Ce,stsTokenManager:Te}=t,Re=__rest$3(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=Ce,this.stsTokenManager=Te,this.accessToken=Te.accessToken,this.displayName=Re.displayName||null,this.email=Re.email||null,this.emailVerified=Re.emailVerified||!1,this.phoneNumber=Re.phoneNumber||null,this.photoURL=Re.photoURL||null,this.isAnonymous=Re.isAnonymous||!1,this.tenantId=Re.tenantId||null,this.providerData=Re.providerData?[...Re.providerData]:[],this.metadata=new UserMetadata(Re.createdAt||void 0,Re.lastLoginAt||void 0)}async getIdToken(t){const n=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,t));return _assert(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return getIdTokenResult(this,t)}reload(){return reload(this)}_assign(t){this!==t&&(_assert(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new UserImpl(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let Ce=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),Ce=!0),n&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),Ce&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const t=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var Ce,Te,Re,Be,Ue,Oe,Me,Qe;const Ke=(Ce=n.displayName)!==null&&Ce!==void 0?Ce:void 0,Ge=(Te=n.email)!==null&&Te!==void 0?Te:void 0,qe=(Re=n.phoneNumber)!==null&&Re!==void 0?Re:void 0,Xe=(Be=n.photoURL)!==null&&Be!==void 0?Be:void 0,tr=(Ue=n.tenantId)!==null&&Ue!==void 0?Ue:void 0,Je=(Oe=n._redirectEventId)!==null&&Oe!==void 0?Oe:void 0,Ye=(Me=n.createdAt)!==null&&Me!==void 0?Me:void 0,lr=(Qe=n.lastLoginAt)!==null&&Qe!==void 0?Qe:void 0,{uid:cr,emailVerified:hr,isAnonymous:ur,providerData:fr,stsTokenManager:er}=n;_assert(cr&&er,t,"internal-error");const nr=StsTokenManager.fromJSON(this.name,er);_assert(typeof cr=="string",t,"internal-error"),assertStringOrUndefined(Ke,t.name),assertStringOrUndefined(Ge,t.name),_assert(typeof hr=="boolean",t,"internal-error"),_assert(typeof ur=="boolean",t,"internal-error"),assertStringOrUndefined(qe,t.name),assertStringOrUndefined(Xe,t.name),assertStringOrUndefined(tr,t.name),assertStringOrUndefined(Je,t.name),assertStringOrUndefined(Ye,t.name),assertStringOrUndefined(lr,t.name);const ir=new UserImpl({uid:cr,auth:t,email:Ge,emailVerified:hr,displayName:Ke,isAnonymous:ur,photoURL:Xe,phoneNumber:qe,tenantId:tr,stsTokenManager:nr,createdAt:Ye,lastLoginAt:lr});return fr&&Array.isArray(fr)&&(ir.providerData=fr.map(mr=>Object.assign({},mr))),Je&&(ir._redirectEventId=Je),ir}static async _fromIdTokenResponse(t,n,Ce=!1){const Te=new StsTokenManager;Te.updateFromServerResponse(n);const Re=new UserImpl({uid:n.localId,auth:t,stsTokenManager:Te,isAnonymous:Ce});return await _reloadWithoutSaving(Re),Re}static async _fromGetAccountInfoResponse(t,n,Ce){const Te=n.users[0];_assert(Te.localId!==void 0,"internal-error");const Re=Te.providerUserInfo!==void 0?extractProviderData(Te.providerUserInfo):[],Be=!(Te.email&&Te.passwordHash)&&!(Re!=null&&Re.length),Ue=new StsTokenManager;Ue.updateFromIdToken(Ce);const Oe=new UserImpl({uid:Te.localId,auth:t,stsTokenManager:Ue,isAnonymous:Be}),Me={uid:Te.localId,displayName:Te.displayName||null,photoURL:Te.photoUrl||null,email:Te.email||null,emailVerified:Te.emailVerified||!1,phoneNumber:Te.phoneNumber||null,tenantId:Te.tenantId||null,providerData:Re,metadata:new UserMetadata(Te.createdAt,Te.lastLoginAt),isAnonymous:!(Te.email&&Te.passwordHash)&&!(Re!=null&&Re.length)};return Object.assign(Oe,Me),Oe}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(Ee){debugAssert(Ee instanceof Function,"Expected a class definition");let t=instanceCache.get(Ee);return t?(debugAssert(t instanceof Ee,"Instance stored in cache mismatched with class"),t):(t=new Ee,instanceCache.set(Ee,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(Ee,t,n){return`firebase:${Ee}:${t}:${n}`}class PersistenceUserManager{constructor(t,n,Ce){this.persistence=t,this.auth=n,this.userKey=Ce;const{config:Te,name:Re}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,Te.apiKey,Re),this.fullPersistenceKey=_persistenceKeyName("persistence",Te.apiKey,Re),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await getAccountInfo(this.auth,{idToken:t}).catch(()=>{});return n?UserImpl._fromGetAccountInfoResponse(this.auth,n,t):null}return UserImpl._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,Ce="authUser"){if(!n.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),t,Ce);const Te=(await Promise.all(n.map(async Me=>{if(await Me._isAvailable())return Me}))).filter(Me=>Me);let Re=Te[0]||_getInstance(inMemoryPersistence);const Be=_persistenceKeyName(Ce,t.config.apiKey,t.name);let Ue=null;for(const Me of n)try{const Qe=await Me._get(Be);if(Qe){let Ke;if(typeof Qe=="string"){const Ge=await getAccountInfo(t,{idToken:Qe}).catch(()=>{});if(!Ge)break;Ke=await UserImpl._fromGetAccountInfoResponse(t,Ge,Qe)}else Ke=UserImpl._fromJSON(t,Qe);Me!==Re&&(Ue=Ke),Re=Me;break}}catch{}const Oe=Te.filter(Me=>Me._shouldAllowMigration);return!Re._shouldAllowMigration||!Oe.length?new PersistenceUserManager(Re,t,Ce):(Re=Oe[0],Ue&&await Re._set(Be,Ue.toJSON()),await Promise.all(n.map(async Me=>{if(Me!==Re)try{await Me._remove(Be)}catch{}})),new PersistenceUserManager(Re,t,Ce))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(Ee){const t=Ee.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_isIEMobile(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_isFirefox(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_isBlackBerry(t))return"Blackberry";if(_isWebOS(t))return"Webos";if(_isSafari(t))return"Safari";if((t.includes("chrome/")||_isChromeIOS(t))&&!t.includes("edge/"))return"Chrome";if(_isAndroid(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,Ce=Ee.match(n);if((Ce==null?void 0:Ce.length)===2)return Ce[1]}return"Other"}function _isFirefox(Ee=getUA()){return/firefox\//i.test(Ee)}function _isSafari(Ee=getUA()){const t=Ee.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _isChromeIOS(Ee=getUA()){return/crios\//i.test(Ee)}function _isIEMobile(Ee=getUA()){return/iemobile/i.test(Ee)}function _isAndroid(Ee=getUA()){return/android/i.test(Ee)}function _isBlackBerry(Ee=getUA()){return/blackberry/i.test(Ee)}function _isWebOS(Ee=getUA()){return/webos/i.test(Ee)}function _isIOS(Ee=getUA()){return/iphone|ipad|ipod/i.test(Ee)||/macintosh/i.test(Ee)&&/mobile/i.test(Ee)}function _isIOSStandalone(Ee=getUA()){var t;return _isIOS(Ee)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(Ee=getUA()){return _isIOS(Ee)||_isAndroid(Ee)||_isWebOS(Ee)||_isBlackBerry(Ee)||/windows phone/i.test(Ee)||_isIEMobile(Ee)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(Ee,t=[]){let n;switch(Ee){case"Browser":n=_getBrowserName(getUA());break;case"Worker":n=`${_getBrowserName(getUA())}-${Ee}`;break;default:n=Ee}const Ce=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${SDK_VERSION}/${Ce}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const Ce=Re=>new Promise((Be,Ue)=>{try{const Oe=t(Re);Be(Oe)}catch(Oe){Ue(Oe)}});Ce.onAbort=n,this.queue.push(Ce);const Te=this.queue.length-1;return()=>{this.queue[Te]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const Ce of this.queue)await Ce(t),Ce.onAbort&&n.push(Ce.onAbort)}catch(Ce){n.reverse();for(const Te of n)try{Te()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:Ce==null?void 0:Ce.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(Ee,t={}){return _performApiRequest(Ee,"GET","/v2/passwordPolicy",_addTidIfNecessary(Ee,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(t){var n,Ce,Te,Re;const Be=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=Be.minPasswordLength)!==null&&n!==void 0?n:MINIMUM_MIN_PASSWORD_LENGTH,Be.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Be.maxPasswordLength),Be.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=Be.containsLowercaseCharacter),Be.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=Be.containsUppercaseCharacter),Be.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=Be.containsNumericCharacter),Be.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Be.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(Te=(Ce=t.allowedNonAlphanumericCharacters)===null||Ce===void 0?void 0:Ce.join(""))!==null&&Te!==void 0?Te:"",this.forceUpgradeOnSignin=(Re=t.forceUpgradeOnSignin)!==null&&Re!==void 0?Re:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,Ce,Te,Re,Be,Ue;const Oe={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,Oe),this.validatePasswordCharacterOptions(t,Oe),Oe.isValid&&(Oe.isValid=(n=Oe.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),Oe.isValid&&(Oe.isValid=(Ce=Oe.meetsMaxPasswordLength)!==null&&Ce!==void 0?Ce:!0),Oe.isValid&&(Oe.isValid=(Te=Oe.containsLowercaseLetter)!==null&&Te!==void 0?Te:!0),Oe.isValid&&(Oe.isValid=(Re=Oe.containsUppercaseLetter)!==null&&Re!==void 0?Re:!0),Oe.isValid&&(Oe.isValid=(Be=Oe.containsNumericCharacter)!==null&&Be!==void 0?Be:!0),Oe.isValid&&(Oe.isValid=(Ue=Oe.containsNonAlphanumericCharacter)!==null&&Ue!==void 0?Ue:!0),Oe}validatePasswordLengthOptions(t,n){const Ce=this.customStrengthOptions.minPasswordLength,Te=this.customStrengthOptions.maxPasswordLength;Ce&&(n.meetsMinPasswordLength=t.length>=Ce),Te&&(n.meetsMaxPasswordLength=t.length<=Te)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let Ce;for(let Te=0;Te<t.length;Te++)Ce=t.charAt(Te),this.updatePasswordCharacterOptionsStatuses(n,Ce>="a"&&Ce<="z",Ce>="A"&&Ce<="Z",Ce>="0"&&Ce<="9",this.allowedNonAlphanumericCharacters.includes(Ce))}updatePasswordCharacterOptionsStatuses(t,n,Ce,Te,Re){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=Ce)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=Te)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=Re))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(t,n,Ce,Te){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=Ce,this.config=Te,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=Te.sdkClientVersion,this._persistenceManagerAvailable=new Promise(Re=>this._resolvePersistenceManagerAvailable=Re)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=_getInstance(n)),this._initializationPromise=this.queue(async()=>{var Ce,Te,Re;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,t),(Ce=this._resolvePersistenceManagerAvailable)===null||Ce===void 0||Ce.call(this),!this._deleted)){if(!((Te=this._popupRedirectResolver)===null||Te===void 0)&&Te._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((Re=this.currentUser)===null||Re===void 0?void 0:Re.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await getAccountInfo(this,{idToken:t}),Ce=await UserImpl._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(Ce)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(_isFirebaseServerApp(this.app)){const Be=this.app.settings.authIdToken;return Be?new Promise(Ue=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(Be).then(Ue,Ue))}):this.directlySetCurrentUser(null)}const Ce=await this.assertedPersistence.getCurrentUser();let Te=Ce,Re=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const Be=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,Ue=Te==null?void 0:Te._redirectEventId,Oe=await this.tryRedirectSignIn(t);(!Be||Be===Ue)&&(Oe!=null&&Oe.user)&&(Te=Oe.user,Re=!0)}if(!Te)return this.directlySetCurrentUser(null);if(!Te._redirectEventId){if(Re)try{await this.beforeStateQueue.runMiddleware(Te)}catch(Be){Te=Ce,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Be))}return Te?this.reloadAndSetCurrentUserOrClear(Te):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===Te._redirectEventId?this.directlySetCurrentUser(Te):this.reloadAndSetCurrentUserOrClear(Te)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await _reloadWithoutSaving(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const n=t?getModularInstance(t):null;return n&&_assert(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_assert(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _getPasswordPolicy(this),n=new PasswordPolicyImpl(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ErrorFactory("auth","Firebase",t())}onAuthStateChanged(t,n,Ce){return this.registerStateListener(this.authStateSubscription,t,n,Ce)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,Ce){return this.registerStateListener(this.idTokenSubscription,t,n,Ce)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const Ce=this.onAuthStateChanged(()=>{Ce(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),Ce={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(Ce.tenantId=this.tenantId),await revokeToken(this,Ce)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const Ce=await this.getOrInitRedirectPersistenceManager(n);return t===null?Ce.removeCurrentUser():Ce.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&_getInstance(t)||this._popupRedirectResolver;_assert(n,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,Ce;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((Ce=this.redirectUser)===null||Ce===void 0?void 0:Ce._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const Ce=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==Ce&&(this.lastNotifiedUid=Ce,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,Ce,Te){if(this._deleted)return()=>{};const Re=typeof n=="function"?n:n.next.bind(n);let Be=!1;const Ue=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(Ue,this,"internal-error"),Ue.then(()=>{Be||Re(this.currentUser)}),typeof n=="function"){const Oe=t.addObserver(n,Ce,Te);return()=>{Be=!0,Oe()}}else{const Oe=t.addObserver(n);return()=>{Be=!0,Oe()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const Ce=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());Ce&&(n["X-Firebase-Client"]=Ce);const Te=await this._getAppCheckToken();return Te&&(n["X-Firebase-AppCheck"]=Te),n}async _getAppCheckToken(){var t;if(_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&_logWarn(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function _castAuth(Ee){return getModularInstance(Ee)}class Subscription{constructor(t){this.auth=t,this.observer=null,this.addObserver=createSubscribe(n=>this.observer=n)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(Ee){externalJSProvider=Ee}function _loadJS(Ee){return externalJSProvider.loadJS(Ee)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(Ee){return`__${Ee}${Math.floor(Math.random()*1e6)}`}class MockGreCAPTCHATopLevel{constructor(){this.enterprise=new MockGreCAPTCHA}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class MockGreCAPTCHA{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(t){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(t)}async verify(t="verify",n=!1){async function Ce(Re){if(!n){if(Re.tenantId==null&&Re._agentRecaptchaConfig!=null)return Re._agentRecaptchaConfig.siteKey;if(Re.tenantId!=null&&Re._tenantRecaptchaConfigs[Re.tenantId]!==void 0)return Re._tenantRecaptchaConfigs[Re.tenantId].siteKey}return new Promise(async(Be,Ue)=>{getRecaptchaConfig(Re,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Oe=>{if(Oe.recaptchaKey===void 0)Ue(new Error("recaptcha Enterprise site key undefined"));else{const Me=new RecaptchaConfig(Oe);return Re.tenantId==null?Re._agentRecaptchaConfig=Me:Re._tenantRecaptchaConfigs[Re.tenantId]=Me,Be(Me.siteKey)}}).catch(Oe=>{Ue(Oe)})})}function Te(Re,Be,Ue){const Oe=window.grecaptcha;isEnterprise(Oe)?Oe.enterprise.ready(()=>{Oe.enterprise.execute(Re,{action:t}).then(Me=>{Be(Me)}).catch(()=>{Be(FAKE_TOKEN)})}):Ue(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MockGreCAPTCHATopLevel().execute("siteKey",{action:"verify"}):new Promise((Re,Be)=>{Ce(this.auth).then(Ue=>{if(!n&&isEnterprise(window.grecaptcha))Te(Ue,Re,Be);else{if(typeof window>"u"){Be(new Error("RecaptchaVerifier is only supported in browser"));return}let Oe=_recaptchaEnterpriseScriptUrl();Oe.length!==0&&(Oe+=Ue),_loadJS(Oe).then(()=>{Te(Ue,Re,Be)}).catch(Me=>{Be(Me)})}}).catch(Ue=>{Be(Ue)})})}}async function injectRecaptchaFields(Ee,t,n,Ce=!1,Te=!1){const Re=new RecaptchaEnterpriseVerifier(Ee);let Be;if(Te)Be=FAKE_TOKEN;else try{Be=await Re.verify(n)}catch{Be=await Re.verify(n,!0)}const Ue=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in Ue){const Oe=Ue.phoneEnrollmentInfo.phoneNumber,Me=Ue.phoneEnrollmentInfo.recaptchaToken;Object.assign(Ue,{phoneEnrollmentInfo:{phoneNumber:Oe,recaptchaToken:Me,captchaResponse:Be,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in Ue){const Oe=Ue.phoneSignInInfo.recaptchaToken;Object.assign(Ue,{phoneSignInInfo:{recaptchaToken:Oe,captchaResponse:Be,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return Ue}return Ce?Object.assign(Ue,{captchaResp:Be}):Object.assign(Ue,{captchaResponse:Be}),Object.assign(Ue,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ue,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ue}async function handleRecaptchaFlow(Ee,t,n,Ce,Te){var Re;if(!((Re=Ee._getRecaptchaConfig())===null||Re===void 0)&&Re.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Be=await injectRecaptchaFields(Ee,t,n,n==="getOobCode");return Ce(Ee,Be)}else return Ce(Ee,t).catch(async Be=>{if(Be.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ue=await injectRecaptchaFields(Ee,t,n,n==="getOobCode");return Ce(Ee,Ue)}else return Promise.reject(Be)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(Ee,t){const n=_getProvider(Ee,"auth");if(n.isInitialized()){const Te=n.getImmediate(),Re=n.getOptions();if(deepEqual(Re,t??{}))return Te;_fail(Te,"already-initialized")}return n.initialize({options:t})}function _initializeAuthInstance(Ee,t){const n=(t==null?void 0:t.persistence)||[],Ce=(Array.isArray(n)?n:[n]).map(_getInstance);t!=null&&t.errorMap&&Ee._updateErrorMap(t.errorMap),Ee._initializeWithPersistence(Ce,t==null?void 0:t.popupRedirectResolver)}function connectAuthEmulator(Ee,t,n){const Ce=_castAuth(Ee);_assert(/^https?:\/\//.test(t),Ce,"invalid-emulator-scheme");const Te=!1,Re=extractProtocol(t),{host:Be,port:Ue}=extractHostAndPort(t),Oe=Ue===null?"":`:${Ue}`,Me={url:`${Re}//${Be}${Oe}/`},Qe=Object.freeze({host:Be,port:Ue,protocol:Re.replace(":",""),options:Object.freeze({disableWarnings:Te})});if(!Ce._canInitEmulator){_assert(Ce.config.emulator&&Ce.emulatorConfig,Ce,"emulator-config-failed"),_assert(deepEqual(Me,Ce.config.emulator)&&deepEqual(Qe,Ce.emulatorConfig),Ce,"emulator-config-failed");return}Ce.config.emulator=Me,Ce.emulatorConfig=Qe,Ce.settings.appVerificationDisabledForTesting=!0,isCloudWorkstation(Be)?(pingServer(`${Re}//${Be}${Oe}`),updateEmulatorBanner("Auth",!0)):emitEmulatorWarning()}function extractProtocol(Ee){const t=Ee.indexOf(":");return t<0?"":Ee.substr(0,t+1)}function extractHostAndPort(Ee){const t=extractProtocol(Ee),n=/(\/\/)?([^?#/]+)/.exec(Ee.substr(t.length));if(!n)return{host:"",port:null};const Ce=n[2].split("@").pop()||"",Te=/^(\[[^\]]+\])(:|$)/.exec(Ce);if(Te){const Re=Te[1];return{host:Re,port:parsePort(Ce.substr(Re.length+1))}}else{const[Re,Be]=Ce.split(":");return{host:Re,port:parsePort(Be)}}}function parsePort(Ee){if(!Ee)return null;const t=Number(Ee);return isNaN(t)?null:t}function emitEmulatorWarning(){function Ee(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",Ee):Ee())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(t){return debugFail("not implemented")}_linkToIdToken(t,n){return debugFail("not implemented")}_getReauthenticationResolver(t){return debugFail("not implemented")}}async function linkEmailPassword(Ee,t){return _performApiRequest(Ee,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(Ee,t){return _performSignInRequest(Ee,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(Ee,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(Ee,t){return _performSignInRequest(Ee,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(Ee,t))}async function signInWithEmailLinkForLinking(Ee,t){return _performSignInRequest(Ee,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(Ee,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(t,n,Ce,Te=null){super("password",Ce),this._email=t,this._password=n,this._tenantId=Te}static _fromEmailAndPassword(t,n){return new EmailAuthCredential(t,n,"password")}static _fromEmailAndCode(t,n,Ce=null){return new EmailAuthCredential(t,n,"emailLink",Ce)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(t,n,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(t,{email:this._email,oobCode:this._password});default:_fail(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const Ce={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(t,Ce,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(t,{idToken:n,email:this._email,oobCode:this._password});default:_fail(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(Ee,t){return _performSignInRequest(Ee,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(Ee,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new OAuthCredential(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):_fail("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:Ce,signInMethod:Te}=n,Re=__rest$3(n,["providerId","signInMethod"]);if(!Ce||!Te)return null;const Be=new OAuthCredential(Ce,Te);return Be.idToken=Re.idToken||void 0,Be.accessToken=Re.accessToken||void 0,Be.secret=Re.secret,Be.nonce=Re.nonce,Be.pendingToken=Re.pendingToken||null,Be}_getIdTokenResponse(t){const n=this.buildRequest();return signInWithIdp(t,n)}_linkToIdToken(t,n){const Ce=this.buildRequest();return Ce.idToken=n,signInWithIdp(t,Ce)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,signInWithIdp(t,n)}buildRequest(){const t={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=querystring(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(Ee){switch(Ee){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(Ee){const t=querystringDecode(extractQuerystring(Ee)).link,n=t?querystringDecode(extractQuerystring(t)).deep_link_id:null,Ce=querystringDecode(extractQuerystring(Ee)).deep_link_id;return(Ce?querystringDecode(extractQuerystring(Ce)).link:null)||Ce||n||t||Ee}class ActionCodeURL{constructor(t){var n,Ce,Te,Re,Be,Ue;const Oe=querystringDecode(extractQuerystring(t)),Me=(n=Oe.apiKey)!==null&&n!==void 0?n:null,Qe=(Ce=Oe.oobCode)!==null&&Ce!==void 0?Ce:null,Ke=parseMode((Te=Oe.mode)!==null&&Te!==void 0?Te:null);_assert(Me&&Qe&&Ke,"argument-error"),this.apiKey=Me,this.operation=Ke,this.code=Qe,this.continueUrl=(Re=Oe.continueUrl)!==null&&Re!==void 0?Re:null,this.languageCode=(Be=Oe.lang)!==null&&Be!==void 0?Be:null,this.tenantId=(Ue=Oe.tenantId)!==null&&Ue!==void 0?Ue:null}static parseLink(t){const n=parseDeepLink(t);try{return new ActionCodeURL(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(t,n){return EmailAuthCredential._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const Ce=ActionCodeURL.parseLink(n);return _assert(Ce,"argument-error"),EmailAuthCredential._fromEmailAndCode(t,Ce.code,Ce.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(t){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return FacebookAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return FacebookAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(t.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return GoogleAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return GoogleAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:Ce}=t;if(!n&&!Ce)return null;try{return GoogleAuthProvider.credential(n,Ce)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(t){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return GithubAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return GithubAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return GithubAuthProvider.credential(t.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(t,n){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return TwitterAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return TwitterAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:Ce}=t;if(!n||!Ce)return null;try{return TwitterAuthProvider.credential(n,Ce)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(Ee,t){return _performSignInRequest(Ee,"POST","/v1/accounts:signUp",_addTidIfNecessary(Ee,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,Ce,Te=!1){const Re=await UserImpl._fromIdTokenResponse(t,Ce,Te),Be=providerIdForResponse(Ce);return new UserCredentialImpl({user:Re,providerId:Be,_tokenResponse:Ce,operationType:n})}static async _forOperation(t,n,Ce){await t._updateTokensIfNecessary(Ce,!0);const Te=providerIdForResponse(Ce);return new UserCredentialImpl({user:t,providerId:Te,_tokenResponse:Ce,operationType:n})}}function providerIdForResponse(Ee){return Ee.providerId?Ee.providerId:"phoneNumber"in Ee?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(t,n,Ce,Te){var Re;super(n.code,n.message),this.operationType=Ce,this.user=Te,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:t.name,tenantId:(Re=t.tenantId)!==null&&Re!==void 0?Re:void 0,_serverResponse:n.customData._serverResponse,operationType:Ce}}static _fromErrorAndOperation(t,n,Ce,Te){return new MultiFactorError(t,n,Ce,Te)}}function _processCredentialSavingMfaContextIfNecessary(Ee,t,n,Ce){return(t==="reauthenticate"?n._getReauthenticationResolver(Ee):n._getIdTokenResponse(Ee)).catch(Re=>{throw Re.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(Ee,Re,t,Ce):Re})}async function _link$1(Ee,t,n=!1){const Ce=await _logoutIfInvalidated(Ee,t._linkToIdToken(Ee.auth,await Ee.getIdToken()),n);return UserCredentialImpl._forOperation(Ee,"link",Ce)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(Ee,t,n=!1){const{auth:Ce}=Ee;if(_isFirebaseServerApp(Ce.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ce));const Te="reauthenticate";try{const Re=await _logoutIfInvalidated(Ee,_processCredentialSavingMfaContextIfNecessary(Ce,Te,t,Ee),n);_assert(Re.idToken,Ce,"internal-error");const Be=_parseToken(Re.idToken);_assert(Be,Ce,"internal-error");const{sub:Ue}=Be;return _assert(Ee.uid===Ue,Ce,"user-mismatch"),UserCredentialImpl._forOperation(Ee,Te,Re)}catch(Re){throw(Re==null?void 0:Re.code)==="auth/user-not-found"&&_fail(Ce,"user-mismatch"),Re}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(Ee,t,n=!1){if(_isFirebaseServerApp(Ee.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ee));const Ce="signIn",Te=await _processCredentialSavingMfaContextIfNecessary(Ee,Ce,t),Re=await UserCredentialImpl._fromIdTokenResponse(Ee,Ce,Te);return n||await Ee._updateCurrentUser(Re.user),Re}async function signInWithCredential(Ee,t){return _signInWithCredential(_castAuth(Ee),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(Ee){const t=_castAuth(Ee);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function createUserWithEmailAndPassword(Ee,t,n){if(_isFirebaseServerApp(Ee.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ee));const Ce=_castAuth(Ee),Be=await handleRecaptchaFlow(Ce,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp).catch(Oe=>{throw Oe.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(Ee),Oe}),Ue=await UserCredentialImpl._fromIdTokenResponse(Ce,"signIn",Be);return await Ce._updateCurrentUser(Ue.user),Ue}function signInWithEmailAndPassword(Ee,t,n){return _isFirebaseServerApp(Ee.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ee)):signInWithCredential(getModularInstance(Ee),EmailAuthProvider.credential(t,n)).catch(async Ce=>{throw Ce.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(Ee),Ce})}function onIdTokenChanged(Ee,t,n,Ce){return getModularInstance(Ee).onIdTokenChanged(t,n,Ce)}function beforeAuthStateChanged(Ee,t,n){return getModularInstance(Ee).beforeAuthStateChanged(t,n)}function onAuthStateChanged(Ee,t,n,Ce){return getModularInstance(Ee).onAuthStateChanged(t,n,Ce)}function signOut(Ee){return getModularInstance(Ee).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const Ce=this.storage.getItem(n),Te=this.localCache[n];Ce!==Te&&t(n,Te,Ce)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((Be,Ue,Oe)=>{this.notifyListeners(Be,Oe)});return}const Ce=t.key;n?this.detachListener():this.stopPolling();const Te=()=>{const Be=this.storage.getItem(Ce);!n&&this.localCache[Ce]===Be||this.notifyListeners(Ce,Be)},Re=this.storage.getItem(Ce);_isIE10()&&Re!==t.newValue&&t.newValue!==t.oldValue?setTimeout(Te,IE10_LOCAL_STORAGE_SYNC_DELAY):Te()}notifyListeners(t,n){this.localCache[t]=n;const Ce=this.listeners[t];if(Ce)for(const Te of Array.from(Ce))Te(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,Ce)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:Ce}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(Ee){return Promise.all(Ee.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(Te=>Te.isListeningto(t));if(n)return n;const Ce=new Receiver(t);return this.receivers.push(Ce),Ce}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:Ce,eventType:Te,data:Re}=n.data,Be=this.handlersMap[Te];if(!(Be!=null&&Be.size))return;n.ports[0].postMessage({status:"ack",eventId:Ce,eventType:Te});const Ue=Array.from(Be).map(async Me=>Me(n.origin,Re)),Oe=await _allSettled(Ue);n.ports[0].postMessage({status:"done",eventId:Ce,eventType:Te,response:Oe})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(Ee="",t=10){let n="";for(let Ce=0;Ce<t;Ce++)n+=Math.floor(Math.random()*10);return Ee+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,Ce=50){const Te=typeof MessageChannel<"u"?new MessageChannel:null;if(!Te)throw new Error("connection_unavailable");let Re,Be;return new Promise((Ue,Oe)=>{const Me=_generateEventId("",20);Te.port1.start();const Qe=setTimeout(()=>{Oe(new Error("unsupported_event"))},Ce);Be={messageChannel:Te,onMessage(Ke){const Ge=Ke;if(Ge.data.eventId===Me)switch(Ge.data.status){case"ack":clearTimeout(Qe),Re=setTimeout(()=>{Oe(new Error("timeout"))},3e3);break;case"done":clearTimeout(Re),Ue(Ge.data.response);break;default:clearTimeout(Qe),clearTimeout(Re),Oe(new Error("invalid_response"));break}}},this.handlers.add(Be),Te.port1.addEventListener("message",Be.onMessage),this.target.postMessage({eventType:t,eventId:Me,data:n},[Te.port2])}).finally(()=>{Be&&this.removeMessageHandler(Be)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(Ee){_window().location.href=Ee}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var Ee;return((Ee=navigator==null?void 0:navigator.serviceWorker)===null||Ee===void 0?void 0:Ee.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function getObjectStore(Ee,t){return Ee.transaction([DB_OBJECTSTORE_NAME],t?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const Ee=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(Ee).toPromise()}function _openDatabase(){const Ee=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((t,n)=>{Ee.addEventListener("error",()=>{n(Ee.error)}),Ee.addEventListener("upgradeneeded",()=>{const Ce=Ee.result;try{Ce.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(Te){n(Te)}}),Ee.addEventListener("success",async()=>{const Ce=Ee.result;Ce.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?t(Ce):(Ce.close(),await _deleteDatabase(),t(await _openDatabase()))})})}async function _putObject(Ee,t,n){const Ce=getObjectStore(Ee,!0).put({[DB_DATA_KEYPATH]:t,value:n});return new DBPromise(Ce).toPromise()}async function getObject(Ee,t){const n=getObjectStore(Ee,!1).get(t),Ce=await new DBPromise(n).toPromise();return Ce===void 0?null:Ce.value}function _deleteObject(Ee,t){const n=getObjectStore(Ee,!0).delete(t);return new DBPromise(n).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(t){let n=0;for(;;)try{const Ce=await this._openDb();return await t(Ce)}catch(Ce){if(n++>_TRANSACTION_RETRY_COUNT)throw Ce;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const Ce=await this.sender._send("ping",{},800);Ce&&!((t=Ce[0])===null||t===void 0)&&t.fulfilled&&!((n=Ce[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _openDatabase();return await _putObject(t,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(t,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(Ce=>_putObject(Ce,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(Ce=>getObject(Ce,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>_deleteObject(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(Te=>{const Re=getObjectStore(Te,!1).getAll();return new DBPromise(Re).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],Ce=new Set;if(t.length!==0)for(const{fbase_key:Te,value:Re}of t)Ce.add(Te),JSON.stringify(this.localCache[Te])!==JSON.stringify(Re)&&(this.notifyListeners(Te,Re),n.push(Te));for(const Te of Object.keys(this.localCache))this.localCache[Te]&&!Ce.has(Te)&&(this.notifyListeners(Te,null),n.push(Te));return n}notifyListeners(t,n){this.localCache[t]=n;const Ce=this.listeners[t];if(Ce)for(const Te of Array.from(Ce))Te(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(Ee,t){return t?_getInstance(t):(_assert(Ee._popupRedirectResolver,Ee,"argument-error"),Ee._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return signInWithIdp(t,this._buildIdpRequest())}_linkToIdToken(t,n){return signInWithIdp(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return signInWithIdp(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function _signIn(Ee){return _signInWithCredential(Ee.auth,new IdpCredential(Ee),Ee.bypassAuthState)}function _reauth(Ee){const{auth:t,user:n}=Ee;return _assert(n,t,"internal-error"),_reauthenticate(n,new IdpCredential(Ee),Ee.bypassAuthState)}async function _link(Ee){const{auth:t,user:n}=Ee;return _assert(n,t,"internal-error"),_link$1(n,new IdpCredential(Ee),Ee.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(t,n,Ce,Te,Re=!1){this.auth=t,this.resolver=Ce,this.user=Te,this.bypassAuthState=Re,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Ce){this.reject(Ce)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:Ce,postBody:Te,tenantId:Re,error:Be,type:Ue}=t;if(Be){this.reject(Be);return}const Oe={auth:this.auth,requestUri:n,sessionId:Ce,tenantId:Re||void 0,postBody:Te||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(Ue)(Oe))}catch(Me){this.reject(Me)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(t){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(t,n,Ce,Te,Re){super(t,n,Te,Re),this.provider=Ce,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _assert(t,this.auth,"internal-error"),t}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const t=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,Ce;if(!((Ce=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||Ce===void 0)&&Ce.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,_POLL_WINDOW_CLOSE_TIMEOUT.get())};t()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(t,n,Ce=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,Ce),this.eventId=null}async execute(){let t=redirectOutcomeMap.get(this.auth._key());if(!t){try{const Ce=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(Ce)}catch(n){t=()=>Promise.reject(n)}redirectOutcomeMap.set(this.auth._key(),t)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(Ee,t){const n=pendingRedirectKey(t),Ce=resolverPersistence(Ee);if(!await Ce._isAvailable())return!1;const Te=await Ce._get(n)==="true";return await Ce._remove(n),Te}function _overrideRedirectResult(Ee,t){redirectOutcomeMap.set(Ee._key(),t)}function resolverPersistence(Ee){return _getInstance(Ee._redirectPersistence)}function pendingRedirectKey(Ee){return _persistenceKeyName(PENDING_REDIRECT_KEY,Ee.config.apiKey,Ee.name)}async function _getRedirectResult(Ee,t,n=!1){if(_isFirebaseServerApp(Ee.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ee));const Ce=_castAuth(Ee),Te=_withDefaultResolver(Ce,t),Be=await new RedirectAction(Ce,Te,n).execute();return Be&&!n&&(delete Be.user._redirectEventId,await Ce._persistUserIfCurrent(Be.user),await Ce._setRedirectUser(null,t)),Be}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=600*1e3;class AuthEventManager{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(Ce=>{this.isEventForConsumer(t,Ce)&&(n=!0,this.sendToConsumer(t,Ce),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!isRedirectEvent(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var Ce;if(t.error&&!isNullRedirectEvent(t)){const Te=((Ce=t.error.code)===null||Ce===void 0?void 0:Ce.split("auth/")[1])||"internal-error";n.onError(_createError(this.auth,Te))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const Ce=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&Ce}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(t))}saveEventToCache(t){this.cachedEventUids.add(eventUid(t)),this.lastProcessedEventTime=Date.now()}}function eventUid(Ee){return[Ee.type,Ee.eventId,Ee.sessionId,Ee.tenantId].filter(t=>t).join("-")}function isNullRedirectEvent({type:Ee,error:t}){return Ee==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function isRedirectEvent(Ee){switch(Ee.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(Ee);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(Ee,t={}){return _performApiRequest(Ee,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(Ee){if(Ee.config.emulator)return;const{authorizedDomains:t}=await _getProjectConfig(Ee);for(const n of t)try{if(matchDomain(n))return}catch{}_fail(Ee,"unauthorized-domain")}function matchDomain(Ee){const t=_getCurrentUrl(),{protocol:n,hostname:Ce}=new URL(t);if(Ee.startsWith("chrome-extension://")){const Be=new URL(Ee);return Be.hostname===""&&Ce===""?n==="chrome-extension:"&&Ee.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&Be.hostname===Ce}if(!HTTP_REGEX.test(n))return!1;if(IP_ADDRESS_REGEX.test(Ee))return Ce===Ee;const Te=Ee.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Te+"|"+Te+")$","i").test(Ce)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const Ee=_window().___jsl;if(Ee!=null&&Ee.H){for(const t of Object.keys(Ee.H))if(Ee.H[t].r=Ee.H[t].r||[],Ee.H[t].L=Ee.H[t].L||[],Ee.H[t].r=[...Ee.H[t].L],Ee.CP)for(let n=0;n<Ee.CP.length;n++)Ee.CP[n]=null}}function loadGapi(Ee){return new Promise((t,n)=>{var Ce,Te,Re;function Be(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),n(_createError(Ee,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((Te=(Ce=_window().gapi)===null||Ce===void 0?void 0:Ce.iframes)===null||Te===void 0)&&Te.Iframe)t(gapi.iframes.getContext());else if(!((Re=_window().gapi)===null||Re===void 0)&&Re.load)Be();else{const Ue=_generateCallbackName("iframefcb");return _window()[Ue]=()=>{gapi.load?Be():n(_createError(Ee,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${Ue}`).catch(Oe=>n(Oe))}}).catch(t=>{throw cachedGApiLoader=null,t})}let cachedGApiLoader=null;function _loadGapi(Ee){return cachedGApiLoader=cachedGApiLoader||loadGapi(Ee),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(Ee){const t=Ee.config;_assert(t.authDomain,Ee,"auth-domain-config-required");const n=t.emulator?_emulatorUrl(t,EMULATED_IFRAME_PATH):`https://${Ee.config.authDomain}/${IFRAME_PATH}`,Ce={apiKey:t.apiKey,appName:Ee.name,v:SDK_VERSION},Te=EID_FROM_APIHOST.get(Ee.config.apiHost);Te&&(Ce.eid=Te);const Re=Ee._getFrameworks();return Re.length&&(Ce.fw=Re.join(",")),`${n}?${querystring(Ce).slice(1)}`}async function _openIframe(Ee){const t=await _loadGapi(Ee),n=_window().gapi;return _assert(n,Ee,"internal-error"),t.open({where:document.body,url:getIframeUrl(Ee),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},Ce=>new Promise(async(Te,Re)=>{await Ce.restyle({setHideOnLeave:!1});const Be=_createError(Ee,"network-request-failed"),Ue=_window().setTimeout(()=>{Re(Be)},PING_TIMEOUT.get());function Oe(){_window().clearTimeout(Ue),Te(Ce)}Ce.ping(Oe).then(Oe,()=>{Re(Be)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(Ee,t,n,Ce=DEFAULT_WIDTH,Te=DEFAULT_HEIGHT){const Re=Math.max((window.screen.availHeight-Te)/2,0).toString(),Be=Math.max((window.screen.availWidth-Ce)/2,0).toString();let Ue="";const Oe=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:Ce.toString(),height:Te.toString(),top:Re,left:Be}),Me=getUA().toLowerCase();n&&(Ue=_isChromeIOS(Me)?TARGET_BLANK:n),_isFirefox(Me)&&(t=t||FIREFOX_EMPTY_URL,Oe.scrollbars="yes");const Qe=Object.entries(Oe).reduce((Ge,[qe,Xe])=>`${Ge}${qe}=${Xe},`,"");if(_isIOSStandalone(Me)&&Ue!=="_self")return openAsNewWindowIOS(t||"",Ue),new AuthPopup(null);const Ke=window.open(t||"",Ue,Qe);_assert(Ke,Ee,"popup-blocked");try{Ke.focus()}catch{}return new AuthPopup(Ke)}function openAsNewWindowIOS(Ee,t){const n=document.createElement("a");n.href=Ee,n.target=t;const Ce=document.createEvent("MouseEvent");Ce.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(Ce)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(Ee,t,n,Ce,Te,Re){_assert(Ee.config.authDomain,Ee,"auth-domain-config-required"),_assert(Ee.config.apiKey,Ee,"invalid-api-key");const Be={apiKey:Ee.config.apiKey,appName:Ee.name,authType:n,redirectUrl:Ce,v:SDK_VERSION,eventId:Te};if(t instanceof FederatedAuthProvider){t.setDefaultLanguage(Ee.languageCode),Be.providerId=t.providerId||"",isEmpty$1(t.getCustomParameters())||(Be.customParameters=JSON.stringify(t.getCustomParameters()));for(const[Qe,Ke]of Object.entries({}))Be[Qe]=Ke}if(t instanceof BaseOAuthProvider){const Qe=t.getScopes().filter(Ke=>Ke!=="");Qe.length>0&&(Be.scopes=Qe.join(","))}Ee.tenantId&&(Be.tid=Ee.tenantId);const Ue=Be;for(const Qe of Object.keys(Ue))Ue[Qe]===void 0&&delete Ue[Qe];const Oe=await Ee._getAppCheckToken(),Me=Oe?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(Oe)}`:"";return`${getHandlerBase(Ee)}?${querystring(Ue).slice(1)}${Me}`}function getHandlerBase({config:Ee}){return Ee.emulator?_emulatorUrl(Ee,EMULATOR_WIDGET_PATH):`https://${Ee.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(t,n,Ce,Te){var Re;debugAssert((Re=this.eventManagers[t._key()])===null||Re===void 0?void 0:Re.manager,"_initialize() not called before _openPopup()");const Be=await _getRedirectUrl(t,n,Ce,_getCurrentUrl(),Te);return _open(t,Be,_generateEventId())}async _openRedirect(t,n,Ce,Te){await this._originValidation(t);const Re=await _getRedirectUrl(t,n,Ce,_getCurrentUrl(),Te);return _setWindowLocation(Re),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:Te,promise:Re}=this.eventManagers[n];return Te?Promise.resolve(Te):(debugAssert(Re,"If manager is not set, promise should be"),Re)}const Ce=this.initAndGetManager(t);return this.eventManagers[n]={promise:Ce},Ce.catch(()=>{delete this.eventManagers[n]}),Ce}async initAndGetManager(t){const n=await _openIframe(t),Ce=new AuthEventManager(t);return n.register("authEvent",Te=>(_assert(Te==null?void 0:Te.authEvent,t,"invalid-auth-event"),{status:Ce.onEvent(Te.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:Ce},this.iframes[t._key()]=n,Ce}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},Te=>{var Re;const Be=(Re=Te==null?void 0:Te[0])===null||Re===void 0?void 0:Re[WEB_STORAGE_SUPPORT_KEY];Be!==void 0&&n(!!Be),_fail(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_validateOrigin(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$2="@firebase/auth",version$2="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(Ce=>{t((Ce==null?void 0:Ce.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(Ee){switch(Ee){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(Ee){_registerComponent(new Component("auth",(t,{options:n})=>{const Ce=t.getProvider("app").getImmediate(),Te=t.getProvider("heartbeat"),Re=t.getProvider("app-check-internal"),{apiKey:Be,authDomain:Ue}=Ce.options;_assert(Be&&!Be.includes(":"),"invalid-api-key",{appName:Ce.name});const Oe={apiKey:Be,authDomain:Ue,clientPlatform:Ee,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(Ee)},Me=new AuthImpl(Ce,Te,Re,Oe);return _initializeAuthInstance(Me,n),Me},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,Ce)=>{t.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",t=>{const n=_castAuth(t.getProvider("auth").getImmediate());return(Ce=>new AuthInterop(Ce))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$2,version$2,getVersionForPlatform(Ee)),registerVersion(name$2,version$2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=300,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=Ee=>async t=>{const n=t&&await t.getIdTokenResult(),Ce=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(Ce&&Ce>authIdTokenMaxAge)return;const Te=n==null?void 0:n.token;lastPostedIdToken!==Te&&(lastPostedIdToken=Te,await fetch(Ee,{method:Te?"POST":"DELETE",headers:Te?{Authorization:`Bearer ${Te}`}:{}}))};function getAuth(Ee=getApp()){const t=_getProvider(Ee,"auth");if(t.isInitialized())return t.getImmediate();const n=initializeAuth(Ee,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),Ce=getExperimentalSetting("authTokenSyncURL");if(Ce&&typeof isSecureContext=="boolean"&&isSecureContext){const Re=new URL(Ce,location.origin);if(location.origin===Re.origin){const Be=mintCookieFactory(Re.toString());beforeAuthStateChanged(n,Be,()=>Be(n.currentUser)),onIdTokenChanged(n,Ue=>Be(Ue))}}const Te=getDefaultEmulatorHost("auth");return Te&&connectAuthEmulator(n,`http://${Te}`),n}function getScriptParentElement(){var Ee,t;return(t=(Ee=document.getElementsByTagName("head"))===null||Ee===void 0?void 0:Ee[0])!==null&&t!==void 0?t:document}_setExternalJSProvider({loadJS(Ee){return new Promise((t,n)=>{const Ce=document.createElement("script");Ce.setAttribute("src",Ee),Ce.onload=t,Ce.onerror=Te=>{const Re=_createError("internal-error");Re.customData=Te,n(Re)},Ce.type="text/javascript",Ce.charset="UTF-8",getScriptParentElement().appendChild(Ce)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __awaiter$3(Ee,t,n,Ce){function Te(Re){return Re instanceof n?Re:new n(function(Be){Be(Re)})}return new(n||(n=Promise))(function(Re,Be){function Ue(Qe){try{Me(Ce.next(Qe))}catch(Ke){Be(Ke)}}function Oe(Qe){try{Me(Ce.throw(Qe))}catch(Ke){Be(Ke)}}function Me(Qe){Qe.done?Re(Qe.value):Te(Qe.value).then(Ue,Oe)}Me((Ce=Ce.apply(Ee,[])).next())})}function __generator$2(Ee,t){var n={label:0,sent:function(){if(Re[0]&1)throw Re[1];return Re[1]},trys:[],ops:[]},Ce,Te,Re,Be;return Be={next:Ue(0),throw:Ue(1),return:Ue(2)},typeof Symbol=="function"&&(Be[Symbol.iterator]=function(){return this}),Be;function Ue(Me){return function(Qe){return Oe([Me,Qe])}}function Oe(Me){if(Ce)throw new TypeError("Generator is already executing.");for(;n;)try{if(Ce=1,Te&&(Re=Me[0]&2?Te.return:Me[0]?Te.throw||((Re=Te.return)&&Re.call(Te),0):Te.next)&&!(Re=Re.call(Te,Me[1])).done)return Re;switch(Te=0,Re&&(Me=[Me[0]&2,Re.value]),Me[0]){case 0:case 1:Re=Me;break;case 4:return n.label++,{value:Me[1],done:!1};case 5:n.label++,Te=Me[1],Me=[0];continue;case 7:Me=n.ops.pop(),n.trys.pop();continue;default:if(Re=n.trys,!(Re=Re.length>0&&Re[Re.length-1])&&(Me[0]===6||Me[0]===2)){n=0;continue}if(Me[0]===3&&(!Re||Me[1]>Re[0]&&Me[1]<Re[3])){n.label=Me[1];break}if(Me[0]===6&&n.label<Re[1]){n.label=Re[1],Re=Me;break}if(Re&&n.label<Re[2]){n.label=Re[2],n.ops.push(Me);break}Re[2]&&n.ops.pop(),n.trys.pop();continue}Me=t.call(Ee,n)}catch(Qe){Me=[6,Qe],Te=0}finally{Ce=Re=0}if(Me[0]&5)throw Me[1];return{value:Me[0]?Me[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign$2=function(){return __assign$2=Object.assign||function(t){for(var n,Ce=1,Te=arguments.length;Ce<Te;Ce++){n=arguments[Ce];for(var Re in n)Object.prototype.hasOwnProperty.call(n,Re)&&(t[Re]=n[Re])}return t},__assign$2.apply(this,arguments)},defaultState=function(Ee){return{loading:Ee==null,value:Ee}},reducer$1=function(){return function(Ee,t){switch(t.type){case"error":return __assign$2(__assign$2({},Ee),{error:t.error,loading:!1,value:void 0});case"reset":return defaultState(t.defaultValue);case"value":return __assign$2(__assign$2({},Ee),{error:void 0,loading:!1,value:t.value});default:return Ee}}},useLoadingValue=(function(Ee){var t=Ee?Ee():void 0,n=reactExports.useReducer(reducer$1(),defaultState(t)),Ce=n[0],Te=n[1],Re=reactExports.useCallback(function(){var Oe=Ee?Ee():void 0;Te({type:"reset",defaultValue:Oe})},[Ee]),Be=reactExports.useCallback(function(Oe){Te({type:"error",error:Oe})},[]),Ue=reactExports.useCallback(function(Oe){Te({type:"value",value:Oe})},[]);return reactExports.useMemo(function(){return{error:Ce.error,loading:Ce.loading,reset:Re,setError:Be,setValue:Ue,value:Ce.value}},[Ce.error,Ce.loading,Re,Be,Ue,Ce.value])}),useAuthState=(function(Ee,t){var n=useLoadingValue(function(){return Ee.currentUser}),Ce=n.error,Te=n.loading,Re=n.setError,Be=n.setValue,Ue=n.value;return reactExports.useEffect(function(){var Oe=onAuthStateChanged(Ee,function(Me){return __awaiter$3(void 0,void 0,void 0,function(){var Qe;return __generator$2(this,function(Ke){switch(Ke.label){case 0:return[3,4];case 1:return Ke.trys.push([1,3,,4]),[4,t.onUserChanged(Me)];case 2:return Ke.sent(),[3,4];case 3:return Qe=Ke.sent(),Re(Qe),[3,4];case 4:return Be(Me),[2]}})})},Re);return function(){Oe()}},[Ee]),[Ue,Te,Ce]}),name$1="firebase",version$1="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$1,version$1,"app");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var Ee;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(er,nr){function ir(){}ir.prototype=nr.prototype,er.D=nr.prototype,er.prototype=new ir,er.prototype.constructor=er,er.C=function(mr,$e,Ar){for(var or=Array(arguments.length-2),Tr=2;Tr<arguments.length;Tr++)or[Tr-2]=arguments[Tr];return nr.prototype[$e].apply(mr,or)}}function n(){this.blockSize=-1}function Ce(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(Ce,n),Ce.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function Te(er,nr,ir){ir||(ir=0);var mr=Array(16);if(typeof nr=="string")for(var $e=0;16>$e;++$e)mr[$e]=nr.charCodeAt(ir++)|nr.charCodeAt(ir++)<<8|nr.charCodeAt(ir++)<<16|nr.charCodeAt(ir++)<<24;else for($e=0;16>$e;++$e)mr[$e]=nr[ir++]|nr[ir++]<<8|nr[ir++]<<16|nr[ir++]<<24;nr=er.g[0],ir=er.g[1],$e=er.g[2];var Ar=er.g[3],or=nr+(Ar^ir&($e^Ar))+mr[0]+3614090360&4294967295;nr=ir+(or<<7&4294967295|or>>>25),or=Ar+($e^nr&(ir^$e))+mr[1]+3905402710&4294967295,Ar=nr+(or<<12&4294967295|or>>>20),or=$e+(ir^Ar&(nr^ir))+mr[2]+606105819&4294967295,$e=Ar+(or<<17&4294967295|or>>>15),or=ir+(nr^$e&(Ar^nr))+mr[3]+3250441966&4294967295,ir=$e+(or<<22&4294967295|or>>>10),or=nr+(Ar^ir&($e^Ar))+mr[4]+4118548399&4294967295,nr=ir+(or<<7&4294967295|or>>>25),or=Ar+($e^nr&(ir^$e))+mr[5]+1200080426&4294967295,Ar=nr+(or<<12&4294967295|or>>>20),or=$e+(ir^Ar&(nr^ir))+mr[6]+2821735955&4294967295,$e=Ar+(or<<17&4294967295|or>>>15),or=ir+(nr^$e&(Ar^nr))+mr[7]+4249261313&4294967295,ir=$e+(or<<22&4294967295|or>>>10),or=nr+(Ar^ir&($e^Ar))+mr[8]+1770035416&4294967295,nr=ir+(or<<7&4294967295|or>>>25),or=Ar+($e^nr&(ir^$e))+mr[9]+2336552879&4294967295,Ar=nr+(or<<12&4294967295|or>>>20),or=$e+(ir^Ar&(nr^ir))+mr[10]+4294925233&4294967295,$e=Ar+(or<<17&4294967295|or>>>15),or=ir+(nr^$e&(Ar^nr))+mr[11]+2304563134&4294967295,ir=$e+(or<<22&4294967295|or>>>10),or=nr+(Ar^ir&($e^Ar))+mr[12]+1804603682&4294967295,nr=ir+(or<<7&4294967295|or>>>25),or=Ar+($e^nr&(ir^$e))+mr[13]+4254626195&4294967295,Ar=nr+(or<<12&4294967295|or>>>20),or=$e+(ir^Ar&(nr^ir))+mr[14]+2792965006&4294967295,$e=Ar+(or<<17&4294967295|or>>>15),or=ir+(nr^$e&(Ar^nr))+mr[15]+1236535329&4294967295,ir=$e+(or<<22&4294967295|or>>>10),or=nr+($e^Ar&(ir^$e))+mr[1]+4129170786&4294967295,nr=ir+(or<<5&4294967295|or>>>27),or=Ar+(ir^$e&(nr^ir))+mr[6]+3225465664&4294967295,Ar=nr+(or<<9&4294967295|or>>>23),or=$e+(nr^ir&(Ar^nr))+mr[11]+643717713&4294967295,$e=Ar+(or<<14&4294967295|or>>>18),or=ir+(Ar^nr&($e^Ar))+mr[0]+3921069994&4294967295,ir=$e+(or<<20&4294967295|or>>>12),or=nr+($e^Ar&(ir^$e))+mr[5]+3593408605&4294967295,nr=ir+(or<<5&4294967295|or>>>27),or=Ar+(ir^$e&(nr^ir))+mr[10]+38016083&4294967295,Ar=nr+(or<<9&4294967295|or>>>23),or=$e+(nr^ir&(Ar^nr))+mr[15]+3634488961&4294967295,$e=Ar+(or<<14&4294967295|or>>>18),or=ir+(Ar^nr&($e^Ar))+mr[4]+3889429448&4294967295,ir=$e+(or<<20&4294967295|or>>>12),or=nr+($e^Ar&(ir^$e))+mr[9]+568446438&4294967295,nr=ir+(or<<5&4294967295|or>>>27),or=Ar+(ir^$e&(nr^ir))+mr[14]+3275163606&4294967295,Ar=nr+(or<<9&4294967295|or>>>23),or=$e+(nr^ir&(Ar^nr))+mr[3]+4107603335&4294967295,$e=Ar+(or<<14&4294967295|or>>>18),or=ir+(Ar^nr&($e^Ar))+mr[8]+1163531501&4294967295,ir=$e+(or<<20&4294967295|or>>>12),or=nr+($e^Ar&(ir^$e))+mr[13]+2850285829&4294967295,nr=ir+(or<<5&4294967295|or>>>27),or=Ar+(ir^$e&(nr^ir))+mr[2]+4243563512&4294967295,Ar=nr+(or<<9&4294967295|or>>>23),or=$e+(nr^ir&(Ar^nr))+mr[7]+1735328473&4294967295,$e=Ar+(or<<14&4294967295|or>>>18),or=ir+(Ar^nr&($e^Ar))+mr[12]+2368359562&4294967295,ir=$e+(or<<20&4294967295|or>>>12),or=nr+(ir^$e^Ar)+mr[5]+4294588738&4294967295,nr=ir+(or<<4&4294967295|or>>>28),or=Ar+(nr^ir^$e)+mr[8]+2272392833&4294967295,Ar=nr+(or<<11&4294967295|or>>>21),or=$e+(Ar^nr^ir)+mr[11]+1839030562&4294967295,$e=Ar+(or<<16&4294967295|or>>>16),or=ir+($e^Ar^nr)+mr[14]+4259657740&4294967295,ir=$e+(or<<23&4294967295|or>>>9),or=nr+(ir^$e^Ar)+mr[1]+2763975236&4294967295,nr=ir+(or<<4&4294967295|or>>>28),or=Ar+(nr^ir^$e)+mr[4]+1272893353&4294967295,Ar=nr+(or<<11&4294967295|or>>>21),or=$e+(Ar^nr^ir)+mr[7]+4139469664&4294967295,$e=Ar+(or<<16&4294967295|or>>>16),or=ir+($e^Ar^nr)+mr[10]+3200236656&4294967295,ir=$e+(or<<23&4294967295|or>>>9),or=nr+(ir^$e^Ar)+mr[13]+681279174&4294967295,nr=ir+(or<<4&4294967295|or>>>28),or=Ar+(nr^ir^$e)+mr[0]+3936430074&4294967295,Ar=nr+(or<<11&4294967295|or>>>21),or=$e+(Ar^nr^ir)+mr[3]+3572445317&4294967295,$e=Ar+(or<<16&4294967295|or>>>16),or=ir+($e^Ar^nr)+mr[6]+76029189&4294967295,ir=$e+(or<<23&4294967295|or>>>9),or=nr+(ir^$e^Ar)+mr[9]+3654602809&4294967295,nr=ir+(or<<4&4294967295|or>>>28),or=Ar+(nr^ir^$e)+mr[12]+3873151461&4294967295,Ar=nr+(or<<11&4294967295|or>>>21),or=$e+(Ar^nr^ir)+mr[15]+530742520&4294967295,$e=Ar+(or<<16&4294967295|or>>>16),or=ir+($e^Ar^nr)+mr[2]+3299628645&4294967295,ir=$e+(or<<23&4294967295|or>>>9),or=nr+($e^(ir|~Ar))+mr[0]+4096336452&4294967295,nr=ir+(or<<6&4294967295|or>>>26),or=Ar+(ir^(nr|~$e))+mr[7]+1126891415&4294967295,Ar=nr+(or<<10&4294967295|or>>>22),or=$e+(nr^(Ar|~ir))+mr[14]+2878612391&4294967295,$e=Ar+(or<<15&4294967295|or>>>17),or=ir+(Ar^($e|~nr))+mr[5]+4237533241&4294967295,ir=$e+(or<<21&4294967295|or>>>11),or=nr+($e^(ir|~Ar))+mr[12]+1700485571&4294967295,nr=ir+(or<<6&4294967295|or>>>26),or=Ar+(ir^(nr|~$e))+mr[3]+2399980690&4294967295,Ar=nr+(or<<10&4294967295|or>>>22),or=$e+(nr^(Ar|~ir))+mr[10]+4293915773&4294967295,$e=Ar+(or<<15&4294967295|or>>>17),or=ir+(Ar^($e|~nr))+mr[1]+2240044497&4294967295,ir=$e+(or<<21&4294967295|or>>>11),or=nr+($e^(ir|~Ar))+mr[8]+1873313359&4294967295,nr=ir+(or<<6&4294967295|or>>>26),or=Ar+(ir^(nr|~$e))+mr[15]+4264355552&4294967295,Ar=nr+(or<<10&4294967295|or>>>22),or=$e+(nr^(Ar|~ir))+mr[6]+2734768916&4294967295,$e=Ar+(or<<15&4294967295|or>>>17),or=ir+(Ar^($e|~nr))+mr[13]+1309151649&4294967295,ir=$e+(or<<21&4294967295|or>>>11),or=nr+($e^(ir|~Ar))+mr[4]+4149444226&4294967295,nr=ir+(or<<6&4294967295|or>>>26),or=Ar+(ir^(nr|~$e))+mr[11]+3174756917&4294967295,Ar=nr+(or<<10&4294967295|or>>>22),or=$e+(nr^(Ar|~ir))+mr[2]+718787259&4294967295,$e=Ar+(or<<15&4294967295|or>>>17),or=ir+(Ar^($e|~nr))+mr[9]+3951481745&4294967295,er.g[0]=er.g[0]+nr&4294967295,er.g[1]=er.g[1]+($e+(or<<21&4294967295|or>>>11))&4294967295,er.g[2]=er.g[2]+$e&4294967295,er.g[3]=er.g[3]+Ar&4294967295}Ce.prototype.u=function(er,nr){nr===void 0&&(nr=er.length);for(var ir=nr-this.blockSize,mr=this.B,$e=this.h,Ar=0;Ar<nr;){if($e==0)for(;Ar<=ir;)Te(this,er,Ar),Ar+=this.blockSize;if(typeof er=="string"){for(;Ar<nr;)if(mr[$e++]=er.charCodeAt(Ar++),$e==this.blockSize){Te(this,mr),$e=0;break}}else for(;Ar<nr;)if(mr[$e++]=er[Ar++],$e==this.blockSize){Te(this,mr),$e=0;break}}this.h=$e,this.o+=nr},Ce.prototype.v=function(){var er=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);er[0]=128;for(var nr=1;nr<er.length-8;++nr)er[nr]=0;var ir=8*this.o;for(nr=er.length-8;nr<er.length;++nr)er[nr]=ir&255,ir/=256;for(this.u(er),er=Array(16),nr=ir=0;4>nr;++nr)for(var mr=0;32>mr;mr+=8)er[ir++]=this.g[nr]>>>mr&255;return er};function Re(er,nr){var ir=Ue;return Object.prototype.hasOwnProperty.call(ir,er)?ir[er]:ir[er]=nr(er)}function Be(er,nr){this.h=nr;for(var ir=[],mr=!0,$e=er.length-1;0<=$e;$e--){var Ar=er[$e]|0;mr&&Ar==nr||(ir[$e]=Ar,mr=!1)}this.g=ir}var Ue={};function Oe(er){return-128<=er&&128>er?Re(er,function(nr){return new Be([nr|0],0>nr?-1:0)}):new Be([er|0],0>er?-1:0)}function Me(er){if(isNaN(er)||!isFinite(er))return Ke;if(0>er)return Je(Me(-er));for(var nr=[],ir=1,mr=0;er>=ir;mr++)nr[mr]=er/ir|0,ir*=4294967296;return new Be(nr,0)}function Qe(er,nr){if(er.length==0)throw Error("number format error: empty string");if(nr=nr||10,2>nr||36<nr)throw Error("radix out of range: "+nr);if(er.charAt(0)=="-")return Je(Qe(er.substring(1),nr));if(0<=er.indexOf("-"))throw Error('number format error: interior "-" character');for(var ir=Me(Math.pow(nr,8)),mr=Ke,$e=0;$e<er.length;$e+=8){var Ar=Math.min(8,er.length-$e),or=parseInt(er.substring($e,$e+Ar),nr);8>Ar?(Ar=Me(Math.pow(nr,Ar)),mr=mr.j(Ar).add(Me(or))):(mr=mr.j(ir),mr=mr.add(Me(or)))}return mr}var Ke=Oe(0),Ge=Oe(1),qe=Oe(16777216);Ee=Be.prototype,Ee.m=function(){if(tr(this))return-Je(this).m();for(var er=0,nr=1,ir=0;ir<this.g.length;ir++){var mr=this.i(ir);er+=(0<=mr?mr:4294967296+mr)*nr,nr*=4294967296}return er},Ee.toString=function(er){if(er=er||10,2>er||36<er)throw Error("radix out of range: "+er);if(Xe(this))return"0";if(tr(this))return"-"+Je(this).toString(er);for(var nr=Me(Math.pow(er,6)),ir=this,mr="";;){var $e=hr(ir,nr).g;ir=Ye(ir,$e.j(nr));var Ar=((0<ir.g.length?ir.g[0]:ir.h)>>>0).toString(er);if(ir=$e,Xe(ir))return Ar+mr;for(;6>Ar.length;)Ar="0"+Ar;mr=Ar+mr}},Ee.i=function(er){return 0>er?0:er<this.g.length?this.g[er]:this.h};function Xe(er){if(er.h!=0)return!1;for(var nr=0;nr<er.g.length;nr++)if(er.g[nr]!=0)return!1;return!0}function tr(er){return er.h==-1}Ee.l=function(er){return er=Ye(this,er),tr(er)?-1:Xe(er)?0:1};function Je(er){for(var nr=er.g.length,ir=[],mr=0;mr<nr;mr++)ir[mr]=~er.g[mr];return new Be(ir,~er.h).add(Ge)}Ee.abs=function(){return tr(this)?Je(this):this},Ee.add=function(er){for(var nr=Math.max(this.g.length,er.g.length),ir=[],mr=0,$e=0;$e<=nr;$e++){var Ar=mr+(this.i($e)&65535)+(er.i($e)&65535),or=(Ar>>>16)+(this.i($e)>>>16)+(er.i($e)>>>16);mr=or>>>16,Ar&=65535,or&=65535,ir[$e]=or<<16|Ar}return new Be(ir,ir[ir.length-1]&-2147483648?-1:0)};function Ye(er,nr){return er.add(Je(nr))}Ee.j=function(er){if(Xe(this)||Xe(er))return Ke;if(tr(this))return tr(er)?Je(this).j(Je(er)):Je(Je(this).j(er));if(tr(er))return Je(this.j(Je(er)));if(0>this.l(qe)&&0>er.l(qe))return Me(this.m()*er.m());for(var nr=this.g.length+er.g.length,ir=[],mr=0;mr<2*nr;mr++)ir[mr]=0;for(mr=0;mr<this.g.length;mr++)for(var $e=0;$e<er.g.length;$e++){var Ar=this.i(mr)>>>16,or=this.i(mr)&65535,Tr=er.i($e)>>>16,Ur=er.i($e)&65535;ir[2*mr+2*$e]+=or*Ur,lr(ir,2*mr+2*$e),ir[2*mr+2*$e+1]+=Ar*Ur,lr(ir,2*mr+2*$e+1),ir[2*mr+2*$e+1]+=or*Tr,lr(ir,2*mr+2*$e+1),ir[2*mr+2*$e+2]+=Ar*Tr,lr(ir,2*mr+2*$e+2)}for(mr=0;mr<nr;mr++)ir[mr]=ir[2*mr+1]<<16|ir[2*mr];for(mr=nr;mr<2*nr;mr++)ir[mr]=0;return new Be(ir,0)};function lr(er,nr){for(;(er[nr]&65535)!=er[nr];)er[nr+1]+=er[nr]>>>16,er[nr]&=65535,nr++}function cr(er,nr){this.g=er,this.h=nr}function hr(er,nr){if(Xe(nr))throw Error("division by zero");if(Xe(er))return new cr(Ke,Ke);if(tr(er))return nr=hr(Je(er),nr),new cr(Je(nr.g),Je(nr.h));if(tr(nr))return nr=hr(er,Je(nr)),new cr(Je(nr.g),nr.h);if(30<er.g.length){if(tr(er)||tr(nr))throw Error("slowDivide_ only works with positive integers.");for(var ir=Ge,mr=nr;0>=mr.l(er);)ir=ur(ir),mr=ur(mr);var $e=fr(ir,1),Ar=fr(mr,1);for(mr=fr(mr,2),ir=fr(ir,2);!Xe(mr);){var or=Ar.add(mr);0>=or.l(er)&&($e=$e.add(ir),Ar=or),mr=fr(mr,1),ir=fr(ir,1)}return nr=Ye(er,$e.j(nr)),new cr($e,nr)}for($e=Ke;0<=er.l(nr);){for(ir=Math.max(1,Math.floor(er.m()/nr.m())),mr=Math.ceil(Math.log(ir)/Math.LN2),mr=48>=mr?1:Math.pow(2,mr-48),Ar=Me(ir),or=Ar.j(nr);tr(or)||0<or.l(er);)ir-=mr,Ar=Me(ir),or=Ar.j(nr);Xe(Ar)&&(Ar=Ge),$e=$e.add(Ar),er=Ye(er,or)}return new cr($e,er)}Ee.A=function(er){return hr(this,er).h},Ee.and=function(er){for(var nr=Math.max(this.g.length,er.g.length),ir=[],mr=0;mr<nr;mr++)ir[mr]=this.i(mr)&er.i(mr);return new Be(ir,this.h&er.h)},Ee.or=function(er){for(var nr=Math.max(this.g.length,er.g.length),ir=[],mr=0;mr<nr;mr++)ir[mr]=this.i(mr)|er.i(mr);return new Be(ir,this.h|er.h)},Ee.xor=function(er){for(var nr=Math.max(this.g.length,er.g.length),ir=[],mr=0;mr<nr;mr++)ir[mr]=this.i(mr)^er.i(mr);return new Be(ir,this.h^er.h)};function ur(er){for(var nr=er.g.length+1,ir=[],mr=0;mr<nr;mr++)ir[mr]=er.i(mr)<<1|er.i(mr-1)>>>31;return new Be(ir,er.h)}function fr(er,nr){var ir=nr>>5;nr%=32;for(var mr=er.g.length-ir,$e=[],Ar=0;Ar<mr;Ar++)$e[Ar]=0<nr?er.i(Ar+ir)>>>nr|er.i(Ar+ir+1)<<32-nr:er.i(Ar+ir);return new Be($e,er.h)}Ce.prototype.digest=Ce.prototype.v,Ce.prototype.reset=Ce.prototype.s,Ce.prototype.update=Ce.prototype.u,Md5=Ce,Be.prototype.add=Be.prototype.add,Be.prototype.multiply=Be.prototype.j,Be.prototype.modulo=Be.prototype.A,Be.prototype.compare=Be.prototype.l,Be.prototype.toNumber=Be.prototype.m,Be.prototype.toString=Be.prototype.toString,Be.prototype.getBits=Be.prototype.i,Be.fromNumber=Me,Be.fromString=Qe,Integer=Be}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,WebChannel,EventType,ErrorCode$1,Stat,Event$1,getStatEventTarget,createWebChannelTransport;(function(){var Ee,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(sr,Dr,Xr){return sr==Array.prototype||sr==Object.prototype||(sr[Dr]=Xr.value),sr};function n(sr){sr=[typeof globalThis=="object"&&globalThis,sr,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var Dr=0;Dr<sr.length;++Dr){var Xr=sr[Dr];if(Xr&&Xr.Math==Math)return Xr}throw Error("Cannot find global object")}var Ce=n(this);function Te(sr,Dr){if(Dr)e:{var Xr=Ce;sr=sr.split(".");for(var Cn=0;Cn<sr.length-1;Cn++){var ni=sr[Cn];if(!(ni in Xr))break e;Xr=Xr[ni]}sr=sr[sr.length-1],Cn=Xr[sr],Dr=Dr(Cn),Dr!=Cn&&Dr!=null&&t(Xr,sr,{configurable:!0,writable:!0,value:Dr})}}function Re(sr,Dr){sr instanceof String&&(sr+="");var Xr=0,Cn=!1,ni={next:function(){if(!Cn&&Xr<sr.length){var gi=Xr++;return{value:Dr(gi,sr[gi]),done:!1}}return Cn=!0,{done:!0,value:void 0}}};return ni[Symbol.iterator]=function(){return ni},ni}Te("Array.prototype.values",function(sr){return sr||function(){return Re(this,function(Dr,Xr){return Xr})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var Be=Be||{},Ue=this||self;function Oe(sr){var Dr=typeof sr;return Dr=Dr!="object"?Dr:sr?Array.isArray(sr)?"array":Dr:"null",Dr=="array"||Dr=="object"&&typeof sr.length=="number"}function Me(sr){var Dr=typeof sr;return Dr=="object"&&sr!=null||Dr=="function"}function Qe(sr,Dr,Xr){return sr.call.apply(sr.bind,arguments)}function Ke(sr,Dr,Xr){if(!sr)throw Error();if(2<arguments.length){var Cn=Array.prototype.slice.call(arguments,2);return function(){var ni=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ni,Cn),sr.apply(Dr,ni)}}return function(){return sr.apply(Dr,arguments)}}function Ge(sr,Dr,Xr){return Ge=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Qe:Ke,Ge.apply(null,arguments)}function qe(sr,Dr){var Xr=Array.prototype.slice.call(arguments,1);return function(){var Cn=Xr.slice();return Cn.push.apply(Cn,arguments),sr.apply(this,Cn)}}function Xe(sr,Dr){function Xr(){}Xr.prototype=Dr.prototype,sr.aa=Dr.prototype,sr.prototype=new Xr,sr.prototype.constructor=sr,sr.Qb=function(Cn,ni,gi){for(var Ii=Array(arguments.length-2),ca=2;ca<arguments.length;ca++)Ii[ca-2]=arguments[ca];return Dr.prototype[ni].apply(Cn,Ii)}}function tr(sr){const Dr=sr.length;if(0<Dr){const Xr=Array(Dr);for(let Cn=0;Cn<Dr;Cn++)Xr[Cn]=sr[Cn];return Xr}return[]}function Je(sr,Dr){for(let Xr=1;Xr<arguments.length;Xr++){const Cn=arguments[Xr];if(Oe(Cn)){const ni=sr.length||0,gi=Cn.length||0;sr.length=ni+gi;for(let Ii=0;Ii<gi;Ii++)sr[ni+Ii]=Cn[Ii]}else sr.push(Cn)}}class Ye{constructor(Dr,Xr){this.i=Dr,this.j=Xr,this.h=0,this.g=null}get(){let Dr;return 0<this.h?(this.h--,Dr=this.g,this.g=Dr.next,Dr.next=null):Dr=this.i(),Dr}}function lr(sr){return/^[\s\xa0]*$/.test(sr)}function cr(){var sr=Ue.navigator;return sr&&(sr=sr.userAgent)?sr:""}function hr(sr){return hr[" "](sr),sr}hr[" "]=function(){};var ur=cr().indexOf("Gecko")!=-1&&!(cr().toLowerCase().indexOf("webkit")!=-1&&cr().indexOf("Edge")==-1)&&!(cr().indexOf("Trident")!=-1||cr().indexOf("MSIE")!=-1)&&cr().indexOf("Edge")==-1;function fr(sr,Dr,Xr){for(const Cn in sr)Dr.call(Xr,sr[Cn],Cn,sr)}function er(sr,Dr){for(const Xr in sr)Dr.call(void 0,sr[Xr],Xr,sr)}function nr(sr){const Dr={};for(const Xr in sr)Dr[Xr]=sr[Xr];return Dr}const ir="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mr(sr,Dr){let Xr,Cn;for(let ni=1;ni<arguments.length;ni++){Cn=arguments[ni];for(Xr in Cn)sr[Xr]=Cn[Xr];for(let gi=0;gi<ir.length;gi++)Xr=ir[gi],Object.prototype.hasOwnProperty.call(Cn,Xr)&&(sr[Xr]=Cn[Xr])}}function $e(sr){var Dr=1;sr=sr.split(":");const Xr=[];for(;0<Dr&&sr.length;)Xr.push(sr.shift()),Dr--;return sr.length&&Xr.push(sr.join(":")),Xr}function Ar(sr){Ue.setTimeout(()=>{throw sr},0)}function or(){var sr=Nr;let Dr=null;return sr.g&&(Dr=sr.g,sr.g=sr.g.next,sr.g||(sr.h=null),Dr.next=null),Dr}class Tr{constructor(){this.h=this.g=null}add(Dr,Xr){const Cn=Ur.get();Cn.set(Dr,Xr),this.h?this.h.next=Cn:this.g=Cn,this.h=Cn}}var Ur=new Ye(()=>new Fr,sr=>sr.reset());class Fr{constructor(){this.next=this.g=this.h=null}set(Dr,Xr){this.h=Dr,this.g=Xr,this.next=null}reset(){this.next=this.g=this.h=null}}let Er,jr=!1,Nr=new Tr,Br=()=>{const sr=Ue.Promise.resolve(void 0);Er=()=>{sr.then(Mr)}};var Mr=()=>{for(var sr;sr=or();){try{sr.h.call(sr.g)}catch(Xr){Ar(Xr)}var Dr=Ur;Dr.j(sr),100>Dr.h&&(Dr.h++,sr.next=Dr.g,Dr.g=sr)}jr=!1};function _r(){this.s=this.s,this.C=this.C}_r.prototype.s=!1,_r.prototype.ma=function(){this.s||(this.s=!0,this.N())},_r.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function gr(sr,Dr){this.type=sr,this.g=this.target=Dr,this.defaultPrevented=!1}gr.prototype.h=function(){this.defaultPrevented=!0};var yr=(function(){if(!Ue.addEventListener||!Object.defineProperty)return!1;var sr=!1,Dr=Object.defineProperty({},"passive",{get:function(){sr=!0}});try{const Xr=()=>{};Ue.addEventListener("test",Xr,Dr),Ue.removeEventListener("test",Xr,Dr)}catch{}return sr})();function Rr(sr,Dr){if(gr.call(this,sr?sr.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,sr){var Xr=this.type=sr.type,Cn=sr.changedTouches&&sr.changedTouches.length?sr.changedTouches[0]:null;if(this.target=sr.target||sr.srcElement,this.g=Dr,Dr=sr.relatedTarget){if(ur){e:{try{hr(Dr.nodeName);var ni=!0;break e}catch{}ni=!1}ni||(Dr=null)}}else Xr=="mouseover"?Dr=sr.fromElement:Xr=="mouseout"&&(Dr=sr.toElement);this.relatedTarget=Dr,Cn?(this.clientX=Cn.clientX!==void 0?Cn.clientX:Cn.pageX,this.clientY=Cn.clientY!==void 0?Cn.clientY:Cn.pageY,this.screenX=Cn.screenX||0,this.screenY=Cn.screenY||0):(this.clientX=sr.clientX!==void 0?sr.clientX:sr.pageX,this.clientY=sr.clientY!==void 0?sr.clientY:sr.pageY,this.screenX=sr.screenX||0,this.screenY=sr.screenY||0),this.button=sr.button,this.key=sr.key||"",this.ctrlKey=sr.ctrlKey,this.altKey=sr.altKey,this.shiftKey=sr.shiftKey,this.metaKey=sr.metaKey,this.pointerId=sr.pointerId||0,this.pointerType=typeof sr.pointerType=="string"?sr.pointerType:Ir[sr.pointerType]||"",this.state=sr.state,this.i=sr,sr.defaultPrevented&&Rr.aa.h.call(this)}}Xe(Rr,gr);var Ir={2:"touch",3:"pen",4:"mouse"};Rr.prototype.h=function(){Rr.aa.h.call(this);var sr=this.i;sr.preventDefault?sr.preventDefault():sr.returnValue=!1};var Qr="closure_listenable_"+(1e6*Math.random()|0),Vr=0;function Wr(sr,Dr,Xr,Cn,ni){this.listener=sr,this.proxy=null,this.src=Dr,this.type=Xr,this.capture=!!Cn,this.ha=ni,this.key=++Vr,this.da=this.fa=!1}function mn(sr){sr.da=!0,sr.listener=null,sr.proxy=null,sr.src=null,sr.ha=null}function gn(sr){this.src=sr,this.g={},this.h=0}gn.prototype.add=function(sr,Dr,Xr,Cn,ni){var gi=sr.toString();sr=this.g[gi],sr||(sr=this.g[gi]=[],this.h++);var Ii=Fn(sr,Dr,Cn,ni);return-1<Ii?(Dr=sr[Ii],Xr||(Dr.fa=!1)):(Dr=new Wr(Dr,this.src,gi,!!Cn,ni),Dr.fa=Xr,sr.push(Dr)),Dr};function fn(sr,Dr){var Xr=Dr.type;if(Xr in sr.g){var Cn=sr.g[Xr],ni=Array.prototype.indexOf.call(Cn,Dr,void 0),gi;(gi=0<=ni)&&Array.prototype.splice.call(Cn,ni,1),gi&&(mn(Dr),sr.g[Xr].length==0&&(delete sr.g[Xr],sr.h--))}}function Fn(sr,Dr,Xr,Cn){for(var ni=0;ni<sr.length;++ni){var gi=sr[ni];if(!gi.da&&gi.listener==Dr&&gi.capture==!!Xr&&gi.ha==Cn)return ni}return-1}var wn="closure_lm_"+(1e6*Math.random()|0),Yr={};function Rn(sr,Dr,Xr,Cn,ni){if(Array.isArray(Dr)){for(var gi=0;gi<Dr.length;gi++)Rn(sr,Dr[gi],Xr,Cn,ni);return null}return Xr=In(Xr),sr&&sr[Qr]?sr.K(Dr,Xr,Me(Cn)?!!Cn.capture:!1,ni):bn(sr,Dr,Xr,!1,Cn,ni)}function bn(sr,Dr,Xr,Cn,ni,gi){if(!Dr)throw Error("Invalid event type");var Ii=Me(ni)?!!ni.capture:!!ni,ca=Kn(sr);if(ca||(sr[wn]=ca=new gn(sr)),Xr=ca.add(Dr,Xr,Cn,Ii,gi),Xr.proxy)return Xr;if(Cn=zr(),Xr.proxy=Cn,Cn.src=sr,Cn.listener=Xr,sr.addEventListener)yr||(ni=Ii),ni===void 0&&(ni=!1),sr.addEventListener(Dr.toString(),Cn,ni);else if(sr.attachEvent)sr.attachEvent(Pn(Dr.toString()),Cn);else if(sr.addListener&&sr.removeListener)sr.addListener(Cn);else throw Error("addEventListener and attachEvent are unavailable.");return Xr}function zr(){function sr(Xr){return Dr.call(sr.src,sr.listener,Xr)}const Dr=jn;return sr}function $r(sr,Dr,Xr,Cn,ni){if(Array.isArray(Dr))for(var gi=0;gi<Dr.length;gi++)$r(sr,Dr[gi],Xr,Cn,ni);else Cn=Me(Cn)?!!Cn.capture:!!Cn,Xr=In(Xr),sr&&sr[Qr]?(sr=sr.i,Dr=String(Dr).toString(),Dr in sr.g&&(gi=sr.g[Dr],Xr=Fn(gi,Xr,Cn,ni),-1<Xr&&(mn(gi[Xr]),Array.prototype.splice.call(gi,Xr,1),gi.length==0&&(delete sr.g[Dr],sr.h--)))):sr&&(sr=Kn(sr))&&(Dr=sr.g[Dr.toString()],sr=-1,Dr&&(sr=Fn(Dr,Xr,Cn,ni)),(Xr=-1<sr?Dr[sr]:null)&&Bn(Xr))}function Bn(sr){if(typeof sr!="number"&&sr&&!sr.da){var Dr=sr.src;if(Dr&&Dr[Qr])fn(Dr.i,sr);else{var Xr=sr.type,Cn=sr.proxy;Dr.removeEventListener?Dr.removeEventListener(Xr,Cn,sr.capture):Dr.detachEvent?Dr.detachEvent(Pn(Xr),Cn):Dr.addListener&&Dr.removeListener&&Dr.removeListener(Cn),(Xr=Kn(Dr))?(fn(Xr,sr),Xr.h==0&&(Xr.src=null,Dr[wn]=null)):mn(sr)}}}function Pn(sr){return sr in Yr?Yr[sr]:Yr[sr]="on"+sr}function jn(sr,Dr){if(sr.da)sr=!0;else{Dr=new Rr(Dr,this);var Xr=sr.listener,Cn=sr.ha||sr.src;sr.fa&&Bn(sr),sr=Xr.call(Cn,Dr)}return sr}function Kn(sr){return sr=sr[wn],sr instanceof gn?sr:null}var Xn="__closure_events_fn_"+(1e9*Math.random()>>>0);function In(sr){return typeof sr=="function"?sr:(sr[Xn]||(sr[Xn]=function(Dr){return sr.handleEvent(Dr)}),sr[Xn])}function $n(){_r.call(this),this.i=new gn(this),this.M=this,this.F=null}Xe($n,_r),$n.prototype[Qr]=!0,$n.prototype.removeEventListener=function(sr,Dr,Xr,Cn){$r(this,sr,Dr,Xr,Cn)};function Yn(sr,Dr){var Xr,Cn=sr.F;if(Cn)for(Xr=[];Cn;Cn=Cn.F)Xr.push(Cn);if(sr=sr.M,Cn=Dr.type||Dr,typeof Dr=="string")Dr=new gr(Dr,sr);else if(Dr instanceof gr)Dr.target=Dr.target||sr;else{var ni=Dr;Dr=new gr(Cn,sr),mr(Dr,ni)}if(ni=!0,Xr)for(var gi=Xr.length-1;0<=gi;gi--){var Ii=Dr.g=Xr[gi];ni=si(Ii,Cn,!0,Dr)&&ni}if(Ii=Dr.g=sr,ni=si(Ii,Cn,!0,Dr)&&ni,ni=si(Ii,Cn,!1,Dr)&&ni,Xr)for(gi=0;gi<Xr.length;gi++)Ii=Dr.g=Xr[gi],ni=si(Ii,Cn,!1,Dr)&&ni}$n.prototype.N=function(){if($n.aa.N.call(this),this.i){var sr=this.i,Dr;for(Dr in sr.g){for(var Xr=sr.g[Dr],Cn=0;Cn<Xr.length;Cn++)mn(Xr[Cn]);delete sr.g[Dr],sr.h--}}this.F=null},$n.prototype.K=function(sr,Dr,Xr,Cn){return this.i.add(String(sr),Dr,!1,Xr,Cn)},$n.prototype.L=function(sr,Dr,Xr,Cn){return this.i.add(String(sr),Dr,!0,Xr,Cn)};function si(sr,Dr,Xr,Cn){if(Dr=sr.i.g[String(Dr)],!Dr)return!0;Dr=Dr.concat();for(var ni=!0,gi=0;gi<Dr.length;++gi){var Ii=Dr[gi];if(Ii&&!Ii.da&&Ii.capture==Xr){var ca=Ii.listener,qa=Ii.ha||Ii.src;Ii.fa&&fn(sr.i,Ii),ni=ca.call(qa,Cn)!==!1&&ni}}return ni&&!Cn.defaultPrevented}function ai(sr,Dr,Xr){if(typeof sr=="function")Xr&&(sr=Ge(sr,Xr));else if(sr&&typeof sr.handleEvent=="function")sr=Ge(sr.handleEvent,sr);else throw Error("Invalid listener argument");return 2147483647<Number(Dr)?-1:Ue.setTimeout(sr,Dr||0)}function Ci(sr){sr.g=ai(()=>{sr.g=null,sr.i&&(sr.i=!1,Ci(sr))},sr.l);const Dr=sr.h;sr.h=null,sr.m.apply(null,Dr)}class dr extends _r{constructor(Dr,Xr){super(),this.m=Dr,this.l=Xr,this.h=null,this.i=!1,this.g=null}j(Dr){this.h=arguments,this.g?this.i=!0:Ci(this)}N(){super.N(),this.g&&(Ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function An(sr){_r.call(this),this.h=sr,this.g={}}Xe(An,_r);var vn=[];function Sn(sr){fr(sr.g,function(Dr,Xr){this.g.hasOwnProperty(Xr)&&Bn(Dr)},sr),sr.g={}}An.prototype.N=function(){An.aa.N.call(this),Sn(this)},An.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wr=Ue.JSON.stringify,Or=Ue.JSON.parse,Ze=class{stringify(sr){return Ue.JSON.stringify(sr,void 0)}parse(sr){return Ue.JSON.parse(sr,void 0)}};function Jr(){}Jr.prototype.h=null;function Mn(sr){return sr.h||(sr.h=sr.i())}function ze(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kr(){gr.call(this,"d")}Xe(kr,gr);function rr(){gr.call(this,"c")}Xe(rr,gr);var xr={},Kr=null;function Dn(){return Kr=Kr||new $n}xr.La="serverreachability";function Gr(sr){gr.call(this,xr.La,sr)}Xe(Gr,gr);function Hr(sr){const Dr=Dn();Yn(Dr,new Gr(Dr))}xr.STAT_EVENT="statevent";function dn(sr,Dr){gr.call(this,xr.STAT_EVENT,sr),this.stat=Dr}Xe(dn,gr);function Qn(sr){const Dr=Dn();Yn(Dr,new dn(Dr,sr))}xr.Ma="timingevent";function kn(sr,Dr){gr.call(this,xr.Ma,sr),this.size=Dr}Xe(kn,gr);function On(sr,Dr){if(typeof sr!="function")throw Error("Fn must not be null and must be a function");return Ue.setTimeout(function(){sr()},Dr)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function hi(sr,Dr,Xr,Cn,ni,gi){sr.info(function(){if(sr.g)if(gi)for(var Ii="",ca=gi.split("&"),qa=0;qa<ca.length;qa++){var ua=ca[qa].split("=");if(1<ua.length){var da=ua[0];ua=ua[1];var Ra=da.split("_");Ii=2<=Ra.length&&Ra[1]=="type"?Ii+(da+"="+ua+"&"):Ii+(da+"=redacted&")}}else Ii=null;else Ii=gi;return"XMLHTTP REQ ("+Cn+") [attempt "+ni+"]: "+Dr+`
`+Xr+`
`+Ii})}function pi(sr,Dr,Xr,Cn,ni,gi,Ii){sr.info(function(){return"XMLHTTP RESP ("+Cn+") [ attempt "+ni+"]: "+Dr+`
`+Xr+`
`+gi+" "+Ii})}function mi(sr,Dr,Xr,Cn){sr.info(function(){return"XMLHTTP TEXT ("+Dr+"): "+ui(sr,Xr)+(Cn?" "+Cn:"")})}function Ni(sr,Dr){sr.info(function(){return"TIMEOUT: "+Dr})}zn.prototype.info=function(){};function ui(sr,Dr){if(!sr.g)return Dr;if(!Dr)return null;try{var Xr=JSON.parse(Dr);if(Xr){for(sr=0;sr<Xr.length;sr++)if(Array.isArray(Xr[sr])){var Cn=Xr[sr];if(!(2>Cn.length)){var ni=Cn[1];if(Array.isArray(ni)&&!(1>ni.length)){var gi=ni[0];if(gi!="noop"&&gi!="stop"&&gi!="close")for(var Ii=1;Ii<ni.length;Ii++)ni[Ii]=""}}}}return wr(Xr)}catch{return Dr}}var yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fi;function Di(){}Xe(Di,Jr),Di.prototype.g=function(){return new XMLHttpRequest},Di.prototype.i=function(){return{}},Fi=new Di;function Oi(sr,Dr,Xr,Cn){this.j=sr,this.i=Dr,this.l=Xr,this.R=Cn||1,this.U=new An(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $i}function $i(){this.i=null,this.g="",this.h=!1}var oa={},Za={};function ja(sr,Dr,Xr){sr.L=1,sr.v=Zo(Rs(Dr)),sr.m=Xr,sr.P=!0,Ga(sr,null)}function Ga(sr,Dr){sr.F=Date.now(),Uo(sr),sr.A=Rs(sr.v);var Xr=sr.A,Cn=sr.R;Array.isArray(Cn)||(Cn=[String(Cn)]),Wi(Xr.i,"t",Cn),sr.C=0,Xr=sr.j.J,sr.h=new $i,sr.g=jo(sr.j,Xr?Dr:null,!sr.m),0<sr.O&&(sr.M=new dr(Ge(sr.Y,sr,sr.g),sr.O)),Dr=sr.U,Xr=sr.g,Cn=sr.ca;var ni="readystatechange";Array.isArray(ni)||(ni&&(vn[0]=ni.toString()),ni=vn);for(var gi=0;gi<ni.length;gi++){var Ii=Rn(Xr,ni[gi],Cn||Dr.handleEvent,!1,Dr.h||Dr);if(!Ii)break;Dr.g[Ii.key]=Ii}Dr=sr.H?nr(sr.H):{},sr.m?(sr.u||(sr.u="POST"),Dr["Content-Type"]="application/x-www-form-urlencoded",sr.g.ea(sr.A,sr.u,sr.m,Dr)):(sr.u="GET",sr.g.ea(sr.A,sr.u,null,Dr)),Hr(),hi(sr.i,sr.u,sr.A,sr.l,sr.R,sr.m)}Oi.prototype.ca=function(sr){sr=sr.target;const Dr=this.M;Dr&&Ls(sr)==3?Dr.j():this.Y(sr)},Oi.prototype.Y=function(sr){try{if(sr==this.g)e:{const Ra=Ls(this.g);var Dr=this.g.Ba();const go=this.g.Z();if(!(3>Ra)&&(Ra!=3||this.g&&(this.h.h||this.g.oa()||Wl(this.g)))){this.J||Ra!=4||Dr==7||(Dr==8||0>=go?Hr(3):Hr(2)),Lo(this);var Xr=this.g.Z();this.X=Xr;t:if(bo(this)){var Cn=Wl(this.g);sr="";var ni=Cn.length,gi=Ls(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){as(this),is(this);var Ii="";break t}this.h.i=new Ue.TextDecoder}for(Dr=0;Dr<ni;Dr++)this.h.h=!0,sr+=this.h.i.decode(Cn[Dr],{stream:!(gi&&Dr==ni-1)});Cn.length=0,this.h.g+=sr,this.C=0,Ii=this.h.g}else Ii=this.g.oa();if(this.o=Xr==200,pi(this.i,this.u,this.A,this.l,this.R,Ra,Xr),this.o){if(this.T&&!this.K){t:{if(this.g){var ca,qa=this.g;if((ca=qa.g?qa.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lr(ca)){var ua=ca;break t}}ua=null}if(Xr=ua)mi(this.i,this.l,Xr,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wo(this,Xr);else{this.o=!1,this.s=3,Qn(12),as(this),is(this);break e}}if(this.P){Xr=!0;let os;for(;!this.J&&this.C<Ii.length;)if(os=DA(this,Ii),os==Za){Ra==4&&(this.s=4,Qn(14),Xr=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(os==oa){this.s=4,Qn(15),mi(this.i,this.l,Ii,"[Invalid Chunk]"),Xr=!1;break}else mi(this.i,this.l,os,null),Wo(this,os);if(bo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ra!=4||Ii.length!=0||this.h.h||(this.s=1,Qn(16),Xr=!1),this.o=this.o&&Xr,!Xr)mi(this.i,this.l,Ii,"[Invalid Chunked Response]"),as(this),is(this);else if(0<Ii.length&&!this.W){this.W=!0;var da=this.j;da.g==this&&da.ba&&!da.M&&(da.j.info("Great, no buffering proxy detected. Bytes received: "+Ii.length),Aa(da),da.M=!0,Qn(11))}}else mi(this.i,this.l,Ii,null),Wo(this,Ii);Ra==4&&as(this),this.o&&!this.J&&(Ra==4?Ca(this.j,this):(this.o=!1,Uo(this)))}else Gs(this.g),Xr==400&&0<Ii.indexOf("Unknown SID")?(this.s=3,Qn(12)):(this.s=0,Qn(13)),as(this),is(this)}}}catch{}finally{}};function bo(sr){return sr.g?sr.u=="GET"&&sr.L!=2&&sr.j.Ca:!1}function DA(sr,Dr){var Xr=sr.C,Cn=Dr.indexOf(`
`,Xr);return Cn==-1?Za:(Xr=Number(Dr.substring(Xr,Cn)),isNaN(Xr)?oa:(Cn+=1,Cn+Xr>Dr.length?Za:(Dr=Dr.slice(Cn,Cn+Xr),sr.C=Cn+Xr,Dr)))}Oi.prototype.cancel=function(){this.J=!0,as(this)};function Uo(sr){sr.S=Date.now()+sr.I,lA(sr,sr.I)}function lA(sr,Dr){if(sr.B!=null)throw Error("WatchDog timer not null");sr.B=On(Ge(sr.ba,sr),Dr)}function Lo(sr){sr.B&&(Ue.clearTimeout(sr.B),sr.B=null)}Oi.prototype.ba=function(){this.B=null;const sr=Date.now();0<=sr-this.S?(Ni(this.i,this.A),this.L!=2&&(Hr(),Qn(17)),as(this),this.s=2,is(this)):lA(this,this.S-sr)};function is(sr){sr.j.G==0||sr.J||Ca(sr.j,sr)}function as(sr){Lo(sr);var Dr=sr.M;Dr&&typeof Dr.ma=="function"&&Dr.ma(),sr.M=null,Sn(sr.U),sr.g&&(Dr=sr.g,sr.g=null,Dr.abort(),Dr.ma())}function Wo(sr,Dr){try{var Xr=sr.j;if(Xr.G!=0&&(Xr.g==sr||Xo(Xr.h,sr))){if(!sr.K&&Xo(Xr.h,sr)&&Xr.G==3){try{var Cn=Xr.Da.g.parse(Dr)}catch{Cn=null}if(Array.isArray(Cn)&&Cn.length==3){var ni=Cn;if(ni[0]==0){e:if(!Xr.u){if(Xr.g)if(Xr.g.F+3e3<sr.F)Va(Xr),Un(Xr);else break e;Ji(Xr),Qn(18)}}else Xr.za=ni[1],0<Xr.za-Xr.T&&37500>ni[2]&&Xr.F&&Xr.v==0&&!Xr.C&&(Xr.C=On(Ge(Xr.Za,Xr),6e3));if(1>=xl(Xr.h)&&Xr.ca){try{Xr.ca()}catch{}Xr.ca=void 0}}else Fa(Xr,11)}else if((sr.K||Xr.g==sr)&&Va(Xr),!lr(Dr))for(ni=Xr.Da.g.parse(Dr),Dr=0;Dr<ni.length;Dr++){let ua=ni[Dr];if(Xr.T=ua[0],ua=ua[1],Xr.G==2)if(ua[0]=="c"){Xr.K=ua[1],Xr.ia=ua[2];const da=ua[3];da!=null&&(Xr.la=da,Xr.j.info("VER="+Xr.la));const Ra=ua[4];Ra!=null&&(Xr.Aa=Ra,Xr.j.info("SVER="+Xr.Aa));const go=ua[5];go!=null&&typeof go=="number"&&0<go&&(Cn=1.5*go,Xr.L=Cn,Xr.j.info("backChannelRequestTimeoutMs_="+Cn)),Cn=Xr;const os=sr.g;if(os){const Bs=os.g?os.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bs){var gi=Cn.h;gi.g||Bs.indexOf("spdy")==-1&&Bs.indexOf("quic")==-1&&Bs.indexOf("h2")==-1||(gi.j=gi.l,gi.g=new Set,gi.h&&(ql(gi,gi.h),gi.h=null))}if(Cn.D){const nl=os.g?os.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(Cn.ya=nl,la(Cn.I,Cn.D,nl))}}Xr.G=3,Xr.l&&Xr.l.ua(),Xr.ba&&(Xr.R=Date.now()-sr.F,Xr.j.info("Handshake RTT: "+Xr.R+"ms")),Cn=Xr;var Ii=sr;if(Cn.qa=To(Cn,Cn.J?Cn.ia:null,Cn.W),Ii.K){va(Cn.h,Ii);var ca=Ii,qa=Cn.L;qa&&(ca.I=qa),ca.B&&(Lo(ca),Uo(ca)),Cn.g=Ii}else Gi(Cn);0<Xr.i.length&&ei(Xr)}else ua[0]!="stop"&&ua[0]!="close"||Fa(Xr,7);else Xr.G==3&&(ua[0]=="stop"||ua[0]=="close"?ua[0]=="stop"?Fa(Xr,7):un(Xr):ua[0]!="noop"&&Xr.l&&Xr.l.ta(ua),Xr.v=0)}}Hr(4)}catch{}}var Kl=class{constructor(sr,Dr){this.g=sr,this.map=Dr}};function wo(sr){this.l=sr||10,Ue.PerformanceNavigationTiming?(sr=Ue.performance.getEntriesByType("navigation"),sr=0<sr.length&&(sr[0].nextHopProtocol=="hq"||sr[0].nextHopProtocol=="h2")):sr=!!(Ue.chrome&&Ue.chrome.loadTimes&&Ue.chrome.loadTimes()&&Ue.chrome.loadTimes().wasFetchedViaSpdy),this.j=sr?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wl(sr){return sr.h?!0:sr.g?sr.g.size>=sr.j:!1}function xl(sr){return sr.h?1:sr.g?sr.g.size:0}function Xo(sr,Dr){return sr.h?sr.h==Dr:sr.g?sr.g.has(Dr):!1}function ql(sr,Dr){sr.g?sr.g.add(Dr):sr.h=Dr}function va(sr,Dr){sr.h&&sr.h==Dr?sr.h=null:sr.g&&sr.g.has(Dr)&&sr.g.delete(Dr)}wo.prototype.cancel=function(){if(this.i=zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const sr of this.g.values())sr.cancel();this.g.clear()}};function zl(sr){if(sr.h!=null)return sr.i.concat(sr.h.D);if(sr.g!=null&&sr.g.size!==0){let Dr=sr.i;for(const Xr of sr.g.values())Dr=Dr.concat(Xr.D);return Dr}return tr(sr.i)}function NA(sr){if(sr.V&&typeof sr.V=="function")return sr.V();if(typeof Map<"u"&&sr instanceof Map||typeof Set<"u"&&sr instanceof Set)return Array.from(sr.values());if(typeof sr=="string")return sr.split("");if(Oe(sr)){for(var Dr=[],Xr=sr.length,Cn=0;Cn<Xr;Cn++)Dr.push(sr[Cn]);return Dr}Dr=[],Xr=0;for(Cn in sr)Dr[Xr++]=sr[Cn];return Dr}function ao(sr){if(sr.na&&typeof sr.na=="function")return sr.na();if(!sr.V||typeof sr.V!="function"){if(typeof Map<"u"&&sr instanceof Map)return Array.from(sr.keys());if(!(typeof Set<"u"&&sr instanceof Set)){if(Oe(sr)||typeof sr=="string"){var Dr=[];sr=sr.length;for(var Xr=0;Xr<sr;Xr++)Dr.push(Xr);return Dr}Dr=[],Xr=0;for(const Cn in sr)Dr[Xr++]=Cn;return Dr}}}function Oo(sr,Dr){if(sr.forEach&&typeof sr.forEach=="function")sr.forEach(Dr,void 0);else if(Oe(sr)||typeof sr=="string")Array.prototype.forEach.call(sr,Dr,void 0);else for(var Xr=ao(sr),Cn=NA(sr),ni=Cn.length,gi=0;gi<ni;gi++)Dr.call(void 0,Cn[gi],Xr&&Xr[gi],sr)}var Ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cl(sr,Dr){if(sr){sr=sr.split("&");for(var Xr=0;Xr<sr.length;Xr++){var Cn=sr[Xr].indexOf("="),ni=null;if(0<=Cn){var gi=sr[Xr].substring(0,Cn);ni=sr[Xr].substring(Cn+1)}else gi=sr[Xr];Dr(gi,ni?decodeURIComponent(ni.replace(/\+/g," ")):"")}}}function sa(sr){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,sr instanceof sa){this.h=sr.h,Sl(this,sr.j),this.o=sr.o,this.g=sr.g,Yo(this,sr.s),this.l=sr.l;var Dr=sr.i,Xr=new Ns;Xr.i=Dr.i,Dr.g&&(Xr.g=new Map(Dr.g),Xr.h=Dr.h),ko(this,Xr),this.m=sr.m}else sr&&(Dr=String(sr).match(Ts))?(this.h=!1,Sl(this,Dr[1]||"",!0),this.o=Hs(Dr[2]||""),this.g=Hs(Dr[3]||"",!0),Yo(this,Dr[4]),this.l=Hs(Dr[5]||"",!0),ko(this,Dr[6]||"",!0),this.m=Hs(Dr[7]||"")):(this.h=!1,this.i=new Ns(null,this.h))}sa.prototype.toString=function(){var sr=[],Dr=this.j;Dr&&sr.push(so(Dr,AA,!0),":");var Xr=this.g;return(Xr||Dr=="file")&&(sr.push("//"),(Dr=this.o)&&sr.push(so(Dr,AA,!0),"@"),sr.push(encodeURIComponent(String(Xr)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Xr=this.s,Xr!=null&&sr.push(":",String(Xr))),(Xr=this.l)&&(this.g&&Xr.charAt(0)!="/"&&sr.push("/"),sr.push(so(Xr,Xr.charAt(0)=="/"?hc:cA,!0))),(Xr=this.i.toString())&&sr.push("?",Xr),(Xr=this.m)&&sr.push("#",so(Xr,xo)),sr.join("")};function Rs(sr){return new sa(sr)}function Sl(sr,Dr,Xr){sr.j=Xr?Hs(Dr,!0):Dr,sr.j&&(sr.j=sr.j.replace(/:$/,""))}function Yo(sr,Dr){if(Dr){if(Dr=Number(Dr),isNaN(Dr)||0>Dr)throw Error("Bad port number "+Dr);sr.s=Dr}else sr.s=null}function ko(sr,Dr,Xr){Dr instanceof Ns?(sr.i=Dr,UA(sr.i,sr.h)):(Xr||(Dr=so(Dr,uA)),sr.i=new Ns(Dr,sr.h))}function la(sr,Dr,Xr){sr.i.set(Dr,Xr)}function Zo(sr){return la(sr,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),sr}function Hs(sr,Dr){return sr?Dr?decodeURI(sr.replace(/%25/g,"%2525")):decodeURIComponent(sr):""}function so(sr,Dr,Xr){return typeof sr=="string"?(sr=encodeURI(sr).replace(Dr,Gl),Xr&&(sr=sr.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),sr):null}function Gl(sr){return sr=sr.charCodeAt(0),"%"+(sr>>4&15).toString(16)+(sr&15).toString(16)}var AA=/[#\/\?@]/g,cA=/[#\?:]/g,hc=/[#\?]/g,uA=/[#\?@]/g,xo=/#/g;function Ns(sr,Dr){this.h=this.g=null,this.i=sr||null,this.j=!!Dr}function oo(sr){sr.g||(sr.g=new Map,sr.h=0,sr.i&&Cl(sr.i,function(Dr,Xr){sr.add(decodeURIComponent(Dr.replace(/\+/g," ")),Xr)}))}Ee=Ns.prototype,Ee.add=function(sr,Dr){oo(this),this.i=null,sr=Co(this,sr);var Xr=this.g.get(sr);return Xr||this.g.set(sr,Xr=[]),Xr.push(Dr),this.h+=1,this};function Ks(sr,Dr){oo(sr),Dr=Co(sr,Dr),sr.g.has(Dr)&&(sr.i=null,sr.h-=sr.g.get(Dr).length,sr.g.delete(Dr))}function uo(sr,Dr){return oo(sr),Dr=Co(sr,Dr),sr.g.has(Dr)}Ee.forEach=function(sr,Dr){oo(this),this.g.forEach(function(Xr,Cn){Xr.forEach(function(ni){sr.call(Dr,ni,Cn,this)},this)},this)},Ee.na=function(){oo(this);const sr=Array.from(this.g.values()),Dr=Array.from(this.g.keys()),Xr=[];for(let Cn=0;Cn<Dr.length;Cn++){const ni=sr[Cn];for(let gi=0;gi<ni.length;gi++)Xr.push(Dr[Cn])}return Xr},Ee.V=function(sr){oo(this);let Dr=[];if(typeof sr=="string")uo(this,sr)&&(Dr=Dr.concat(this.g.get(Co(this,sr))));else{sr=Array.from(this.g.values());for(let Xr=0;Xr<sr.length;Xr++)Dr=Dr.concat(sr[Xr])}return Dr},Ee.set=function(sr,Dr){return oo(this),this.i=null,sr=Co(this,sr),uo(this,sr)&&(this.h-=this.g.get(sr).length),this.g.set(sr,[Dr]),this.h+=1,this},Ee.get=function(sr,Dr){return sr?(sr=this.V(sr),0<sr.length?String(sr[0]):Dr):Dr};function Wi(sr,Dr,Xr){Ks(sr,Dr),0<Xr.length&&(sr.i=null,sr.g.set(Co(sr,Dr),tr(Xr)),sr.h+=Xr.length)}Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const sr=[],Dr=Array.from(this.g.keys());for(var Xr=0;Xr<Dr.length;Xr++){var Cn=Dr[Xr];const gi=encodeURIComponent(String(Cn)),Ii=this.V(Cn);for(Cn=0;Cn<Ii.length;Cn++){var ni=gi;Ii[Cn]!==""&&(ni+="="+encodeURIComponent(String(Ii[Cn]))),sr.push(ni)}}return this.i=sr.join("&")};function Co(sr,Dr){return Dr=String(Dr),sr.j&&(Dr=Dr.toLowerCase()),Dr}function UA(sr,Dr){Dr&&!sr.j&&(oo(sr),sr.i=null,sr.g.forEach(function(Xr,Cn){var ni=Cn.toLowerCase();Cn!=ni&&(Ks(this,Cn),Wi(this,ni,Xr))},sr)),sr.j=Dr}function Tl(sr,Dr){const Xr=new zn;if(Ue.Image){const Cn=new Image;Cn.onload=qe(hs,Xr,"TestLoadImage: loaded",!0,Dr,Cn),Cn.onerror=qe(hs,Xr,"TestLoadImage: error",!1,Dr,Cn),Cn.onabort=qe(hs,Xr,"TestLoadImage: abort",!1,Dr,Cn),Cn.ontimeout=qe(hs,Xr,"TestLoadImage: timeout",!1,Dr,Cn),Ue.setTimeout(function(){Cn.ontimeout&&Cn.ontimeout()},1e4),Cn.src=sr}else Dr(!1)}function ho(sr,Dr){const Xr=new zn,Cn=new AbortController,ni=setTimeout(()=>{Cn.abort(),hs(Xr,"TestPingServer: timeout",!1,Dr)},1e4);fetch(sr,{signal:Cn.signal}).then(gi=>{clearTimeout(ni),gi.ok?hs(Xr,"TestPingServer: ok",!0,Dr):hs(Xr,"TestPingServer: server error",!1,Dr)}).catch(()=>{clearTimeout(ni),hs(Xr,"TestPingServer: error",!1,Dr)})}function hs(sr,Dr,Xr,Cn,ni){try{ni&&(ni.onload=null,ni.onerror=null,ni.onabort=null,ni.ontimeout=null),Cn(Xr)}catch{}}function qs(){this.g=new Ze}function So(sr,Dr,Xr){const Cn=Xr||"";try{Oo(sr,function(ni,gi){let Ii=ni;Me(ni)&&(Ii=wr(ni)),Dr.push(Cn+gi+"="+encodeURIComponent(Ii))})}catch(ni){throw Dr.push(Cn+"type="+encodeURIComponent("_badmap")),ni}}function $o(sr){this.l=sr.Ub||null,this.j=sr.eb||!1}Xe($o,Jr),$o.prototype.g=function(){return new lo(this.l,this.j)},$o.prototype.i=(function(sr){return function(){return sr}})({});function lo(sr,Dr){$n.call(this),this.D=sr,this.o=Dr,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Xe(lo,$n),Ee=lo.prototype,Ee.open=function(sr,Dr){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=sr,this.A=Dr,this.readyState=1,zs(this)},Ee.send=function(sr){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const Dr={headers:this.u,method:this.B,credentials:this.m,cache:void 0};sr&&(Dr.body=sr),(this.D||Ue).fetch(new Request(this.A,Dr)).then(this.Sa.bind(this),this.ga.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Us(this)),this.readyState=0},Ee.Sa=function(sr){if(this.g&&(this.l=sr,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=sr.headers,this.readyState=2,zs(this)),this.g&&(this.readyState=3,zs(this),this.g)))if(this.responseType==="arraybuffer")sr.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof Ue.ReadableStream<"u"&&"body"in sr){if(this.j=sr.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rl(this)}else sr.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rl(sr){sr.j.read().then(sr.Pa.bind(sr)).catch(sr.ga.bind(sr))}Ee.Pa=function(sr){if(this.g){if(this.o&&sr.value)this.response.push(sr.value);else if(!this.o){var Dr=sr.value?sr.value:new Uint8Array(0);(Dr=this.v.decode(Dr,{stream:!sr.done}))&&(this.response=this.responseText+=Dr)}sr.done?Us(this):zs(this),this.readyState==3&&Rl(this)}},Ee.Ra=function(sr){this.g&&(this.response=this.responseText=sr,Us(this))},Ee.Qa=function(sr){this.g&&(this.response=sr,Us(this))},Ee.ga=function(){this.g&&Us(this)};function Us(sr){sr.readyState=4,sr.l=null,sr.j=null,sr.v=null,zs(sr)}Ee.setRequestHeader=function(sr,Dr){this.u.append(sr,Dr)},Ee.getResponseHeader=function(sr){return this.h&&this.h.get(sr.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const sr=[],Dr=this.h.entries();for(var Xr=Dr.next();!Xr.done;)Xr=Xr.value,sr.push(Xr[0]+": "+Xr[1]),Xr=Dr.next();return sr.join(`\r
`)};function zs(sr){sr.onreadystatechange&&sr.onreadystatechange.call(sr)}Object.defineProperty(lo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(sr){this.m=sr?"include":"same-origin"}});function Jo(sr){let Dr="";return fr(sr,function(Xr,Cn){Dr+=Cn,Dr+=":",Dr+=Xr,Dr+=`\r
`}),Dr}function ds(sr,Dr,Xr){e:{for(Cn in Xr){var Cn=!1;break e}Cn=!0}Cn||(Xr=Jo(Xr),typeof sr=="string"?Xr!=null&&encodeURIComponent(String(Xr)):la(sr,Dr,Xr))}function ya(sr){$n.call(this),this.headers=new Map,this.o=sr||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Xe(ya,$n);var el=/^https?$/i,fo=["POST","PUT"];Ee=ya.prototype,Ee.Ha=function(sr){this.J=sr},Ee.ea=function(sr,Dr,Xr,Cn){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+sr);Dr=Dr?Dr.toUpperCase():"GET",this.D=sr,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fi.g(),this.v=this.o?Mn(this.o):Mn(Fi),this.g.onreadystatechange=Ge(this.Ea,this);try{this.B=!0,this.g.open(Dr,String(sr),!0),this.B=!1}catch(gi){tl(this,gi);return}if(sr=Xr||"",Xr=new Map(this.headers),Cn)if(Object.getPrototypeOf(Cn)===Object.prototype)for(var ni in Cn)Xr.set(ni,Cn[ni]);else if(typeof Cn.keys=="function"&&typeof Cn.get=="function")for(const gi of Cn.keys())Xr.set(gi,Cn.get(gi));else throw Error("Unknown input type for opt_headers: "+String(Cn));Cn=Array.from(Xr.keys()).find(gi=>gi.toLowerCase()=="content-type"),ni=Ue.FormData&&sr instanceof Ue.FormData,!(0<=Array.prototype.indexOf.call(fo,Dr,void 0))||Cn||ni||Xr.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[gi,Ii]of Xr)this.g.setRequestHeader(gi,Ii);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{po(this),this.u=!0,this.g.send(sr),this.u=!1}catch(gi){tl(this,gi)}};function tl(sr,Dr){sr.h=!1,sr.g&&(sr.j=!0,sr.g.abort(),sr.j=!1),sr.l=Dr,sr.m=5,rl(sr),Ao(sr)}function rl(sr){sr.A||(sr.A=!0,Yn(sr,"complete"),Yn(sr,"error"))}Ee.abort=function(sr){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=sr||7,Yn(this,"complete"),Yn(this,"abort"),Ao(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ao(this,!0)),ya.aa.N.call(this)},Ee.Ea=function(){this.s||(this.B||this.u||this.j?Mo(this):this.bb())},Ee.bb=function(){Mo(this)};function Mo(sr){if(sr.h&&typeof Be<"u"&&(!sr.v[1]||Ls(sr)!=4||sr.Z()!=2)){if(sr.u&&Ls(sr)==4)ai(sr.Ea,0,sr);else if(Yn(sr,"readystatechange"),Ls(sr)==4){sr.h=!1;try{const Ii=sr.Z();e:switch(Ii){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Dr=!0;break e;default:Dr=!1}var Xr;if(!(Xr=Dr)){var Cn;if(Cn=Ii===0){var ni=String(sr.D).match(Ts)[1]||null;!ni&&Ue.self&&Ue.self.location&&(ni=Ue.self.location.protocol.slice(0,-1)),Cn=!el.test(ni?ni.toLowerCase():"")}Xr=Cn}if(Xr)Yn(sr,"complete"),Yn(sr,"success");else{sr.m=6;try{var gi=2<Ls(sr)?sr.g.statusText:""}catch{gi=""}sr.l=gi+" ["+sr.Z()+"]",rl(sr)}}finally{Ao(sr)}}}}function Ao(sr,Dr){if(sr.g){po(sr);const Xr=sr.g,Cn=sr.v[0]?()=>{}:null;sr.g=null,sr.v=null,Dr||Yn(sr,"ready");try{Xr.onreadystatechange=Cn}catch{}}}function po(sr){sr.I&&(Ue.clearTimeout(sr.I),sr.I=null)}Ee.isActive=function(){return!!this.g};function Ls(sr){return sr.g?sr.g.readyState:0}Ee.Z=function(){try{return 2<Ls(this)?this.g.status:-1}catch{return-1}},Ee.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Oa=function(sr){if(this.g){var Dr=this.g.responseText;return sr&&Dr.indexOf(sr)==0&&(Dr=Dr.substring(sr.length)),Or(Dr)}};function Wl(sr){try{if(!sr.g)return null;if("response"in sr.g)return sr.g.response;switch(sr.H){case"":case"text":return sr.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in sr.g)return sr.g.mozResponseArrayBuffer}return null}catch{return null}}function Gs(sr){const Dr={};sr=(sr.g&&2<=Ls(sr)&&sr.g.getAllResponseHeaders()||"").split(`\r
`);for(let Cn=0;Cn<sr.length;Cn++){if(lr(sr[Cn]))continue;var Xr=$e(sr[Cn]);const ni=Xr[0];if(Xr=Xr[1],typeof Xr!="string")continue;Xr=Xr.trim();const gi=Dr[ni]||[];Dr[ni]=gi,gi.push(Xr)}er(Dr,function(Cn){return Cn.join(", ")})}Ee.Ba=function(){return this.m},Ee.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(sr,Dr,Xr){return Xr&&Xr.internalChannelParams&&Xr.internalChannelParams[sr]||Dr}function Sr(sr){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Os("failFast",!1,sr),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Os("baseRetryDelayMs",5e3,sr),this.cb=Os("retryDelaySeedMs",1e4,sr),this.Wa=Os("forwardChannelMaxRetries",2,sr),this.wa=Os("forwardChannelRequestTimeoutMs",2e4,sr),this.pa=sr&&sr.xmlHttpFactory||void 0,this.Xa=sr&&sr.Tb||void 0,this.Ca=sr&&sr.useFetchStreams||!1,this.L=void 0,this.J=sr&&sr.supportsCrossDomainXhr||!1,this.K="",this.h=new wo(sr&&sr.concurrentRequestLimit),this.Da=new qs,this.P=sr&&sr.fastHandshake||!1,this.O=sr&&sr.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=sr&&sr.Rb||!1,sr&&sr.xa&&this.j.xa(),sr&&sr.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&sr&&sr.detectBufferingProxy||!1,this.ja=void 0,sr&&sr.longPollingTimeout&&0<sr.longPollingTimeout&&(this.ja=sr.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}Ee=Sr.prototype,Ee.la=8,Ee.G=1,Ee.connect=function(sr,Dr,Xr,Cn){Qn(0),this.W=sr,this.H=Dr||{},Xr&&Cn!==void 0&&(this.H.OSID=Xr,this.H.OAID=Cn),this.F=this.X,this.I=To(this,null,this.W),ei(this)};function un(sr){if(Hn(sr),sr.G==3){var Dr=sr.U++,Xr=Rs(sr.I);if(la(Xr,"SID",sr.K),la(Xr,"RID",Dr),la(Xr,"TYPE","terminate"),Li(sr,Xr),Dr=new Oi(sr,sr.j,Dr),Dr.L=2,Dr.v=Zo(Rs(Xr)),Xr=!1,Ue.navigator&&Ue.navigator.sendBeacon)try{Xr=Ue.navigator.sendBeacon(Dr.v.toString(),"")}catch{}!Xr&&Ue.Image&&(new Image().src=Dr.v,Xr=!0),Xr||(Dr.g=jo(Dr.j,null),Dr.g.ea(Dr.v)),Dr.F=Date.now(),Uo(Dr)}fs(sr)}function Un(sr){sr.g&&(Aa(sr),sr.g.cancel(),sr.g=null)}function Hn(sr){Un(sr),sr.u&&(Ue.clearTimeout(sr.u),sr.u=null),Va(sr),sr.h.cancel(),sr.s&&(typeof sr.s=="number"&&Ue.clearTimeout(sr.s),sr.s=null)}function ei(sr){if(!wl(sr.h)&&!sr.s){sr.s=!0;var Dr=sr.Ga;Er||Br(),jr||(Er(),jr=!0),Nr.add(Dr,sr),sr.B=0}}function wi(sr,Dr){return xl(sr.h)>=sr.h.j-(sr.s?1:0)?!1:sr.s?(sr.i=Dr.D.concat(sr.i),!0):sr.G==1||sr.G==2||sr.B>=(sr.Va?0:sr.Wa)?!1:(sr.s=On(Ge(sr.Ga,sr,Dr),Wa(sr,sr.B)),sr.B++,!0)}Ee.Ga=function(sr){if(this.s)if(this.s=null,this.G==1){if(!sr){this.U=Math.floor(1e5*Math.random()),sr=this.U++;const ni=new Oi(this,this.j,sr);let gi=this.o;if(this.S&&(gi?(gi=nr(gi),mr(gi,this.S)):gi=this.S),this.m!==null||this.O||(ni.H=gi,gi=null),this.P)e:{for(var Dr=0,Xr=0;Xr<this.i.length;Xr++){t:{var Cn=this.i[Xr];if("__data__"in Cn.map&&(Cn=Cn.map.__data__,typeof Cn=="string")){Cn=Cn.length;break t}Cn=void 0}if(Cn===void 0)break;if(Dr+=Cn,4096<Dr){Dr=Xr;break e}if(Dr===4096||Xr===this.i.length-1){Dr=Xr+1;break e}}Dr=1e3}else Dr=1e3;Dr=Qi(this,ni,Dr),Xr=Rs(this.I),la(Xr,"RID",sr),la(Xr,"CVER",22),this.D&&la(Xr,"X-HTTP-Session-Id",this.D),Li(this,Xr),gi&&(this.O?Dr="headers="+encodeURIComponent(String(Jo(gi)))+"&"+Dr:this.m&&ds(Xr,this.m,gi)),ql(this.h,ni),this.Ua&&la(Xr,"TYPE","init"),this.P?(la(Xr,"$req",Dr),la(Xr,"SID","null"),ni.T=!0,ja(ni,Xr,null)):ja(ni,Xr,Dr),this.G=2}}else this.G==3&&(sr?Bi(this,sr):this.i.length==0||wl(this.h)||Bi(this))};function Bi(sr,Dr){var Xr;Dr?Xr=Dr.l:Xr=sr.U++;const Cn=Rs(sr.I);la(Cn,"SID",sr.K),la(Cn,"RID",Xr),la(Cn,"AID",sr.T),Li(sr,Cn),sr.m&&sr.o&&ds(Cn,sr.m,sr.o),Xr=new Oi(sr,sr.j,Xr,sr.B+1),sr.m===null&&(Xr.H=sr.o),Dr&&(sr.i=Dr.D.concat(sr.i)),Dr=Qi(sr,Xr,1e3),Xr.I=Math.round(.5*sr.wa)+Math.round(.5*sr.wa*Math.random()),ql(sr.h,Xr),ja(Xr,Cn,Dr)}function Li(sr,Dr){sr.H&&fr(sr.H,function(Xr,Cn){la(Dr,Cn,Xr)}),sr.l&&Oo({},function(Xr,Cn){la(Dr,Cn,Xr)})}function Qi(sr,Dr,Xr){Xr=Math.min(sr.i.length,Xr);var Cn=sr.l?Ge(sr.l.Na,sr.l,sr):null;e:{var ni=sr.i;let gi=-1;for(;;){const Ii=["count="+Xr];gi==-1?0<Xr?(gi=ni[0].g,Ii.push("ofs="+gi)):gi=0:Ii.push("ofs="+gi);let ca=!0;for(let qa=0;qa<Xr;qa++){let ua=ni[qa].g;const da=ni[qa].map;if(ua-=gi,0>ua)gi=Math.max(0,ni[qa].g-100),ca=!1;else try{So(da,Ii,"req"+ua+"_")}catch{Cn&&Cn(da)}}if(ca){Cn=Ii.join("&");break e}}}return sr=sr.i.splice(0,Xr),Dr.D=sr,Cn}function Gi(sr){if(!sr.g&&!sr.u){sr.Y=1;var Dr=sr.Fa;Er||Br(),jr||(Er(),jr=!0),Nr.add(Dr,sr),sr.v=0}}function Ji(sr){return sr.g||sr.u||3<=sr.v?!1:(sr.Y++,sr.u=On(Ge(sr.Fa,sr),Wa(sr,sr.v)),sr.v++,!0)}Ee.Fa=function(){if(this.u=null,La(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var sr=2*this.R;this.j.info("BP detection timer enabled: "+sr),this.A=On(Ge(this.ab,this),sr)}},Ee.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qn(10),Un(this),La(this))};function Aa(sr){sr.A!=null&&(Ue.clearTimeout(sr.A),sr.A=null)}function La(sr){sr.g=new Oi(sr,sr.j,"rpc",sr.Y),sr.m===null&&(sr.g.H=sr.o),sr.g.O=0;var Dr=Rs(sr.qa);la(Dr,"RID","rpc"),la(Dr,"SID",sr.K),la(Dr,"AID",sr.T),la(Dr,"CI",sr.F?"0":"1"),!sr.F&&sr.ja&&la(Dr,"TO",sr.ja),la(Dr,"TYPE","xmlhttp"),Li(sr,Dr),sr.m&&sr.o&&ds(Dr,sr.m,sr.o),sr.L&&(sr.g.I=sr.L);var Xr=sr.g;sr=sr.ia,Xr.L=1,Xr.v=Zo(Rs(Dr)),Xr.m=null,Xr.P=!0,Ga(Xr,sr)}Ee.Za=function(){this.C!=null&&(this.C=null,Un(this),Ji(this),Qn(19))};function Va(sr){sr.C!=null&&(Ue.clearTimeout(sr.C),sr.C=null)}function Ca(sr,Dr){var Xr=null;if(sr.g==Dr){Va(sr),Aa(sr),sr.g=null;var Cn=2}else if(Xo(sr.h,Dr))Xr=Dr.D,va(sr.h,Dr),Cn=1;else return;if(sr.G!=0){if(Dr.o)if(Cn==1){Xr=Dr.m?Dr.m.length:0,Dr=Date.now()-Dr.F;var ni=sr.B;Cn=Dn(),Yn(Cn,new kn(Cn,Xr)),ei(sr)}else Gi(sr);else if(ni=Dr.s,ni==3||ni==0&&0<Dr.X||!(Cn==1&&wi(sr,Dr)||Cn==2&&Ji(sr)))switch(Xr&&0<Xr.length&&(Dr=sr.h,Dr.i=Dr.i.concat(Xr)),ni){case 1:Fa(sr,5);break;case 4:Fa(sr,10);break;case 3:Fa(sr,6);break;default:Fa(sr,2)}}}function Wa(sr,Dr){let Xr=sr.Ta+Math.floor(Math.random()*sr.cb);return sr.isActive()||(Xr*=2),Xr*Dr}function Fa(sr,Dr){if(sr.j.info("Error code "+Dr),Dr==2){var Xr=Ge(sr.fb,sr),Cn=sr.Xa;const ni=!Cn;Cn=new sa(Cn||"//www.google.com/images/cleardot.gif"),Ue.location&&Ue.location.protocol=="http"||Sl(Cn,"https"),Zo(Cn),ni?Tl(Cn.toString(),Xr):ho(Cn.toString(),Xr)}else Qn(2);sr.G=0,sr.l&&sr.l.sa(Dr),fs(sr),Hn(sr)}Ee.fb=function(sr){sr?(this.j.info("Successfully pinged google.com"),Qn(2)):(this.j.info("Failed to ping google.com"),Qn(1))};function fs(sr){if(sr.G=0,sr.ka=[],sr.l){const Dr=zl(sr.h);(Dr.length!=0||sr.i.length!=0)&&(Je(sr.ka,Dr),Je(sr.ka,sr.i),sr.h.i.length=0,tr(sr.i),sr.i.length=0),sr.l.ra()}}function To(sr,Dr,Xr){var Cn=Xr instanceof sa?Rs(Xr):new sa(Xr);if(Cn.g!="")Dr&&(Cn.g=Dr+"."+Cn.g),Yo(Cn,Cn.s);else{var ni=Ue.location;Cn=ni.protocol,Dr=Dr?Dr+"."+ni.hostname:ni.hostname,ni=+ni.port;var gi=new sa(null);Cn&&Sl(gi,Cn),Dr&&(gi.g=Dr),ni&&Yo(gi,ni),Xr&&(gi.l=Xr),Cn=gi}return Xr=sr.D,Dr=sr.ya,Xr&&Dr&&la(Cn,Xr,Dr),la(Cn,"VER",sr.la),Li(sr,Cn),Cn}function jo(sr,Dr,Xr){if(Dr&&!sr.J)throw Error("Can't create secondary domain capable XhrIo object.");return Dr=sr.Ca&&!sr.pa?new ya(new $o({eb:Xr})):new ya(sr.pa),Dr.Ha(sr.J),Dr}Ee.isActive=function(){return!!this.l&&this.l.isActive(this)};function LA(){}Ee=LA.prototype,Ee.ua=function(){},Ee.ta=function(){},Ee.sa=function(){},Ee.ra=function(){},Ee.isActive=function(){return!0},Ee.Na=function(){};function Bl(){}Bl.prototype.g=function(sr,Dr){return new ss(sr,Dr)};function ss(sr,Dr){$n.call(this),this.g=new Sr(Dr),this.l=sr,this.h=Dr&&Dr.messageUrlParams||null,sr=Dr&&Dr.messageHeaders||null,Dr&&Dr.clientProtocolHeaderRequired&&(sr?sr["X-Client-Protocol"]="webchannel":sr={"X-Client-Protocol":"webchannel"}),this.g.o=sr,sr=Dr&&Dr.initMessageHeaders||null,Dr&&Dr.messageContentType&&(sr?sr["X-WebChannel-Content-Type"]=Dr.messageContentType:sr={"X-WebChannel-Content-Type":Dr.messageContentType}),Dr&&Dr.va&&(sr?sr["X-WebChannel-Client-Profile"]=Dr.va:sr={"X-WebChannel-Client-Profile":Dr.va}),this.g.S=sr,(sr=Dr&&Dr.Sb)&&!lr(sr)&&(this.g.m=sr),this.v=Dr&&Dr.supportsCrossDomainXhr||!1,this.u=Dr&&Dr.sendRawJson||!1,(Dr=Dr&&Dr.httpSessionIdParam)&&!lr(Dr)&&(this.g.D=Dr,sr=this.h,sr!==null&&Dr in sr&&(sr=this.h,Dr in sr&&delete sr[Dr])),this.j=new Ws(this)}Xe(ss,$n),ss.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ss.prototype.close=function(){un(this.g)},ss.prototype.o=function(sr){var Dr=this.g;if(typeof sr=="string"){var Xr={};Xr.__data__=sr,sr=Xr}else this.u&&(Xr={},Xr.__data__=wr(sr),sr=Xr);Dr.i.push(new Kl(Dr.Ya++,sr)),Dr.G==3&&ei(Dr)},ss.prototype.N=function(){this.g.l=null,delete this.j,un(this.g),delete this.g,ss.aa.N.call(this)};function co(sr){kr.call(this),sr.__headers__&&(this.headers=sr.__headers__,this.statusCode=sr.__status__,delete sr.__headers__,delete sr.__status__);var Dr=sr.__sm__;if(Dr){e:{for(const Xr in Dr){sr=Xr;break e}sr=void 0}(this.i=sr)&&(sr=this.i,Dr=Dr!==null&&sr in Dr?Dr[sr]:void 0),this.data=Dr}else this.data=sr}Xe(co,kr);function Xl(){rr.call(this),this.status=1}Xe(Xl,rr);function Ws(sr){this.g=sr}Xe(Ws,LA),Ws.prototype.ua=function(){Yn(this.g,"a")},Ws.prototype.ta=function(sr){Yn(this.g,new co(sr))},Ws.prototype.sa=function(sr){Yn(this.g,new Xl)},Ws.prototype.ra=function(){Yn(this.g,"b")},Bl.prototype.createWebChannel=Bl.prototype.g,ss.prototype.send=ss.prototype.o,ss.prototype.open=ss.prototype.m,ss.prototype.close=ss.prototype.close,createWebChannelTransport=function(){return new Bl},getStatEventTarget=function(){return Dn()},Event$1=xr,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,ErrorCode$1=yi,_i.COMPLETE="complete",EventType=_i,ze.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",$n.prototype.listen=$n.prototype.K,WebChannel=ze,ya.prototype.listenOnce=ya.prototype.L,ya.prototype.getLastError=ya.prototype.Ka,ya.prototype.getLastErrorCode=ya.prototype.Ba,ya.prototype.getStatus=ya.prototype.Z,ya.prototype.getResponseJson=ya.prototype.Oa,ya.prototype.getResponseText=ya.prototype.oa,ya.prototype.send=ya.prototype.ea,ya.prototype.setWithCredentials=ya.prototype.Ha,XhrIo=ya}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const F$2="@firebase/firestore",M$1="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x$2="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$1=new Logger$1("@firebase/firestore");function __PRIVATE_getLogLevel(){return O$1.logLevel}function __PRIVATE_logDebug(Ee,...t){if(O$1.logLevel<=LogLevel.DEBUG){const n=t.map(__PRIVATE_argToString);O$1.debug(`Firestore (${x$2}): ${Ee}`,...n)}}function __PRIVATE_logError(Ee,...t){if(O$1.logLevel<=LogLevel.ERROR){const n=t.map(__PRIVATE_argToString);O$1.error(`Firestore (${x$2}): ${Ee}`,...n)}}function __PRIVATE_logWarn(Ee,...t){if(O$1.logLevel<=LogLevel.WARN){const n=t.map(__PRIVATE_argToString);O$1.warn(`Firestore (${x$2}): ${Ee}`,...n)}}function __PRIVATE_argToString(Ee){if(typeof Ee=="string")return Ee;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(Ee)}catch{return Ee}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(Ee,t,n){let Ce="Unexpected state";typeof t=="string"?Ce=t:n=t,__PRIVATE__fail(Ee,Ce,n)}function __PRIVATE__fail(Ee,t,n){let Ce=`FIRESTORE (${x$2}) INTERNAL ASSERTION FAILED: ${t} (ID: ${Ee.toString(16)})`;if(n!==void 0)try{Ce+=" CONTEXT: "+JSON.stringify(n)}catch{Ce+=" CONTEXT: "+n}throw __PRIVATE_logError(Ce),new Error(Ce)}function __PRIVATE_hardAssert(Ee,t,n,Ce){let Te="Unexpected state";typeof n=="string"?Te=n:Ce=n,Ee||__PRIVATE__fail(t,Te,Ce)}function __PRIVATE_debugCast(Ee,t){return Ee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(User.UNAUTHENTICATED)))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(t){this.t=t,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){__PRIVATE_hardAssert(this.o===void 0,42304);let Ce=this.i;const Te=Oe=>this.i!==Ce?(Ce=this.i,n(Oe)):Promise.resolve();let Re=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),Re.resolve(),Re=new __PRIVATE_Deferred,t.enqueueRetryable((()=>Te(this.currentUser)))};const Be=()=>{const Oe=Re;t.enqueueRetryable((async()=>{await Oe.promise,await Te(this.currentUser)}))},Ue=Oe=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Oe,this.o&&(this.auth.addAuthTokenListener(this.o),Be())};this.t.onInit((Oe=>Ue(Oe))),setTimeout((()=>{if(!this.auth){const Oe=this.t.getImmediate({optional:!0});Oe?Ue(Oe):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),Re.resolve(),Re=new __PRIVATE_Deferred)}}),0),Be()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((Ce=>this.i!==t?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):Ce?(__PRIVATE_hardAssert(typeof Ce.accessToken=="string",31837,{l:Ce}),new __PRIVATE_OAuthToken(Ce.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(t===null||typeof t=="string",2055,{h:t}),new User(t)}}class __PRIVATE_FirstPartyToken{constructor(t,n,Ce){this.P=t,this.T=n,this.I=Ce,this.type="FirstParty",this.user=User.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(t,n,Ce){this.P=t,this.T=n,this.I=Ce}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(User.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_isFirebaseServerApp(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){__PRIVATE_hardAssert(this.o===void 0,3512);const Ce=Re=>{Re.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${Re.error.message}`);const Be=Re.token!==this.m;return this.m=Re.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${Be?"new":"existing"} token.`),Be?n(Re.token):Promise.resolve()};this.o=Re=>{t.enqueueRetryable((()=>Ce(Re)))};const Te=Re=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=Re,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((Re=>Te(Re))),setTimeout((()=>{if(!this.appCheck){const Re=this.V.getImmediate({optional:!0});Re?Te(Re):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new AppCheckToken(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(__PRIVATE_hardAssert(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new AppCheckToken(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(Ee){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(Ee);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let Ce=0;Ce<Ee;Ce++)n[Ce]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let Ce="";for(;Ce.length<20;){const Te=__PRIVATE_randomBytes(40);for(let Re=0;Re<Te.length;++Re)Ce.length<20&&Te[Re]<n&&(Ce+=t.charAt(Te[Re]%62))}return Ce}}function __PRIVATE_primitiveComparator(Ee,t){return Ee<t?-1:Ee>t?1:0}function __PRIVATE_compareUtf8Strings(Ee,t){let n=0;for(;n<Ee.length&&n<t.length;){const Ce=Ee.codePointAt(n),Te=t.codePointAt(n);if(Ce!==Te){if(Ce<128&&Te<128)return __PRIVATE_primitiveComparator(Ce,Te);{const Re=__PRIVATE_newTextEncoder(),Be=__PRIVATE_compareByteArrays$1(Re.encode(__PRIVATE_getUtf8SafeSubstring(Ee,n)),Re.encode(__PRIVATE_getUtf8SafeSubstring(t,n)));return Be!==0?Be:__PRIVATE_primitiveComparator(Ce,Te)}}n+=Ce>65535?2:1}return __PRIVATE_primitiveComparator(Ee.length,t.length)}function __PRIVATE_getUtf8SafeSubstring(Ee,t){return Ee.codePointAt(t)>65535?Ee.substring(t,t+2):Ee.substring(t,t+1)}function __PRIVATE_compareByteArrays$1(Ee,t){for(let n=0;n<Ee.length&&n<t.length;++n)if(Ee[n]!==t[n])return __PRIVATE_primitiveComparator(Ee[n],t[n]);return __PRIVATE_primitiveComparator(Ee.length,t.length)}function __PRIVATE_arrayEquals(Ee,t,n){return Ee.length===t.length&&Ee.every(((Ce,Te)=>n(Ce,t[Te])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$1="__name__";class BasePath{constructor(t,n,Ce){n===void 0?n=0:n>t.length&&fail(637,{offset:n,range:t.length}),Ce===void 0?Ce=t.length-n:Ce>t.length-n&&fail(1746,{length:Ce,range:t.length-n}),this.segments=t,this.offset=n,this.len=Ce}get length(){return this.len}isEqual(t){return BasePath.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof BasePath?t.forEach((Ce=>{n.push(Ce)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,Ce=this.limit();n<Ce;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const Ce=Math.min(t.length,n.length);for(let Te=0;Te<Ce;Te++){const Re=BasePath.compareSegments(t.get(Te),n.get(Te));if(Re!==0)return Re}return __PRIVATE_primitiveComparator(t.length,n.length)}static compareSegments(t,n){const Ce=BasePath.isNumericId(t),Te=BasePath.isNumericId(n);return Ce&&!Te?-1:!Ce&&Te?1:Ce&&Te?BasePath.extractNumericId(t).compare(BasePath.extractNumericId(n)):__PRIVATE_compareUtf8Strings(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Integer.fromString(t.substring(4,t.length-2))}}class ResourcePath extends BasePath{construct(t,n,Ce){return new ResourcePath(t,n,Ce)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const Ce of t){if(Ce.indexOf("//")>=0)throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid segment (${Ce}). Paths must not contain // in them.`);n.push(...Ce.split("/").filter((Te=>Te.length>0)))}return new ResourcePath(n)}static emptyPath(){return new ResourcePath([])}}const L$2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(t,n,Ce){return new FieldPath$1(t,n,Ce)}static isValidIdentifier(t){return L$2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B$1}static keyField(){return new FieldPath$1([B$1])}static fromServerFormat(t){const n=[];let Ce="",Te=0;const Re=()=>{if(Ce.length===0)throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(Ce),Ce=""};let Be=!1;for(;Te<t.length;){const Ue=t[Te];if(Ue==="\\"){if(Te+1===t.length)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const Oe=t[Te+1];if(Oe!=="\\"&&Oe!=="."&&Oe!=="`")throw new FirestoreError(N$1.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);Ce+=Oe,Te+=2}else Ue==="`"?(Be=!Be,Te++):Ue!=="."||Be?(Ce+=Ue,Te++):(Re(),Te++)}if(Re(),Be)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new FieldPath$1(n)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(t){this.path=t}static fromPath(t){return new DocumentKey(ResourcePath.fromString(t))}static fromName(t){return new DocumentKey(ResourcePath.fromString(t).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ResourcePath.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ResourcePath.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new DocumentKey(new ResourcePath(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(Ee,t,n){if(!n)throw new FirestoreError(N$1.INVALID_ARGUMENT,`Function ${Ee}() cannot be called with an empty ${t}.`)}function __PRIVATE_validateIsNotUsedTogether(Ee,t,n,Ce){if(t===!0&&Ce===!0)throw new FirestoreError(N$1.INVALID_ARGUMENT,`${Ee} and ${n} cannot be used together.`)}function __PRIVATE_validateDocumentPath(Ee){if(!DocumentKey.isDocumentKey(Ee))throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${Ee} has ${Ee.length}.`)}function __PRIVATE_validateCollectionPath(Ee){if(DocumentKey.isDocumentKey(Ee))throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${Ee} has ${Ee.length}.`)}function __PRIVATE_isPlainObject(Ee){return typeof Ee=="object"&&Ee!==null&&(Object.getPrototypeOf(Ee)===Object.prototype||Object.getPrototypeOf(Ee)===null)}function __PRIVATE_valueDescription(Ee){if(Ee===void 0)return"undefined";if(Ee===null)return"null";if(typeof Ee=="string")return Ee.length>20&&(Ee=`${Ee.substring(0,20)}...`),JSON.stringify(Ee);if(typeof Ee=="number"||typeof Ee=="boolean")return""+Ee;if(typeof Ee=="object"){if(Ee instanceof Array)return"an array";{const t=(function(Ce){return Ce.constructor?Ce.constructor.name:null})(Ee);return t?`a custom ${t} object`:"an object"}}return typeof Ee=="function"?"a function":fail(12329,{type:typeof Ee})}function __PRIVATE_cast(Ee,t){if("_delegate"in Ee&&(Ee=Ee._delegate),!(Ee instanceof t)){if(t.name===Ee.constructor.name)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=__PRIVATE_valueDescription(Ee);throw new FirestoreError(N$1.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return Ee}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function property(Ee,t){const n={typeString:Ee};return t&&(n.value=t),n}function __PRIVATE_validateJSON(Ee,t){if(!__PRIVATE_isPlainObject(Ee))throw new FirestoreError(N$1.INVALID_ARGUMENT,"JSON must be an object");let n;for(const Ce in t)if(t[Ce]){const Te=t[Ce].typeString,Re="value"in t[Ce]?{value:t[Ce].value}:void 0;if(!(Ce in Ee)){n=`JSON missing required field: '${Ce}'`;break}const Be=Ee[Ce];if(Te&&typeof Be!==Te){n=`JSON field '${Ce}' must be a ${Te}.`;break}if(Re!==void 0&&Be!==Re.value){n=`Expected '${Ce}' field to equal '${Re.value}'`;break}}if(n)throw new FirestoreError(N$1.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$1=-62135596800,q$1=1e6;class Timestamp{static now(){return Timestamp.fromMillis(Date.now())}static fromDate(t){return Timestamp.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),Ce=Math.floor((t-1e3*n)*q$1);return new Timestamp(n,Ce)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<k$1)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q$1}_compareTo(t){return this.seconds===t.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,t.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Timestamp._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(__PRIVATE_validateJSON(t,Timestamp._jsonSchema))return new Timestamp(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-k$1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Timestamp._jsonSchemaVersion="firestore/timestamp/1.0",Timestamp._jsonSchema={type:property("string",Timestamp._jsonSchemaVersion),seconds:property("number"),nanoseconds:property("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{static fromTimestamp(t){return new SnapshotVersion(t)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$1=-1;function __PRIVATE_newIndexOffsetSuccessorFromReadTime(Ee,t){const n=Ee.toTimestamp().seconds,Ce=Ee.toTimestamp().nanoseconds+1,Te=SnapshotVersion.fromTimestamp(Ce===1e9?new Timestamp(n+1,0):new Timestamp(n,Ce));return new IndexOffset(Te,DocumentKey.empty(),t)}function __PRIVATE_newIndexOffsetFromDocument(Ee){return new IndexOffset(Ee.readTime,Ee.key,Q$1)}class IndexOffset{constructor(t,n,Ce){this.readTime=t,this.documentKey=n,this.largestBatchId=Ce}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),Q$1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),Q$1)}}function __PRIVATE_indexOffsetComparator(Ee,t){let n=Ee.readTime.compareTo(t.readTime);return n!==0?n:(n=DocumentKey.comparator(Ee.documentKey,t.documentKey),n!==0?n:__PRIVATE_primitiveComparator(Ee.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(Ee){if(Ee.code!==N$1.FAILED_PRECONDITION||Ee.message!==$$1)throw Ee;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&fail(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new PersistencePromise(((Ce,Te)=>{this.nextCallback=Re=>{this.wrapSuccess(t,Re).next(Ce,Te)},this.catchCallback=Re=>{this.wrapFailure(n,Re).next(Ce,Te)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof PersistencePromise?n:PersistencePromise.resolve(n)}catch(n){return PersistencePromise.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):PersistencePromise.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):PersistencePromise.reject(n)}static resolve(t){return new PersistencePromise(((n,Ce)=>{n(t)}))}static reject(t){return new PersistencePromise(((n,Ce)=>{Ce(t)}))}static waitFor(t){return new PersistencePromise(((n,Ce)=>{let Te=0,Re=0,Be=!1;t.forEach((Ue=>{++Te,Ue.next((()=>{++Re,Be&&Re===Te&&n()}),(Oe=>Ce(Oe)))})),Be=!0,Re===Te&&n()}))}static or(t){let n=PersistencePromise.resolve(!1);for(const Ce of t)n=n.next((Te=>Te?PersistencePromise.resolve(Te):Ce()));return n}static forEach(t,n){const Ce=[];return t.forEach(((Te,Re)=>{Ce.push(n.call(this,Te,Re))})),this.waitFor(Ce)}static mapArray(t,n){return new PersistencePromise(((Ce,Te)=>{const Re=t.length,Be=new Array(Re);let Ue=0;for(let Oe=0;Oe<Re;Oe++){const Me=Oe;n(t[Me]).next((Qe=>{Be[Me]=Qe,++Ue,Ue===Re&&Ce(Be)}),(Qe=>Te(Qe)))}}))}static doWhile(t,n){return new PersistencePromise(((Ce,Te)=>{const Re=()=>{t()===!0?n().next((()=>{Re()}),Te):Ce()};Re()}))}}function __PRIVATE_getAndroidVersion(Ee){const t=Ee.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function __PRIVATE_isIndexedDbTransactionError(Ee){return Ee.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=Ce=>this._e(Ce),this.ae=Ce=>n.writeSequenceNumber(Ce))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}__PRIVATE_ListenSequence.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$1=-1;function __PRIVATE_isNullOrUndefined(Ee){return Ee==null}function __PRIVATE_isNegativeZero(Ee){return Ee===0&&1/Ee==-1/0}function isSafeInteger(Ee){return typeof Ee=="number"&&Number.isInteger(Ee)&&!__PRIVATE_isNegativeZero(Ee)&&Ee<=Number.MAX_SAFE_INTEGER&&Ee>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$2="";function __PRIVATE_encodeResourcePath(Ee){let t="";for(let n=0;n<Ee.length;n++)t.length>0&&(t=__PRIVATE_encodeSeparator(t)),t=__PRIVATE_encodeSegment(Ee.get(n),t);return __PRIVATE_encodeSeparator(t)}function __PRIVATE_encodeSegment(Ee,t){let n=t;const Ce=Ee.length;for(let Te=0;Te<Ce;Te++){const Re=Ee.charAt(Te);switch(Re){case"\0":n+="";break;case z$2:n+="";break;default:n+=Re}}return n}function __PRIVATE_encodeSeparator(Ee){return Ee+z$2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(Ee){let t=0;for(const n in Ee)Object.prototype.hasOwnProperty.call(Ee,n)&&t++;return t}function forEach(Ee,t){for(const n in Ee)Object.prototype.hasOwnProperty.call(Ee,n)&&t(n,Ee[n])}function isEmpty(Ee){for(const t in Ee)if(Object.prototype.hasOwnProperty.call(Ee,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(t,n){this.comparator=t,this.root=n||LLRBNode.EMPTY}insert(t,n){return new SortedMap(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(t){return new SortedMap(this.comparator,this.root.remove(t,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const Ce=this.comparator(t,n.key);if(Ce===0)return n.value;Ce<0?n=n.left:Ce>0&&(n=n.right)}return null}indexOf(t){let n=0,Ce=this.root;for(;!Ce.isEmpty();){const Te=this.comparator(t,Ce.key);if(Te===0)return n+Ce.left.size;Te<0?Ce=Ce.left:(n+=Ce.left.size+1,Ce=Ce.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,Ce)=>(t(n,Ce),!1)))}toString(){const t=[];return this.inorderTraversal(((n,Ce)=>(t.push(`${n}:${Ce}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new SortedMapIterator(this.root,t,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new SortedMapIterator(this.root,t,this.comparator,!0)}}class SortedMapIterator{constructor(t,n,Ce,Te){this.isReverse=Te,this.nodeStack=[];let Re=1;for(;!t.isEmpty();)if(Re=n?Ce(t.key,n):1,n&&Te&&(Re*=-1),Re<0)t=this.isReverse?t.left:t.right;else{if(Re===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class LLRBNode{constructor(t,n,Ce,Te,Re){this.key=t,this.value=n,this.color=Ce??LLRBNode.RED,this.left=Te??LLRBNode.EMPTY,this.right=Re??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,Ce,Te,Re){return new LLRBNode(t??this.key,n??this.value,Ce??this.color,Te??this.left,Re??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,Ce){let Te=this;const Re=Ce(t,Te.key);return Te=Re<0?Te.copy(null,null,null,Te.left.insert(t,n,Ce),null):Re===0?Te.copy(null,n,null,null,null):Te.copy(null,null,null,null,Te.right.insert(t,n,Ce)),Te.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let Ce,Te=this;if(n(t,Te.key)<0)Te.left.isEmpty()||Te.left.isRed()||Te.left.left.isRed()||(Te=Te.moveRedLeft()),Te=Te.copy(null,null,null,Te.left.remove(t,n),null);else{if(Te.left.isRed()&&(Te=Te.rotateRight()),Te.right.isEmpty()||Te.right.isRed()||Te.right.left.isRed()||(Te=Te.moveRedRight()),n(t,Te.key)===0){if(Te.right.isEmpty())return LLRBNode.EMPTY;Ce=Te.right.min(),Te=Te.copy(Ce.key,Ce.value,null,null,Te.right.removeMin())}Te=Te.copy(null,null,null,null,Te.right.remove(t,n))}return Te.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fail(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fail(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw fail(27949);return t+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail(57766)}get value(){throw fail(16141)}get color(){throw fail(16727)}get left(){throw fail(29726)}get right(){throw fail(36894)}copy(t,n,Ce,Te,Re){return this}insert(t,n,Ce){return new LLRBNode(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(t){this.comparator=t,this.data=new SortedMap(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,Ce)=>(t(n),!1)))}forEachInRange(t,n){const Ce=this.data.getIteratorFrom(t[0]);for(;Ce.hasNext();){const Te=Ce.getNext();if(this.comparator(Te.key,t[1])>=0)return;n(Te.key)}}forEachWhile(t,n){let Ce;for(Ce=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();Ce.hasNext();)if(!t(Ce.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(t){return new SortedSetIterator(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((Ce=>{n=n.add(Ce)})),n}isEqual(t){if(!(t instanceof SortedSet)||this.size!==t.size)return!1;const n=this.data.getIterator(),Ce=t.data.getIterator();for(;n.hasNext();){const Te=n.getNext().key,Re=Ce.getNext().key;if(this.comparator(Te,Re)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new SortedSet(this.comparator);return n.data=t,n}}class SortedSetIterator{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(t){this.fields=t,t.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(t){let n=new SortedSet(FieldPath$1.comparator);for(const Ce of this.fields)n=n.add(Ce);for(const Ce of t)n=n.add(Ce);return new FieldMask(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return __PRIVATE_arrayEquals(this.fields,t.fields,((n,Ce)=>n.isEqual(Ce)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(Te){try{return atob(Te)}catch(Re){throw typeof DOMException<"u"&&Re instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+Re):Re}})(t);return new ByteString(n)}static fromUint8Array(t){const n=(function(Te){let Re="";for(let Be=0;Be<Te.length;++Be)Re+=String.fromCharCode(Te[Be]);return Re})(t);return new ByteString(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const Ce=new Uint8Array(n.length);for(let Te=0;Te<n.length;Te++)Ce[Te]=n.charCodeAt(Te);return Ce})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return __PRIVATE_primitiveComparator(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const it$1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(Ee){if(__PRIVATE_hardAssert(!!Ee,39018),typeof Ee=="string"){let t=0;const n=it$1.exec(Ee);if(__PRIVATE_hardAssert(!!n,46558,{timestamp:Ee}),n[1]){let Te=n[1];Te=(Te+"000000000").substr(0,9),t=Number(Te)}const Ce=new Date(Ee);return{seconds:Math.floor(Ce.getTime()/1e3),nanos:t}}return{seconds:__PRIVATE_normalizeNumber(Ee.seconds),nanos:__PRIVATE_normalizeNumber(Ee.nanos)}}function __PRIVATE_normalizeNumber(Ee){return typeof Ee=="number"?Ee:typeof Ee=="string"?Number(Ee):0}function __PRIVATE_normalizeByteString(Ee){return typeof Ee=="string"?ByteString.fromBase64String(Ee):ByteString.fromUint8Array(Ee)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st$1="server_timestamp",ot$1="__type__",_t$1="__previous_value__",at$1="__local_write_time__";function __PRIVATE_isServerTimestamp(Ee){var t,n;return((n=(((t=Ee==null?void 0:Ee.mapValue)===null||t===void 0?void 0:t.fields)||{})[ot$1])===null||n===void 0?void 0:n.stringValue)===st$1}function __PRIVATE_getPreviousValue(Ee){const t=Ee.mapValue.fields[_t$1];return __PRIVATE_isServerTimestamp(t)?__PRIVATE_getPreviousValue(t):t}function __PRIVATE_getLocalWriteTime(Ee){const t=__PRIVATE_normalizeTimestamp(Ee.mapValue.fields[at$1].timestampValue);return new Timestamp(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(t,n,Ce,Te,Re,Be,Ue,Oe,Me,Qe){this.databaseId=t,this.appId=n,this.persistenceKey=Ce,this.host=Te,this.ssl=Re,this.forceLongPolling=Be,this.autoDetectLongPolling=Ue,this.longPollingOptions=Oe,this.useFetchStreams=Me,this.isUsingEmulator=Qe}}const ut$1="(default)";class DatabaseId{constructor(t,n){this.projectId=t,this.database=n||ut$1}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database===ut$1}isEqual(t){return t instanceof DatabaseId&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct$1="__type__",lt$1="__max__",ht$1={mapValue:{}},Pt$1="__vector__",Tt$1="value";function __PRIVATE_typeOrder(Ee){return"nullValue"in Ee?0:"booleanValue"in Ee?1:"integerValue"in Ee||"doubleValue"in Ee?2:"timestampValue"in Ee?3:"stringValue"in Ee?5:"bytesValue"in Ee?6:"referenceValue"in Ee?7:"geoPointValue"in Ee?8:"arrayValue"in Ee?9:"mapValue"in Ee?__PRIVATE_isServerTimestamp(Ee)?4:__PRIVATE_isMaxValue(Ee)?9007199254740991:__PRIVATE_isVectorValue(Ee)?10:11:fail(28295,{value:Ee})}function __PRIVATE_valueEquals(Ee,t){if(Ee===t)return!0;const n=__PRIVATE_typeOrder(Ee);if(n!==__PRIVATE_typeOrder(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return Ee.booleanValue===t.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(Ee).isEqual(__PRIVATE_getLocalWriteTime(t));case 3:return(function(Te,Re){if(typeof Te.timestampValue=="string"&&typeof Re.timestampValue=="string"&&Te.timestampValue.length===Re.timestampValue.length)return Te.timestampValue===Re.timestampValue;const Be=__PRIVATE_normalizeTimestamp(Te.timestampValue),Ue=__PRIVATE_normalizeTimestamp(Re.timestampValue);return Be.seconds===Ue.seconds&&Be.nanos===Ue.nanos})(Ee,t);case 5:return Ee.stringValue===t.stringValue;case 6:return(function(Te,Re){return __PRIVATE_normalizeByteString(Te.bytesValue).isEqual(__PRIVATE_normalizeByteString(Re.bytesValue))})(Ee,t);case 7:return Ee.referenceValue===t.referenceValue;case 8:return(function(Te,Re){return __PRIVATE_normalizeNumber(Te.geoPointValue.latitude)===__PRIVATE_normalizeNumber(Re.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(Te.geoPointValue.longitude)===__PRIVATE_normalizeNumber(Re.geoPointValue.longitude)})(Ee,t);case 2:return(function(Te,Re){if("integerValue"in Te&&"integerValue"in Re)return __PRIVATE_normalizeNumber(Te.integerValue)===__PRIVATE_normalizeNumber(Re.integerValue);if("doubleValue"in Te&&"doubleValue"in Re){const Be=__PRIVATE_normalizeNumber(Te.doubleValue),Ue=__PRIVATE_normalizeNumber(Re.doubleValue);return Be===Ue?__PRIVATE_isNegativeZero(Be)===__PRIVATE_isNegativeZero(Ue):isNaN(Be)&&isNaN(Ue)}return!1})(Ee,t);case 9:return __PRIVATE_arrayEquals(Ee.arrayValue.values||[],t.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return(function(Te,Re){const Be=Te.mapValue.fields||{},Ue=Re.mapValue.fields||{};if(__PRIVATE_objectSize(Be)!==__PRIVATE_objectSize(Ue))return!1;for(const Oe in Be)if(Be.hasOwnProperty(Oe)&&(Ue[Oe]===void 0||!__PRIVATE_valueEquals(Be[Oe],Ue[Oe])))return!1;return!0})(Ee,t);default:return fail(52216,{left:Ee})}}function __PRIVATE_arrayValueContains(Ee,t){return(Ee.values||[]).find((n=>__PRIVATE_valueEquals(n,t)))!==void 0}function __PRIVATE_valueCompare(Ee,t){if(Ee===t)return 0;const n=__PRIVATE_typeOrder(Ee),Ce=__PRIVATE_typeOrder(t);if(n!==Ce)return __PRIVATE_primitiveComparator(n,Ce);switch(n){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(Ee.booleanValue,t.booleanValue);case 2:return(function(Re,Be){const Ue=__PRIVATE_normalizeNumber(Re.integerValue||Re.doubleValue),Oe=__PRIVATE_normalizeNumber(Be.integerValue||Be.doubleValue);return Ue<Oe?-1:Ue>Oe?1:Ue===Oe?0:isNaN(Ue)?isNaN(Oe)?0:-1:1})(Ee,t);case 3:return __PRIVATE_compareTimestamps(Ee.timestampValue,t.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(Ee),__PRIVATE_getLocalWriteTime(t));case 5:return __PRIVATE_compareUtf8Strings(Ee.stringValue,t.stringValue);case 6:return(function(Re,Be){const Ue=__PRIVATE_normalizeByteString(Re),Oe=__PRIVATE_normalizeByteString(Be);return Ue.compareTo(Oe)})(Ee.bytesValue,t.bytesValue);case 7:return(function(Re,Be){const Ue=Re.split("/"),Oe=Be.split("/");for(let Me=0;Me<Ue.length&&Me<Oe.length;Me++){const Qe=__PRIVATE_primitiveComparator(Ue[Me],Oe[Me]);if(Qe!==0)return Qe}return __PRIVATE_primitiveComparator(Ue.length,Oe.length)})(Ee.referenceValue,t.referenceValue);case 8:return(function(Re,Be){const Ue=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(Re.latitude),__PRIVATE_normalizeNumber(Be.latitude));return Ue!==0?Ue:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(Re.longitude),__PRIVATE_normalizeNumber(Be.longitude))})(Ee.geoPointValue,t.geoPointValue);case 9:return __PRIVATE_compareArrays(Ee.arrayValue,t.arrayValue);case 10:return(function(Re,Be){var Ue,Oe,Me,Qe;const Ke=Re.fields||{},Ge=Be.fields||{},qe=(Ue=Ke[Tt$1])===null||Ue===void 0?void 0:Ue.arrayValue,Xe=(Oe=Ge[Tt$1])===null||Oe===void 0?void 0:Oe.arrayValue,tr=__PRIVATE_primitiveComparator(((Me=qe==null?void 0:qe.values)===null||Me===void 0?void 0:Me.length)||0,((Qe=Xe==null?void 0:Xe.values)===null||Qe===void 0?void 0:Qe.length)||0);return tr!==0?tr:__PRIVATE_compareArrays(qe,Xe)})(Ee.mapValue,t.mapValue);case 11:return(function(Re,Be){if(Re===ht$1.mapValue&&Be===ht$1.mapValue)return 0;if(Re===ht$1.mapValue)return 1;if(Be===ht$1.mapValue)return-1;const Ue=Re.fields||{},Oe=Object.keys(Ue),Me=Be.fields||{},Qe=Object.keys(Me);Oe.sort(),Qe.sort();for(let Ke=0;Ke<Oe.length&&Ke<Qe.length;++Ke){const Ge=__PRIVATE_compareUtf8Strings(Oe[Ke],Qe[Ke]);if(Ge!==0)return Ge;const qe=__PRIVATE_valueCompare(Ue[Oe[Ke]],Me[Qe[Ke]]);if(qe!==0)return qe}return __PRIVATE_primitiveComparator(Oe.length,Qe.length)})(Ee.mapValue,t.mapValue);default:throw fail(23264,{le:n})}}function __PRIVATE_compareTimestamps(Ee,t){if(typeof Ee=="string"&&typeof t=="string"&&Ee.length===t.length)return __PRIVATE_primitiveComparator(Ee,t);const n=__PRIVATE_normalizeTimestamp(Ee),Ce=__PRIVATE_normalizeTimestamp(t),Te=__PRIVATE_primitiveComparator(n.seconds,Ce.seconds);return Te!==0?Te:__PRIVATE_primitiveComparator(n.nanos,Ce.nanos)}function __PRIVATE_compareArrays(Ee,t){const n=Ee.values||[],Ce=t.values||[];for(let Te=0;Te<n.length&&Te<Ce.length;++Te){const Re=__PRIVATE_valueCompare(n[Te],Ce[Te]);if(Re)return Re}return __PRIVATE_primitiveComparator(n.length,Ce.length)}function canonicalId(Ee){return __PRIVATE_canonifyValue(Ee)}function __PRIVATE_canonifyValue(Ee){return"nullValue"in Ee?"null":"booleanValue"in Ee?""+Ee.booleanValue:"integerValue"in Ee?""+Ee.integerValue:"doubleValue"in Ee?""+Ee.doubleValue:"timestampValue"in Ee?(function(n){const Ce=__PRIVATE_normalizeTimestamp(n);return`time(${Ce.seconds},${Ce.nanos})`})(Ee.timestampValue):"stringValue"in Ee?Ee.stringValue:"bytesValue"in Ee?(function(n){return __PRIVATE_normalizeByteString(n).toBase64()})(Ee.bytesValue):"referenceValue"in Ee?(function(n){return DocumentKey.fromName(n).toString()})(Ee.referenceValue):"geoPointValue"in Ee?(function(n){return`geo(${n.latitude},${n.longitude})`})(Ee.geoPointValue):"arrayValue"in Ee?(function(n){let Ce="[",Te=!0;for(const Re of n.values||[])Te?Te=!1:Ce+=",",Ce+=__PRIVATE_canonifyValue(Re);return Ce+"]"})(Ee.arrayValue):"mapValue"in Ee?(function(n){const Ce=Object.keys(n.fields||{}).sort();let Te="{",Re=!0;for(const Be of Ce)Re?Re=!1:Te+=",",Te+=`${Be}:${__PRIVATE_canonifyValue(n.fields[Be])}`;return Te+"}"})(Ee.mapValue):fail(61005,{value:Ee})}function __PRIVATE_estimateByteSize(Ee){switch(__PRIVATE_typeOrder(Ee)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=__PRIVATE_getPreviousValue(Ee);return t?16+__PRIVATE_estimateByteSize(t):16;case 5:return 2*Ee.stringValue.length;case 6:return __PRIVATE_normalizeByteString(Ee.bytesValue).approximateByteSize();case 7:return Ee.referenceValue.length;case 9:return(function(Ce){return(Ce.values||[]).reduce(((Te,Re)=>Te+__PRIVATE_estimateByteSize(Re)),0)})(Ee.arrayValue);case 10:case 11:return(function(Ce){let Te=0;return forEach(Ce.fields,((Re,Be)=>{Te+=Re.length+__PRIVATE_estimateByteSize(Be)})),Te})(Ee.mapValue);default:throw fail(13486,{value:Ee})}}function __PRIVATE_refValue(Ee,t){return{referenceValue:`projects/${Ee.projectId}/databases/${Ee.database}/documents/${t.path.canonicalString()}`}}function isInteger(Ee){return!!Ee&&"integerValue"in Ee}function isArray(Ee){return!!Ee&&"arrayValue"in Ee}function __PRIVATE_isNullValue(Ee){return!!Ee&&"nullValue"in Ee}function __PRIVATE_isNanValue(Ee){return!!Ee&&"doubleValue"in Ee&&isNaN(Number(Ee.doubleValue))}function __PRIVATE_isMapValue(Ee){return!!Ee&&"mapValue"in Ee}function __PRIVATE_isVectorValue(Ee){var t,n;return((n=(((t=Ee==null?void 0:Ee.mapValue)===null||t===void 0?void 0:t.fields)||{})[ct$1])===null||n===void 0?void 0:n.stringValue)===Pt$1}function __PRIVATE_deepClone(Ee){if(Ee.geoPointValue)return{geoPointValue:Object.assign({},Ee.geoPointValue)};if(Ee.timestampValue&&typeof Ee.timestampValue=="object")return{timestampValue:Object.assign({},Ee.timestampValue)};if(Ee.mapValue){const t={mapValue:{fields:{}}};return forEach(Ee.mapValue.fields,((n,Ce)=>t.mapValue.fields[n]=__PRIVATE_deepClone(Ce))),t}if(Ee.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(Ee.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=__PRIVATE_deepClone(Ee.arrayValue.values[n]);return t}return Object.assign({},Ee)}function __PRIVATE_isMaxValue(Ee){return(((Ee.mapValue||{}).fields||{}).__type__||{}).stringValue===lt$1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(t){this.value=t}static empty(){return new ObjectValue({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let Ce=0;Ce<t.length-1;++Ce)if(n=(n.mapValue.fields||{})[t.get(Ce)],!__PRIVATE_isMapValue(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=__PRIVATE_deepClone(n)}setAll(t){let n=FieldPath$1.emptyPath(),Ce={},Te=[];t.forEach(((Be,Ue)=>{if(!n.isImmediateParentOf(Ue)){const Oe=this.getFieldsMap(n);this.applyChanges(Oe,Ce,Te),Ce={},Te=[],n=Ue.popLast()}Be?Ce[Ue.lastSegment()]=__PRIVATE_deepClone(Be):Te.push(Ue.lastSegment())}));const Re=this.getFieldsMap(n);this.applyChanges(Re,Ce,Te)}delete(t){const n=this.field(t.popLast());__PRIVATE_isMapValue(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return __PRIVATE_valueEquals(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let Ce=0;Ce<t.length;++Ce){let Te=n.mapValue.fields[t.get(Ce)];__PRIVATE_isMapValue(Te)&&Te.mapValue.fields||(Te={mapValue:{fields:{}}},n.mapValue.fields[t.get(Ce)]=Te),n=Te}return n.mapValue.fields}applyChanges(t,n,Ce){forEach(n,((Te,Re)=>t[Te]=Re));for(const Te of Ce)delete t[Te]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(Ee){const t=[];return forEach(Ee.fields,((n,Ce)=>{const Te=new FieldPath$1([n]);if(__PRIVATE_isMapValue(Ce)){const Re=__PRIVATE_extractFieldMask(Ce.mapValue).fields;if(Re.length===0)t.push(Te);else for(const Be of Re)t.push(Te.child(Be))}else t.push(Te)})),new FieldMask(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(t,n,Ce,Te,Re,Be,Ue){this.key=t,this.documentType=n,this.version=Ce,this.readTime=Te,this.createTime=Re,this.data=Be,this.documentState=Ue}static newInvalidDocument(t){return new MutableDocument(t,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(t,n,Ce,Te){return new MutableDocument(t,1,n,SnapshotVersion.min(),Ce,Te,0)}static newNoDocument(t,n){return new MutableDocument(t,2,n,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(t,n){return new MutableDocument(t,3,n,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof MutableDocument&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(t,n){this.position=t,this.inclusive=n}}function __PRIVATE_boundCompareToDocument(Ee,t,n){let Ce=0;for(let Te=0;Te<Ee.position.length;Te++){const Re=t[Te],Be=Ee.position[Te];if(Re.field.isKeyField()?Ce=DocumentKey.comparator(DocumentKey.fromName(Be.referenceValue),n.key):Ce=__PRIVATE_valueCompare(Be,n.data.field(Re.field)),Re.dir==="desc"&&(Ce*=-1),Ce!==0)break}return Ce}function __PRIVATE_boundEquals(Ee,t){if(Ee===null)return t===null;if(t===null||Ee.inclusive!==t.inclusive||Ee.position.length!==t.position.length)return!1;for(let n=0;n<Ee.position.length;n++)if(!__PRIVATE_valueEquals(Ee.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(t,n="asc"){this.field=t,this.dir=n}}function __PRIVATE_orderByEquals(Ee,t){return Ee.dir===t.dir&&Ee.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(t,n,Ce){super(),this.field=t,this.op=n,this.value=Ce}static create(t,n,Ce){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,Ce):new __PRIVATE_KeyFieldFilter(t,n,Ce):n==="array-contains"?new __PRIVATE_ArrayContainsFilter(t,Ce):n==="in"?new __PRIVATE_InFilter(t,Ce):n==="not-in"?new __PRIVATE_NotInFilter(t,Ce):n==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(t,Ce):new FieldFilter(t,n,Ce)}static createKeyFieldInFilter(t,n,Ce){return n==="in"?new __PRIVATE_KeyFieldInFilter(t,Ce):new __PRIVATE_KeyFieldNotInFilter(t,Ce)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(__PRIVATE_valueCompare(n,this.value)):n!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(n)&&this.matchesComparison(__PRIVATE_valueCompare(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return fail(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new CompositeFilter(t,n)}matches(t){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(Ee){return Ee.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(Ee){return __PRIVATE_compositeFilterIsFlat(Ee)&&__PRIVATE_compositeFilterIsConjunction(Ee)}function __PRIVATE_compositeFilterIsFlat(Ee){for(const t of Ee.filters)if(t instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(Ee){if(Ee instanceof FieldFilter)return Ee.field.canonicalString()+Ee.op.toString()+canonicalId(Ee.value);if(__PRIVATE_compositeFilterIsFlatConjunction(Ee))return Ee.filters.map((t=>__PRIVATE_canonifyFilter(t))).join(",");{const t=Ee.filters.map((n=>__PRIVATE_canonifyFilter(n))).join(",");return`${Ee.op}(${t})`}}function __PRIVATE_filterEquals(Ee,t){return Ee instanceof FieldFilter?(function(Ce,Te){return Te instanceof FieldFilter&&Ce.op===Te.op&&Ce.field.isEqual(Te.field)&&__PRIVATE_valueEquals(Ce.value,Te.value)})(Ee,t):Ee instanceof CompositeFilter?(function(Ce,Te){return Te instanceof CompositeFilter&&Ce.op===Te.op&&Ce.filters.length===Te.filters.length?Ce.filters.reduce(((Re,Be,Ue)=>Re&&__PRIVATE_filterEquals(Be,Te.filters[Ue])),!0):!1})(Ee,t):void fail(19439)}function __PRIVATE_stringifyFilter(Ee){return Ee instanceof FieldFilter?(function(n){return`${n.field.canonicalString()} ${n.op} ${canonicalId(n.value)}`})(Ee):Ee instanceof CompositeFilter?(function(n){return n.op.toString()+" {"+n.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"})(Ee):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(t,n,Ce){super(t,n,Ce),this.key=DocumentKey.fromName(Ce.referenceValue)}matches(t){const n=DocumentKey.comparator(t.key,this.key);return this.matchesComparison(n)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(t,n){super(t,"in",n),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(t,n){super(t,"not-in",n),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function __PRIVATE_extractDocumentKeysFromArrayValue(Ee,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((Ce=>DocumentKey.fromName(Ce.referenceValue)))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return isArray(n)&&__PRIVATE_arrayValueContains(n.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,n)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(t,n){super(t,"not-in",n)}matches(t){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!__PRIVATE_arrayValueContains(this.value.arrayValue,n)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!isArray(n)||!n.arrayValue.values)&&n.arrayValue.values.some((Ce=>__PRIVATE_arrayValueContains(this.value.arrayValue,Ce)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(t,n=null,Ce=[],Te=[],Re=null,Be=null,Ue=null){this.path=t,this.collectionGroup=n,this.orderBy=Ce,this.filters=Te,this.limit=Re,this.startAt=Be,this.endAt=Ue,this.Pe=null}}function __PRIVATE_newTarget(Ee,t=null,n=[],Ce=[],Te=null,Re=null,Be=null){return new __PRIVATE_TargetImpl(Ee,t,n,Ce,Te,Re,Be)}function __PRIVATE_canonifyTarget(Ee){const t=__PRIVATE_debugCast(Ee);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((Ce=>__PRIVATE_canonifyFilter(Ce))).join(","),n+="|ob:",n+=t.orderBy.map((Ce=>(function(Re){return Re.field.canonicalString()+Re.dir})(Ce))).join(","),__PRIVATE_isNullOrUndefined(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((Ce=>canonicalId(Ce))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((Ce=>canonicalId(Ce))).join(",")),t.Pe=n}return t.Pe}function __PRIVATE_targetEquals(Ee,t){if(Ee.limit!==t.limit||Ee.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<Ee.orderBy.length;n++)if(!__PRIVATE_orderByEquals(Ee.orderBy[n],t.orderBy[n]))return!1;if(Ee.filters.length!==t.filters.length)return!1;for(let n=0;n<Ee.filters.length;n++)if(!__PRIVATE_filterEquals(Ee.filters[n],t.filters[n]))return!1;return Ee.collectionGroup===t.collectionGroup&&!!Ee.path.isEqual(t.path)&&!!__PRIVATE_boundEquals(Ee.startAt,t.startAt)&&__PRIVATE_boundEquals(Ee.endAt,t.endAt)}function __PRIVATE_targetIsDocumentTarget(Ee){return DocumentKey.isDocumentKey(Ee.path)&&Ee.collectionGroup===null&&Ee.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(t,n=null,Ce=[],Te=[],Re=null,Be="F",Ue=null,Oe=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=Ce,this.filters=Te,this.limit=Re,this.limitType=Be,this.startAt=Ue,this.endAt=Oe,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(Ee,t,n,Ce,Te,Re,Be,Ue){return new __PRIVATE_QueryImpl(Ee,t,n,Ce,Te,Re,Be,Ue)}function __PRIVATE_newQueryForPath(Ee){return new __PRIVATE_QueryImpl(Ee)}function __PRIVATE_queryMatchesAllDocuments(Ee){return Ee.filters.length===0&&Ee.limit===null&&Ee.startAt==null&&Ee.endAt==null&&(Ee.explicitOrderBy.length===0||Ee.explicitOrderBy.length===1&&Ee.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(Ee){return Ee.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(Ee){const t=__PRIVATE_debugCast(Ee);if(t.Te===null){t.Te=[];const n=new Set;for(const Re of t.explicitOrderBy)t.Te.push(Re),n.add(Re.field.canonicalString());const Ce=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(Be){let Ue=new SortedSet(FieldPath$1.comparator);return Be.filters.forEach((Oe=>{Oe.getFlattenedFilters().forEach((Me=>{Me.isInequality()&&(Ue=Ue.add(Me.field))}))})),Ue})(t).forEach((Re=>{n.has(Re.canonicalString())||Re.isKeyField()||t.Te.push(new OrderBy(Re,Ce))})),n.has(FieldPath$1.keyField().canonicalString())||t.Te.push(new OrderBy(FieldPath$1.keyField(),Ce))}return t.Te}function __PRIVATE_queryToTarget(Ee){const t=__PRIVATE_debugCast(Ee);return t.Ie||(t.Ie=__PRIVATE__queryToTarget(t,__PRIVATE_queryNormalizedOrderBy(Ee))),t.Ie}function __PRIVATE__queryToTarget(Ee,t){if(Ee.limitType==="F")return __PRIVATE_newTarget(Ee.path,Ee.collectionGroup,t,Ee.filters,Ee.limit,Ee.startAt,Ee.endAt);{t=t.map((Te=>{const Re=Te.dir==="desc"?"asc":"desc";return new OrderBy(Te.field,Re)}));const n=Ee.endAt?new Bound(Ee.endAt.position,Ee.endAt.inclusive):null,Ce=Ee.startAt?new Bound(Ee.startAt.position,Ee.startAt.inclusive):null;return __PRIVATE_newTarget(Ee.path,Ee.collectionGroup,t,Ee.filters,Ee.limit,n,Ce)}}function __PRIVATE_queryWithAddedFilter(Ee,t){const n=Ee.filters.concat([t]);return new __PRIVATE_QueryImpl(Ee.path,Ee.collectionGroup,Ee.explicitOrderBy.slice(),n,Ee.limit,Ee.limitType,Ee.startAt,Ee.endAt)}function __PRIVATE_queryWithLimit(Ee,t,n){return new __PRIVATE_QueryImpl(Ee.path,Ee.collectionGroup,Ee.explicitOrderBy.slice(),Ee.filters.slice(),t,n,Ee.startAt,Ee.endAt)}function __PRIVATE_queryEquals(Ee,t){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(Ee),__PRIVATE_queryToTarget(t))&&Ee.limitType===t.limitType}function __PRIVATE_canonifyQuery(Ee){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(Ee))}|lt:${Ee.limitType}`}function __PRIVATE_stringifyQuery(Ee){return`Query(target=${(function(n){let Ce=n.path.canonicalString();return n.collectionGroup!==null&&(Ce+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(Ce+=`, filters: [${n.filters.map((Te=>__PRIVATE_stringifyFilter(Te))).join(", ")}]`),__PRIVATE_isNullOrUndefined(n.limit)||(Ce+=", limit: "+n.limit),n.orderBy.length>0&&(Ce+=`, orderBy: [${n.orderBy.map((Te=>(function(Be){return`${Be.field.canonicalString()} (${Be.dir})`})(Te))).join(", ")}]`),n.startAt&&(Ce+=", startAt: ",Ce+=n.startAt.inclusive?"b:":"a:",Ce+=n.startAt.position.map((Te=>canonicalId(Te))).join(",")),n.endAt&&(Ce+=", endAt: ",Ce+=n.endAt.inclusive?"a:":"b:",Ce+=n.endAt.position.map((Te=>canonicalId(Te))).join(",")),`Target(${Ce})`})(__PRIVATE_queryToTarget(Ee))}; limitType=${Ee.limitType})`}function __PRIVATE_queryMatches(Ee,t){return t.isFoundDocument()&&(function(Ce,Te){const Re=Te.key.path;return Ce.collectionGroup!==null?Te.key.hasCollectionId(Ce.collectionGroup)&&Ce.path.isPrefixOf(Re):DocumentKey.isDocumentKey(Ce.path)?Ce.path.isEqual(Re):Ce.path.isImmediateParentOf(Re)})(Ee,t)&&(function(Ce,Te){for(const Re of __PRIVATE_queryNormalizedOrderBy(Ce))if(!Re.field.isKeyField()&&Te.data.field(Re.field)===null)return!1;return!0})(Ee,t)&&(function(Ce,Te){for(const Re of Ce.filters)if(!Re.matches(Te))return!1;return!0})(Ee,t)&&(function(Ce,Te){return!(Ce.startAt&&!(function(Be,Ue,Oe){const Me=__PRIVATE_boundCompareToDocument(Be,Ue,Oe);return Be.inclusive?Me<=0:Me<0})(Ce.startAt,__PRIVATE_queryNormalizedOrderBy(Ce),Te)||Ce.endAt&&!(function(Be,Ue,Oe){const Me=__PRIVATE_boundCompareToDocument(Be,Ue,Oe);return Be.inclusive?Me>=0:Me>0})(Ce.endAt,__PRIVATE_queryNormalizedOrderBy(Ce),Te))})(Ee,t)}function __PRIVATE_queryCollectionGroup(Ee){return Ee.collectionGroup||(Ee.path.length%2==1?Ee.path.lastSegment():Ee.path.get(Ee.path.length-2))}function __PRIVATE_newQueryComparator(Ee){return(t,n)=>{let Ce=!1;for(const Te of __PRIVATE_queryNormalizedOrderBy(Ee)){const Re=__PRIVATE_compareDocs(Te,t,n);if(Re!==0)return Re;Ce=Ce||Te.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(Ee,t,n){const Ce=Ee.field.isKeyField()?DocumentKey.comparator(t.key,n.key):(function(Re,Be,Ue){const Oe=Be.data.field(Re),Me=Ue.data.field(Re);return Oe!==null&&Me!==null?__PRIVATE_valueCompare(Oe,Me):fail(42886)})(Ee.field,t,n);switch(Ee.dir){case"asc":return Ce;case"desc":return-1*Ce;default:return fail(19790,{direction:Ee.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),Ce=this.inner[n];if(Ce!==void 0){for(const[Te,Re]of Ce)if(this.equalsFn(Te,t))return Re}}has(t){return this.get(t)!==void 0}set(t,n){const Ce=this.mapKeyFn(t),Te=this.inner[Ce];if(Te===void 0)return this.inner[Ce]=[[t,n]],void this.innerSize++;for(let Re=0;Re<Te.length;Re++)if(this.equalsFn(Te[Re][0],t))return void(Te[Re]=[t,n]);Te.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),Ce=this.inner[n];if(Ce===void 0)return!1;for(let Te=0;Te<Ce.length;Te++)if(this.equalsFn(Ce[Te][0],t))return Ce.length===1?delete this.inner[n]:Ce.splice(Te,1),this.innerSize--,!0;return!1}forEach(t){forEach(this.inner,((n,Ce)=>{for(const[Te,Re]of Ce)t(Te,Re)}))}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et$1=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return Et$1}const At$1=new SortedMap(DocumentKey.comparator);function documentMap(...Ee){let t=At$1;for(const n of Ee)t=t.insert(n.key,n);return t}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(Ee){let t=At$1;return Ee.forEach(((n,Ce)=>t=t.insert(n,Ce.overlayedDocument))),t}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap((Ee=>Ee.toString()),((Ee,t)=>Ee.isEqual(t)))}const Rt$1=new SortedMap(DocumentKey.comparator),Vt$1=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...Ee){let t=Vt$1;for(const n of Ee)t=t.add(n);return t}const mt$1=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return mt$1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(Ee,t){if(Ee.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(t)?"-0":t}}function __PRIVATE_toInteger(Ee){return{integerValue:""+Ee}}function toNumber(Ee,t){return isSafeInteger(t)?__PRIVATE_toInteger(t):__PRIVATE_toDouble(Ee,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(Ee,t,n){return Ee instanceof __PRIVATE_ServerTimestampTransform?(function(Te,Re){const Be={fields:{[ot$1]:{stringValue:st$1},[at$1]:{timestampValue:{seconds:Te.seconds,nanos:Te.nanoseconds}}}};return Re&&__PRIVATE_isServerTimestamp(Re)&&(Re=__PRIVATE_getPreviousValue(Re)),Re&&(Be.fields[_t$1]=Re),{mapValue:Be}})(n,t):Ee instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(Ee,t):Ee instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(Ee,t):(function(Te,Re){const Be=__PRIVATE_computeTransformOperationBaseValue(Te,Re),Ue=asNumber$1(Be)+asNumber$1(Te.Ee);return isInteger(Be)&&isInteger(Te.Ee)?__PRIVATE_toInteger(Ue):__PRIVATE_toDouble(Te.serializer,Ue)})(Ee,t)}function __PRIVATE_applyTransformOperationToRemoteDocument(Ee,t,n){return Ee instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(Ee,t):Ee instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(Ee,t):n}function __PRIVATE_computeTransformOperationBaseValue(Ee,t){return Ee instanceof __PRIVATE_NumericIncrementTransformOperation?(function(Ce){return isInteger(Ce)||(function(Re){return!!Re&&"doubleValue"in Re})(Ce)})(t)?t:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(t){super(),this.elements=t}}function __PRIVATE_applyArrayUnionTransformOperation(Ee,t){const n=__PRIVATE_coercedFieldValuesArray(t);for(const Ce of Ee.elements)n.some((Te=>__PRIVATE_valueEquals(Te,Ce)))||n.push(Ce);return{arrayValue:{values:n}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(t){super(),this.elements=t}}function __PRIVATE_applyArrayRemoveTransformOperation(Ee,t){let n=__PRIVATE_coercedFieldValuesArray(t);for(const Ce of Ee.elements)n=n.filter((Te=>!__PRIVATE_valueEquals(Te,Ce)));return{arrayValue:{values:n}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function asNumber$1(Ee){return __PRIVATE_normalizeNumber(Ee.integerValue||Ee.doubleValue)}function __PRIVATE_coercedFieldValuesArray(Ee){return isArray(Ee)&&Ee.arrayValue.values?Ee.arrayValue.values.slice():[]}function __PRIVATE_fieldTransformEquals(Ee,t){return Ee.field.isEqual(t.field)&&(function(Ce,Te){return Ce instanceof __PRIVATE_ArrayUnionTransformOperation&&Te instanceof __PRIVATE_ArrayUnionTransformOperation||Ce instanceof __PRIVATE_ArrayRemoveTransformOperation&&Te instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(Ce.elements,Te.elements,__PRIVATE_valueEquals):Ce instanceof __PRIVATE_NumericIncrementTransformOperation&&Te instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(Ce.Ee,Te.Ee):Ce instanceof __PRIVATE_ServerTimestampTransform&&Te instanceof __PRIVATE_ServerTimestampTransform})(Ee.transform,t.transform)}class MutationResult{constructor(t,n){this.version=t,this.transformResults=n}}class Precondition{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Precondition}static exists(t){return new Precondition(void 0,t)}static updateTime(t){return new Precondition(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(Ee,t){return Ee.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(Ee.updateTime):Ee.exists===void 0||Ee.exists===t.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(Ee,t){if(!Ee.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return Ee.isNoDocument()?new __PRIVATE_DeleteMutation(Ee.key,Precondition.none()):new __PRIVATE_SetMutation(Ee.key,Ee.data,Precondition.none());{const n=Ee.data,Ce=ObjectValue.empty();let Te=new SortedSet(FieldPath$1.comparator);for(let Re of t.fields)if(!Te.has(Re)){let Be=n.field(Re);Be===null&&Re.length>1&&(Re=Re.popLast(),Be=n.field(Re)),Be===null?Ce.delete(Re):Ce.set(Re,Be),Te=Te.add(Re)}return new __PRIVATE_PatchMutation(Ee.key,Ce,new FieldMask(Te.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(Ee,t,n){Ee instanceof __PRIVATE_SetMutation?(function(Te,Re,Be){const Ue=Te.value.clone(),Oe=__PRIVATE_serverTransformResults(Te.fieldTransforms,Re,Be.transformResults);Ue.setAll(Oe),Re.convertToFoundDocument(Be.version,Ue).setHasCommittedMutations()})(Ee,t,n):Ee instanceof __PRIVATE_PatchMutation?(function(Te,Re,Be){if(!__PRIVATE_preconditionIsValidForDocument(Te.precondition,Re))return void Re.convertToUnknownDocument(Be.version);const Ue=__PRIVATE_serverTransformResults(Te.fieldTransforms,Re,Be.transformResults),Oe=Re.data;Oe.setAll(__PRIVATE_getPatch(Te)),Oe.setAll(Ue),Re.convertToFoundDocument(Be.version,Oe).setHasCommittedMutations()})(Ee,t,n):(function(Te,Re,Be){Re.convertToNoDocument(Be.version).setHasCommittedMutations()})(0,t,n)}function __PRIVATE_mutationApplyToLocalView(Ee,t,n,Ce){return Ee instanceof __PRIVATE_SetMutation?(function(Re,Be,Ue,Oe){if(!__PRIVATE_preconditionIsValidForDocument(Re.precondition,Be))return Ue;const Me=Re.value.clone(),Qe=__PRIVATE_localTransformResults(Re.fieldTransforms,Oe,Be);return Me.setAll(Qe),Be.convertToFoundDocument(Be.version,Me).setHasLocalMutations(),null})(Ee,t,n,Ce):Ee instanceof __PRIVATE_PatchMutation?(function(Re,Be,Ue,Oe){if(!__PRIVATE_preconditionIsValidForDocument(Re.precondition,Be))return Ue;const Me=__PRIVATE_localTransformResults(Re.fieldTransforms,Oe,Be),Qe=Be.data;return Qe.setAll(__PRIVATE_getPatch(Re)),Qe.setAll(Me),Be.convertToFoundDocument(Be.version,Qe).setHasLocalMutations(),Ue===null?null:Ue.unionWith(Re.fieldMask.fields).unionWith(Re.fieldTransforms.map((Ke=>Ke.field)))})(Ee,t,n,Ce):(function(Re,Be,Ue){return __PRIVATE_preconditionIsValidForDocument(Re.precondition,Be)?(Be.convertToNoDocument(Be.version).setHasLocalMutations(),null):Ue})(Ee,t,n)}function __PRIVATE_mutationExtractBaseValue(Ee,t){let n=null;for(const Ce of Ee.fieldTransforms){const Te=t.data.field(Ce.field),Re=__PRIVATE_computeTransformOperationBaseValue(Ce.transform,Te||null);Re!=null&&(n===null&&(n=ObjectValue.empty()),n.set(Ce.field,Re))}return n||null}function __PRIVATE_mutationEquals(Ee,t){return Ee.type===t.type&&!!Ee.key.isEqual(t.key)&&!!Ee.precondition.isEqual(t.precondition)&&!!(function(Ce,Te){return Ce===void 0&&Te===void 0||!(!Ce||!Te)&&__PRIVATE_arrayEquals(Ce,Te,((Re,Be)=>__PRIVATE_fieldTransformEquals(Re,Be)))})(Ee.fieldTransforms,t.fieldTransforms)&&(Ee.type===0?Ee.value.isEqual(t.value):Ee.type!==1||Ee.data.isEqual(t.data)&&Ee.fieldMask.isEqual(t.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(t,n,Ce,Te=[]){super(),this.key=t,this.value=n,this.precondition=Ce,this.fieldTransforms=Te,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(t,n,Ce,Te,Re=[]){super(),this.key=t,this.data=n,this.fieldMask=Ce,this.precondition=Te,this.fieldTransforms=Re,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(Ee){const t=new Map;return Ee.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const Ce=Ee.data.field(n);t.set(n,Ce)}})),t}function __PRIVATE_serverTransformResults(Ee,t,n){const Ce=new Map;__PRIVATE_hardAssert(Ee.length===n.length,32656,{Ae:n.length,Re:Ee.length});for(let Te=0;Te<n.length;Te++){const Re=Ee[Te],Be=Re.transform,Ue=t.data.field(Re.field);Ce.set(Re.field,__PRIVATE_applyTransformOperationToRemoteDocument(Be,Ue,n[Te]))}return Ce}function __PRIVATE_localTransformResults(Ee,t,n){const Ce=new Map;for(const Te of Ee){const Re=Te.transform,Be=n.data.field(Te.field);Ce.set(Te.field,__PRIVATE_applyTransformOperationToLocalView(Re,Be,t))}return Ce}class __PRIVATE_DeleteMutation extends Mutation{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(t,n,Ce,Te){this.batchId=t,this.localWriteTime=n,this.baseMutations=Ce,this.mutations=Te}applyToRemoteDocument(t,n){const Ce=n.mutationResults;for(let Te=0;Te<this.mutations.length;Te++){const Re=this.mutations[Te];Re.key.isEqual(t.key)&&__PRIVATE_mutationApplyToRemoteDocument(Re,t,Ce[Te])}}applyToLocalView(t,n){for(const Ce of this.baseMutations)Ce.key.isEqual(t.key)&&(n=__PRIVATE_mutationApplyToLocalView(Ce,t,n,this.localWriteTime));for(const Ce of this.mutations)Ce.key.isEqual(t.key)&&(n=__PRIVATE_mutationApplyToLocalView(Ce,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const Ce=__PRIVATE_newMutationMap();return this.mutations.forEach((Te=>{const Re=t.get(Te.key),Be=Re.overlayedDocument;let Ue=this.applyToLocalView(Be,Re.mutatedFields);Ue=n.has(Te.key)?null:Ue;const Oe=__PRIVATE_calculateOverlayMutation(Be,Ue);Oe!==null&&Ce.set(Te.key,Oe),Be.isValidDocument()||Be.convertToNoDocument(SnapshotVersion.min())})),Ce}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),__PRIVATE_documentKeySet())}isEqual(t){return this.batchId===t.batchId&&__PRIVATE_arrayEquals(this.mutations,t.mutations,((n,Ce)=>__PRIVATE_mutationEquals(n,Ce)))&&__PRIVATE_arrayEquals(this.baseMutations,t.baseMutations,((n,Ce)=>__PRIVATE_mutationEquals(n,Ce)))}}class MutationBatchResult{constructor(t,n,Ce,Te){this.batch=t,this.commitVersion=n,this.mutationResults=Ce,this.docVersions=Te}static from(t,n,Ce){__PRIVATE_hardAssert(t.mutations.length===Ce.length,58842,{Ve:t.mutations.length,me:Ce.length});let Te=(function(){return Rt$1})();const Re=t.mutations;for(let Be=0;Be<Re.length;Be++)Te=Te.insert(Re[Be].key,Ce[Be].version);return new MutationBatchResult(t,n,Ce,Te)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft$1,gt$1;function __PRIVATE_isPermanentError(Ee){switch(Ee){case N$1.OK:return fail(64938);case N$1.CANCELLED:case N$1.UNKNOWN:case N$1.DEADLINE_EXCEEDED:case N$1.RESOURCE_EXHAUSTED:case N$1.INTERNAL:case N$1.UNAVAILABLE:case N$1.UNAUTHENTICATED:return!1;case N$1.INVALID_ARGUMENT:case N$1.NOT_FOUND:case N$1.ALREADY_EXISTS:case N$1.PERMISSION_DENIED:case N$1.FAILED_PRECONDITION:case N$1.ABORTED:case N$1.OUT_OF_RANGE:case N$1.UNIMPLEMENTED:case N$1.DATA_LOSS:return!0;default:return fail(15467,{code:Ee})}}function __PRIVATE_mapCodeFromRpcCode(Ee){if(Ee===void 0)return __PRIVATE_logError("GRPC error has no .code"),N$1.UNKNOWN;switch(Ee){case ft$1.OK:return N$1.OK;case ft$1.CANCELLED:return N$1.CANCELLED;case ft$1.UNKNOWN:return N$1.UNKNOWN;case ft$1.DEADLINE_EXCEEDED:return N$1.DEADLINE_EXCEEDED;case ft$1.RESOURCE_EXHAUSTED:return N$1.RESOURCE_EXHAUSTED;case ft$1.INTERNAL:return N$1.INTERNAL;case ft$1.UNAVAILABLE:return N$1.UNAVAILABLE;case ft$1.UNAUTHENTICATED:return N$1.UNAUTHENTICATED;case ft$1.INVALID_ARGUMENT:return N$1.INVALID_ARGUMENT;case ft$1.NOT_FOUND:return N$1.NOT_FOUND;case ft$1.ALREADY_EXISTS:return N$1.ALREADY_EXISTS;case ft$1.PERMISSION_DENIED:return N$1.PERMISSION_DENIED;case ft$1.FAILED_PRECONDITION:return N$1.FAILED_PRECONDITION;case ft$1.ABORTED:return N$1.ABORTED;case ft$1.OUT_OF_RANGE:return N$1.OUT_OF_RANGE;case ft$1.UNIMPLEMENTED:return N$1.UNIMPLEMENTED;case ft$1.DATA_LOSS:return N$1.DATA_LOSS;default:return fail(39323,{code:Ee})}}(gt$1=ft$1||(ft$1={}))[gt$1.OK=0]="OK",gt$1[gt$1.CANCELLED=1]="CANCELLED",gt$1[gt$1.UNKNOWN=2]="UNKNOWN",gt$1[gt$1.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt$1[gt$1.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt$1[gt$1.NOT_FOUND=5]="NOT_FOUND",gt$1[gt$1.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt$1[gt$1.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt$1[gt$1.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt$1[gt$1.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt$1[gt$1.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt$1[gt$1.ABORTED=10]="ABORTED",gt$1[gt$1.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt$1[gt$1.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt$1[gt$1.INTERNAL=13]="INTERNAL",gt$1[gt$1.UNAVAILABLE=14]="UNAVAILABLE",gt$1[gt$1.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt$1=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(Ee){const t=__PRIVATE_newTextEncoder().encode(Ee),n=new Md5;return n.update(t),new Uint8Array(n.digest())}function __PRIVATE_get64BitUints(Ee){const t=new DataView(Ee.buffer),n=t.getUint32(0,!0),Ce=t.getUint32(4,!0),Te=t.getUint32(8,!0),Re=t.getUint32(12,!0);return[new Integer([n,Ce],0),new Integer([Te,Re],0)]}class BloomFilter{constructor(t,n,Ce){if(this.bitmap=t,this.padding=n,this.hashCount=Ce,n<0||n>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${n}`);if(Ce<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${Ce}`);if(t.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${Ce}`);if(t.length===0&&n!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=Integer.fromNumber(this.fe)}pe(t,n,Ce){let Te=t.add(n.multiply(Integer.fromNumber(Ce)));return Te.compare(yt$1)===1&&(Te=new Integer([Te.getBits(0),Te.getBits(1)],0)),Te.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=__PRIVATE_getMd5HashValue(t),[Ce,Te]=__PRIVATE_get64BitUints(n);for(let Re=0;Re<this.hashCount;Re++){const Be=this.pe(Ce,Te,Re);if(!this.ye(Be))return!1}return!0}static create(t,n,Ce){const Te=t%8==0?0:8-t%8,Re=new Uint8Array(Math.ceil(t/8)),Be=new BloomFilter(Re,Te,n);return Ce.forEach((Ue=>Be.insert(Ue))),Be}insert(t){if(this.fe===0)return;const n=__PRIVATE_getMd5HashValue(t),[Ce,Te]=__PRIVATE_get64BitUints(n);for(let Re=0;Re<this.hashCount;Re++){const Be=this.pe(Ce,Te,Re);this.we(Be)}}we(t){const n=Math.floor(t/8),Ce=t%8;this.bitmap[n]|=1<<Ce}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(t,n,Ce,Te,Re){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=Ce,this.documentUpdates=Te,this.resolvedLimboDocuments=Re}static createSynthesizedRemoteEventForCurrentChange(t,n,Ce){const Te=new Map;return Te.set(t,TargetChange.createSynthesizedTargetChangeForCurrentChange(t,n,Ce)),new RemoteEvent(SnapshotVersion.min(),Te,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(t,n,Ce,Te,Re){this.resumeToken=t,this.current=n,this.addedDocuments=Ce,this.modifiedDocuments=Te,this.removedDocuments=Re}static createSynthesizedTargetChangeForCurrentChange(t,n,Ce){return new TargetChange(Ce,n,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(t,n,Ce,Te){this.Se=t,this.removedTargetIds=n,this.key=Ce,this.be=Te}}class __PRIVATE_ExistenceFilterChange{constructor(t,n){this.targetId=t,this.De=n}}class __PRIVATE_WatchTargetChange{constructor(t,n,Ce=ByteString.EMPTY_BYTE_STRING,Te=null){this.state=t,this.targetIds=n,this.resumeToken=Ce,this.cause=Te}}class __PRIVATE_TargetState{constructor(){this.ve=0,this.Ce=__PRIVATE_snapshotChangesMap(),this.Fe=ByteString.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=__PRIVATE_documentKeySet(),n=__PRIVATE_documentKeySet(),Ce=__PRIVATE_documentKeySet();return this.Ce.forEach(((Te,Re)=>{switch(Re){case 0:t=t.add(Te);break;case 2:n=n.add(Te);break;case 1:Ce=Ce.add(Te);break;default:fail(38017,{changeType:Re})}})),new TargetChange(this.Fe,this.Me,t,n,Ce)}ke(){this.xe=!1,this.Ce=__PRIVATE_snapshotChangesMap()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,__PRIVATE_hardAssert(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class __PRIVATE_WatchChangeAggregator{constructor(t){this.We=t,this.Ge=new Map,this.ze=__PRIVATE_mutableDocumentMap(),this.je=__PRIVATE_documentTargetMap(),this.Je=__PRIVATE_documentTargetMap(),this.He=new SortedMap(__PRIVATE_primitiveComparator)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,(n=>{const Ce=this.tt(n);switch(t.state){case 0:this.nt(n)&&Ce.Be(t.resumeToken);break;case 1:Ce.Ue(),Ce.Oe||Ce.ke(),Ce.Be(t.resumeToken);break;case 2:Ce.Ue(),Ce.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(Ce.Ke(),Ce.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),Ce.Be(t.resumeToken));break;default:fail(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach(((Ce,Te)=>{this.nt(Te)&&n(Te)}))}it(t){const n=t.targetId,Ce=t.De.count,Te=this.st(n);if(Te){const Re=Te.target;if(__PRIVATE_targetIsDocumentTarget(Re))if(Ce===0){const Be=new DocumentKey(Re.path);this.Xe(n,Be,MutableDocument.newNoDocument(Be,SnapshotVersion.min()))}else __PRIVATE_hardAssert(Ce===1,20013,{expectedCount:Ce});else{const Be=this.ot(n);if(Be!==Ce){const Ue=this._t(t),Oe=Ue?this.ut(Ue,t,Be):1;if(Oe!==0){this.rt(n);const Me=Oe===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,Me)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:Ce="",padding:Te=0},hashCount:Re=0}=n;let Be,Ue;try{Be=__PRIVATE_normalizeByteString(Ce).toUint8Array()}catch(Oe){if(Oe instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+Oe.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw Oe}try{Ue=new BloomFilter(Be,Te,Re)}catch(Oe){return __PRIVATE_logWarn(Oe instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",Oe),null}return Ue.fe===0?null:Ue}ut(t,n,Ce){return n.De.count===Ce-this.ht(t,n.targetId)?0:2}ht(t,n){const Ce=this.We.getRemoteKeysForTarget(n);let Te=0;return Ce.forEach((Re=>{const Be=this.We.lt(),Ue=`projects/${Be.projectId}/databases/${Be.database}/documents/${Re.path.canonicalString()}`;t.mightContain(Ue)||(this.Xe(n,Re,null),Te++)})),Te}Pt(t){const n=new Map;this.Ge.forEach(((Re,Be)=>{const Ue=this.st(Be);if(Ue){if(Re.current&&__PRIVATE_targetIsDocumentTarget(Ue.target)){const Oe=new DocumentKey(Ue.target.path);this.Tt(Oe).has(Be)||this.It(Be,Oe)||this.Xe(Be,Oe,MutableDocument.newNoDocument(Oe,t))}Re.Ne&&(n.set(Be,Re.Le()),Re.ke())}}));let Ce=__PRIVATE_documentKeySet();this.Je.forEach(((Re,Be)=>{let Ue=!0;Be.forEachWhile((Oe=>{const Me=this.st(Oe);return!Me||Me.purpose==="TargetPurposeLimboResolution"||(Ue=!1,!1)})),Ue&&(Ce=Ce.add(Re))})),this.ze.forEach(((Re,Be)=>Be.setReadTime(t)));const Te=new RemoteEvent(t,n,this.He,this.ze,Ce);return this.ze=__PRIVATE_mutableDocumentMap(),this.je=__PRIVATE_documentTargetMap(),this.Je=__PRIVATE_documentTargetMap(),this.He=new SortedMap(__PRIVATE_primitiveComparator),Te}Ze(t,n){if(!this.nt(t))return;const Ce=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,Ce),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,Ce){if(!this.nt(t))return;const Te=this.tt(t);this.It(t,n)?Te.qe(n,1):Te.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),Ce&&(this.ze=this.ze.insert(n,Ce))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new __PRIVATE_TargetState,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new SortedSet(__PRIVATE_primitiveComparator),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new SortedSet(__PRIVATE_primitiveComparator),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new __PRIVATE_TargetState),this.We.getRemoteKeysForTarget(t).forEach((n=>{this.Xe(t,n,null)}))}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const wt$1={asc:"ASCENDING",desc:"DESCENDING"},St={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bt$1={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function __PRIVATE_toInt32Proto(Ee,t){return Ee.useProto3Json||__PRIVATE_isNullOrUndefined(t)?t:{value:t}}function toTimestamp(Ee,t){return Ee.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function __PRIVATE_toBytes(Ee,t){return Ee.useProto3Json?t.toBase64():t.toUint8Array()}function __PRIVATE_toVersion(Ee,t){return toTimestamp(Ee,t.toTimestamp())}function __PRIVATE_fromVersion(Ee){return __PRIVATE_hardAssert(!!Ee,49232),SnapshotVersion.fromTimestamp((function(n){const Ce=__PRIVATE_normalizeTimestamp(n);return new Timestamp(Ce.seconds,Ce.nanos)})(Ee))}function __PRIVATE_toResourceName(Ee,t){return __PRIVATE_toResourcePath(Ee,t).canonicalString()}function __PRIVATE_toResourcePath(Ee,t){const n=(function(Te){return new ResourcePath(["projects",Te.projectId,"databases",Te.database])})(Ee).child("documents");return t===void 0?n:n.child(t)}function __PRIVATE_fromResourceName(Ee){const t=ResourcePath.fromString(Ee);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(t),10190,{key:t.toString()}),t}function __PRIVATE_toName(Ee,t){return __PRIVATE_toResourceName(Ee.databaseId,t.path)}function fromName(Ee,t){const n=__PRIVATE_fromResourceName(t);if(n.get(1)!==Ee.databaseId.projectId)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+Ee.databaseId.projectId);if(n.get(3)!==Ee.databaseId.database)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+Ee.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(n))}function __PRIVATE_toQueryPath(Ee,t){return __PRIVATE_toResourceName(Ee.databaseId,t)}function __PRIVATE_fromQueryPath(Ee){const t=__PRIVATE_fromResourceName(Ee);return t.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(t)}function __PRIVATE_getEncodedDatabaseId(Ee){return new ResourcePath(["projects",Ee.databaseId.projectId,"databases",Ee.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(Ee){return __PRIVATE_hardAssert(Ee.length>4&&Ee.get(4)==="documents",29091,{key:Ee.toString()}),Ee.popFirst(5)}function __PRIVATE_toMutationDocument(Ee,t,n){return{name:__PRIVATE_toName(Ee,t),fields:n.value.mapValue.fields}}function __PRIVATE_fromWatchChange(Ee,t){let n;if("targetChange"in t){t.targetChange;const Ce=(function(Me){return Me==="NO_CHANGE"?0:Me==="ADD"?1:Me==="REMOVE"?2:Me==="CURRENT"?3:Me==="RESET"?4:fail(39313,{state:Me})})(t.targetChange.targetChangeType||"NO_CHANGE"),Te=t.targetChange.targetIds||[],Re=(function(Me,Qe){return Me.useProto3Json?(__PRIVATE_hardAssert(Qe===void 0||typeof Qe=="string",58123),ByteString.fromBase64String(Qe||"")):(__PRIVATE_hardAssert(Qe===void 0||Qe instanceof Buffer||Qe instanceof Uint8Array,16193),ByteString.fromUint8Array(Qe||new Uint8Array))})(Ee,t.targetChange.resumeToken),Be=t.targetChange.cause,Ue=Be&&(function(Me){const Qe=Me.code===void 0?N$1.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(Me.code);return new FirestoreError(Qe,Me.message||"")})(Be);n=new __PRIVATE_WatchTargetChange(Ce,Te,Re,Ue||null)}else if("documentChange"in t){t.documentChange;const Ce=t.documentChange;Ce.document,Ce.document.name,Ce.document.updateTime;const Te=fromName(Ee,Ce.document.name),Re=__PRIVATE_fromVersion(Ce.document.updateTime),Be=Ce.document.createTime?__PRIVATE_fromVersion(Ce.document.createTime):SnapshotVersion.min(),Ue=new ObjectValue({mapValue:{fields:Ce.document.fields}}),Oe=MutableDocument.newFoundDocument(Te,Re,Be,Ue),Me=Ce.targetIds||[],Qe=Ce.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange(Me,Qe,Oe.key,Oe)}else if("documentDelete"in t){t.documentDelete;const Ce=t.documentDelete;Ce.document;const Te=fromName(Ee,Ce.document),Re=Ce.readTime?__PRIVATE_fromVersion(Ce.readTime):SnapshotVersion.min(),Be=MutableDocument.newNoDocument(Te,Re),Ue=Ce.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange([],Ue,Be.key,Be)}else if("documentRemove"in t){t.documentRemove;const Ce=t.documentRemove;Ce.document;const Te=fromName(Ee,Ce.document),Re=Ce.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange([],Re,Te,null)}else{if(!("filter"in t))return fail(11601,{At:t});{t.filter;const Ce=t.filter;Ce.targetId;const{count:Te=0,unchangedNames:Re}=Ce,Be=new ExistenceFilter(Te,Re),Ue=Ce.targetId;n=new __PRIVATE_ExistenceFilterChange(Ue,Be)}}return n}function toMutation(Ee,t){let n;if(t instanceof __PRIVATE_SetMutation)n={update:__PRIVATE_toMutationDocument(Ee,t.key,t.value)};else if(t instanceof __PRIVATE_DeleteMutation)n={delete:__PRIVATE_toName(Ee,t.key)};else if(t instanceof __PRIVATE_PatchMutation)n={update:__PRIVATE_toMutationDocument(Ee,t.key,t.data),updateMask:__PRIVATE_toDocumentMask(t.fieldMask)};else{if(!(t instanceof __PRIVATE_VerifyMutation))return fail(16599,{Rt:t.type});n={verify:__PRIVATE_toName(Ee,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((Ce=>(function(Re,Be){const Ue=Be.transform;if(Ue instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:Be.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(Ue instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:Be.field.canonicalString(),appendMissingElements:{values:Ue.elements}};if(Ue instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:Be.field.canonicalString(),removeAllFromArray:{values:Ue.elements}};if(Ue instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:Be.field.canonicalString(),increment:Ue.Ee};throw fail(20930,{transform:Be.transform})})(0,Ce)))),t.precondition.isNone||(n.currentDocument=(function(Te,Re){return Re.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(Te,Re.updateTime)}:Re.exists!==void 0?{exists:Re.exists}:fail(27497)})(Ee,t.precondition)),n}function __PRIVATE_fromWriteResults(Ee,t){return Ee&&Ee.length>0?(__PRIVATE_hardAssert(t!==void 0,14353),Ee.map((n=>(function(Te,Re){let Be=Te.updateTime?__PRIVATE_fromVersion(Te.updateTime):__PRIVATE_fromVersion(Re);return Be.isEqual(SnapshotVersion.min())&&(Be=__PRIVATE_fromVersion(Re)),new MutationResult(Be,Te.transformResults||[])})(n,t)))):[]}function __PRIVATE_toDocumentsTarget(Ee,t){return{documents:[__PRIVATE_toQueryPath(Ee,t.path)]}}function __PRIVATE_toQueryTarget(Ee,t){const n={structuredQuery:{}},Ce=t.path;let Te;t.collectionGroup!==null?(Te=Ce,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(Te=Ce.popLast(),n.structuredQuery.from=[{collectionId:Ce.lastSegment()}]),n.parent=__PRIVATE_toQueryPath(Ee,Te);const Re=(function(Me){if(Me.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(Me,"and"))})(t.filters);Re&&(n.structuredQuery.where=Re);const Be=(function(Me){if(Me.length!==0)return Me.map((Qe=>(function(Ge){return{field:__PRIVATE_toFieldPathReference(Ge.field),direction:__PRIVATE_toDirection(Ge.dir)}})(Qe)))})(t.orderBy);Be&&(n.structuredQuery.orderBy=Be);const Ue=__PRIVATE_toInt32Proto(Ee,t.limit);return Ue!==null&&(n.structuredQuery.limit=Ue),t.startAt&&(n.structuredQuery.startAt=(function(Me){return{before:Me.inclusive,values:Me.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(Me){return{before:!Me.inclusive,values:Me.position}})(t.endAt)),{Vt:n,parent:Te}}function __PRIVATE_convertQueryTargetToQuery(Ee){let t=__PRIVATE_fromQueryPath(Ee.parent);const n=Ee.structuredQuery,Ce=n.from?n.from.length:0;let Te=null;if(Ce>0){__PRIVATE_hardAssert(Ce===1,65062);const Qe=n.from[0];Qe.allDescendants?Te=Qe.collectionId:t=t.child(Qe.collectionId)}let Re=[];n.where&&(Re=(function(Ke){const Ge=__PRIVATE_fromFilter(Ke);return Ge instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(Ge)?Ge.getFilters():[Ge]})(n.where));let Be=[];n.orderBy&&(Be=(function(Ke){return Ke.map((Ge=>(function(Xe){return new OrderBy(__PRIVATE_fromFieldPathReference(Xe.field),(function(Je){switch(Je){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Xe.direction))})(Ge)))})(n.orderBy));let Ue=null;n.limit&&(Ue=(function(Ke){let Ge;return Ge=typeof Ke=="object"?Ke.value:Ke,__PRIVATE_isNullOrUndefined(Ge)?null:Ge})(n.limit));let Oe=null;n.startAt&&(Oe=(function(Ke){const Ge=!!Ke.before,qe=Ke.values||[];return new Bound(qe,Ge)})(n.startAt));let Me=null;return n.endAt&&(Me=(function(Ke){const Ge=!Ke.before,qe=Ke.values||[];return new Bound(qe,Ge)})(n.endAt)),__PRIVATE_newQuery(t,Te,Be,Re,Ue,"F",Oe,Me)}function __PRIVATE_toListenRequestLabels(Ee,t){const n=(function(Te){switch(Te){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail(28987,{purpose:Te})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function __PRIVATE_fromFilter(Ee){return Ee.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const Ce=__PRIVATE_fromFieldPathReference(n.unaryFilter.field);return FieldFilter.create(Ce,"==",{doubleValue:NaN});case"IS_NULL":const Te=__PRIVATE_fromFieldPathReference(n.unaryFilter.field);return FieldFilter.create(Te,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const Re=__PRIVATE_fromFieldPathReference(n.unaryFilter.field);return FieldFilter.create(Re,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const Be=__PRIVATE_fromFieldPathReference(n.unaryFilter.field);return FieldFilter.create(Be,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fail(61313);default:return fail(60726)}})(Ee):Ee.fieldFilter!==void 0?(function(n){return FieldFilter.create(__PRIVATE_fromFieldPathReference(n.fieldFilter.field),(function(Te){switch(Te){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fail(58110);default:return fail(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(Ee):Ee.compositeFilter!==void 0?(function(n){return CompositeFilter.create(n.compositeFilter.filters.map((Ce=>__PRIVATE_fromFilter(Ce))),(function(Te){switch(Te){case"AND":return"and";case"OR":return"or";default:return fail(1026)}})(n.compositeFilter.op))})(Ee):fail(30097,{filter:Ee})}function __PRIVATE_toDirection(Ee){return wt$1[Ee]}function __PRIVATE_toOperatorName(Ee){return St[Ee]}function __PRIVATE_toCompositeOperatorName(Ee){return bt$1[Ee]}function __PRIVATE_toFieldPathReference(Ee){return{fieldPath:Ee.canonicalString()}}function __PRIVATE_fromFieldPathReference(Ee){return FieldPath$1.fromServerFormat(Ee.fieldPath)}function __PRIVATE_toFilter(Ee){return Ee instanceof FieldFilter?(function(n){if(n.op==="=="){if(__PRIVATE_isNanValue(n.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(n.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(__PRIVATE_isNanValue(n.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(n.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(n.field),op:__PRIVATE_toOperatorName(n.op),value:n.value}}})(Ee):Ee instanceof CompositeFilter?(function(n){const Ce=n.getFilters().map((Te=>__PRIVATE_toFilter(Te)));return Ce.length===1?Ce[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(n.op),filters:Ce}}})(Ee):fail(54877,{filter:Ee})}function __PRIVATE_toDocumentMask(Ee){const t=[];return Ee.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function __PRIVATE_isValidResourceName(Ee){return Ee.length>=4&&Ee.get(0)==="projects"&&Ee.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(t,n,Ce,Te,Re=SnapshotVersion.min(),Be=SnapshotVersion.min(),Ue=ByteString.EMPTY_BYTE_STRING,Oe=null){this.target=t,this.targetId=n,this.purpose=Ce,this.sequenceNumber=Te,this.snapshotVersion=Re,this.lastLimboFreeSnapshotVersion=Be,this.resumeToken=Ue,this.expectedCount=Oe}withSequenceNumber(t){return new TargetData(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(t){this.gt=t}}function __PRIVATE_fromBundledQuery(Ee){const t=__PRIVATE_convertQueryTargetToQuery({parent:Ee.parent,structuredQuery:Ee.structuredQuery});return Ee.limitType==="LAST"?__PRIVATE_queryWithLimit(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.Dn=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(t,n){return this.Dn.add(n),PersistencePromise.resolve()}getCollectionParents(t,n){return PersistencePromise.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return PersistencePromise.resolve()}deleteFieldIndex(t,n){return PersistencePromise.resolve()}deleteAllFieldIndexes(t){return PersistencePromise.resolve()}createTargetIndexes(t,n){return PersistencePromise.resolve()}getDocumentsMatchingTarget(t,n){return PersistencePromise.resolve(null)}getIndexType(t,n){return PersistencePromise.resolve(0)}getFieldIndexes(t,n){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(t){return PersistencePromise.resolve(null)}getMinOffset(t,n){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(t,n){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(t,n,Ce){return PersistencePromise.resolve()}updateIndexEntries(t,n){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(t){const n=t.lastSegment(),Ce=t.popLast(),Te=this.index[n]||new SortedSet(ResourcePath.comparator),Re=!Te.has(Ce);return this.index[n]=Te.add(Ce),Re}has(t){const n=t.lastSegment(),Ce=t.popLast(),Te=this.index[n];return Te&&Te.has(Ce)}getEntries(t){return(this.index[t]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft$1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mt$1=41943040;class LruParams{static withCacheSize(t){return new LruParams(t,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,Ce){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=Ce}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */LruParams.DEFAULT_COLLECTION_PERCENTILE=10,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,LruParams.DEFAULT=new LruParams(Mt$1,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),LruParams.DISABLED=new LruParams(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new __PRIVATE_TargetIdGenerator(0)}static ur(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt$1="LruGarbageCollector",Ot$1=1048576;function __PRIVATE_bufferEntryComparator([Ee,t],[n,Ce]){const Te=__PRIVATE_primitiveComparator(Ee,n);return Te===0?__PRIVATE_primitiveComparator(t,Ce):Te}class __PRIVATE_RollingSequenceNumberBuffer{constructor(t){this.Tr=t,this.buffer=new SortedSet(__PRIVATE_bufferEntryComparator),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const Ce=this.buffer.last();__PRIVATE_bufferEntryComparator(n,Ce)<0&&(this.buffer=this.buffer.delete(Ce).add(n))}}get maxValue(){return this.buffer.last()[0]}}class __PRIVATE_LruScheduler{constructor(t,n,Ce){this.garbageCollector=t,this.asyncQueue=n,this.localStore=Ce,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){__PRIVATE_logDebug(xt$1,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){__PRIVATE_isIndexedDbTransactionError(n)?__PRIVATE_logDebug(xt$1,"Ignoring IndexedDB error during garbage collection: ",n):await __PRIVATE_ignoreIfPrimaryLeaseLoss(n)}await this.Rr(3e5)}))}}class __PRIVATE_LruGarbageCollectorImpl{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next((Ce=>Math.floor(n/100*Ce)))}nthSequenceNumber(t,n){if(n===0)return PersistencePromise.resolve(__PRIVATE_ListenSequence.ue);const Ce=new __PRIVATE_RollingSequenceNumberBuffer(n);return this.Vr.forEachTarget(t,(Te=>Ce.Er(Te.sequenceNumber))).next((()=>this.Vr.gr(t,(Te=>Ce.Er(Te))))).next((()=>Ce.maxValue))}removeTargets(t,n,Ce){return this.Vr.removeTargets(t,n,Ce)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(__PRIVATE_logDebug("LruGarbageCollector","Garbage collection skipped; disabled"),PersistencePromise.resolve(Ft$1)):this.getCacheSize(t).next((Ce=>Ce<this.params.cacheSizeCollectionThreshold?(__PRIVATE_logDebug("LruGarbageCollector",`Garbage collection skipped; Cache size ${Ce} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ft$1):this.pr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let Ce,Te,Re,Be,Ue,Oe,Me;const Qe=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((Ke=>(Ke>this.params.maximumSequenceNumbersToCollect?(__PRIVATE_logDebug("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ke}`),Te=this.params.maximumSequenceNumbersToCollect):Te=Ke,Be=Date.now(),this.nthSequenceNumber(t,Te)))).next((Ke=>(Ce=Ke,Ue=Date.now(),this.removeTargets(t,Ce,n)))).next((Ke=>(Re=Ke,Oe=Date.now(),this.removeOrphanedDocuments(t,Ce)))).next((Ke=>(Me=Date.now(),__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${Be-Qe}ms
	Determined least recently used ${Te} in `+(Ue-Be)+`ms
	Removed ${Re} targets in `+(Oe-Ue)+`ms
	Removed ${Ke} documents in `+(Me-Oe)+`ms
Total Duration: ${Me-Qe}ms`),PersistencePromise.resolve({didRun:!0,sequenceNumbersCollected:Te,targetsRemoved:Re,documentsRemoved:Ke}))))}}function __PRIVATE_newLruGarbageCollector(Ee,t){return new __PRIVATE_LruGarbageCollectorImpl(Ee,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,MutableDocument.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const Ce=this.changes.get(n);return Ce!==void 0?PersistencePromise.resolve(Ce):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(t,n,Ce,Te){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=Ce,this.indexManager=Te}getDocument(t,n){let Ce=null;return this.documentOverlayCache.getOverlay(t,n).next((Te=>(Ce=Te,this.remoteDocumentCache.getEntry(t,n)))).next((Te=>(Ce!==null&&__PRIVATE_mutationApplyToLocalView(Ce.mutation,Te,FieldMask.empty(),Timestamp.now()),Te)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((Ce=>this.getLocalViewOfDocuments(t,Ce,__PRIVATE_documentKeySet()).next((()=>Ce))))}getLocalViewOfDocuments(t,n,Ce=__PRIVATE_documentKeySet()){const Te=__PRIVATE_newOverlayMap();return this.populateOverlays(t,Te,n).next((()=>this.computeViews(t,n,Te,Ce).next((Re=>{let Be=documentMap();return Re.forEach(((Ue,Oe)=>{Be=Be.insert(Ue,Oe.overlayedDocument)})),Be}))))}getOverlayedDocuments(t,n){const Ce=__PRIVATE_newOverlayMap();return this.populateOverlays(t,Ce,n).next((()=>this.computeViews(t,n,Ce,__PRIVATE_documentKeySet())))}populateOverlays(t,n,Ce){const Te=[];return Ce.forEach((Re=>{n.has(Re)||Te.push(Re)})),this.documentOverlayCache.getOverlays(t,Te).next((Re=>{Re.forEach(((Be,Ue)=>{n.set(Be,Ue)}))}))}computeViews(t,n,Ce,Te){let Re=__PRIVATE_mutableDocumentMap();const Be=__PRIVATE_newDocumentKeyMap(),Ue=(function(){return __PRIVATE_newDocumentKeyMap()})();return n.forEach(((Oe,Me)=>{const Qe=Ce.get(Me.key);Te.has(Me.key)&&(Qe===void 0||Qe.mutation instanceof __PRIVATE_PatchMutation)?Re=Re.insert(Me.key,Me):Qe!==void 0?(Be.set(Me.key,Qe.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(Qe.mutation,Me,Qe.mutation.getFieldMask(),Timestamp.now())):Be.set(Me.key,FieldMask.empty())})),this.recalculateAndSaveOverlays(t,Re).next((Oe=>(Oe.forEach(((Me,Qe)=>Be.set(Me,Qe))),n.forEach(((Me,Qe)=>{var Ke;return Ue.set(Me,new OverlayedDocument(Qe,(Ke=Be.get(Me))!==null&&Ke!==void 0?Ke:null))})),Ue)))}recalculateAndSaveOverlays(t,n){const Ce=__PRIVATE_newDocumentKeyMap();let Te=new SortedMap(((Be,Ue)=>Be-Ue)),Re=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((Be=>{for(const Ue of Be)Ue.keys().forEach((Oe=>{const Me=n.get(Oe);if(Me===null)return;let Qe=Ce.get(Oe)||FieldMask.empty();Qe=Ue.applyToLocalView(Me,Qe),Ce.set(Oe,Qe);const Ke=(Te.get(Ue.batchId)||__PRIVATE_documentKeySet()).add(Oe);Te=Te.insert(Ue.batchId,Ke)}))})).next((()=>{const Be=[],Ue=Te.getReverseIterator();for(;Ue.hasNext();){const Oe=Ue.getNext(),Me=Oe.key,Qe=Oe.value,Ke=__PRIVATE_newMutationMap();Qe.forEach((Ge=>{if(!Re.has(Ge)){const qe=__PRIVATE_calculateOverlayMutation(n.get(Ge),Ce.get(Ge));qe!==null&&Ke.set(Ge,qe),Re=Re.add(Ge)}})),Be.push(this.documentOverlayCache.saveOverlays(t,Me,Ke))}return PersistencePromise.waitFor(Be)})).next((()=>Ce))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((Ce=>this.recalculateAndSaveOverlays(t,Ce)))}getDocumentsMatchingQuery(t,n,Ce,Te){return(function(Be){return DocumentKey.isDocumentKey(Be.path)&&Be.collectionGroup===null&&Be.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):__PRIVATE_isCollectionGroupQuery(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,Ce,Te):this.getDocumentsMatchingCollectionQuery(t,n,Ce,Te)}getNextDocuments(t,n,Ce,Te){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,Ce,Te).next((Re=>{const Be=Te-Re.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,Ce.largestBatchId,Te-Re.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let Ue=Q$1,Oe=Re;return Be.next((Me=>PersistencePromise.forEach(Me,((Qe,Ke)=>(Ue<Ke.largestBatchId&&(Ue=Ke.largestBatchId),Re.get(Qe)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(t,Qe).next((Ge=>{Oe=Oe.insert(Qe,Ge)}))))).next((()=>this.populateOverlays(t,Me,Re))).next((()=>this.computeViews(t,Oe,Me,__PRIVATE_documentKeySet()))).next((Qe=>({batchId:Ue,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(Qe)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new DocumentKey(n)).next((Ce=>{let Te=documentMap();return Ce.isFoundDocument()&&(Te=Te.insert(Ce.key,Ce)),Te}))}getDocumentsMatchingCollectionGroupQuery(t,n,Ce,Te){const Re=n.collectionGroup;let Be=documentMap();return this.indexManager.getCollectionParents(t,Re).next((Ue=>PersistencePromise.forEach(Ue,(Oe=>{const Me=(function(Ke,Ge){return new __PRIVATE_QueryImpl(Ge,null,Ke.explicitOrderBy.slice(),Ke.filters.slice(),Ke.limit,Ke.limitType,Ke.startAt,Ke.endAt)})(n,Oe.child(Re));return this.getDocumentsMatchingCollectionQuery(t,Me,Ce,Te).next((Qe=>{Qe.forEach(((Ke,Ge)=>{Be=Be.insert(Ke,Ge)}))}))})).next((()=>Be))))}getDocumentsMatchingCollectionQuery(t,n,Ce,Te){let Re;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,Ce.largestBatchId).next((Be=>(Re=Be,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,Ce,Re,Te)))).next((Be=>{Re.forEach(((Oe,Me)=>{const Qe=Me.getKey();Be.get(Qe)===null&&(Be=Be.insert(Qe,MutableDocument.newInvalidDocument(Qe)))}));let Ue=documentMap();return Be.forEach(((Oe,Me)=>{const Qe=Re.get(Oe);Qe!==void 0&&__PRIVATE_mutationApplyToLocalView(Qe.mutation,Me,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(n,Me)&&(Ue=Ue.insert(Oe,Me))})),Ue}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return PersistencePromise.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,(function(Te){return{id:Te.id,version:Te.version,createTime:__PRIVATE_fromVersion(Te.createTime)}})(n)),PersistencePromise.resolve()}getNamedQuery(t,n){return PersistencePromise.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,(function(Te){return{name:Te.name,query:__PRIVATE_fromBundledQuery(Te.bundledQuery),readTime:__PRIVATE_fromVersion(Te.readTime)}})(n)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.kr=new Map}getOverlay(t,n){return PersistencePromise.resolve(this.overlays.get(n))}getOverlays(t,n){const Ce=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(n,(Te=>this.getOverlay(t,Te).next((Re=>{Re!==null&&Ce.set(Te,Re)})))).next((()=>Ce))}saveOverlays(t,n,Ce){return Ce.forEach(((Te,Re)=>{this.wt(t,n,Re)})),PersistencePromise.resolve()}removeOverlaysForBatchId(t,n,Ce){const Te=this.kr.get(Ce);return Te!==void 0&&(Te.forEach((Re=>this.overlays=this.overlays.remove(Re))),this.kr.delete(Ce)),PersistencePromise.resolve()}getOverlaysForCollection(t,n,Ce){const Te=__PRIVATE_newOverlayMap(),Re=n.length+1,Be=new DocumentKey(n.child("")),Ue=this.overlays.getIteratorFrom(Be);for(;Ue.hasNext();){const Oe=Ue.getNext().value,Me=Oe.getKey();if(!n.isPrefixOf(Me.path))break;Me.path.length===Re&&Oe.largestBatchId>Ce&&Te.set(Oe.getKey(),Oe)}return PersistencePromise.resolve(Te)}getOverlaysForCollectionGroup(t,n,Ce,Te){let Re=new SortedMap(((Me,Qe)=>Me-Qe));const Be=this.overlays.getIterator();for(;Be.hasNext();){const Me=Be.getNext().value;if(Me.getKey().getCollectionGroup()===n&&Me.largestBatchId>Ce){let Qe=Re.get(Me.largestBatchId);Qe===null&&(Qe=__PRIVATE_newOverlayMap(),Re=Re.insert(Me.largestBatchId,Qe)),Qe.set(Me.getKey(),Me)}}const Ue=__PRIVATE_newOverlayMap(),Oe=Re.getIterator();for(;Oe.hasNext()&&(Oe.getNext().value.forEach(((Me,Qe)=>Ue.set(Me,Qe))),!(Ue.size()>=Te)););return PersistencePromise.resolve(Ue)}wt(t,n,Ce){const Te=this.overlays.get(Ce.key);if(Te!==null){const Be=this.kr.get(Te.largestBatchId).delete(Ce.key);this.kr.set(Te.largestBatchId,Be)}this.overlays=this.overlays.insert(Ce.key,new Overlay(n,Ce));let Re=this.kr.get(n);Re===void 0&&(Re=__PRIVATE_documentKeySet(),this.kr.set(n,Re)),this.kr.set(n,Re.add(Ce.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(t){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.qr=new SortedSet(__PRIVATE_DocReference.Qr),this.$r=new SortedSet(__PRIVATE_DocReference.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const Ce=new __PRIVATE_DocReference(t,n);this.qr=this.qr.add(Ce),this.$r=this.$r.add(Ce)}Kr(t,n){t.forEach((Ce=>this.addReference(Ce,n)))}removeReference(t,n){this.Wr(new __PRIVATE_DocReference(t,n))}Gr(t,n){t.forEach((Ce=>this.removeReference(Ce,n)))}zr(t){const n=new DocumentKey(new ResourcePath([])),Ce=new __PRIVATE_DocReference(n,t),Te=new __PRIVATE_DocReference(n,t+1),Re=[];return this.$r.forEachInRange([Ce,Te],(Be=>{this.Wr(Be),Re.push(Be.key)})),Re}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new DocumentKey(new ResourcePath([])),Ce=new __PRIVATE_DocReference(n,t),Te=new __PRIVATE_DocReference(n,t+1);let Re=__PRIVATE_documentKeySet();return this.$r.forEachInRange([Ce,Te],(Be=>{Re=Re.add(Be.key)})),Re}containsKey(t){const n=new __PRIVATE_DocReference(t,0),Ce=this.qr.firstAfterOrEqual(n);return Ce!==null&&t.isEqual(Ce.key)}}class __PRIVATE_DocReference{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return DocumentKey.comparator(t.key,n.key)||__PRIVATE_primitiveComparator(t.Hr,n.Hr)}static Ur(t,n){return __PRIVATE_primitiveComparator(t.Hr,n.Hr)||DocumentKey.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new SortedSet(__PRIVATE_DocReference.Qr)}checkEmpty(t){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,Ce,Te){const Re=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const Be=new MutationBatch(Re,n,Ce,Te);this.mutationQueue.push(Be);for(const Ue of Te)this.Yr=this.Yr.add(new __PRIVATE_DocReference(Ue.key,Re)),this.indexManager.addToCollectionParentIndex(t,Ue.key.path.popLast());return PersistencePromise.resolve(Be)}lookupMutationBatch(t,n){return PersistencePromise.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const Ce=n+1,Te=this.Xr(Ce),Re=Te<0?0:Te;return PersistencePromise.resolve(this.mutationQueue.length>Re?this.mutationQueue[Re]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?G$1:this.er-1)}getAllMutationBatches(t){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const Ce=new __PRIVATE_DocReference(n,0),Te=new __PRIVATE_DocReference(n,Number.POSITIVE_INFINITY),Re=[];return this.Yr.forEachInRange([Ce,Te],(Be=>{const Ue=this.Zr(Be.Hr);Re.push(Ue)})),PersistencePromise.resolve(Re)}getAllMutationBatchesAffectingDocumentKeys(t,n){let Ce=new SortedSet(__PRIVATE_primitiveComparator);return n.forEach((Te=>{const Re=new __PRIVATE_DocReference(Te,0),Be=new __PRIVATE_DocReference(Te,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([Re,Be],(Ue=>{Ce=Ce.add(Ue.Hr)}))})),PersistencePromise.resolve(this.ei(Ce))}getAllMutationBatchesAffectingQuery(t,n){const Ce=n.path,Te=Ce.length+1;let Re=Ce;DocumentKey.isDocumentKey(Re)||(Re=Re.child(""));const Be=new __PRIVATE_DocReference(new DocumentKey(Re),0);let Ue=new SortedSet(__PRIVATE_primitiveComparator);return this.Yr.forEachWhile((Oe=>{const Me=Oe.key.path;return!!Ce.isPrefixOf(Me)&&(Me.length===Te&&(Ue=Ue.add(Oe.Hr)),!0)}),Be),PersistencePromise.resolve(this.ei(Ue))}ei(t){const n=[];return t.forEach((Ce=>{const Te=this.Zr(Ce);Te!==null&&n.push(Te)})),n}removeMutationBatch(t,n){__PRIVATE_hardAssert(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let Ce=this.Yr;return PersistencePromise.forEach(n.mutations,(Te=>{const Re=new __PRIVATE_DocReference(Te.key,n.batchId);return Ce=Ce.delete(Re),this.referenceDelegate.markPotentiallyOrphaned(t,Te.key)})).next((()=>{this.Yr=Ce}))}rr(t){}containsKey(t,n){const Ce=new __PRIVATE_DocReference(n,0),Te=this.Yr.firstAfterOrEqual(Ce);return PersistencePromise.resolve(n.isEqual(Te&&Te.key))}performConsistencyCheck(t){return this.mutationQueue.length,PersistencePromise.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(t){this.ni=t,this.docs=(function(){return new SortedMap(DocumentKey.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const Ce=n.key,Te=this.docs.get(Ce),Re=Te?Te.size:0,Be=this.ni(n);return this.docs=this.docs.insert(Ce,{document:n.mutableCopy(),size:Be}),this.size+=Be-Re,this.indexManager.addToCollectionParentIndex(t,Ce.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const Ce=this.docs.get(n);return PersistencePromise.resolve(Ce?Ce.document.mutableCopy():MutableDocument.newInvalidDocument(n))}getEntries(t,n){let Ce=__PRIVATE_mutableDocumentMap();return n.forEach((Te=>{const Re=this.docs.get(Te);Ce=Ce.insert(Te,Re?Re.document.mutableCopy():MutableDocument.newInvalidDocument(Te))})),PersistencePromise.resolve(Ce)}getDocumentsMatchingQuery(t,n,Ce,Te){let Re=__PRIVATE_mutableDocumentMap();const Be=n.path,Ue=new DocumentKey(Be.child("__id-9223372036854775808__")),Oe=this.docs.getIteratorFrom(Ue);for(;Oe.hasNext();){const{key:Me,value:{document:Qe}}=Oe.getNext();if(!Be.isPrefixOf(Me.path))break;Me.path.length>Be.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(Qe),Ce)<=0||(Te.has(Qe.key)||__PRIVATE_queryMatches(n,Qe))&&(Re=Re.insert(Qe.key,Qe.mutableCopy()))}return PersistencePromise.resolve(Re)}getAllFromCollectionGroup(t,n,Ce,Te){fail(9500)}ri(t,n){return PersistencePromise.forEach(this.docs,(Ce=>n(Ce)))}newChangeBuffer(t){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(t){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach(((Ce,Te)=>{Te.isValidDocument()?n.push(this.Or.addEntry(t,Te)):this.Or.removeEntry(Ce)})),PersistencePromise.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(t){this.persistence=t,this.ii=new ObjectMap((n=>__PRIVATE_canonifyTarget(n)),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.si=0,this.oi=new __PRIVATE_ReferenceSet,this.targetCount=0,this._i=__PRIVATE_TargetIdGenerator.ar()}forEachTarget(t,n){return this.ii.forEach(((Ce,Te)=>n(Te))),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(t){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return PersistencePromise.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(t,n,Ce){return Ce&&(this.lastRemoteSnapshotVersion=Ce),n>this.si&&(this.si=n),PersistencePromise.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new __PRIVATE_TargetIdGenerator(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(t,n){return this.hr(n),PersistencePromise.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(t,n,Ce){let Te=0;const Re=[];return this.ii.forEach(((Be,Ue)=>{Ue.sequenceNumber<=n&&Ce.get(Ue.targetId)===null&&(this.ii.delete(Be),Re.push(this.removeMatchingKeysForTargetId(t,Ue.targetId)),Te++)})),PersistencePromise.waitFor(Re).next((()=>Te))}getTargetCount(t){return PersistencePromise.resolve(this.targetCount)}getTargetData(t,n){const Ce=this.ii.get(n)||null;return PersistencePromise.resolve(Ce)}addMatchingKeys(t,n,Ce){return this.oi.Kr(n,Ce),PersistencePromise.resolve()}removeMatchingKeys(t,n,Ce){this.oi.Gr(n,Ce);const Te=this.persistence.referenceDelegate,Re=[];return Te&&n.forEach((Be=>{Re.push(Te.markPotentiallyOrphaned(t,Be))})),PersistencePromise.waitFor(Re)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),PersistencePromise.resolve()}getMatchingKeysForTargetId(t,n){const Ce=this.oi.Jr(n);return PersistencePromise.resolve(Ce)}containsKey(t,n){return PersistencePromise.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(t,n){this.ai={},this.overlays={},this.ui=new __PRIVATE_ListenSequence(0),this.ci=!1,this.ci=!0,this.li=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=t(this),this.hi=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=(function(Te){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(Te)})((Ce=>this.referenceDelegate.Pi(Ce))),this.serializer=new __PRIVATE_LocalSerializer(n),this.Ti=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let Ce=this.ai[t.toKey()];return Ce||(Ce=new __PRIVATE_MemoryMutationQueue(n,this.referenceDelegate),this.ai[t.toKey()]=Ce),Ce}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,Ce){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",t);const Te=new __PRIVATE_MemoryTransaction(this.ui.next());return this.referenceDelegate.Ii(),Ce(Te).next((Re=>this.referenceDelegate.di(Te).next((()=>Re)))).toPromise().then((Re=>(Te.raiseOnCommittedEvent(),Re)))}Ei(t,n){return PersistencePromise.or(Object.values(this.ai).map((Ce=>()=>Ce.containsKey(t,n))))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(t){super(),this.currentSequenceNumber=t}}class __PRIVATE_MemoryEagerDelegate{constructor(t){this.persistence=t,this.Ai=new __PRIVATE_ReferenceSet,this.Ri=null}static Vi(t){return new __PRIVATE_MemoryEagerDelegate(t)}get mi(){if(this.Ri)return this.Ri;throw fail(60996)}addReference(t,n,Ce){return this.Ai.addReference(Ce,n),this.mi.delete(Ce.toString()),PersistencePromise.resolve()}removeReference(t,n,Ce){return this.Ai.removeReference(Ce,n),this.mi.add(Ce.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),PersistencePromise.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach((Te=>this.mi.add(Te.toString())));const Ce=this.persistence.getTargetCache();return Ce.getMatchingKeysForTargetId(t,n.targetId).next((Te=>{Te.forEach((Re=>this.mi.add(Re.toString())))})).next((()=>Ce.removeTargetData(t,n)))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.mi,(Ce=>{const Te=DocumentKey.fromPath(Ce);return this.fi(t,Te).next((Re=>{Re||n.removeEntry(Te,SnapshotVersion.min())}))})).next((()=>(this.Ri=null,n.apply(t))))}updateLimboDocument(t,n){return this.fi(t,n).next((Ce=>{Ce?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(t){return 0}fi(t,n){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class __PRIVATE_MemoryLruDelegate{constructor(t,n){this.persistence=t,this.gi=new ObjectMap((Ce=>__PRIVATE_encodeResourcePath(Ce.path)),((Ce,Te)=>Ce.isEqual(Te))),this.garbageCollector=__PRIVATE_newLruGarbageCollector(this,n)}static Vi(t,n){return new __PRIVATE_MemoryLruDelegate(t,n)}Ii(){}di(t){return PersistencePromise.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((Ce=>n.next((Te=>Ce+Te))))}yr(t){let n=0;return this.gr(t,(Ce=>{n++})).next((()=>n))}gr(t,n){return PersistencePromise.forEach(this.gi,((Ce,Te)=>this.Sr(t,Ce,Te).next((Re=>Re?PersistencePromise.resolve():n(Te)))))}removeTargets(t,n,Ce){return this.persistence.getTargetCache().removeTargets(t,n,Ce)}removeOrphanedDocuments(t,n){let Ce=0;const Te=this.persistence.getRemoteDocumentCache(),Re=Te.newChangeBuffer();return Te.ri(t,(Be=>this.Sr(t,Be,n).next((Ue=>{Ue||(Ce++,Re.removeEntry(Be,SnapshotVersion.min()))})))).next((()=>Re.apply(t))).next((()=>Ce))}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),PersistencePromise.resolve()}removeTarget(t,n){const Ce=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,Ce)}addReference(t,n,Ce){return this.gi.set(Ce,t.currentSequenceNumber),PersistencePromise.resolve()}removeReference(t,n,Ce){return this.gi.set(Ce,t.currentSequenceNumber),PersistencePromise.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),PersistencePromise.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=__PRIVATE_estimateByteSize(t.data.value)),n}Sr(t,n,Ce){return PersistencePromise.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const Te=this.gi.get(n);return PersistencePromise.resolve(Te!==void 0&&Te>Ce)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(t,n,Ce,Te){this.targetId=t,this.fromCache=n,this.Is=Ce,this.ds=Te}static Es(t,n){let Ce=__PRIVATE_documentKeySet(),Te=__PRIVATE_documentKeySet();for(const Re of n.docChanges)switch(Re.type){case 0:Ce=Ce.add(Re.doc.key);break;case 1:Te=Te.add(Re.doc.key)}return new __PRIVATE_LocalViewChanges(t,n.fromCache,Ce,Te)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4})()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,Ce,Te){const Re={result:null};return this.ps(t,n).next((Be=>{Re.result=Be})).next((()=>{if(!Re.result)return this.ys(t,n,Te,Ce).next((Be=>{Re.result=Be}))})).next((()=>{if(Re.result)return;const Be=new QueryContext;return this.ws(t,n,Be).next((Ue=>{if(Re.result=Ue,this.Rs)return this.Ss(t,n,Be,Ue.size)}))})).next((()=>Re.result))}Ss(t,n,Ce,Te){return Ce.documentReadCount<this.Vs?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(n),"scans",Ce.documentReadCount,"local documents and returns",Te,"documents as results."),Ce.documentReadCount>this.fs*Te?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,__PRIVATE_queryToTarget(n))):PersistencePromise.resolve())}ps(t,n){if(__PRIVATE_queryMatchesAllDocuments(n))return PersistencePromise.resolve(null);let Ce=__PRIVATE_queryToTarget(n);return this.indexManager.getIndexType(t,Ce).next((Te=>Te===0?null:(n.limit!==null&&Te===1&&(n=__PRIVATE_queryWithLimit(n,null,"F"),Ce=__PRIVATE_queryToTarget(n)),this.indexManager.getDocumentsMatchingTarget(t,Ce).next((Re=>{const Be=__PRIVATE_documentKeySet(...Re);return this.gs.getDocuments(t,Be).next((Ue=>this.indexManager.getMinOffset(t,Ce).next((Oe=>{const Me=this.bs(n,Ue);return this.Ds(n,Me,Be,Oe.readTime)?this.ps(t,__PRIVATE_queryWithLimit(n,null,"F")):this.vs(t,Me,n,Oe)}))))})))))}ys(t,n,Ce,Te){return __PRIVATE_queryMatchesAllDocuments(n)||Te.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.gs.getDocuments(t,Ce).next((Re=>{const Be=this.bs(n,Re);return this.Ds(n,Be,Ce,Te)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",Te.toString(),__PRIVATE_stringifyQuery(n)),this.vs(t,Be,n,__PRIVATE_newIndexOffsetSuccessorFromReadTime(Te,Q$1)).next((Ue=>Ue)))}))}bs(t,n){let Ce=new SortedSet(__PRIVATE_newQueryComparator(t));return n.forEach(((Te,Re)=>{__PRIVATE_queryMatches(t,Re)&&(Ce=Ce.add(Re))})),Ce}Ds(t,n,Ce,Te){if(t.limit===null)return!1;if(Ce.size!==n.size)return!0;const Re=t.limitType==="F"?n.last():n.first();return!!Re&&(Re.hasPendingWrites||Re.version.compareTo(Te)>0)}ws(t,n,Ce){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(n)),this.gs.getDocumentsMatchingQuery(t,n,IndexOffset.min(),Ce)}vs(t,n,Ce,Te){return this.gs.getDocumentsMatchingQuery(t,Ce,Te).next((Re=>(n.forEach((Be=>{Re=Re.insert(Be.key,Be)})),Re)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt$1="LocalStore",$t$1=3e8;class __PRIVATE_LocalStoreImpl{constructor(t,n,Ce,Te){this.persistence=t,this.Cs=n,this.serializer=Te,this.Fs=new SortedMap(__PRIVATE_primitiveComparator),this.Ms=new ObjectMap((Re=>__PRIVATE_canonifyTarget(Re)),__PRIVATE_targetEquals),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(Ce)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new LocalDocumentsView(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Fs)))}}function __PRIVATE_newLocalStore(Ee,t,n,Ce){return new __PRIVATE_LocalStoreImpl(Ee,t,n,Ce)}async function __PRIVATE_localStoreHandleUserChange(Ee,t){const n=__PRIVATE_debugCast(Ee);return await n.persistence.runTransaction("Handle user change","readonly",(Ce=>{let Te;return n.mutationQueue.getAllMutationBatches(Ce).next((Re=>(Te=Re,n.Ns(t),n.mutationQueue.getAllMutationBatches(Ce)))).next((Re=>{const Be=[],Ue=[];let Oe=__PRIVATE_documentKeySet();for(const Me of Te){Be.push(Me.batchId);for(const Qe of Me.mutations)Oe=Oe.add(Qe.key)}for(const Me of Re){Ue.push(Me.batchId);for(const Qe of Me.mutations)Oe=Oe.add(Qe.key)}return n.localDocuments.getDocuments(Ce,Oe).next((Me=>({Bs:Me,removedBatchIds:Be,addedBatchIds:Ue})))}))}))}function __PRIVATE_localStoreAcknowledgeBatch(Ee,t){const n=__PRIVATE_debugCast(Ee);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(Ce=>{const Te=t.batch.keys(),Re=n.Os.newChangeBuffer({trackRemovals:!0});return(function(Ue,Oe,Me,Qe){const Ke=Me.batch,Ge=Ke.keys();let qe=PersistencePromise.resolve();return Ge.forEach((Xe=>{qe=qe.next((()=>Qe.getEntry(Oe,Xe))).next((tr=>{const Je=Me.docVersions.get(Xe);__PRIVATE_hardAssert(Je!==null,48541),tr.version.compareTo(Je)<0&&(Ke.applyToRemoteDocument(tr,Me),tr.isValidDocument()&&(tr.setReadTime(Me.commitVersion),Qe.addEntry(tr)))}))})),qe.next((()=>Ue.mutationQueue.removeMutationBatch(Oe,Ke)))})(n,Ce,t,Re).next((()=>Re.apply(Ce))).next((()=>n.mutationQueue.performConsistencyCheck(Ce))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(Ce,Te,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Ce,(function(Ue){let Oe=__PRIVATE_documentKeySet();for(let Me=0;Me<Ue.mutationResults.length;++Me)Ue.mutationResults[Me].transformResults.length>0&&(Oe=Oe.add(Ue.batch.mutations[Me].key));return Oe})(t)))).next((()=>n.localDocuments.getDocuments(Ce,Te)))}))}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(Ee){const t=__PRIVATE_debugCast(Ee);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.hi.getLastRemoteSnapshotVersion(n)))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(Ee,t){const n=__PRIVATE_debugCast(Ee),Ce=t.snapshotVersion;let Te=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(Re=>{const Be=n.Os.newChangeBuffer({trackRemovals:!0});Te=n.Fs;const Ue=[];t.targetChanges.forEach(((Qe,Ke)=>{const Ge=Te.get(Ke);if(!Ge)return;Ue.push(n.hi.removeMatchingKeys(Re,Qe.removedDocuments,Ke).next((()=>n.hi.addMatchingKeys(Re,Qe.addedDocuments,Ke))));let qe=Ge.withSequenceNumber(Re.currentSequenceNumber);t.targetMismatches.get(Ke)!==null?qe=qe.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):Qe.resumeToken.approximateByteSize()>0&&(qe=qe.withResumeToken(Qe.resumeToken,Ce)),Te=Te.insert(Ke,qe),(function(tr,Je,Ye){return tr.resumeToken.approximateByteSize()===0||Je.snapshotVersion.toMicroseconds()-tr.snapshotVersion.toMicroseconds()>=$t$1?!0:Ye.addedDocuments.size+Ye.modifiedDocuments.size+Ye.removedDocuments.size>0})(Ge,qe,Qe)&&Ue.push(n.hi.updateTargetData(Re,qe))}));let Oe=__PRIVATE_mutableDocumentMap(),Me=__PRIVATE_documentKeySet();if(t.documentUpdates.forEach((Qe=>{t.resolvedLimboDocuments.has(Qe)&&Ue.push(n.persistence.referenceDelegate.updateLimboDocument(Re,Qe))})),Ue.push(__PRIVATE_populateDocumentChangeBuffer(Re,Be,t.documentUpdates).next((Qe=>{Oe=Qe.Ls,Me=Qe.ks}))),!Ce.isEqual(SnapshotVersion.min())){const Qe=n.hi.getLastRemoteSnapshotVersion(Re).next((Ke=>n.hi.setTargetsMetadata(Re,Re.currentSequenceNumber,Ce)));Ue.push(Qe)}return PersistencePromise.waitFor(Ue).next((()=>Be.apply(Re))).next((()=>n.localDocuments.getLocalViewOfDocuments(Re,Oe,Me))).next((()=>Oe))})).then((Re=>(n.Fs=Te,Re)))}function __PRIVATE_populateDocumentChangeBuffer(Ee,t,n){let Ce=__PRIVATE_documentKeySet(),Te=__PRIVATE_documentKeySet();return n.forEach((Re=>Ce=Ce.add(Re))),t.getEntries(Ee,Ce).next((Re=>{let Be=__PRIVATE_mutableDocumentMap();return n.forEach(((Ue,Oe)=>{const Me=Re.get(Ue);Oe.isFoundDocument()!==Me.isFoundDocument()&&(Te=Te.add(Ue)),Oe.isNoDocument()&&Oe.version.isEqual(SnapshotVersion.min())?(t.removeEntry(Ue,Oe.readTime),Be=Be.insert(Ue,Oe)):!Me.isValidDocument()||Oe.version.compareTo(Me.version)>0||Oe.version.compareTo(Me.version)===0&&Me.hasPendingWrites?(t.addEntry(Oe),Be=Be.insert(Ue,Oe)):__PRIVATE_logDebug(Qt$1,"Ignoring outdated watch update for ",Ue,". Current version:",Me.version," Watch version:",Oe.version)})),{Ls:Be,ks:Te}}))}function __PRIVATE_localStoreGetNextMutationBatch(Ee,t){const n=__PRIVATE_debugCast(Ee);return n.persistence.runTransaction("Get next mutation batch","readonly",(Ce=>(t===void 0&&(t=G$1),n.mutationQueue.getNextMutationBatchAfterBatchId(Ce,t))))}function __PRIVATE_localStoreAllocateTarget(Ee,t){const n=__PRIVATE_debugCast(Ee);return n.persistence.runTransaction("Allocate target","readwrite",(Ce=>{let Te;return n.hi.getTargetData(Ce,t).next((Re=>Re?(Te=Re,PersistencePromise.resolve(Te)):n.hi.allocateTargetId(Ce).next((Be=>(Te=new TargetData(t,Be,"TargetPurposeListen",Ce.currentSequenceNumber),n.hi.addTargetData(Ce,Te).next((()=>Te)))))))})).then((Ce=>{const Te=n.Fs.get(Ce.targetId);return(Te===null||Ce.snapshotVersion.compareTo(Te.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(Ce.targetId,Ce),n.Ms.set(t,Ce.targetId)),Ce}))}async function __PRIVATE_localStoreReleaseTarget(Ee,t,n){const Ce=__PRIVATE_debugCast(Ee),Te=Ce.Fs.get(t),Re=n?"readwrite":"readwrite-primary";try{n||await Ce.persistence.runTransaction("Release target",Re,(Be=>Ce.persistence.referenceDelegate.removeTarget(Be,Te)))}catch(Be){if(!__PRIVATE_isIndexedDbTransactionError(Be))throw Be;__PRIVATE_logDebug(Qt$1,`Failed to update sequence numbers for target ${t}: ${Be}`)}Ce.Fs=Ce.Fs.remove(t),Ce.Ms.delete(Te.target)}function __PRIVATE_localStoreExecuteQuery(Ee,t,n){const Ce=__PRIVATE_debugCast(Ee);let Te=SnapshotVersion.min(),Re=__PRIVATE_documentKeySet();return Ce.persistence.runTransaction("Execute query","readwrite",(Be=>(function(Oe,Me,Qe){const Ke=__PRIVATE_debugCast(Oe),Ge=Ke.Ms.get(Qe);return Ge!==void 0?PersistencePromise.resolve(Ke.Fs.get(Ge)):Ke.hi.getTargetData(Me,Qe)})(Ce,Be,__PRIVATE_queryToTarget(t)).next((Ue=>{if(Ue)return Te=Ue.lastLimboFreeSnapshotVersion,Ce.hi.getMatchingKeysForTargetId(Be,Ue.targetId).next((Oe=>{Re=Oe}))})).next((()=>Ce.Cs.getDocumentsMatchingQuery(Be,t,n?Te:SnapshotVersion.min(),n?Re:__PRIVATE_documentKeySet()))).next((Ue=>(__PRIVATE_setMaxReadTime(Ce,__PRIVATE_queryCollectionGroup(t),Ue),{documents:Ue,qs:Re})))))}function __PRIVATE_setMaxReadTime(Ee,t,n){let Ce=Ee.xs.get(t)||SnapshotVersion.min();n.forEach(((Te,Re)=>{Re.readTime.compareTo(Ce)>0&&(Ce=Re.readTime)})),Ee.xs.set(t,Ce)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class __PRIVATE_MemorySharedClientState{constructor(){this.Fo=new __PRIVATE_LocalClientState,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,Ce){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,Ce){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(t,n,Ce){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt$1="ConnectivityMonitor";class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){__PRIVATE_logDebug(zt$1,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){__PRIVATE_logDebug(zt$1,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jt$1=null;function __PRIVATE_generateUniqueDebugId(){return jt$1===null?jt$1=(function(){return 268435456+Math.round(2147483648*Math.random())})():jt$1++,"0x"+jt$1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt$1="RestConnection",Ht$1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class __PRIVATE_RestConnection{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",Ce=encodeURIComponent(this.databaseId.projectId),Te=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${Ce}/databases/${Te}`,this.Ko=this.databaseId.database===ut$1?`project_id=${Ce}`:`project_id=${Ce}&database_id=${Te}`}Wo(t,n,Ce,Te,Re){const Be=__PRIVATE_generateUniqueDebugId(),Ue=this.Go(t,n.toUriEncodedString());__PRIVATE_logDebug(Jt$1,`Sending RPC '${t}' ${Be}:`,Ue,Ce);const Oe={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(Oe,Te,Re);const{host:Me}=new URL(Ue),Qe=isCloudWorkstation(Me);return this.jo(t,Ue,Oe,Ce,Qe).then((Ke=>(__PRIVATE_logDebug(Jt$1,`Received RPC '${t}' ${Be}: `,Ke),Ke)),(Ke=>{throw __PRIVATE_logWarn(Jt$1,`RPC '${t}' ${Be} failed with error: `,Ke,"url: ",Ue,"request:",Ce),Ke}))}Jo(t,n,Ce,Te,Re,Be){return this.Wo(t,n,Ce,Te,Re)}zo(t,n,Ce){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+x$2})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((Te,Re)=>t[Re]=Te)),Ce&&Ce.headers.forEach(((Te,Re)=>t[Re]=Te))}Go(t,n){const Ce=Ht$1[t];return`${this.$o}/v1/${n}:${Ce}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt$1="WebChannelConnection";class __PRIVATE_WebChannelConnection extends __PRIVATE_RestConnection{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,Ce,Te,Re){const Be=__PRIVATE_generateUniqueDebugId();return new Promise(((Ue,Oe)=>{const Me=new XhrIo;Me.setWithCredentials(!0),Me.listenOnce(EventType.COMPLETE,(()=>{try{switch(Me.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const Ke=Me.getResponseJson();__PRIVATE_logDebug(Yt$1,`XHR for RPC '${t}' ${Be} received:`,JSON.stringify(Ke)),Ue(Ke);break;case ErrorCode$1.TIMEOUT:__PRIVATE_logDebug(Yt$1,`RPC '${t}' ${Be} timed out`),Oe(new FirestoreError(N$1.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const Ge=Me.getStatus();if(__PRIVATE_logDebug(Yt$1,`RPC '${t}' ${Be} failed with status:`,Ge,"response text:",Me.getResponseText()),Ge>0){let qe=Me.getResponseJson();Array.isArray(qe)&&(qe=qe[0]);const Xe=qe==null?void 0:qe.error;if(Xe&&Xe.status&&Xe.message){const tr=(function(Ye){const lr=Ye.toLowerCase().replace(/_/g,"-");return Object.values(N$1).indexOf(lr)>=0?lr:N$1.UNKNOWN})(Xe.status);Oe(new FirestoreError(tr,Xe.message))}else Oe(new FirestoreError(N$1.UNKNOWN,"Server responded with status "+Me.getStatus()))}else Oe(new FirestoreError(N$1.UNAVAILABLE,"Connection failed."));break;default:fail(9055,{c_:t,streamId:Be,l_:Me.getLastErrorCode(),h_:Me.getLastError()})}}finally{__PRIVATE_logDebug(Yt$1,`RPC '${t}' ${Be} completed.`)}}));const Qe=JSON.stringify(Te);__PRIVATE_logDebug(Yt$1,`RPC '${t}' ${Be} sending request:`,Te),Me.send(n,"POST",Qe,Ce,15)}))}P_(t,n,Ce){const Te=__PRIVATE_generateUniqueDebugId(),Re=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],Be=createWebChannelTransport(),Ue=getStatEventTarget(),Oe={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Me=this.longPollingOptions.timeoutSeconds;Me!==void 0&&(Oe.longPollingTimeout=Math.round(1e3*Me)),this.useFetchStreams&&(Oe.useFetchStreams=!0),this.zo(Oe.initMessageHeaders,n,Ce),Oe.encodeInitMessageHeaders=!0;const Qe=Re.join("");__PRIVATE_logDebug(Yt$1,`Creating RPC '${t}' stream ${Te}: ${Qe}`,Oe);const Ke=Be.createWebChannel(Qe,Oe);this.T_(Ke);let Ge=!1,qe=!1;const Xe=new __PRIVATE_StreamBridge({Ho:Je=>{qe?__PRIVATE_logDebug(Yt$1,`Not sending because RPC '${t}' stream ${Te} is closed:`,Je):(Ge||(__PRIVATE_logDebug(Yt$1,`Opening RPC '${t}' stream ${Te} transport.`),Ke.open(),Ge=!0),__PRIVATE_logDebug(Yt$1,`RPC '${t}' stream ${Te} sending:`,Je),Ke.send(Je))},Yo:()=>Ke.close()}),tr=(Je,Ye,lr)=>{Je.listen(Ye,(cr=>{try{lr(cr)}catch(hr){setTimeout((()=>{throw hr}),0)}}))};return tr(Ke,WebChannel.EventType.OPEN,(()=>{qe||(__PRIVATE_logDebug(Yt$1,`RPC '${t}' stream ${Te} transport opened.`),Xe.s_())})),tr(Ke,WebChannel.EventType.CLOSE,(()=>{qe||(qe=!0,__PRIVATE_logDebug(Yt$1,`RPC '${t}' stream ${Te} transport closed`),Xe.__(),this.I_(Ke))})),tr(Ke,WebChannel.EventType.ERROR,(Je=>{qe||(qe=!0,__PRIVATE_logWarn(Yt$1,`RPC '${t}' stream ${Te} transport errored. Name:`,Je.name,"Message:",Je.message),Xe.__(new FirestoreError(N$1.UNAVAILABLE,"The operation could not be completed")))})),tr(Ke,WebChannel.EventType.MESSAGE,(Je=>{var Ye;if(!qe){const lr=Je.data[0];__PRIVATE_hardAssert(!!lr,16349);const cr=lr,hr=(cr==null?void 0:cr.error)||((Ye=cr[0])===null||Ye===void 0?void 0:Ye.error);if(hr){__PRIVATE_logDebug(Yt$1,`RPC '${t}' stream ${Te} received error:`,hr);const ur=hr.status;let fr=(function(ir){const mr=ft$1[ir];if(mr!==void 0)return __PRIVATE_mapCodeFromRpcCode(mr)})(ur),er=hr.message;fr===void 0&&(fr=N$1.INTERNAL,er="Unknown error status: "+ur+" with message "+hr.message),qe=!0,Xe.__(new FirestoreError(fr,er)),Ke.close()}else __PRIVATE_logDebug(Yt$1,`RPC '${t}' stream ${Te} received:`,lr),Xe.a_(lr)}})),tr(Ue,Event$1.STAT_EVENT,(Je=>{Je.stat===Stat.PROXY?__PRIVATE_logDebug(Yt$1,`RPC '${t}' stream ${Te} detected buffering proxy`):Je.stat===Stat.NOPROXY&&__PRIVATE_logDebug(Yt$1,`RPC '${t}' stream ${Te} detected no buffering proxy`)})),setTimeout((()=>{Xe.o_()}),0),Xe}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((n=>n===t))}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(Ee){return new JsonProtoSerializer(Ee,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(t,n,Ce=1e3,Te=1.5,Re=6e4){this.Fi=t,this.timerId=n,this.d_=Ce,this.E_=Te,this.A_=Re,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),Ce=Math.max(0,Date.now()-this.m_),Te=Math.max(0,n-Ce);Te>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${Te} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${Ce} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,Te,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt$1="PersistentStream";class __PRIVATE_PersistentStream{constructor(t,n,Ce,Te,Re,Be,Ue,Oe){this.Fi=t,this.w_=Ce,this.S_=Te,this.connection=Re,this.authCredentialsProvider=Be,this.appCheckCredentialsProvider=Ue,this.listener=Oe,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new __PRIVATE_ExponentialBackoff(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===N$1.RESOURCE_EXHAUSTED?(__PRIVATE_logError(n.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===N$1.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([Ce,Te])=>{this.b_===n&&this.W_(Ce,Te)}),(Ce=>{t((()=>{const Te=new FirestoreError(N$1.UNKNOWN,"Fetching auth token failed: "+Ce.message);return this.G_(Te)}))}))}W_(t,n){const Ce=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo((()=>{Ce((()=>this.listener.Zo()))})),this.stream.e_((()=>{Ce((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((Te=>{Ce((()=>this.G_(Te)))})),this.stream.onMessage((Te=>{Ce((()=>++this.C_==1?this.j_(Te):this.onNext(Te)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return __PRIVATE_logDebug(Zt$1,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget((()=>this.b_===t?n():(__PRIVATE_logDebug(Zt$1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(t,n,Ce,Te,Re,Be){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,Ce,Te,Be),this.serializer=Re}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=__PRIVATE_fromWatchChange(this.serializer,t),Ce=(function(Re){if(!("targetChange"in Re))return SnapshotVersion.min();const Be=Re.targetChange;return Be.targetIds&&Be.targetIds.length?SnapshotVersion.min():Be.readTime?__PRIVATE_fromVersion(Be.readTime):SnapshotVersion.min()})(t);return this.listener.J_(n,Ce)}H_(t){const n={};n.database=__PRIVATE_getEncodedDatabaseId(this.serializer),n.addTarget=(function(Re,Be){let Ue;const Oe=Be.target;if(Ue=__PRIVATE_targetIsDocumentTarget(Oe)?{documents:__PRIVATE_toDocumentsTarget(Re,Oe)}:{query:__PRIVATE_toQueryTarget(Re,Oe).Vt},Ue.targetId=Be.targetId,Be.resumeToken.approximateByteSize()>0){Ue.resumeToken=__PRIVATE_toBytes(Re,Be.resumeToken);const Me=__PRIVATE_toInt32Proto(Re,Be.expectedCount);Me!==null&&(Ue.expectedCount=Me)}else if(Be.snapshotVersion.compareTo(SnapshotVersion.min())>0){Ue.readTime=toTimestamp(Re,Be.snapshotVersion.toTimestamp());const Me=__PRIVATE_toInt32Proto(Re,Be.expectedCount);Me!==null&&(Ue.expectedCount=Me)}return Ue})(this.serializer,t);const Ce=__PRIVATE_toListenRequestLabels(this.serializer,t);Ce&&(n.labels=Ce),this.k_(n)}Y_(t){const n={};n.database=__PRIVATE_getEncodedDatabaseId(this.serializer),n.removeTarget=t,this.k_(n)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(t,n,Ce,Te,Re,Be){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,Ce,Te,Be),this.serializer=Re}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return __PRIVATE_hardAssert(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,__PRIVATE_hardAssert(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){__PRIVATE_hardAssert(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=__PRIVATE_fromWriteResults(t.writeResults,t.commitTime),Ce=__PRIVATE_fromVersion(t.commitTime);return this.listener.ta(Ce,n)}na(){const t={};t.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map((Ce=>toMutation(this.serializer,Ce)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Datastore{}class __PRIVATE_DatastoreImpl extends Datastore{constructor(t,n,Ce,Te){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=Ce,this.serializer=Te,this.ra=!1}ia(){if(this.ra)throw new FirestoreError(N$1.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,Ce,Te){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([Re,Be])=>this.connection.Wo(t,__PRIVATE_toResourcePath(n,Ce),Te,Re,Be))).catch((Re=>{throw Re.name==="FirebaseError"?(Re.code===N$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),Re):new FirestoreError(N$1.UNKNOWN,Re.toString())}))}Jo(t,n,Ce,Te,Re){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([Be,Ue])=>this.connection.Jo(t,__PRIVATE_toResourcePath(n,Ce),Te,Be,Ue,Re))).catch((Be=>{throw Be.name==="FirebaseError"?(Be.code===N$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),Be):new FirestoreError(N$1.UNKNOWN,Be.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(__PRIVATE_logError(n),this._a=!1):__PRIVATE_logDebug("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt$1="RemoteStore";class __PRIVATE_RemoteStoreImpl{constructor(t,n,Ce,Te,Re){this.localStore=t,this.datastore=n,this.asyncQueue=Ce,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=Re,this.Ea.xo((Be=>{Ce.enqueueAndForget((async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug(Xt$1,"Restarting streams for network reachability change."),await(async function(Oe){const Me=__PRIVATE_debugCast(Oe);Me.Ia.add(4),await __PRIVATE_disableNetworkInternal(Me),Me.Aa.set("Unknown"),Me.Ia.delete(4),await __PRIVATE_enableNetworkInternal(Me)})(this))}))})),this.Aa=new __PRIVATE_OnlineStateTracker(Ce,Te)}}async function __PRIVATE_enableNetworkInternal(Ee){if(__PRIVATE_canUseNetwork(Ee))for(const t of Ee.da)await t(!0)}async function __PRIVATE_disableNetworkInternal(Ee){for(const t of Ee.da)await t(!1)}function __PRIVATE_remoteStoreListen(Ee,t){const n=__PRIVATE_debugCast(Ee);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),__PRIVATE_shouldStartWatchStream(n)?__PRIVATE_startWatchStream(n):__PRIVATE_ensureWatchStream(n).x_()&&__PRIVATE_sendWatchRequest(n,t))}function __PRIVATE_remoteStoreUnlisten(Ee,t){const n=__PRIVATE_debugCast(Ee),Ce=__PRIVATE_ensureWatchStream(n);n.Ta.delete(t),Ce.x_()&&__PRIVATE_sendUnwatchRequest(n,t),n.Ta.size===0&&(Ce.x_()?Ce.B_():__PRIVATE_canUseNetwork(n)&&n.Aa.set("Unknown"))}function __PRIVATE_sendWatchRequest(Ee,t){if(Ee.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(SnapshotVersion.min())>0){const n=Ee.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}__PRIVATE_ensureWatchStream(Ee).H_(t)}function __PRIVATE_sendUnwatchRequest(Ee,t){Ee.Ra.$e(t),__PRIVATE_ensureWatchStream(Ee).Y_(t)}function __PRIVATE_startWatchStream(Ee){Ee.Ra=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:t=>Ee.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>Ee.Ta.get(t)||null,lt:()=>Ee.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(Ee).start(),Ee.Aa.aa()}function __PRIVATE_shouldStartWatchStream(Ee){return __PRIVATE_canUseNetwork(Ee)&&!__PRIVATE_ensureWatchStream(Ee).M_()&&Ee.Ta.size>0}function __PRIVATE_canUseNetwork(Ee){return __PRIVATE_debugCast(Ee).Ia.size===0}function __PRIVATE_cleanUpWatchStreamState(Ee){Ee.Ra=void 0}async function __PRIVATE_onWatchStreamConnected(Ee){Ee.Aa.set("Online")}async function __PRIVATE_onWatchStreamOpen(Ee){Ee.Ta.forEach(((t,n)=>{__PRIVATE_sendWatchRequest(Ee,t)}))}async function __PRIVATE_onWatchStreamClose(Ee,t){__PRIVATE_cleanUpWatchStreamState(Ee),__PRIVATE_shouldStartWatchStream(Ee)?(Ee.Aa.la(t),__PRIVATE_startWatchStream(Ee)):Ee.Aa.set("Unknown")}async function __PRIVATE_onWatchStreamChange(Ee,t,n){if(Ee.Aa.set("Online"),t instanceof __PRIVATE_WatchTargetChange&&t.state===2&&t.cause)try{await(async function(Te,Re){const Be=Re.cause;for(const Ue of Re.targetIds)Te.Ta.has(Ue)&&(await Te.remoteSyncer.rejectListen(Ue,Be),Te.Ta.delete(Ue),Te.Ra.removeTarget(Ue))})(Ee,t)}catch(Ce){__PRIVATE_logDebug(Xt$1,"Failed to remove targets %s: %s ",t.targetIds.join(","),Ce),await __PRIVATE_disableNetworkUntilRecovery(Ee,Ce)}else if(t instanceof __PRIVATE_DocumentWatchChange?Ee.Ra.Ye(t):t instanceof __PRIVATE_ExistenceFilterChange?Ee.Ra.it(t):Ee.Ra.et(t),!n.isEqual(SnapshotVersion.min()))try{const Ce=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(Ee.localStore);n.compareTo(Ce)>=0&&await(function(Re,Be){const Ue=Re.Ra.Pt(Be);return Ue.targetChanges.forEach(((Oe,Me)=>{if(Oe.resumeToken.approximateByteSize()>0){const Qe=Re.Ta.get(Me);Qe&&Re.Ta.set(Me,Qe.withResumeToken(Oe.resumeToken,Be))}})),Ue.targetMismatches.forEach(((Oe,Me)=>{const Qe=Re.Ta.get(Oe);if(!Qe)return;Re.Ta.set(Oe,Qe.withResumeToken(ByteString.EMPTY_BYTE_STRING,Qe.snapshotVersion)),__PRIVATE_sendUnwatchRequest(Re,Oe);const Ke=new TargetData(Qe.target,Oe,Me,Qe.sequenceNumber);__PRIVATE_sendWatchRequest(Re,Ke)})),Re.remoteSyncer.applyRemoteEvent(Ue)})(Ee,n)}catch(Ce){__PRIVATE_logDebug(Xt$1,"Failed to raise snapshot:",Ce),await __PRIVATE_disableNetworkUntilRecovery(Ee,Ce)}}async function __PRIVATE_disableNetworkUntilRecovery(Ee,t,n){if(!__PRIVATE_isIndexedDbTransactionError(t))throw t;Ee.Ia.add(1),await __PRIVATE_disableNetworkInternal(Ee),Ee.Aa.set("Offline"),n||(n=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(Ee.localStore)),Ee.asyncQueue.enqueueRetryable((async()=>{__PRIVATE_logDebug(Xt$1,"Retrying IndexedDB access"),await n(),Ee.Ia.delete(1),await __PRIVATE_enableNetworkInternal(Ee)}))}function __PRIVATE_executeWithRecovery(Ee,t){return t().catch((n=>__PRIVATE_disableNetworkUntilRecovery(Ee,n,t)))}async function __PRIVATE_fillWritePipeline(Ee){const t=__PRIVATE_debugCast(Ee),n=__PRIVATE_ensureWriteStream(t);let Ce=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:G$1;for(;__PRIVATE_canAddToWritePipeline(t);)try{const Te=await __PRIVATE_localStoreGetNextMutationBatch(t.localStore,Ce);if(Te===null){t.Pa.length===0&&n.B_();break}Ce=Te.batchId,__PRIVATE_addToWritePipeline(t,Te)}catch(Te){await __PRIVATE_disableNetworkUntilRecovery(t,Te)}__PRIVATE_shouldStartWriteStream(t)&&__PRIVATE_startWriteStream(t)}function __PRIVATE_canAddToWritePipeline(Ee){return __PRIVATE_canUseNetwork(Ee)&&Ee.Pa.length<10}function __PRIVATE_addToWritePipeline(Ee,t){Ee.Pa.push(t);const n=__PRIVATE_ensureWriteStream(Ee);n.x_()&&n.Z_&&n.X_(t.mutations)}function __PRIVATE_shouldStartWriteStream(Ee){return __PRIVATE_canUseNetwork(Ee)&&!__PRIVATE_ensureWriteStream(Ee).M_()&&Ee.Pa.length>0}function __PRIVATE_startWriteStream(Ee){__PRIVATE_ensureWriteStream(Ee).start()}async function __PRIVATE_onWriteStreamOpen(Ee){__PRIVATE_ensureWriteStream(Ee).na()}async function __PRIVATE_onWriteHandshakeComplete(Ee){const t=__PRIVATE_ensureWriteStream(Ee);for(const n of Ee.Pa)t.X_(n.mutations)}async function __PRIVATE_onMutationResult(Ee,t,n){const Ce=Ee.Pa.shift(),Te=MutationBatchResult.from(Ce,t,n);await __PRIVATE_executeWithRecovery(Ee,(()=>Ee.remoteSyncer.applySuccessfulWrite(Te))),await __PRIVATE_fillWritePipeline(Ee)}async function __PRIVATE_onWriteStreamClose(Ee,t){t&&__PRIVATE_ensureWriteStream(Ee).Z_&&await(async function(Ce,Te){if((function(Be){return __PRIVATE_isPermanentError(Be)&&Be!==N$1.ABORTED})(Te.code)){const Re=Ce.Pa.shift();__PRIVATE_ensureWriteStream(Ce).N_(),await __PRIVATE_executeWithRecovery(Ce,(()=>Ce.remoteSyncer.rejectFailedWrite(Re.batchId,Te))),await __PRIVATE_fillWritePipeline(Ce)}})(Ee,t),__PRIVATE_shouldStartWriteStream(Ee)&&__PRIVATE_startWriteStream(Ee)}async function __PRIVATE_remoteStoreHandleCredentialChange(Ee,t){const n=__PRIVATE_debugCast(Ee);n.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(Xt$1,"RemoteStore received new credentials");const Ce=__PRIVATE_canUseNetwork(n);n.Ia.add(3),await __PRIVATE_disableNetworkInternal(n),Ce&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await __PRIVATE_enableNetworkInternal(n)}async function __PRIVATE_remoteStoreApplyPrimaryState(Ee,t){const n=__PRIVATE_debugCast(Ee);t?(n.Ia.delete(2),await __PRIVATE_enableNetworkInternal(n)):t||(n.Ia.add(2),await __PRIVATE_disableNetworkInternal(n),n.Aa.set("Unknown"))}function __PRIVATE_ensureWatchStream(Ee){return Ee.Va||(Ee.Va=(function(n,Ce,Te){const Re=__PRIVATE_debugCast(n);return Re.ia(),new __PRIVATE_PersistentListenStream(Ce,Re.connection,Re.authCredentials,Re.appCheckCredentials,Re.serializer,Te)})(Ee.datastore,Ee.asyncQueue,{Zo:__PRIVATE_onWatchStreamConnected.bind(null,Ee),e_:__PRIVATE_onWatchStreamOpen.bind(null,Ee),n_:__PRIVATE_onWatchStreamClose.bind(null,Ee),J_:__PRIVATE_onWatchStreamChange.bind(null,Ee)}),Ee.da.push((async t=>{t?(Ee.Va.N_(),__PRIVATE_shouldStartWatchStream(Ee)?__PRIVATE_startWatchStream(Ee):Ee.Aa.set("Unknown")):(await Ee.Va.stop(),__PRIVATE_cleanUpWatchStreamState(Ee))}))),Ee.Va}function __PRIVATE_ensureWriteStream(Ee){return Ee.ma||(Ee.ma=(function(n,Ce,Te){const Re=__PRIVATE_debugCast(n);return Re.ia(),new __PRIVATE_PersistentWriteStream(Ce,Re.connection,Re.authCredentials,Re.appCheckCredentials,Re.serializer,Te)})(Ee.datastore,Ee.asyncQueue,{Zo:()=>Promise.resolve(),e_:__PRIVATE_onWriteStreamOpen.bind(null,Ee),n_:__PRIVATE_onWriteStreamClose.bind(null,Ee),ea:__PRIVATE_onWriteHandshakeComplete.bind(null,Ee),ta:__PRIVATE_onMutationResult.bind(null,Ee)}),Ee.da.push((async t=>{t?(Ee.ma.N_(),await __PRIVATE_fillWritePipeline(Ee)):(await Ee.ma.stop(),Ee.Pa.length>0&&(__PRIVATE_logDebug(Xt$1,`Stopping write stream with ${Ee.Pa.length} pending writes`),Ee.Pa=[]))}))),Ee.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(t,n,Ce,Te,Re){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=Ce,this.op=Te,this.removalCallback=Re,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((Be=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,Ce,Te,Re){const Be=Date.now()+Ce,Ue=new DelayedOperation(t,n,Be,Te,Re);return Ue.start(Ce),Ue}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(N$1.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(Ee,t){if(__PRIVATE_logError("AsyncQueue",`${t}: ${Ee}`),__PRIVATE_isIndexedDbTransactionError(Ee))return new FirestoreError(N$1.UNAVAILABLE,`${t}: ${Ee}`);throw Ee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{static emptySet(t){return new DocumentSet(t.comparator)}constructor(t){this.comparator=t?(n,Ce)=>t(n,Ce)||DocumentKey.comparator(n.key,Ce.key):(n,Ce)=>DocumentKey.comparator(n.key,Ce.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,Ce)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof DocumentSet)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),Ce=t.sortedSet.getIterator();for(;n.hasNext();){const Te=n.getNext().key,Re=Ce.getNext().key;if(!Te.isEqual(Re))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const Ce=new DocumentSet;return Ce.comparator=this.comparator,Ce.keyedMap=t,Ce.sortedSet=n,Ce}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.fa=new SortedMap(DocumentKey.comparator)}track(t){const n=t.doc.key,Ce=this.fa.get(n);Ce?t.type!==0&&Ce.type===3?this.fa=this.fa.insert(n,t):t.type===3&&Ce.type!==1?this.fa=this.fa.insert(n,{type:Ce.type,doc:t.doc}):t.type===2&&Ce.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&Ce.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&Ce.type===0?this.fa=this.fa.remove(n):t.type===1&&Ce.type===2?this.fa=this.fa.insert(n,{type:1,doc:Ce.doc}):t.type===0&&Ce.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):fail(63341,{At:t,ga:Ce}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal(((n,Ce)=>{t.push(Ce)})),t}}class ViewSnapshot{constructor(t,n,Ce,Te,Re,Be,Ue,Oe,Me){this.query=t,this.docs=n,this.oldDocs=Ce,this.docChanges=Te,this.mutatedKeys=Re,this.fromCache=Be,this.syncStateChanged=Ue,this.excludesMetadataChanges=Oe,this.hasCachedResults=Me}static fromInitialDocuments(t,n,Ce,Te,Re){const Be=[];return n.forEach((Ue=>{Be.push({type:0,doc:Ue})})),new ViewSnapshot(t,n,DocumentSet.emptySet(n),Be,Ce,Te,!0,!1,Re)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&__PRIVATE_queryEquals(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,Ce=t.docChanges;if(n.length!==Ce.length)return!1;for(let Te=0;Te<n.length;Te++)if(n[Te].type!==Ce[Te].type||!n[Te].doc.isEqual(Ce[Te].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,Ce){const Te=__PRIVATE_debugCast(n),Re=Te.queries;Te.queries=__PRIVATE_newQueriesObjectMap(),Re.forEach(((Be,Ue)=>{for(const Oe of Ue.wa)Oe.onError(Ce)}))})(this,new FirestoreError(N$1.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap((Ee=>__PRIVATE_canonifyQuery(Ee)),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(Ee,t){const n=__PRIVATE_debugCast(Ee);let Ce=3;const Te=t.query;let Re=n.queries.get(Te);Re?!Re.Sa()&&t.ba()&&(Ce=2):(Re=new __PRIVATE_QueryListenersInfo,Ce=t.ba()?0:1);try{switch(Ce){case 0:Re.ya=await n.onListen(Te,!0);break;case 1:Re.ya=await n.onListen(Te,!1);break;case 2:await n.onFirstRemoteStoreListen(Te)}}catch(Be){const Ue=__PRIVATE_wrapInUserErrorIfRecoverable(Be,`Initialization of query '${__PRIVATE_stringifyQuery(t.query)}' failed`);return void t.onError(Ue)}n.queries.set(Te,Re),Re.wa.push(t),t.va(n.onlineState),Re.ya&&t.Ca(Re.ya)&&__PRIVATE_raiseSnapshotsInSyncEvent(n)}async function __PRIVATE_eventManagerUnlisten(Ee,t){const n=__PRIVATE_debugCast(Ee),Ce=t.query;let Te=3;const Re=n.queries.get(Ce);if(Re){const Be=Re.wa.indexOf(t);Be>=0&&(Re.wa.splice(Be,1),Re.wa.length===0?Te=t.ba()?0:1:!Re.Sa()&&t.ba()&&(Te=2))}switch(Te){case 0:return n.queries.delete(Ce),n.onUnlisten(Ce,!0);case 1:return n.queries.delete(Ce),n.onUnlisten(Ce,!1);case 2:return n.onLastRemoteStoreUnlisten(Ce);default:return}}function __PRIVATE_eventManagerOnWatchChange(Ee,t){const n=__PRIVATE_debugCast(Ee);let Ce=!1;for(const Te of t){const Re=Te.query,Be=n.queries.get(Re);if(Be){for(const Ue of Be.wa)Ue.Ca(Te)&&(Ce=!0);Be.ya=Te}}Ce&&__PRIVATE_raiseSnapshotsInSyncEvent(n)}function __PRIVATE_eventManagerOnWatchError(Ee,t,n){const Ce=__PRIVATE_debugCast(Ee),Te=Ce.queries.get(t);if(Te)for(const Re of Te.wa)Re.onError(n);Ce.queries.delete(t)}function __PRIVATE_raiseSnapshotsInSyncEvent(Ee){Ee.Da.forEach((t=>{t.next()}))}var en,tn;(tn=en||(en={})).Fa="default",tn.Cache="cache";class __PRIVATE_QueryListener{constructor(t,n,Ce){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=Ce||{}}Ca(t){if(!this.options.includeMetadataChanges){const Ce=[];for(const Te of t.docChanges)Te.type!==3&&Ce.push(Te);t=new ViewSnapshot(t.query,t.docs,t.oldDocs,Ce,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const Ce=n!=="Offline";return(!this.options.ka||!Ce)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=ViewSnapshot.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==en.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(t){this.key=t}}class __PRIVATE_RemovedLimboDocument{constructor(t){this.key=t}}class __PRIVATE_View{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.Xa=__PRIVATE_newQueryComparator(t),this.eu=new DocumentSet(this.Xa)}get tu(){return this.Ha}nu(t,n){const Ce=n?n.ru:new __PRIVATE_DocumentChangeSet,Te=n?n.eu:this.eu;let Re=n?n.mutatedKeys:this.mutatedKeys,Be=Te,Ue=!1;const Oe=this.query.limitType==="F"&&Te.size===this.query.limit?Te.last():null,Me=this.query.limitType==="L"&&Te.size===this.query.limit?Te.first():null;if(t.inorderTraversal(((Qe,Ke)=>{const Ge=Te.get(Qe),qe=__PRIVATE_queryMatches(this.query,Ke)?Ke:null,Xe=!!Ge&&this.mutatedKeys.has(Ge.key),tr=!!qe&&(qe.hasLocalMutations||this.mutatedKeys.has(qe.key)&&qe.hasCommittedMutations);let Je=!1;Ge&&qe?Ge.data.isEqual(qe.data)?Xe!==tr&&(Ce.track({type:3,doc:qe}),Je=!0):this.iu(Ge,qe)||(Ce.track({type:2,doc:qe}),Je=!0,(Oe&&this.Xa(qe,Oe)>0||Me&&this.Xa(qe,Me)<0)&&(Ue=!0)):!Ge&&qe?(Ce.track({type:0,doc:qe}),Je=!0):Ge&&!qe&&(Ce.track({type:1,doc:Ge}),Je=!0,(Oe||Me)&&(Ue=!0)),Je&&(qe?(Be=Be.add(qe),Re=tr?Re.add(Qe):Re.delete(Qe)):(Be=Be.delete(Qe),Re=Re.delete(Qe)))})),this.query.limit!==null)for(;Be.size>this.query.limit;){const Qe=this.query.limitType==="F"?Be.last():Be.first();Be=Be.delete(Qe.key),Re=Re.delete(Qe.key),Ce.track({type:1,doc:Qe})}return{eu:Be,ru:Ce,Ds:Ue,mutatedKeys:Re}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,Ce,Te){const Re=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const Be=t.ru.pa();Be.sort(((Qe,Ke)=>(function(qe,Xe){const tr=Je=>{switch(Je){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail(20277,{At:Je})}};return tr(qe)-tr(Xe)})(Qe.type,Ke.type)||this.Xa(Qe.doc,Ke.doc))),this.su(Ce),Te=Te!=null&&Te;const Ue=n&&!Te?this.ou():[],Oe=this.Za.size===0&&this.current&&!Te?1:0,Me=Oe!==this.Ya;return this.Ya=Oe,Be.length!==0||Me?{snapshot:new ViewSnapshot(this.query,t.eu,Re,Be,t.mutatedKeys,Oe===0,Me,!1,!!Ce&&Ce.resumeToken.approximateByteSize()>0),_u:Ue}:{_u:Ue}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=__PRIVATE_documentKeySet(),this.eu.forEach((Ce=>{this.au(Ce.key)&&(this.Za=this.Za.add(Ce.key))}));const n=[];return t.forEach((Ce=>{this.Za.has(Ce)||n.push(new __PRIVATE_RemovedLimboDocument(Ce))})),this.Za.forEach((Ce=>{t.has(Ce)||n.push(new __PRIVATE_AddedLimboDocument(Ce))})),n}uu(t){this.Ha=t.qs,this.Za=__PRIVATE_documentKeySet();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return ViewSnapshot.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const nn="SyncEngine";class __PRIVATE_QueryView{constructor(t,n,Ce){this.query=t,this.targetId=n,this.view=Ce}}class LimboResolution{constructor(t){this.key=t,this.lu=!1}}class __PRIVATE_SyncEngineImpl{constructor(t,n,Ce,Te,Re,Be){this.localStore=t,this.remoteStore=n,this.eventManager=Ce,this.sharedClientState=Te,this.currentUser=Re,this.maxConcurrentLimboResolutions=Be,this.hu={},this.Pu=new ObjectMap((Ue=>__PRIVATE_canonifyQuery(Ue)),__PRIVATE_queryEquals),this.Tu=new Map,this.Iu=new Set,this.du=new SortedMap(DocumentKey.comparator),this.Eu=new Map,this.Au=new __PRIVATE_ReferenceSet,this.Ru={},this.Vu=new Map,this.mu=__PRIVATE_TargetIdGenerator.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function __PRIVATE_syncEngineListen(Ee,t,n=!0){const Ce=__PRIVATE_ensureWatchCallbacks(Ee);let Te;const Re=Ce.Pu.get(t);return Re?(Ce.sharedClientState.addLocalQueryTarget(Re.targetId),Te=Re.view.cu()):Te=await __PRIVATE_allocateTargetAndMaybeListen(Ce,t,n,!0),Te}async function __PRIVATE_triggerRemoteStoreListen(Ee,t){const n=__PRIVATE_ensureWatchCallbacks(Ee);await __PRIVATE_allocateTargetAndMaybeListen(n,t,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(Ee,t,n,Ce){const Te=await __PRIVATE_localStoreAllocateTarget(Ee.localStore,__PRIVATE_queryToTarget(t)),Re=Te.targetId,Be=Ee.sharedClientState.addLocalQueryTarget(Re,n);let Ue;return Ce&&(Ue=await __PRIVATE_initializeViewAndComputeSnapshot(Ee,t,Re,Be==="current",Te.resumeToken)),Ee.isPrimaryClient&&n&&__PRIVATE_remoteStoreListen(Ee.remoteStore,Te),Ue}async function __PRIVATE_initializeViewAndComputeSnapshot(Ee,t,n,Ce,Te){Ee.gu=(Ke,Ge,qe)=>(async function(tr,Je,Ye,lr){let cr=Je.view.nu(Ye);cr.Ds&&(cr=await __PRIVATE_localStoreExecuteQuery(tr.localStore,Je.query,!1).then((({documents:er})=>Je.view.nu(er,cr))));const hr=lr&&lr.targetChanges.get(Je.targetId),ur=lr&&lr.targetMismatches.get(Je.targetId)!=null,fr=Je.view.applyChanges(cr,tr.isPrimaryClient,hr,ur);return __PRIVATE_updateTrackedLimbos(tr,Je.targetId,fr._u),fr.snapshot})(Ee,Ke,Ge,qe);const Re=await __PRIVATE_localStoreExecuteQuery(Ee.localStore,t,!0),Be=new __PRIVATE_View(t,Re.qs),Ue=Be.nu(Re.documents),Oe=TargetChange.createSynthesizedTargetChangeForCurrentChange(n,Ce&&Ee.onlineState!=="Offline",Te),Me=Be.applyChanges(Ue,Ee.isPrimaryClient,Oe);__PRIVATE_updateTrackedLimbos(Ee,n,Me._u);const Qe=new __PRIVATE_QueryView(t,n,Be);return Ee.Pu.set(t,Qe),Ee.Tu.has(n)?Ee.Tu.get(n).push(t):Ee.Tu.set(n,[t]),Me.snapshot}async function __PRIVATE_syncEngineUnlisten(Ee,t,n){const Ce=__PRIVATE_debugCast(Ee),Te=Ce.Pu.get(t),Re=Ce.Tu.get(Te.targetId);if(Re.length>1)return Ce.Tu.set(Te.targetId,Re.filter((Be=>!__PRIVATE_queryEquals(Be,t)))),void Ce.Pu.delete(t);Ce.isPrimaryClient?(Ce.sharedClientState.removeLocalQueryTarget(Te.targetId),Ce.sharedClientState.isActiveQueryTarget(Te.targetId)||await __PRIVATE_localStoreReleaseTarget(Ce.localStore,Te.targetId,!1).then((()=>{Ce.sharedClientState.clearQueryState(Te.targetId),n&&__PRIVATE_remoteStoreUnlisten(Ce.remoteStore,Te.targetId),__PRIVATE_removeAndCleanupTarget(Ce,Te.targetId)})).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(Ce,Te.targetId),await __PRIVATE_localStoreReleaseTarget(Ce.localStore,Te.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(Ee,t){const n=__PRIVATE_debugCast(Ee),Ce=n.Pu.get(t),Te=n.Tu.get(Ce.targetId);n.isPrimaryClient&&Te.length===1&&(n.sharedClientState.removeLocalQueryTarget(Ce.targetId),__PRIVATE_remoteStoreUnlisten(n.remoteStore,Ce.targetId))}async function __PRIVATE_syncEngineWrite(Ee,t,n){const Ce=__PRIVATE_syncEngineEnsureWriteCallbacks(Ee);try{const Te=await(function(Be,Ue){const Oe=__PRIVATE_debugCast(Be),Me=Timestamp.now(),Qe=Ue.reduce(((qe,Xe)=>qe.add(Xe.key)),__PRIVATE_documentKeySet());let Ke,Ge;return Oe.persistence.runTransaction("Locally write mutations","readwrite",(qe=>{let Xe=__PRIVATE_mutableDocumentMap(),tr=__PRIVATE_documentKeySet();return Oe.Os.getEntries(qe,Qe).next((Je=>{Xe=Je,Xe.forEach(((Ye,lr)=>{lr.isValidDocument()||(tr=tr.add(Ye))}))})).next((()=>Oe.localDocuments.getOverlayedDocuments(qe,Xe))).next((Je=>{Ke=Je;const Ye=[];for(const lr of Ue){const cr=__PRIVATE_mutationExtractBaseValue(lr,Ke.get(lr.key).overlayedDocument);cr!=null&&Ye.push(new __PRIVATE_PatchMutation(lr.key,cr,__PRIVATE_extractFieldMask(cr.value.mapValue),Precondition.exists(!0)))}return Oe.mutationQueue.addMutationBatch(qe,Me,Ye,Ue)})).next((Je=>{Ge=Je;const Ye=Je.applyToLocalDocumentSet(Ke,tr);return Oe.documentOverlayCache.saveOverlays(qe,Je.batchId,Ye)}))})).then((()=>({batchId:Ge.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(Ke)})))})(Ce.localStore,t);Ce.sharedClientState.addPendingMutation(Te.batchId),(function(Be,Ue,Oe){let Me=Be.Ru[Be.currentUser.toKey()];Me||(Me=new SortedMap(__PRIVATE_primitiveComparator)),Me=Me.insert(Ue,Oe),Be.Ru[Be.currentUser.toKey()]=Me})(Ce,Te.batchId,n),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Ce,Te.changes),await __PRIVATE_fillWritePipeline(Ce.remoteStore)}catch(Te){const Re=__PRIVATE_wrapInUserErrorIfRecoverable(Te,"Failed to persist write");n.reject(Re)}}async function __PRIVATE_syncEngineApplyRemoteEvent(Ee,t){const n=__PRIVATE_debugCast(Ee);try{const Ce=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(n.localStore,t);t.targetChanges.forEach(((Te,Re)=>{const Be=n.Eu.get(Re);Be&&(__PRIVATE_hardAssert(Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size<=1,22616),Te.addedDocuments.size>0?Be.lu=!0:Te.modifiedDocuments.size>0?__PRIVATE_hardAssert(Be.lu,14607):Te.removedDocuments.size>0&&(__PRIVATE_hardAssert(Be.lu,42227),Be.lu=!1))})),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(n,Ce,t)}catch(Ce){await __PRIVATE_ignoreIfPrimaryLeaseLoss(Ce)}}function __PRIVATE_syncEngineApplyOnlineStateChange(Ee,t,n){const Ce=__PRIVATE_debugCast(Ee);if(Ce.isPrimaryClient&&n===0||!Ce.isPrimaryClient&&n===1){const Te=[];Ce.Pu.forEach(((Re,Be)=>{const Ue=Be.view.va(t);Ue.snapshot&&Te.push(Ue.snapshot)})),(function(Be,Ue){const Oe=__PRIVATE_debugCast(Be);Oe.onlineState=Ue;let Me=!1;Oe.queries.forEach(((Qe,Ke)=>{for(const Ge of Ke.wa)Ge.va(Ue)&&(Me=!0)})),Me&&__PRIVATE_raiseSnapshotsInSyncEvent(Oe)})(Ce.eventManager,t),Te.length&&Ce.hu.J_(Te),Ce.onlineState=t,Ce.isPrimaryClient&&Ce.sharedClientState.setOnlineState(t)}}async function __PRIVATE_syncEngineRejectListen(Ee,t,n){const Ce=__PRIVATE_debugCast(Ee);Ce.sharedClientState.updateQueryState(t,"rejected",n);const Te=Ce.Eu.get(t),Re=Te&&Te.key;if(Re){let Be=new SortedMap(DocumentKey.comparator);Be=Be.insert(Re,MutableDocument.newNoDocument(Re,SnapshotVersion.min()));const Ue=__PRIVATE_documentKeySet().add(Re),Oe=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),Be,Ue);await __PRIVATE_syncEngineApplyRemoteEvent(Ce,Oe),Ce.du=Ce.du.remove(Re),Ce.Eu.delete(t),__PRIVATE_pumpEnqueuedLimboResolutions(Ce)}else await __PRIVATE_localStoreReleaseTarget(Ce.localStore,t,!1).then((()=>__PRIVATE_removeAndCleanupTarget(Ce,t,n))).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(Ee,t){const n=__PRIVATE_debugCast(Ee),Ce=t.batch.batchId;try{const Te=await __PRIVATE_localStoreAcknowledgeBatch(n.localStore,t);__PRIVATE_processUserCallback(n,Ce,null),__PRIVATE_triggerPendingWritesCallbacks(n,Ce),n.sharedClientState.updateMutationState(Ce,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(n,Te)}catch(Te){await __PRIVATE_ignoreIfPrimaryLeaseLoss(Te)}}async function __PRIVATE_syncEngineRejectFailedWrite(Ee,t,n){const Ce=__PRIVATE_debugCast(Ee);try{const Te=await(function(Be,Ue){const Oe=__PRIVATE_debugCast(Be);return Oe.persistence.runTransaction("Reject batch","readwrite-primary",(Me=>{let Qe;return Oe.mutationQueue.lookupMutationBatch(Me,Ue).next((Ke=>(__PRIVATE_hardAssert(Ke!==null,37113),Qe=Ke.keys(),Oe.mutationQueue.removeMutationBatch(Me,Ke)))).next((()=>Oe.mutationQueue.performConsistencyCheck(Me))).next((()=>Oe.documentOverlayCache.removeOverlaysForBatchId(Me,Qe,Ue))).next((()=>Oe.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Me,Qe))).next((()=>Oe.localDocuments.getDocuments(Me,Qe)))}))})(Ce.localStore,t);__PRIVATE_processUserCallback(Ce,t,n),__PRIVATE_triggerPendingWritesCallbacks(Ce,t),Ce.sharedClientState.updateMutationState(t,"rejected",n),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Ce,Te)}catch(Te){await __PRIVATE_ignoreIfPrimaryLeaseLoss(Te)}}function __PRIVATE_triggerPendingWritesCallbacks(Ee,t){(Ee.Vu.get(t)||[]).forEach((n=>{n.resolve()})),Ee.Vu.delete(t)}function __PRIVATE_processUserCallback(Ee,t,n){const Ce=__PRIVATE_debugCast(Ee);let Te=Ce.Ru[Ce.currentUser.toKey()];if(Te){const Re=Te.get(t);Re&&(n?Re.reject(n):Re.resolve(),Te=Te.remove(t)),Ce.Ru[Ce.currentUser.toKey()]=Te}}function __PRIVATE_removeAndCleanupTarget(Ee,t,n=null){Ee.sharedClientState.removeLocalQueryTarget(t);for(const Ce of Ee.Tu.get(t))Ee.Pu.delete(Ce),n&&Ee.hu.pu(Ce,n);Ee.Tu.delete(t),Ee.isPrimaryClient&&Ee.Au.zr(t).forEach((Ce=>{Ee.Au.containsKey(Ce)||__PRIVATE_removeLimboTarget(Ee,Ce)}))}function __PRIVATE_removeLimboTarget(Ee,t){Ee.Iu.delete(t.path.canonicalString());const n=Ee.du.get(t);n!==null&&(__PRIVATE_remoteStoreUnlisten(Ee.remoteStore,n),Ee.du=Ee.du.remove(t),Ee.Eu.delete(n),__PRIVATE_pumpEnqueuedLimboResolutions(Ee))}function __PRIVATE_updateTrackedLimbos(Ee,t,n){for(const Ce of n)Ce instanceof __PRIVATE_AddedLimboDocument?(Ee.Au.addReference(Ce.key,t),__PRIVATE_trackLimboChange(Ee,Ce)):Ce instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug(nn,"Document no longer in limbo: "+Ce.key),Ee.Au.removeReference(Ce.key,t),Ee.Au.containsKey(Ce.key)||__PRIVATE_removeLimboTarget(Ee,Ce.key)):fail(19791,{yu:Ce})}function __PRIVATE_trackLimboChange(Ee,t){const n=t.key,Ce=n.path.canonicalString();Ee.du.get(n)||Ee.Iu.has(Ce)||(__PRIVATE_logDebug(nn,"New document in limbo: "+n),Ee.Iu.add(Ce),__PRIVATE_pumpEnqueuedLimboResolutions(Ee))}function __PRIVATE_pumpEnqueuedLimboResolutions(Ee){for(;Ee.Iu.size>0&&Ee.du.size<Ee.maxConcurrentLimboResolutions;){const t=Ee.Iu.values().next().value;Ee.Iu.delete(t);const n=new DocumentKey(ResourcePath.fromString(t)),Ce=Ee.mu.next();Ee.Eu.set(Ce,new LimboResolution(n)),Ee.du=Ee.du.insert(n,Ce),__PRIVATE_remoteStoreListen(Ee.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(n.path)),Ce,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.ue))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Ee,t,n){const Ce=__PRIVATE_debugCast(Ee),Te=[],Re=[],Be=[];Ce.Pu.isEmpty()||(Ce.Pu.forEach(((Ue,Oe)=>{Be.push(Ce.gu(Oe,t,n).then((Me=>{var Qe;if((Me||n)&&Ce.isPrimaryClient){const Ke=Me?!Me.fromCache:(Qe=n==null?void 0:n.targetChanges.get(Oe.targetId))===null||Qe===void 0?void 0:Qe.current;Ce.sharedClientState.updateQueryState(Oe.targetId,Ke?"current":"not-current")}if(Me){Te.push(Me);const Ke=__PRIVATE_LocalViewChanges.Es(Oe.targetId,Me);Re.push(Ke)}})))})),await Promise.all(Be),Ce.hu.J_(Te),await(async function(Oe,Me){const Qe=__PRIVATE_debugCast(Oe);try{await Qe.persistence.runTransaction("notifyLocalViewChanges","readwrite",(Ke=>PersistencePromise.forEach(Me,(Ge=>PersistencePromise.forEach(Ge.Is,(qe=>Qe.persistence.referenceDelegate.addReference(Ke,Ge.targetId,qe))).next((()=>PersistencePromise.forEach(Ge.ds,(qe=>Qe.persistence.referenceDelegate.removeReference(Ke,Ge.targetId,qe)))))))))}catch(Ke){if(!__PRIVATE_isIndexedDbTransactionError(Ke))throw Ke;__PRIVATE_logDebug(Qt$1,"Failed to update sequence numbers: "+Ke)}for(const Ke of Me){const Ge=Ke.targetId;if(!Ke.fromCache){const qe=Qe.Fs.get(Ge),Xe=qe.snapshotVersion,tr=qe.withLastLimboFreeSnapshotVersion(Xe);Qe.Fs=Qe.Fs.insert(Ge,tr)}}})(Ce.localStore,Re))}async function __PRIVATE_syncEngineHandleCredentialChange(Ee,t){const n=__PRIVATE_debugCast(Ee);if(!n.currentUser.isEqual(t)){__PRIVATE_logDebug(nn,"User change. New user:",t.toKey());const Ce=await __PRIVATE_localStoreHandleUserChange(n.localStore,t);n.currentUser=t,(function(Re,Be){Re.Vu.forEach((Ue=>{Ue.forEach((Oe=>{Oe.reject(new FirestoreError(N$1.CANCELLED,Be))}))})),Re.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,Ce.removedBatchIds,Ce.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(n,Ce.Bs)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(Ee,t){const n=__PRIVATE_debugCast(Ee),Ce=n.Eu.get(t);if(Ce&&Ce.lu)return __PRIVATE_documentKeySet().add(Ce.key);{let Te=__PRIVATE_documentKeySet();const Re=n.Tu.get(t);if(!Re)return Te;for(const Be of Re){const Ue=n.Pu.get(Be);Te=Te.unionWith(Ue.view.tu)}return Te}}function __PRIVATE_ensureWatchCallbacks(Ee){const t=__PRIVATE_debugCast(Ee);return t.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,t),t.hu.J_=__PRIVATE_eventManagerOnWatchChange.bind(null,t.eventManager),t.hu.pu=__PRIVATE_eventManagerOnWatchError.bind(null,t.eventManager),t}function __PRIVATE_syncEngineEnsureWriteCallbacks(Ee){const t=__PRIVATE_debugCast(Ee);return t.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,t),t}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=__PRIVATE_newSerializer(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,t.initialUser,this.serializer)}Du(t){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Vi,this.serializer)}bu(t){return new __PRIVATE_MemorySharedClientState}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class __PRIVATE_LruGcMemoryOfflineComponentProvider extends __PRIVATE_MemoryOfflineComponentProvider{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){__PRIVATE_hardAssert(this.persistence.referenceDelegate instanceof __PRIVATE_MemoryLruDelegate,46915);const Ce=this.persistence.referenceDelegate.garbageCollector;return new __PRIVATE_LruScheduler(Ce,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?LruParams.withCacheSize(this.cacheSizeBytes):LruParams.DEFAULT;return new __PRIVATE_MemoryPersistence((Ce=>__PRIVATE_MemoryLruDelegate.Vi(Ce,n)),this.serializer)}}class OnlineComponentProvider{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=Ce=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,Ce,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new __PRIVATE_EventManagerImpl})()}createDatastore(t){const n=__PRIVATE_newSerializer(t.databaseInfo.databaseId),Ce=(function(Re){return new __PRIVATE_WebChannelConnection(Re)})(t.databaseInfo);return(function(Re,Be,Ue,Oe){return new __PRIVATE_DatastoreImpl(Re,Be,Ue,Oe)})(t.authCredentials,t.appCheckCredentials,Ce,n)}createRemoteStore(t){return(function(Ce,Te,Re,Be,Ue){return new __PRIVATE_RemoteStoreImpl(Ce,Te,Re,Be,Ue)})(this.localStore,this.datastore,t.asyncQueue,(n=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,n,0)),(function(){return __PRIVATE_BrowserConnectivityMonitor.C()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor})())}createSyncEngine(t,n){return(function(Te,Re,Be,Ue,Oe,Me,Qe){const Ke=new __PRIVATE_SyncEngineImpl(Te,Re,Be,Ue,Oe,Me);return Qe&&(Ke.fu=!0),Ke})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(Te){const Re=__PRIVATE_debugCast(Te);__PRIVATE_logDebug(Xt$1,"RemoteStore shutting down."),Re.Ia.add(5),await __PRIVATE_disableNetworkInternal(Re),Re.Ea.shutdown(),Re.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):__PRIVATE_logError("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="FirestoreClient";class FirestoreClient{constructor(t,n,Ce,Te,Re){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=Ce,this.databaseInfo=Te,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=Re,this.authCredentials.start(Ce,(async Be=>{__PRIVATE_logDebug(rn,"Received user=",Be.uid),await this.authCredentialListener(Be),this.user=Be})),this.appCheckCredentials.start(Ce,(Be=>(__PRIVATE_logDebug(rn,"Received new app check token=",Be),this.appCheckCredentialListener(Be,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const Ce=__PRIVATE_wrapInUserErrorIfRecoverable(n,"Failed to shutdown persistence");t.reject(Ce)}})),t.promise}}async function __PRIVATE_setOfflineComponentProvider(Ee,t){Ee.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(rn,"Initializing OfflineComponentProvider");const n=Ee.configuration;await t.initialize(n);let Ce=n.initialUser;Ee.setCredentialChangeListener((async Te=>{Ce.isEqual(Te)||(await __PRIVATE_localStoreHandleUserChange(t.localStore,Te),Ce=Te)})),t.persistence.setDatabaseDeletedListener((()=>{__PRIVATE_logWarn("Terminating Firestore due to IndexedDb database deletion"),Ee.terminate().then((()=>{__PRIVATE_logDebug("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((Te=>{__PRIVATE_logWarn("Terminating Firestore due to IndexedDb database deletion failed",Te)}))})),Ee._offlineComponents=t}async function __PRIVATE_setOnlineComponentProvider(Ee,t){Ee.asyncQueue.verifyOperationInProgress();const n=await __PRIVATE_ensureOfflineComponents(Ee);__PRIVATE_logDebug(rn,"Initializing OnlineComponentProvider"),await t.initialize(n,Ee.configuration),Ee.setCredentialChangeListener((Ce=>__PRIVATE_remoteStoreHandleCredentialChange(t.remoteStore,Ce))),Ee.setAppCheckTokenChangeListener(((Ce,Te)=>__PRIVATE_remoteStoreHandleCredentialChange(t.remoteStore,Te))),Ee._onlineComponents=t}async function __PRIVATE_ensureOfflineComponents(Ee){if(!Ee._offlineComponents)if(Ee._uninitializedComponentsProvider){__PRIVATE_logDebug(rn,"Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(Ee,Ee._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(Te){return Te.name==="FirebaseError"?Te.code===N$1.FAILED_PRECONDITION||Te.code===N$1.UNIMPLEMENTED:!(typeof DOMException<"u"&&Te instanceof DOMException)||Te.code===22||Te.code===20||Te.code===11})(n))throw n;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+n),await __PRIVATE_setOfflineComponentProvider(Ee,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug(rn,"Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(Ee,new __PRIVATE_LruGcMemoryOfflineComponentProvider(void 0));return Ee._offlineComponents}async function __PRIVATE_ensureOnlineComponents(Ee){return Ee._onlineComponents||(Ee._uninitializedComponentsProvider?(__PRIVATE_logDebug(rn,"Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(Ee,Ee._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug(rn,"Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(Ee,new OnlineComponentProvider))),Ee._onlineComponents}function __PRIVATE_getSyncEngine(Ee){return __PRIVATE_ensureOnlineComponents(Ee).then((t=>t.syncEngine))}async function __PRIVATE_getEventManager(Ee){const t=await __PRIVATE_ensureOnlineComponents(Ee),n=t.eventManager;return n.onListen=__PRIVATE_syncEngineListen.bind(null,t.syncEngine),n.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,t.syncEngine),n}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(Ee,t,n={}){const Ce=new __PRIVATE_Deferred;return Ee.asyncQueue.enqueueAndForget((async()=>(function(Re,Be,Ue,Oe,Me){const Qe=new __PRIVATE_AsyncObserver({next:Ge=>{Qe.Ou(),Be.enqueueAndForget((()=>__PRIVATE_eventManagerUnlisten(Re,Ke)));const qe=Ge.docs.has(Ue);!qe&&Ge.fromCache?Me.reject(new FirestoreError(N$1.UNAVAILABLE,"Failed to get document because the client is offline.")):qe&&Ge.fromCache&&Oe&&Oe.source==="server"?Me.reject(new FirestoreError(N$1.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Me.resolve(Ge)},error:Ge=>Me.reject(Ge)}),Ke=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(Ue.path),Qe,{includeMetadataChanges:!0,ka:!0});return __PRIVATE_eventManagerListen(Re,Ke)})(await __PRIVATE_getEventManager(Ee),Ee.asyncQueue,t,n,Ce))),Ce.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(Ee,t,n={}){const Ce=new __PRIVATE_Deferred;return Ee.asyncQueue.enqueueAndForget((async()=>(function(Re,Be,Ue,Oe,Me){const Qe=new __PRIVATE_AsyncObserver({next:Ge=>{Qe.Ou(),Be.enqueueAndForget((()=>__PRIVATE_eventManagerUnlisten(Re,Ke))),Ge.fromCache&&Oe.source==="server"?Me.reject(new FirestoreError(N$1.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Me.resolve(Ge)},error:Ge=>Me.reject(Ge)}),Ke=new __PRIVATE_QueryListener(Ue,Qe,{includeMetadataChanges:!0,ka:!0});return __PRIVATE_eventManagerListen(Re,Ke)})(await __PRIVATE_getEventManager(Ee),Ee.asyncQueue,t,n,Ce))),Ce.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(Ee){const t={};return Ee.timeoutSeconds!==void 0&&(t.timeoutSeconds=Ee.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="firestore.googleapis.com",_n=!0;class FirestoreSettingsImpl{constructor(t){var n,Ce;if(t.host===void 0){if(t.ssl!==void 0)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=on,this.ssl=_n}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:_n;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Mt$1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Ot$1)throw new FirestoreError(N$1.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((Ce=t.experimentalLongPollingOptions)!==null&&Ce!==void 0?Ce:{}),(function(Re){if(Re.timeoutSeconds!==void 0){if(isNaN(Re.timeoutSeconds))throw new FirestoreError(N$1.INVALID_ARGUMENT,`invalid long polling timeout: ${Re.timeoutSeconds} (must not be NaN)`);if(Re.timeoutSeconds<5)throw new FirestoreError(N$1.INVALID_ARGUMENT,`invalid long polling timeout: ${Re.timeoutSeconds} (minimum allowed value is 5)`);if(Re.timeoutSeconds>30)throw new FirestoreError(N$1.INVALID_ARGUMENT,`invalid long polling timeout: ${Re.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(Ce,Te){return Ce.timeoutSeconds===Te.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Firestore$1{constructor(t,n,Ce,Te){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=Ce,this._app=Te,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(N$1.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new FirestoreError(N$1.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(Ce){if(!Ce)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(Ce.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(Ce.sessionIndex||"0",Ce.iamToken||null,Ce.authTokenFactory||null);case"provider":return Ce.client;default:throw new FirestoreError(N$1.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const Ce=sn.get(n);Ce&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),sn.delete(n),Ce.terminate())})(this),Promise.resolve()}}function connectFirestoreEmulator(Ee,t,n,Ce={}){var Te;Ee=__PRIVATE_cast(Ee,Firestore$1);const Re=isCloudWorkstation(t),Be=Ee._getSettings(),Ue=Object.assign(Object.assign({},Be),{emulatorOptions:Ee._getEmulatorOptions()}),Oe=`${t}:${n}`;Re&&(pingServer(`https://${Oe}`),updateEmulatorBanner("Firestore",!0)),Be.host!==on&&Be.host!==Oe&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const Me=Object.assign(Object.assign({},Be),{host:Oe,ssl:Re,emulatorOptions:Ce});if(!deepEqual(Me,Ue)&&(Ee._setSettings(Me),Ce.mockUserToken)){let Qe,Ke;if(typeof Ce.mockUserToken=="string")Qe=Ce.mockUserToken,Ke=User.MOCK_USER;else{Qe=createMockUserToken(Ce.mockUserToken,(Te=Ee._app)===null||Te===void 0?void 0:Te.options.projectId);const Ge=Ce.mockUserToken.sub||Ce.mockUserToken.user_id;if(!Ge)throw new FirestoreError(N$1.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");Ke=new User(Ge)}Ee._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(Qe,Ke))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(t,n,Ce){this.converter=n,this._query=Ce,this.type="query",this.firestore=t}withConverter(t){return new Query(this.firestore,t,this._query)}}class DocumentReference{constructor(t,n,Ce){this.converter=n,this._key=Ce,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new DocumentReference(this.firestore,t,this._key)}toJSON(){return{type:DocumentReference._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,Ce){if(__PRIVATE_validateJSON(n,DocumentReference._jsonSchema))return new DocumentReference(t,Ce||null,new DocumentKey(ResourcePath.fromString(n.referencePath)))}}DocumentReference._jsonSchemaVersion="firestore/documentReference/1.0",DocumentReference._jsonSchema={type:property("string",DocumentReference._jsonSchemaVersion),referencePath:property("string")};class CollectionReference extends Query{constructor(t,n,Ce){super(t,n,__PRIVATE_newQueryForPath(Ce)),this._path=Ce,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(t))}withConverter(t){return new CollectionReference(this.firestore,t,this._path)}}function collection(Ee,t,...n){if(Ee=getModularInstance(Ee),__PRIVATE_validateNonEmptyArgument("collection","path",t),Ee instanceof Firestore$1){const Ce=ResourcePath.fromString(t,...n);return __PRIVATE_validateCollectionPath(Ce),new CollectionReference(Ee,null,Ce)}{if(!(Ee instanceof DocumentReference||Ee instanceof CollectionReference))throw new FirestoreError(N$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const Ce=Ee._path.child(ResourcePath.fromString(t,...n));return __PRIVATE_validateCollectionPath(Ce),new CollectionReference(Ee.firestore,null,Ce)}}function doc(Ee,t,...n){if(Ee=getModularInstance(Ee),arguments.length===1&&(t=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",t),Ee instanceof Firestore$1){const Ce=ResourcePath.fromString(t,...n);return __PRIVATE_validateDocumentPath(Ce),new DocumentReference(Ee,null,new DocumentKey(Ce))}{if(!(Ee instanceof DocumentReference||Ee instanceof CollectionReference))throw new FirestoreError(N$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const Ce=Ee._path.child(ResourcePath.fromString(t,...n));return __PRIVATE_validateDocumentPath(Ce),new DocumentReference(Ee.firestore,Ee instanceof CollectionReference?Ee.converter:null,new DocumentKey(Ce))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="AsyncQueue";class __PRIVATE_AsyncQueueImpl{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.oc=()=>{const Ce=getDocument();Ce&&__PRIVATE_logDebug(an,"Visibility state changed to "+Ce.visibilityState),this.F_.y_()},this._c=t;const n=getDocument();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=getDocument();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new __PRIVATE_Deferred;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!__PRIVATE_isIndexedDbTransactionError(t))throw t;__PRIVATE_logDebug(an,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const n=this._c.then((()=>(this.nc=!0,t().catch((Ce=>{throw this.tc=Ce,this.nc=!1,__PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",__PRIVATE_getMessageOrStack(Ce)),Ce})).then((Ce=>(this.nc=!1,Ce))))));return this._c=n,n}enqueueAfterDelay(t,n,Ce){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const Te=DelayedOperation.createAndSchedule(this,t,n,Ce,(Re=>this.lc(Re)));return this.ec.push(Te),Te}ac(){this.tc&&fail(47125,{hc:__PRIVATE_getMessageOrStack(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((n,Ce)=>n.targetTimeMs-Ce.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function __PRIVATE_getMessageOrStack(Ee){let t=Ee.message||"";return Ee.stack&&(t=Ee.stack.includes(Ee.message)?Ee.stack:Ee.message+`
`+Ee.stack),t}class Firestore extends Firestore$1{constructor(t,n,Ce,Te){super(t,n,Ce,Te),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(Te==null?void 0:Te.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(t),this._firestoreClient=void 0,await t}}}function getFirestore(Ee,t){const n=typeof Ee=="object"?Ee:getApp(),Ce=typeof Ee=="string"?Ee:ut$1,Te=_getProvider(n,"firestore").getImmediate({identifier:Ce});if(!Te._initialized){const Re=getDefaultEmulatorHostnameAndPort("firestore");Re&&connectFirestoreEmulator(Te,...Re)}return Te}function ensureFirestoreConfigured(Ee){if(Ee._terminated)throw new FirestoreError(N$1.FAILED_PRECONDITION,"The client has already been terminated.");return Ee._firestoreClient||__PRIVATE_configureFirestore(Ee),Ee._firestoreClient}function __PRIVATE_configureFirestore(Ee){var t,n,Ce;const Te=Ee._freezeSettings(),Re=(function(Ue,Oe,Me,Qe){return new DatabaseInfo(Ue,Oe,Me,Qe.host,Qe.ssl,Qe.experimentalForceLongPolling,Qe.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(Qe.experimentalLongPollingOptions),Qe.useFetchStreams,Qe.isUsingEmulator)})(Ee._databaseId,((t=Ee._app)===null||t===void 0?void 0:t.options.appId)||"",Ee._persistenceKey,Te);Ee._componentsProvider||!((n=Te.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((Ce=Te.localCache)===null||Ce===void 0)&&Ce._onlineComponentProvider)&&(Ee._componentsProvider={_offline:Te.localCache._offlineComponentProvider,_online:Te.localCache._onlineComponentProvider}),Ee._firestoreClient=new FirestoreClient(Ee._authCredentials,Ee._appCheckCredentials,Ee._queue,Re,Ee._componentsProvider&&(function(Ue){const Oe=Ue==null?void 0:Ue._online.build();return{_offline:Ue==null?void 0:Ue._offline.build(Oe),_online:Oe}})(Ee._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bytes(ByteString.fromBase64String(t))}catch(n){throw new FirestoreError(N$1.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Bytes(ByteString.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Bytes._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(__PRIVATE_validateJSON(t,Bytes._jsonSchema))return Bytes.fromBase64String(t.bytes)}}Bytes._jsonSchemaVersion="firestore/bytes/1.0",Bytes._jsonSchema={type:property("string",Bytes._jsonSchemaVersion),bytes:property("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return __PRIVATE_primitiveComparator(this._lat,t._lat)||__PRIVATE_primitiveComparator(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:GeoPoint._jsonSchemaVersion}}static fromJSON(t){if(__PRIVATE_validateJSON(t,GeoPoint._jsonSchema))return new GeoPoint(t.latitude,t.longitude)}}GeoPoint._jsonSchemaVersion="firestore/geoPoint/1.0",GeoPoint._jsonSchema={type:property("string",GeoPoint._jsonSchemaVersion),latitude:property("number"),longitude:property("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(Ce,Te){if(Ce.length!==Te.length)return!1;for(let Re=0;Re<Ce.length;++Re)if(Ce[Re]!==Te[Re])return!1;return!0})(this._values,t._values)}toJSON(){return{type:VectorValue._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(__PRIVATE_validateJSON(t,VectorValue._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new VectorValue(t.vectorValues);throw new FirestoreError(N$1.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}VectorValue._jsonSchemaVersion="firestore/vectorValue/1.0",VectorValue._jsonSchema={type:property("string",VectorValue._jsonSchemaVersion),vectorValues:property("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn=/^__.*__$/;class ParsedSetData{constructor(t,n,Ce){this.data=t,this.fieldMask=n,this.fieldTransforms=Ce}toMutation(t,n){return this.fieldMask!==null?new __PRIVATE_PatchMutation(t,this.data,this.fieldMask,n,this.fieldTransforms):new __PRIVATE_SetMutation(t,this.data,n,this.fieldTransforms)}}class ParsedUpdateData{constructor(t,n,Ce){this.data=t,this.fieldMask=n,this.fieldTransforms=Ce}toMutation(t,n){return new __PRIVATE_PatchMutation(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function __PRIVATE_isWrite(Ee){switch(Ee){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail(40011,{Ec:Ee})}}class __PRIVATE_ParseContextImpl{constructor(t,n,Ce,Te,Re,Be){this.settings=t,this.databaseId=n,this.serializer=Ce,this.ignoreUndefinedProperties=Te,Re===void 0&&this.Ac(),this.fieldTransforms=Re||[],this.fieldMask=Be||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const Ce=(n=this.path)===null||n===void 0?void 0:n.child(t),Te=this.Rc({path:Ce,mc:!1});return Te.fc(t),Te}gc(t){var n;const Ce=(n=this.path)===null||n===void 0?void 0:n.child(t),Te=this.Rc({path:Ce,mc:!1});return Te.Ac(),Te}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return __PRIVATE_createError(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(__PRIVATE_isWrite(this.Ec)&&cn.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(t,n,Ce){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=Ce||__PRIVATE_newSerializer(t)}Dc(t,n,Ce,Te=!1){return new __PRIVATE_ParseContextImpl({Ec:t,methodName:n,bc:Ce,path:FieldPath$1.emptyPath(),mc:!1,Sc:Te},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(Ee){const t=Ee._freezeSettings(),n=__PRIVATE_newSerializer(Ee._databaseId);return new __PRIVATE_UserDataReader(Ee._databaseId,!!t.ignoreUndefinedProperties,n)}function __PRIVATE_parseSetData(Ee,t,n,Ce,Te,Re={}){const Be=Ee.Dc(Re.merge||Re.mergeFields?2:0,t,n,Te);__PRIVATE_validatePlainObject("Data must be an object, but it was:",Be,Ce);const Ue=__PRIVATE_parseObject(Ce,Be);let Oe,Me;if(Re.merge)Oe=new FieldMask(Be.fieldMask),Me=Be.fieldTransforms;else if(Re.mergeFields){const Qe=[];for(const Ke of Re.mergeFields){const Ge=__PRIVATE_fieldPathFromArgument$1(t,Ke,n);if(!Be.contains(Ge))throw new FirestoreError(N$1.INVALID_ARGUMENT,`Field '${Ge}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(Qe,Ge)||Qe.push(Ge)}Oe=new FieldMask(Qe),Me=Be.fieldTransforms.filter((Ke=>Oe.covers(Ke.field)))}else Oe=null,Me=Be.fieldTransforms;return new ParsedSetData(new ObjectValue(Ue),Oe,Me)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof __PRIVATE_DeleteFieldValueImpl}}function __PRIVATE_parseUpdateData(Ee,t,n,Ce){const Te=Ee.Dc(1,t,n);__PRIVATE_validatePlainObject("Data must be an object, but it was:",Te,Ce);const Re=[],Be=ObjectValue.empty();forEach(Ce,((Oe,Me)=>{const Qe=__PRIVATE_fieldPathFromDotSeparatedString(t,Oe,n);Me=getModularInstance(Me);const Ke=Te.gc(Qe);if(Me instanceof __PRIVATE_DeleteFieldValueImpl)Re.push(Qe);else{const Ge=__PRIVATE_parseData(Me,Ke);Ge!=null&&(Re.push(Qe),Be.set(Qe,Ge))}}));const Ue=new FieldMask(Re);return new ParsedUpdateData(Be,Ue,Te.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(Ee,t,n,Ce,Te,Re){const Be=Ee.Dc(1,t,n),Ue=[__PRIVATE_fieldPathFromArgument$1(t,Ce,n)],Oe=[Te];if(Re.length%2!=0)throw new FirestoreError(N$1.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ge=0;Ge<Re.length;Ge+=2)Ue.push(__PRIVATE_fieldPathFromArgument$1(t,Re[Ge])),Oe.push(Re[Ge+1]);const Me=[],Qe=ObjectValue.empty();for(let Ge=Ue.length-1;Ge>=0;--Ge)if(!__PRIVATE_fieldMaskContains(Me,Ue[Ge])){const qe=Ue[Ge];let Xe=Oe[Ge];Xe=getModularInstance(Xe);const tr=Be.gc(qe);if(Xe instanceof __PRIVATE_DeleteFieldValueImpl)Me.push(qe);else{const Je=__PRIVATE_parseData(Xe,tr);Je!=null&&(Me.push(qe),Qe.set(qe,Je))}}const Ke=new FieldMask(Me);return new ParsedUpdateData(Qe,Ke,Be.fieldTransforms)}function __PRIVATE_parseQueryValue(Ee,t,n,Ce=!1){return __PRIVATE_parseData(n,Ee.Dc(Ce?4:3,t))}function __PRIVATE_parseData(Ee,t){if(__PRIVATE_looksLikeJsonObject(Ee=getModularInstance(Ee)))return __PRIVATE_validatePlainObject("Unsupported field value:",t,Ee),__PRIVATE_parseObject(Ee,t);if(Ee instanceof FieldValue)return(function(Ce,Te){if(!__PRIVATE_isWrite(Te.Ec))throw Te.wc(`${Ce._methodName}() can only be used with update() and set()`);if(!Te.path)throw Te.wc(`${Ce._methodName}() is not currently supported inside arrays`);const Re=Ce._toFieldTransform(Te);Re&&Te.fieldTransforms.push(Re)})(Ee,t),null;if(Ee===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),Ee instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(Ce,Te){const Re=[];let Be=0;for(const Ue of Ce){let Oe=__PRIVATE_parseData(Ue,Te.yc(Be));Oe==null&&(Oe={nullValue:"NULL_VALUE"}),Re.push(Oe),Be++}return{arrayValue:{values:Re}}})(Ee,t)}return(function(Ce,Te){if((Ce=getModularInstance(Ce))===null)return{nullValue:"NULL_VALUE"};if(typeof Ce=="number")return toNumber(Te.serializer,Ce);if(typeof Ce=="boolean")return{booleanValue:Ce};if(typeof Ce=="string")return{stringValue:Ce};if(Ce instanceof Date){const Re=Timestamp.fromDate(Ce);return{timestampValue:toTimestamp(Te.serializer,Re)}}if(Ce instanceof Timestamp){const Re=new Timestamp(Ce.seconds,1e3*Math.floor(Ce.nanoseconds/1e3));return{timestampValue:toTimestamp(Te.serializer,Re)}}if(Ce instanceof GeoPoint)return{geoPointValue:{latitude:Ce.latitude,longitude:Ce.longitude}};if(Ce instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(Te.serializer,Ce._byteString)};if(Ce instanceof DocumentReference){const Re=Te.databaseId,Be=Ce.firestore._databaseId;if(!Be.isEqual(Re))throw Te.wc(`Document reference is for database ${Be.projectId}/${Be.database} but should be for database ${Re.projectId}/${Re.database}`);return{referenceValue:__PRIVATE_toResourceName(Ce.firestore._databaseId||Te.databaseId,Ce._key.path)}}if(Ce instanceof VectorValue)return(function(Be,Ue){return{mapValue:{fields:{[ct$1]:{stringValue:Pt$1},[Tt$1]:{arrayValue:{values:Be.toArray().map((Me=>{if(typeof Me!="number")throw Ue.wc("VectorValues must only contain numeric values.");return __PRIVATE_toDouble(Ue.serializer,Me)}))}}}}}})(Ce,Te);throw Te.wc(`Unsupported field value: ${__PRIVATE_valueDescription(Ce)}`)})(Ee,t)}function __PRIVATE_parseObject(Ee,t){const n={};return isEmpty(Ee)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):forEach(Ee,((Ce,Te)=>{const Re=__PRIVATE_parseData(Te,t.Vc(Ce));Re!=null&&(n[Ce]=Re)})),{mapValue:{fields:n}}}function __PRIVATE_looksLikeJsonObject(Ee){return!(typeof Ee!="object"||Ee===null||Ee instanceof Array||Ee instanceof Date||Ee instanceof Timestamp||Ee instanceof GeoPoint||Ee instanceof Bytes||Ee instanceof DocumentReference||Ee instanceof FieldValue||Ee instanceof VectorValue)}function __PRIVATE_validatePlainObject(Ee,t,n){if(!__PRIVATE_looksLikeJsonObject(n)||!__PRIVATE_isPlainObject(n)){const Ce=__PRIVATE_valueDescription(n);throw Ce==="an object"?t.wc(Ee+" a custom object"):t.wc(Ee+" "+Ce)}}function __PRIVATE_fieldPathFromArgument$1(Ee,t,n){if((t=getModularInstance(t))instanceof FieldPath)return t._internalPath;if(typeof t=="string")return __PRIVATE_fieldPathFromDotSeparatedString(Ee,t);throw __PRIVATE_createError("Field path arguments must be of type string or ",Ee,!1,void 0,n)}const ln$1=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(Ee,t,n){if(t.search(ln$1)>=0)throw __PRIVATE_createError(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,Ee,!1,void 0,n);try{return new FieldPath(...t.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,Ee,!1,void 0,n)}}function __PRIVATE_createError(Ee,t,n,Ce,Te){const Re=Ce&&!Ce.isEmpty(),Be=Te!==void 0;let Ue=`Function ${t}() called with invalid data`;n&&(Ue+=" (via `toFirestore()`)"),Ue+=". ";let Oe="";return(Re||Be)&&(Oe+=" (found",Re&&(Oe+=` in field ${Ce}`),Be&&(Oe+=` in document ${Te}`),Oe+=")"),new FirestoreError(N$1.INVALID_ARGUMENT,Ue+Ee+Oe)}function __PRIVATE_fieldMaskContains(Ee,t){return Ee.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(t,n,Ce,Te,Re){this._firestore=t,this._userDataWriter=n,this._key=Ce,this._document=Te,this._converter=Re}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(Ee,t){return typeof t=="string"?__PRIVATE_fieldPathFromDotSeparatedString(Ee,t):t instanceof FieldPath?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(Ee){if(Ee.limitType==="L"&&Ee.explicitOrderBy.length===0)throw new FirestoreError(N$1.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query(Ee,t,...n){let Ce=[];t instanceof AppliableConstraint&&Ce.push(t),Ce=Ce.concat(n),(function(Re){const Be=Re.filter((Oe=>Oe instanceof QueryCompositeFilterConstraint)).length,Ue=Re.filter((Oe=>Oe instanceof QueryFieldFilterConstraint)).length;if(Be>1||Be>0&&Ue>0)throw new FirestoreError(N$1.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(Ce);for(const Te of Ce)Ee=Te._apply(Ee);return Ee}class QueryFieldFilterConstraint extends QueryConstraint{constructor(t,n,Ce){super(),this._field=t,this._op=n,this._value=Ce,this.type="where"}static _create(t,n,Ce){return new QueryFieldFilterConstraint(t,n,Ce)}_apply(t){const n=this._parse(t);return __PRIVATE_validateNewFieldFilter(t._query,n),new Query(t.firestore,t.converter,__PRIVATE_queryWithAddedFilter(t._query,n))}_parse(t){const n=__PRIVATE_newUserDataReader(t.firestore);return(function(Re,Be,Ue,Oe,Me,Qe,Ke){let Ge;if(Me.isKeyField()){if(Qe==="array-contains"||Qe==="array-contains-any")throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Qe}' queries on documentId().`);if(Qe==="in"||Qe==="not-in"){__PRIVATE_validateDisjunctiveFilterElements(Ke,Qe);const Xe=[];for(const tr of Ke)Xe.push(__PRIVATE_parseDocumentIdValue(Oe,Re,tr));Ge={arrayValue:{values:Xe}}}else Ge=__PRIVATE_parseDocumentIdValue(Oe,Re,Ke)}else Qe!=="in"&&Qe!=="not-in"&&Qe!=="array-contains-any"||__PRIVATE_validateDisjunctiveFilterElements(Ke,Qe),Ge=__PRIVATE_parseQueryValue(Ue,Be,Ke,Qe==="in"||Qe==="not-in");return FieldFilter.create(Me,Qe,Ge)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function where(Ee,t,n){const Ce=t,Te=__PRIVATE_fieldPathFromArgument("where",Ee);return QueryFieldFilterConstraint._create(Te,Ce,n)}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new QueryCompositeFilterConstraint(t,n)}_parse(t){const n=this._queryConstraints.map((Ce=>Ce._parse(t))).filter((Ce=>Ce.getFilters().length>0));return n.length===1?n[0]:CompositeFilter.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(Te,Re){let Be=Te;const Ue=Re.getFlattenedFilters();for(const Oe of Ue)__PRIVATE_validateNewFieldFilter(Be,Oe),Be=__PRIVATE_queryWithAddedFilter(Be,Oe)})(t._query,n),new Query(t.firestore,t.converter,__PRIVATE_queryWithAddedFilter(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QueryOrderByConstraint extends QueryConstraint{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new QueryOrderByConstraint(t,n)}_apply(t){const n=(function(Te,Re,Be){if(Te.startAt!==null)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(Te.endAt!==null)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(Re,Be)})(t._query,this._field,this._direction);return new Query(t.firestore,t.converter,(function(Te,Re){const Be=Te.explicitOrderBy.concat([Re]);return new __PRIVATE_QueryImpl(Te.path,Te.collectionGroup,Be,Te.filters.slice(),Te.limit,Te.limitType,Te.startAt,Te.endAt)})(t._query,n))}}function orderBy(Ee,t="asc"){const n=t,Ce=__PRIVATE_fieldPathFromArgument("orderBy",Ee);return QueryOrderByConstraint._create(Ce,n)}class QueryLimitConstraint extends QueryConstraint{constructor(t,n,Ce){super(),this.type=t,this._limit=n,this._limitType=Ce}static _create(t,n,Ce){return new QueryLimitConstraint(t,n,Ce)}_apply(t){return new Query(t.firestore,t.converter,__PRIVATE_queryWithLimit(t._query,this._limit,this._limitType))}}function limit(Ee){return QueryLimitConstraint._create("limit",Ee,"F")}function __PRIVATE_parseDocumentIdValue(Ee,t,n){if(typeof(n=getModularInstance(n))=="string"){if(n==="")throw new FirestoreError(N$1.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(t)&&n.indexOf("/")!==-1)throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const Ce=t.path.child(ResourcePath.fromString(n));if(!DocumentKey.isDocumentKey(Ce))throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${Ce}' is not because it has an odd number of segments (${Ce.length}).`);return __PRIVATE_refValue(Ee,new DocumentKey(Ce))}if(n instanceof DocumentReference)return __PRIVATE_refValue(Ee,n._key);throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(n)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(Ee,t){if(!Array.isArray(Ee)||Ee.length===0)throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(Ee,t){const n=(function(Te,Re){for(const Be of Te)for(const Ue of Be.getFlattenedFilters())if(Re.indexOf(Ue.op)>=0)return Ue.op;return null})(Ee.filters,(function(Te){switch(Te){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(t,n="none"){switch(__PRIVATE_typeOrder(t)){case 0:return null;case 1:return t.booleanValue;case 2:return __PRIVATE_normalizeNumber(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw fail(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const Ce={};return forEach(t,((Te,Re)=>{Ce[Te]=this.convertValue(Re,n)})),Ce}convertVectorValue(t){var n,Ce,Te;const Re=(Te=(Ce=(n=t.fields)===null||n===void 0?void 0:n[Tt$1].arrayValue)===null||Ce===void 0?void 0:Ce.values)===null||Te===void 0?void 0:Te.map((Be=>__PRIVATE_normalizeNumber(Be.doubleValue)));return new VectorValue(Re)}convertGeoPoint(t){return new GeoPoint(__PRIVATE_normalizeNumber(t.latitude),__PRIVATE_normalizeNumber(t.longitude))}convertArray(t,n){return(t.values||[]).map((Ce=>this.convertValue(Ce,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const Ce=__PRIVATE_getPreviousValue(t);return Ce==null?null:this.convertValue(Ce,n);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(t));default:return null}}convertTimestamp(t){const n=__PRIVATE_normalizeTimestamp(t);return new Timestamp(n.seconds,n.nanos)}convertDocumentKey(t,n){const Ce=ResourcePath.fromString(t);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(Ce),9688,{name:t});const Te=new DatabaseId(Ce.get(1),Ce.get(3)),Re=new DocumentKey(Ce.popFirst(5));return Te.isEqual(n)||__PRIVATE_logError(`Document ${Re} contains a document reference within a different database (${Te.projectId}/${Te.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),Re}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(Ee,t,n){let Ce;return Ce=Ee?Ee.toFirestore(t):t,Ce}class SnapshotMetadata{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(t,n,Ce,Te,Re,Be){super(t,n,Ce,Te,Be),this._firestore=t,this._firestoreImpl=t,this.metadata=Re}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const Ce=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",t));if(Ce!==null)return this._userDataWriter.convertValue(Ce,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new FirestoreError(N$1.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=DocumentSnapshot._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}DocumentSnapshot._jsonSchemaVersion="firestore/documentSnapshot/1.0",DocumentSnapshot._jsonSchema={type:property("string",DocumentSnapshot._jsonSchemaVersion),bundleSource:property("string","DocumentSnapshot"),bundleName:property("string"),bundle:property("string")};class QueryDocumentSnapshot extends DocumentSnapshot{data(t={}){return super.data(t)}}class QuerySnapshot{constructor(t,n,Ce,Te){this._firestore=t,this._userDataWriter=n,this._snapshot=Te,this.metadata=new SnapshotMetadata(Te.hasPendingWrites,Te.fromCache),this.query=Ce}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((Ce=>{t.call(n,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,Ce.key,Ce,new SnapshotMetadata(this._snapshot.mutatedKeys.has(Ce.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(N$1.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(Te,Re){if(Te._snapshot.oldDocs.isEmpty()){let Be=0;return Te._snapshot.docChanges.map((Ue=>{const Oe=new QueryDocumentSnapshot(Te._firestore,Te._userDataWriter,Ue.doc.key,Ue.doc,new SnapshotMetadata(Te._snapshot.mutatedKeys.has(Ue.doc.key),Te._snapshot.fromCache),Te.query.converter);return Ue.doc,{type:"added",doc:Oe,oldIndex:-1,newIndex:Be++}}))}{let Be=Te._snapshot.oldDocs;return Te._snapshot.docChanges.filter((Ue=>Re||Ue.type!==3)).map((Ue=>{const Oe=new QueryDocumentSnapshot(Te._firestore,Te._userDataWriter,Ue.doc.key,Ue.doc,new SnapshotMetadata(Te._snapshot.mutatedKeys.has(Ue.doc.key),Te._snapshot.fromCache),Te.query.converter);let Me=-1,Qe=-1;return Ue.type!==0&&(Me=Be.indexOf(Ue.doc.key),Be=Be.delete(Ue.doc.key)),Ue.type!==1&&(Be=Be.add(Ue.doc),Qe=Be.indexOf(Ue.doc.key)),{type:__PRIVATE_resultChangeType(Ue.type),doc:Oe,oldIndex:Me,newIndex:Qe}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new FirestoreError(N$1.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=QuerySnapshot._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=__PRIVATE_AutoId.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],Ce=[],Te=[];return this.docs.forEach((Re=>{Re._document!==null&&(n.push(Re._document),Ce.push(this._userDataWriter.convertObjectMap(Re._document.data.value.mapValue.fields,"previous")),Te.push(Re.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function __PRIVATE_resultChangeType(Ee){switch(Ee){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail(61501,{type:Ee})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(Ee){Ee=__PRIVATE_cast(Ee,DocumentReference);const t=__PRIVATE_cast(Ee.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(t),Ee._key).then((n=>__PRIVATE_convertToDocSnapshot(t,Ee,n)))}QuerySnapshot._jsonSchemaVersion="firestore/querySnapshot/1.0",QuerySnapshot._jsonSchema={type:property("string",QuerySnapshot._jsonSchemaVersion),bundleSource:property("string","QuerySnapshot"),bundleName:property("string"),bundle:property("string")};class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bytes(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new DocumentReference(this.firestore,null,n)}}function getDocs(Ee){Ee=__PRIVATE_cast(Ee,Query);const t=__PRIVATE_cast(Ee.firestore,Firestore),n=ensureFirestoreConfigured(t),Ce=new __PRIVATE_ExpUserDataWriter(t);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(Ee._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(n,Ee._query).then((Te=>new QuerySnapshot(t,Ce,Ee,Te)))}function setDoc(Ee,t,n){Ee=__PRIVATE_cast(Ee,DocumentReference);const Ce=__PRIVATE_cast(Ee.firestore,Firestore),Te=__PRIVATE_applyFirestoreDataConverter(Ee.converter,t);return executeWrite(Ce,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(Ce),"setDoc",Ee._key,Te,Ee.converter!==null,n).toMutation(Ee._key,Precondition.none())])}function updateDoc(Ee,t,n,...Ce){Ee=__PRIVATE_cast(Ee,DocumentReference);const Te=__PRIVATE_cast(Ee.firestore,Firestore),Re=__PRIVATE_newUserDataReader(Te);let Be;return Be=typeof(t=getModularInstance(t))=="string"||t instanceof FieldPath?__PRIVATE_parseUpdateVarargs(Re,"updateDoc",Ee._key,t,n,Ce):__PRIVATE_parseUpdateData(Re,"updateDoc",Ee._key,t),executeWrite(Te,[Be.toMutation(Ee._key,Precondition.exists(!0))])}function deleteDoc(Ee){return executeWrite(__PRIVATE_cast(Ee.firestore,Firestore),[new __PRIVATE_DeleteMutation(Ee._key,Precondition.none())])}function addDoc(Ee,t){const n=__PRIVATE_cast(Ee.firestore,Firestore),Ce=doc(Ee),Te=__PRIVATE_applyFirestoreDataConverter(Ee.converter,t);return executeWrite(n,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(Ee.firestore),"addDoc",Ce._key,Te,Ee.converter!==null,{}).toMutation(Ce._key,Precondition.exists(!1))]).then((()=>Ce))}function executeWrite(Ee,t){return(function(Ce,Te){const Re=new __PRIVATE_Deferred;return Ce.asyncQueue.enqueueAndForget((async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(Ce),Te,Re))),Re.promise})(ensureFirestoreConfigured(Ee),t)}function __PRIVATE_convertToDocSnapshot(Ee,t,n){const Ce=n.docs.get(t._key),Te=new __PRIVATE_ExpUserDataWriter(Ee);return new DocumentSnapshot(Ee,Te,t._key,Ce,new SnapshotMetadata(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(Te){x$2=Te})(SDK_VERSION),_registerComponent(new Component("firestore",((Ce,{instanceIdentifier:Te,options:Re})=>{const Be=Ce.getProvider("app").getImmediate(),Ue=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(Ce.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(Be,Ce.getProvider("app-check-internal")),(function(Me,Qe){if(!Object.prototype.hasOwnProperty.apply(Me.options,["projectId"]))throw new FirestoreError(N$1.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(Me.options.projectId,Qe)})(Be,Te),Be);return Re=Object.assign({useFetchStreams:n},Re),Ue._setSettings(Re),Ue}),"PUBLIC").setMultipleInstances(!0)),registerVersion(F$2,M$1,t),registerVersion(F$2,M$1,"esm2017")})();const firebaseConfig$1={apiKey:"AIzaSyCWSayCLeyr_6aBSNjb4nCY--Lw-DB_4S4",authDomain:"solutionssystemmain.firebaseapp.com",projectId:"solutionssystemmain",storageBucket:"solutionssystemmain.appspot.com",messagingSenderId:"961697855820",appId:"1:961697855820:web:a83ed62b1fdacee11f77e9"},app=initializeApp(firebaseConfig$1),db=getFirestore(app),auth=getAuth(app),UserContext=reactExports.createContext(),useUser=()=>reactExports.useContext(UserContext),UserProvider=({children:Ee})=>{const[t,n]=reactExports.useState(()=>{const Re=localStorage.getItem("technician");return Re?JSON.parse(Re):null}),[Ce,Te]=reactExports.useState(!0);return reactExports.useEffect(()=>{const Re=onAuthStateChanged(auth,async Be=>{if(console.log("Auth state changed:",Be),Be){console.log("User UID:",Be.uid),console.log("User email:",Be.email);try{const Ue=query(collection(db,"technicions"),where("email","==",Be.email));console.log("Fetching technician data for email:",Be.email);const Oe=await getDocs(Ue);if(console.log("Query result:",Oe.empty?"No documents":`${Oe.size} documents found`),Oe.empty)console.log("No technician document found for email:",Be.email),n(null),localStorage.removeItem("technician");else{const Me=Oe.docs[0].data(),Qe={uid:Be.uid,id:Oe.docs[0].id,...Me};console.log("Technician data:",Qe),n(Qe),localStorage.setItem("technician",JSON.stringify(Qe))}}catch(Ue){console.error("Error fetching technician:",Ue),n(null),localStorage.removeItem("technician")}}else console.log("User not authenticated"),n(null),localStorage.removeItem("technician");Te(!1)});return()=>Re()},[]),jsxRuntimeExports.jsx(UserContext.Provider,{value:{technician:t,setTechnician:n},children:!Ce&&Ee})},Navbar=()=>{const[Ee]=useAuthState(auth),[t,n]=reactExports.useState(!1),Ce=reactExports.useRef(),Te=useNavigate(),{technician:Re}=useUser();console.log("Current technician data:",Re),console.log("Technician name:",Re==null?void 0:Re.name),console.log("Technician permission:",Re==null?void 0:Re.permission),console.log("Is System Admin?",(Re==null?void 0:Re.name)==="System Admin"||(Re==null?void 0:Re.permission)==="SystemAdmin");const Be=async()=>{await signOut(auth),Te("/")};return reactExports.useEffect(()=>{const Ue=Oe=>{Ce.current&&!Ce.current.contains(Oe.target)&&n(!1)};return document.addEventListener("mousedown",Ue),()=>document.removeEventListener("mousedown",Ue)},[]),jsxRuntimeExports.jsxs("nav",{className:"navbar",children:[jsxRuntimeExports.jsx("div",{className:"navbar-title",children:" Apple Service System"}),jsxRuntimeExports.jsxs("div",{className:"navbar-links",children:[jsxRuntimeExports.jsx(NavLink,{to:"/tickets",activeClassName:"active",children:"Tickets"}),jsxRuntimeExports.jsx(NavLink,{to:"/customers",activeClassName:"active",children:"Customers"}),jsxRuntimeExports.jsx(NavLink,{to:"/devices",activeClassName:"active",children:"Devices"}),(Re==null?void 0:Re.permission)==="Admin"&&jsxRuntimeExports.jsx(NavLink,{to:"/admin",activeClassName:"active",children:"Admin Dashboard"}),((Re==null?void 0:Re.name)==="System Admin"||(Re==null?void 0:Re.permission)==="SystemAdmin")&&jsxRuntimeExports.jsx(NavLink,{to:"/user-management",activeClassName:"active",children:" User Management"}),jsxRuntimeExports.jsx(NavLink,{to:"/archived",activeClassName:"active",children:"Archived"})]}),Ee&&jsxRuntimeExports.jsxs("div",{className:"navbar-avatar",ref:Ce,children:[jsxRuntimeExports.jsx("img",{src:`https://ui-avatars.com/api/?name=${Ee.displayName||Ee.email}`,alt:"Avatar",className:"avatar",onClick:()=>n(Ue=>!Ue)}),t&&jsxRuntimeExports.jsxs("div",{className:"dropdown-menu",children:[jsxRuntimeExports.jsx("p",{children:(Re==null?void 0:Re.name)||(Re==null?void 0:Re.displayName)||(Ee==null?void 0:Ee.displayName)||(Ee==null?void 0:Ee.email)||"Loading..."}),jsxRuntimeExports.jsx("button",{onClick:Be,children:"Sign Out"})]})]})]})},statusMap$3={0:"Start",1:"VMI Troubleshooting",2:"Repair Released from Processing",3:"Awaiting Parts",4:"Parts Allocated",5:"In Repair",6:"Ready For Pickup",7:"Repair Marked Complete"},statusColorMap={0:"#b9caff",3:"#ffe08a",6:"#50fa8d"},TicketCard=({ticket:Ee,onClick:t,isSelected:n})=>{var Be;const Ce=(Be=Ee.ticketStates)==null?void 0:Be[Ee.ticketStates.length-1],Te=statusMap$3[Ce]||"Unknown",Re=statusColorMap[Ce]||"#ffffff";return jsxRuntimeExports.jsxs("div",{className:`ticket-card-new ${n?"selected":""}`,onClick:t,style:{backgroundColor:Re,padding:"12px",borderRadius:"10px",marginBottom:"10px",border:"1px solid #ddd",cursor:"pointer",position:"relative",overflow:"hidden",zIndex:1},children:[jsxRuntimeExports.jsxs("div",{className:"ticket-header",children:[jsxRuntimeExports.jsxs("span",{className:"ticket-id",children:["Tic# ",Ee.location,Ee.ticketNum]}),jsxRuntimeExports.jsxs("span",{className:"ticket-status",children:["Status: ",Te]}),jsxRuntimeExports.jsxs("span",{className:"ticket-customer",children:["Customer: ",Ee.customerName]})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-body",children:["Device ",Ee.machineType," with problem ",Ee.symptom]}),jsxRuntimeExports.jsx("div",{className:"ticket-date",children:Ee.date})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=120*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(t,n,Ce=0){super(prependCode(t),`Firebase Storage: ${n} (${prependCode(t)})`),this.status_=Ce,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return prependCode(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function(Ee){Ee.UNKNOWN="unknown",Ee.OBJECT_NOT_FOUND="object-not-found",Ee.BUCKET_NOT_FOUND="bucket-not-found",Ee.PROJECT_NOT_FOUND="project-not-found",Ee.QUOTA_EXCEEDED="quota-exceeded",Ee.UNAUTHENTICATED="unauthenticated",Ee.UNAUTHORIZED="unauthorized",Ee.UNAUTHORIZED_APP="unauthorized-app",Ee.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Ee.INVALID_CHECKSUM="invalid-checksum",Ee.CANCELED="canceled",Ee.INVALID_EVENT_NAME="invalid-event-name",Ee.INVALID_URL="invalid-url",Ee.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Ee.NO_DEFAULT_BUCKET="no-default-bucket",Ee.CANNOT_SLICE_BLOB="cannot-slice-blob",Ee.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Ee.NO_DOWNLOAD_URL="no-download-url",Ee.INVALID_ARGUMENT="invalid-argument",Ee.INVALID_ARGUMENT_COUNT="invalid-argument-count",Ee.APP_DELETED="app-deleted",Ee.INVALID_ROOT_OPERATION="invalid-root-operation",Ee.INVALID_FORMAT="invalid-format",Ee.INTERNAL_ERROR="internal-error",Ee.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(Ee){return"storage/"+Ee}function unknown(){const Ee="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,Ee)}function objectNotFound(Ee){return new StorageError(StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+Ee+"' does not exist.")}function quotaExceeded(Ee){return new StorageError(StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+Ee+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){const Ee="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError(StorageErrorCode.UNAUTHENTICATED,Ee)}function unauthorizedApp(){return new StorageError(StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function unauthorized(Ee){return new StorageError(StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+Ee+"'.")}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(Ee){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+Ee+"'.")}function invalidDefaultBucket(Ee){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Ee+"'.")}function noDefaultBucket(){return new StorageError(StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CONFIG_STORAGE_BUCKET_KEY+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError(StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function noDownloadURL(){return new StorageError(StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function missingPolyFill(Ee){return new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${Ee} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function invalidArgument(Ee){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,Ee)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(Ee){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+Ee+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(Ee,t){return new StorageError(StorageErrorCode.INVALID_FORMAT,"String does not match format '"+Ee+"': "+t)}function internalError(Ee){throw new StorageError(StorageErrorCode.INTERNAL_ERROR,"Internal error: "+Ee)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let Ce;try{Ce=Location.makeFromUrl(t,n)}catch{return new Location(t,"")}if(Ce.path==="")return Ce;throw invalidDefaultBucket(t)}static makeFromUrl(t,n){let Ce=null;const Te="([A-Za-z0-9.\\-_]+)";function Re(hr){hr.path.charAt(hr.path.length-1)==="/"&&(hr.path_=hr.path_.slice(0,-1))}const Be="(/(.*))?$",Ue=new RegExp("^gs://"+Te+Be,"i"),Oe={bucket:1,path:3};function Me(hr){hr.path_=decodeURIComponent(hr.path)}const Qe="v[A-Za-z0-9_]+",Ke=n.replace(/[.]/g,"\\."),Ge="(/([^?#]*).*)?$",qe=new RegExp(`^https?://${Ke}/${Qe}/b/${Te}/o${Ge}`,"i"),Xe={bucket:1,path:3},tr=n===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":n,Je="([^?#]*)",Ye=new RegExp(`^https?://${tr}/${Te}/${Je}`,"i"),cr=[{regex:Ue,indices:Oe,postModify:Re},{regex:qe,indices:Xe,postModify:Me},{regex:Ye,indices:{bucket:1,path:2},postModify:Me}];for(let hr=0;hr<cr.length;hr++){const ur=cr[hr],fr=ur.regex.exec(t);if(fr){const er=fr[ur.indices.bucket];let nr=fr[ur.indices.path];nr||(nr=""),Ce=new Location(er,nr),ur.postModify(Ce);break}}if(Ce==null)throw invalidUrl(t);return Ce}}class FailRequest{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(Ee,t,n){let Ce=1,Te=null,Re=null,Be=!1,Ue=0;function Oe(){return Ue===2}let Me=!1;function Qe(...Je){Me||(Me=!0,t.apply(null,Je))}function Ke(Je){Te=setTimeout(()=>{Te=null,Ee(qe,Oe())},Je)}function Ge(){Re&&clearTimeout(Re)}function qe(Je,...Ye){if(Me){Ge();return}if(Je){Ge(),Qe.call(null,Je,...Ye);return}if(Oe()||Be){Ge(),Qe.call(null,Je,...Ye);return}Ce<64&&(Ce*=2);let cr;Ue===1?(Ue=2,cr=0):cr=(Ce+Math.random())*1e3,Ke(cr)}let Xe=!1;function tr(Je){Xe||(Xe=!0,Ge(),!Me&&(Te!==null?(Je||(Ue=2),clearTimeout(Te),Ke(0)):Je||(Ue=1)))}return Ke(0),Re=setTimeout(()=>{Be=!0,tr(!0)},n),tr}function stop(Ee){Ee(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(Ee){return Ee!==void 0}function isNonArrayObject(Ee){return typeof Ee=="object"&&!Array.isArray(Ee)}function isString$1(Ee){return typeof Ee=="string"||Ee instanceof String}function isNativeBlob(Ee){return isNativeBlobDefined()&&Ee instanceof Blob}function isNativeBlobDefined(){return typeof Blob<"u"}function validateNumber(Ee,t,n,Ce){if(Ce<t)throw invalidArgument(`Invalid value for '${Ee}'. Expected ${t} or greater.`);if(Ce>n)throw invalidArgument(`Invalid value for '${Ee}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(Ee,t,n){let Ce=t;return n==null&&(Ce=`https://${t}`),`${n}://${Ce}/v0${Ee}`}function makeQueryString(Ee){const t=encodeURIComponent;let n="?";for(const Ce in Ee)if(Ee.hasOwnProperty(Ce)){const Te=t(Ce)+"="+t(Ee[Ce]);n=n+Te+"&"}return n=n.slice(0,-1),n}var ErrorCode;(function(Ee){Ee[Ee.NO_ERROR=0]="NO_ERROR",Ee[Ee.NETWORK_ERROR=1]="NETWORK_ERROR",Ee[Ee.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(Ee,t){const n=Ee>=500&&Ee<600,Te=[408,429].indexOf(Ee)!==-1,Re=t.indexOf(Ee)!==-1;return n||Te||Re}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(t,n,Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke,Ge=!0,qe=!1){this.url_=t,this.method_=n,this.headers_=Ce,this.body_=Te,this.successCodes_=Re,this.additionalRetryCodes_=Be,this.callback_=Ue,this.errorCallback_=Oe,this.timeout_=Me,this.progressCallback_=Qe,this.connectionFactory_=Ke,this.retry=Ge,this.isUsingEmulator=qe,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Xe,tr)=>{this.resolve_=Xe,this.reject_=tr,this.start_()})}start_(){const t=(Ce,Te)=>{if(Te){Ce(!1,new RequestEndStatus(!1,null,!0));return}const Re=this.connectionFactory_();this.pendingConnection_=Re;const Be=Ue=>{const Oe=Ue.loaded,Me=Ue.lengthComputable?Ue.total:-1;this.progressCallback_!==null&&this.progressCallback_(Oe,Me)};this.progressCallback_!==null&&Re.addUploadProgressListener(Be),Re.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&Re.removeUploadProgressListener(Be),this.pendingConnection_=null;const Ue=Re.getErrorCode()===ErrorCode.NO_ERROR,Oe=Re.getStatus();if(!Ue||isRetryStatusCode(Oe,this.additionalRetryCodes_)&&this.retry){const Qe=Re.getErrorCode()===ErrorCode.ABORT;Ce(!1,new RequestEndStatus(!1,null,Qe));return}const Me=this.successCodes_.indexOf(Oe)!==-1;Ce(!0,new RequestEndStatus(Me,Re))})},n=(Ce,Te)=>{const Re=this.resolve_,Be=this.reject_,Ue=Te.connection;if(Te.wasSuccessCode)try{const Oe=this.callback_(Ue,Ue.getResponse());isJustDef(Oe)?Re(Oe):Re()}catch(Oe){Be(Oe)}else if(Ue!==null){const Oe=unknown();Oe.serverResponse=Ue.getErrorText(),this.errorCallback_?Be(this.errorCallback_(Ue,Oe)):Be(Oe)}else if(Te.canceled){const Oe=this.appDelete_?appDeleted():canceled();Be(Oe)}else{const Oe=retryLimitExceeded();Be(Oe)}};this.canceled_?n(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(t,n,Ce){this.wasSuccessCode=t,this.connection=n,this.canceled=!!Ce}}function addAuthHeader_(Ee,t){t!==null&&t.length>0&&(Ee.Authorization="Firebase "+t)}function addVersionHeader_(Ee,t){Ee["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function addGmpidHeader_(Ee,t){t&&(Ee["X-Firebase-GMPID"]=t)}function addAppCheckHeader_(Ee,t){t!==null&&(Ee["X-Firebase-AppCheck"]=t)}function makeRequest(Ee,t,n,Ce,Te,Re,Be=!0,Ue=!1){const Oe=makeQueryString(Ee.urlParams),Me=Ee.url+Oe,Qe=Object.assign({},Ee.headers);return addGmpidHeader_(Qe,t),addAuthHeader_(Qe,n),addVersionHeader_(Qe,Re),addAppCheckHeader_(Qe,Ce),new NetworkRequest(Me,Ee.method,Qe,Ee.body,Ee.successCodes,Ee.additionalRetryCodes,Ee.handler,Ee.errorHandler,Ee.timeout,Ee.progressCallback,Te,Be,Ue)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function getBlob$1(...Ee){const t=getBlobBuilder();if(t!==void 0){const n=new t;for(let Ce=0;Ce<Ee.length;Ce++)n.append(Ee[Ce]);return n.getBlob()}else{if(isNativeBlobDefined())return new Blob(Ee);throw new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sliceBlob(Ee,t,n){return Ee.webkitSlice?Ee.webkitSlice(t,n):Ee.mozSlice?Ee.mozSlice(t,n):Ee.slice?Ee.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(Ee){if(typeof atob>"u")throw missingPolyFill("base-64");return atob(Ee)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class StringData{constructor(t,n){this.data=t,this.contentType=n||null}}function dataFromString(Ee,t){switch(Ee){case StringFormat.RAW:return new StringData(utf8Bytes_(t));case StringFormat.BASE64:case StringFormat.BASE64URL:return new StringData(base64Bytes_(Ee,t));case StringFormat.DATA_URL:return new StringData(dataURLBytes_(t),dataURLContentType_(t))}throw unknown()}function utf8Bytes_(Ee){const t=[];for(let n=0;n<Ee.length;n++){let Ce=Ee.charCodeAt(n);if(Ce<=127)t.push(Ce);else if(Ce<=2047)t.push(192|Ce>>6,128|Ce&63);else if((Ce&64512)===55296)if(!(n<Ee.length-1&&(Ee.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const Re=Ce,Be=Ee.charCodeAt(++n);Ce=65536|(Re&1023)<<10|Be&1023,t.push(240|Ce>>18,128|Ce>>12&63,128|Ce>>6&63,128|Ce&63)}else(Ce&64512)===56320?t.push(239,191,189):t.push(224|Ce>>12,128|Ce>>6&63,128|Ce&63)}return new Uint8Array(t)}function percentEncodedBytes_(Ee){let t;try{t=decodeURIComponent(Ee)}catch{throw invalidFormat(StringFormat.DATA_URL,"Malformed data URL.")}return utf8Bytes_(t)}function base64Bytes_(Ee,t){switch(Ee){case StringFormat.BASE64:{const Te=t.indexOf("-")!==-1,Re=t.indexOf("_")!==-1;if(Te||Re)throw invalidFormat(Ee,"Invalid character '"+(Te?"-":"_")+"' found: is it base64url encoded?");break}case StringFormat.BASE64URL:{const Te=t.indexOf("+")!==-1,Re=t.indexOf("/")!==-1;if(Te||Re)throw invalidFormat(Ee,"Invalid character '"+(Te?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=decodeBase64(t)}catch(Te){throw Te.message.includes("polyfill")?Te:invalidFormat(Ee,"Invalid character found")}const Ce=new Uint8Array(n.length);for(let Te=0;Te<n.length;Te++)Ce[Te]=n.charCodeAt(Te);return Ce}class DataURLParts{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw invalidFormat(StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ce=n[1]||null;Ce!=null&&(this.base64=endsWith(Ce,";base64"),this.contentType=this.base64?Ce.substring(0,Ce.length-7):Ce),this.rest=t.substring(t.indexOf(",")+1)}}function dataURLBytes_(Ee){const t=new DataURLParts(Ee);return t.base64?base64Bytes_(StringFormat.BASE64,t.rest):percentEncodedBytes_(t.rest)}function dataURLContentType_(Ee){return new DataURLParts(Ee).contentType}function endsWith(Ee,t){return Ee.length>=t.length?Ee.substring(Ee.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FbsBlob{constructor(t,n){let Ce=0,Te="";isNativeBlob(t)?(this.data_=t,Ce=t.size,Te=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),Ce=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),Ce=t.length),this.size_=Ce,this.type_=Te}size(){return this.size_}type(){return this.type_}slice(t,n){if(isNativeBlob(this.data_)){const Ce=this.data_,Te=sliceBlob(Ce,t,n);return Te===null?null:new FbsBlob(Te)}else{const Ce=new Uint8Array(this.data_.buffer,t,n-t);return new FbsBlob(Ce,!0)}}static getBlob(...t){if(isNativeBlobDefined()){const n=t.map(Ce=>Ce instanceof FbsBlob?Ce.data_:Ce);return new FbsBlob(getBlob$1.apply(null,n))}else{const n=t.map(Be=>isString$1(Be)?dataFromString(StringFormat.RAW,Be).data:Be.data_);let Ce=0;n.forEach(Be=>{Ce+=Be.byteLength});const Te=new Uint8Array(Ce);let Re=0;return n.forEach(Be=>{for(let Ue=0;Ue<Be.length;Ue++)Te[Re++]=Be[Ue]}),new FbsBlob(Te,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(Ee){let t;try{t=JSON.parse(Ee)}catch{return null}return isNonArrayObject(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(Ee){if(Ee.length===0)return null;const t=Ee.lastIndexOf("/");return t===-1?"":Ee.slice(0,t)}function child(Ee,t){const n=t.split("/").filter(Ce=>Ce.length>0).join("/");return Ee.length===0?n:Ee+"/"+n}function lastComponent(Ee){const t=Ee.lastIndexOf("/",Ee.length-2);return t===-1?Ee:Ee.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(Ee,t){return t}class Mapping{constructor(t,n,Ce,Te){this.server=t,this.local=n||t,this.writable=!!Ce,this.xform=Te||noXform_}}let mappings_=null;function xformPath(Ee){return!isString$1(Ee)||Ee.length<2?Ee:lastComponent(Ee)}function getMappings(){if(mappings_)return mappings_;const Ee=[];Ee.push(new Mapping("bucket")),Ee.push(new Mapping("generation")),Ee.push(new Mapping("metageneration")),Ee.push(new Mapping("name","fullPath",!0));function t(Re,Be){return xformPath(Be)}const n=new Mapping("name");n.xform=t,Ee.push(n);function Ce(Re,Be){return Be!==void 0?Number(Be):Be}const Te=new Mapping("size");return Te.xform=Ce,Ee.push(Te),Ee.push(new Mapping("timeCreated")),Ee.push(new Mapping("updated")),Ee.push(new Mapping("md5Hash",null,!0)),Ee.push(new Mapping("cacheControl",null,!0)),Ee.push(new Mapping("contentDisposition",null,!0)),Ee.push(new Mapping("contentEncoding",null,!0)),Ee.push(new Mapping("contentLanguage",null,!0)),Ee.push(new Mapping("contentType",null,!0)),Ee.push(new Mapping("metadata","customMetadata",!0)),mappings_=Ee,mappings_}function addRef(Ee,t){function n(){const Ce=Ee.bucket,Te=Ee.fullPath,Re=new Location(Ce,Te);return t._makeStorageReference(Re)}Object.defineProperty(Ee,"ref",{get:n})}function fromResource(Ee,t,n){const Ce={};Ce.type="file";const Te=n.length;for(let Re=0;Re<Te;Re++){const Be=n[Re];Ce[Be.local]=Be.xform(Ce,t[Be.server])}return addRef(Ce,Ee),Ce}function fromResourceString(Ee,t,n){const Ce=jsonObjectOrNull(t);return Ce===null?null:fromResource(Ee,Ce,n)}function downloadUrlFromResourceString(Ee,t,n,Ce){const Te=jsonObjectOrNull(t);if(Te===null||!isString$1(Te.downloadTokens))return null;const Re=Te.downloadTokens;if(Re.length===0)return null;const Be=encodeURIComponent;return Re.split(",").map(Me=>{const Qe=Ee.bucket,Ke=Ee.fullPath,Ge="/b/"+Be(Qe)+"/o/"+Be(Ke),qe=makeUrl(Ge,n,Ce),Xe=makeQueryString({alt:"media",token:Me});return qe+Xe})[0]}function toResourceString(Ee,t){const n={},Ce=t.length;for(let Te=0;Te<Ce;Te++){const Re=t[Te];Re.writable&&(n[Re.server]=Ee[Re.local])}return JSON.stringify(n)}class RequestInfo{constructor(t,n,Ce,Te){this.url=t,this.method=n,this.handler=Ce,this.timeout=Te,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(Ee){if(!Ee)throw unknown()}function metadataHandler(Ee,t){function n(Ce,Te){const Re=fromResourceString(Ee,Te,t);return handlerCheck(Re!==null),Re}return n}function downloadUrlHandler(Ee,t){function n(Ce,Te){const Re=fromResourceString(Ee,Te,t);return handlerCheck(Re!==null),downloadUrlFromResourceString(Re,Te,Ee.host,Ee._protocol)}return n}function sharedErrorHandler(Ee){function t(n,Ce){let Te;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?Te=unauthorizedApp():Te=unauthenticated():n.getStatus()===402?Te=quotaExceeded(Ee.bucket):n.getStatus()===403?Te=unauthorized(Ee.path):Te=Ce,Te.status=n.getStatus(),Te.serverResponse=Ce.serverResponse,Te}return t}function objectErrorHandler(Ee){const t=sharedErrorHandler(Ee);function n(Ce,Te){let Re=t(Ce,Te);return Ce.getStatus()===404&&(Re=objectNotFound(Ee.path)),Re.serverResponse=Te.serverResponse,Re}return n}function getDownloadUrl(Ee,t,n){const Ce=t.fullServerUrl(),Te=makeUrl(Ce,Ee.host,Ee._protocol),Re="GET",Be=Ee.maxOperationRetryTime,Ue=new RequestInfo(Te,Re,downloadUrlHandler(Ee,n),Be);return Ue.errorHandler=objectErrorHandler(t),Ue}function deleteObject$2(Ee,t){const n=t.fullServerUrl(),Ce=makeUrl(n,Ee.host,Ee._protocol),Te="DELETE",Re=Ee.maxOperationRetryTime;function Be(Oe,Me){}const Ue=new RequestInfo(Ce,Te,Be,Re);return Ue.successCodes=[200,204],Ue.errorHandler=objectErrorHandler(t),Ue}function determineContentType_(Ee,t){return Ee&&Ee.contentType||t&&t.type()||"application/octet-stream"}function metadataForUpload_(Ee,t,n){const Ce=Object.assign({},n);return Ce.fullPath=Ee.path,Ce.size=t.size(),Ce.contentType||(Ce.contentType=determineContentType_(null,t)),Ce}function multipartUpload(Ee,t,n,Ce,Te){const Re=t.bucketOnlyServerUrl(),Be={"X-Goog-Upload-Protocol":"multipart"};function Ue(){let cr="";for(let hr=0;hr<2;hr++)cr=cr+Math.random().toString().slice(2);return cr}const Oe=Ue();Be["Content-Type"]="multipart/related; boundary="+Oe;const Me=metadataForUpload_(t,Ce,Te),Qe=toResourceString(Me,n),Ke="--"+Oe+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+Qe+`\r
--`+Oe+`\r
Content-Type: `+Me.contentType+`\r
\r
`,Ge=`\r
--`+Oe+"--",qe=FbsBlob.getBlob(Ke,Ce,Ge);if(qe===null)throw cannotSliceBlob();const Xe={name:Me.fullPath},tr=makeUrl(Re,Ee.host,Ee._protocol),Je="POST",Ye=Ee.maxUploadRetryTime,lr=new RequestInfo(tr,Je,metadataHandler(Ee,n),Ye);return lr.urlParams=Xe,lr.headers=Be,lr.body=qe.uploadData(),lr.errorHandler=sharedErrorHandler(t),lr}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ErrorCode.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ErrorCode.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ErrorCode.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,Ce,Te,Re){if(this.sent_)throw internalError("cannot .send() more than once");if(isCloudWorkstation(t)&&Ce&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),Re!==void 0)for(const Be in Re)Re.hasOwnProperty(Be)&&this.xhr_.setRequestHeader(Be,Re[Be].toString());return Te!==void 0?this.xhr_.send(Te):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(t,n){this._service=t,n instanceof Location?this._location=n:this._location=Location.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Reference(t,n)}get root(){const t=new Location(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const t=parent(this._location.path);if(t===null)return null;const n=new Location(this._location.bucket,t);return new Reference(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw invalidRootOperation(t)}}function uploadBytes$1(Ee,t,n){Ee._throwIfRoot("uploadBytes");const Ce=multipartUpload(Ee.storage,Ee._location,getMappings(),new FbsBlob(t,!0),n);return Ee.storage.makeRequestWithTokens(Ce,newTextConnection).then(Te=>({metadata:Te,ref:Ee}))}function getDownloadURL$1(Ee){Ee._throwIfRoot("getDownloadURL");const t=getDownloadUrl(Ee.storage,Ee._location,getMappings());return Ee.storage.makeRequestWithTokens(t,newTextConnection).then(n=>{if(n===null)throw noDownloadURL();return n})}function deleteObject$1(Ee){Ee._throwIfRoot("deleteObject");const t=deleteObject$2(Ee.storage,Ee._location);return Ee.storage.makeRequestWithTokens(t,newTextConnection)}function _getChild$1(Ee,t){const n=child(Ee._location.path,t),Ce=new Location(Ee._location.bucket,n);return new Reference(Ee.storage,Ce)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl(Ee){return/^[A-Za-z]+:\/\//.test(Ee)}function refFromURL(Ee,t){return new Reference(Ee,t)}function refFromPath(Ee,t){if(Ee instanceof FirebaseStorageImpl){const n=Ee;if(n._bucket==null)throw noDefaultBucket();const Ce=new Reference(n,n._bucket);return t!=null?refFromPath(Ce,t):Ce}else return t!==void 0?_getChild$1(Ee,t):Ee}function ref$1(Ee,t){if(t&&isUrl(t)){if(Ee instanceof FirebaseStorageImpl)return refFromURL(Ee,t);throw invalidArgument("To use ref(service, url), the first argument must be a Storage instance.")}else return refFromPath(Ee,t)}function extractBucket(Ee,t){const n=t==null?void 0:t[CONFIG_STORAGE_BUCKET_KEY];return n==null?null:Location.makeFromBucketSpec(n,Ee)}function connectStorageEmulator$1(Ee,t,n,Ce={}){Ee.host=`${t}:${n}`;const Te=isCloudWorkstation(t);Te&&(pingServer(`https://${Ee.host}/b`),updateEmulatorBanner("Storage",!0)),Ee._isUsingEmulator=!0,Ee._protocol=Te?"https":"http";const{mockUserToken:Re}=Ce;Re&&(Ee._overrideAuthToken=typeof Re=="string"?Re:createMockUserToken(Re,Ee.app.options.projectId))}class FirebaseStorageImpl{constructor(t,n,Ce,Te,Re,Be=!1){this.app=t,this._authProvider=n,this._appCheckProvider=Ce,this._url=Te,this._firebaseVersion=Re,this._isUsingEmulator=Be,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,Te!=null?this._bucket=Location.makeFromBucketSpec(Te,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,t):this._bucket=extractBucket(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){validateNumber("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){validateNumber("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Reference(this,t)}_makeRequest(t,n,Ce,Te,Re=!0){if(this._deleted)return new FailRequest(appDeleted());{const Be=makeRequest(t,this._appId,Ce,Te,n,this._firebaseVersion,Re,this._isUsingEmulator);return this._requests.add(Be),Be.getPromise().then(()=>this._requests.delete(Be),()=>this._requests.delete(Be)),Be}}async makeRequestWithTokens(t,n){const[Ce,Te]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,Ce,Te).getPromise()}}const name="@firebase/storage",version="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function uploadBytes(Ee,t,n){return Ee=getModularInstance(Ee),uploadBytes$1(Ee,t,n)}function getDownloadURL(Ee){return Ee=getModularInstance(Ee),getDownloadURL$1(Ee)}function deleteObject(Ee){return Ee=getModularInstance(Ee),deleteObject$1(Ee)}function ref(Ee,t){return Ee=getModularInstance(Ee),ref$1(Ee,t)}function getStorage(Ee=getApp(),t){Ee=getModularInstance(Ee);const Ce=_getProvider(Ee,STORAGE_TYPE).getImmediate({identifier:t}),Te=getDefaultEmulatorHostnameAndPort("storage");return Te&&connectStorageEmulator(Ce,...Te),Ce}function connectStorageEmulator(Ee,t,n,Ce={}){connectStorageEmulator$1(Ee,t,n,Ce)}function factory(Ee,{instanceIdentifier:t}){const n=Ee.getProvider("app").getImmediate(),Ce=Ee.getProvider("auth-internal"),Te=Ee.getProvider("app-check-internal");return new FirebaseStorageImpl(n,Ce,Te,t,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version,""),registerVersion(name,version,"esm2017")}registerStorage();const MediaModal=({isOpen:Ee,onClose:t,ticket:n,mediaURLs:Ce,setMediaURLs:Te})=>{const[Re,Be]=reactExports.useState(!1),[Ue,Oe]=reactExports.useState(null);if(!Ee)return null;const Me=async Ke=>{const Ge=Array.from(Ke.target.files);if(!Ge.length)return;const qe=getStorage();Be(!0);try{const Xe=[];for(const Je of Ge){const Ye=ref(qe,`uploadedFiles/Ticket${n.location}${n.ticketNum}/${Je.name}`);await uploadBytes(Ye,Je),console.log(Ye.fullPath);const lr=Ye.fullPath;Xe.push(lr)}const tr=[...Ce,...Xe];await updateDoc(doc(db,"tickets",n.id),{mediaURLs:tr}),Te(tr)}catch(Xe){console.error("Upload failed:",Xe),alert("Image upload failed.")}finally{Be(!1)}},Qe=async Ke=>{const Ge=Ce[Ke];Oe(Ke);try{const qe=getStorage(),Xe=Ge.indexOf("/o/")+3,tr=Ge.indexOf("?"),Je=Ge.slice(Xe,tr),Ye=decodeURIComponent(Je),lr=ref(qe,Ye);await deleteObject(lr);const cr=[...Ce];cr.splice(Ke,1),await updateDoc(doc(db,"tickets",n.id),{mediaFiles:cr}),Te(cr)}catch(qe){console.error("Failed to delete image:",qe),alert("Failed to delete image.")}finally{Oe(null)}};return jsxRuntimeExports.jsx("div",{className:"media-modal-overlay",children:jsxRuntimeExports.jsxs("div",{className:"media-modal",children:[jsxRuntimeExports.jsx("button",{className:"close-button",onClick:t,children:""}),jsxRuntimeExports.jsx("h3",{children:" Device Images"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:Me}),Re&&jsxRuntimeExports.jsx("p",{children:"Uploading..."}),Ce.length>0?jsxRuntimeExports.jsx("div",{className:"media-modal-grid",children:Ce.map((Ke,Ge)=>jsxRuntimeExports.jsxs("div",{className:"media-item",children:[jsxRuntimeExports.jsx("img",{src:Ke,alt:`Media ${Ge}`,className:"media-preview-modal"}),jsxRuntimeExports.jsx("button",{className:"delete-button",onClick:()=>Qe(Ge),disabled:Ue===Ge,children:Ue===Ge?"...":""})]},Ge))}):jsxRuntimeExports.jsx("h4",{children:"No images for this device"})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$1=function(Ee,t){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,Ce){n.__proto__=Ce}||function(n,Ce){for(var Te in Ce)Object.prototype.hasOwnProperty.call(Ce,Te)&&(n[Te]=Ce[Te])},extendStatics$1(Ee,t)};function __extends$1(Ee,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");extendStatics$1(Ee,t);function n(){this.constructor=Ee}Ee.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var __assign$1=function(){return __assign$1=Object.assign||function(t){for(var n,Ce=1,Te=arguments.length;Ce<Te;Ce++){n=arguments[Ce];for(var Re in n)Object.prototype.hasOwnProperty.call(n,Re)&&(t[Re]=n[Re])}return t},__assign$1.apply(this,arguments)};function __awaiter$2(Ee,t,n,Ce){function Te(Re){return Re instanceof n?Re:new n(function(Be){Be(Re)})}return new(n||(n=Promise))(function(Re,Be){function Ue(Qe){try{Me(Ce.next(Qe))}catch(Ke){Be(Ke)}}function Oe(Qe){try{Me(Ce.throw(Qe))}catch(Ke){Be(Ke)}}function Me(Qe){Qe.done?Re(Qe.value):Te(Qe.value).then(Ue,Oe)}Me((Ce=Ce.apply(Ee,[])).next())})}function __generator$1(Ee,t){var n={label:0,sent:function(){if(Re[0]&1)throw Re[1];return Re[1]},trys:[],ops:[]},Ce,Te,Re,Be;return Be={next:Ue(0),throw:Ue(1),return:Ue(2)},typeof Symbol=="function"&&(Be[Symbol.iterator]=function(){return this}),Be;function Ue(Me){return function(Qe){return Oe([Me,Qe])}}function Oe(Me){if(Ce)throw new TypeError("Generator is already executing.");for(;n;)try{if(Ce=1,Te&&(Re=Me[0]&2?Te.return:Me[0]?Te.throw||((Re=Te.return)&&Re.call(Te),0):Te.next)&&!(Re=Re.call(Te,Me[1])).done)return Re;switch(Te=0,Re&&(Me=[Me[0]&2,Re.value]),Me[0]){case 0:case 1:Re=Me;break;case 4:return n.label++,{value:Me[1],done:!1};case 5:n.label++,Te=Me[1],Me=[0];continue;case 7:Me=n.ops.pop(),n.trys.pop();continue;default:if(Re=n.trys,!(Re=Re.length>0&&Re[Re.length-1])&&(Me[0]===6||Me[0]===2)){n=0;continue}if(Me[0]===3&&(!Re||Me[1]>Re[0]&&Me[1]<Re[3])){n.label=Me[1];break}if(Me[0]===6&&n.label<Re[1]){n.label=Re[1],Re=Me;break}if(Re&&n.label<Re[2]){n.label=Re[2],n.ops.push(Me);break}Re[2]&&n.ops.pop(),n.trys.pop();continue}Me=t.call(Ee,n)}catch(Qe){Me=[6,Qe],Te=0}finally{Ce=Re=0}if(Me[0]&5)throw Me[1];return{value:Me[0]?Me[1]:void 0,done:!0}}}function __spreadArray$1(Ee,t,n){if(arguments.length===2)for(var Ce=0,Te=t.length,Re;Ce<Te;Ce++)(Re||!(Ce in t))&&(Re||(Re=Array.prototype.slice.call(t,0,Ce)),Re[Ce]=t[Ce]);return Ee.concat(Re||t)}var Bounds=(function(){function Ee(t,n,Ce,Te){this.left=t,this.top=n,this.width=Ce,this.height=Te}return Ee.prototype.add=function(t,n,Ce,Te){return new Ee(this.left+t,this.top+n,this.width+Ce,this.height+Te)},Ee.fromClientRect=function(t,n){return new Ee(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},Ee.fromDOMRectList=function(t,n){var Ce=Array.from(n).find(function(Te){return Te.width!==0});return Ce?new Ee(Ce.left+t.windowBounds.left,Ce.top+t.windowBounds.top,Ce.width,Ce.height):Ee.EMPTY},Ee.EMPTY=new Ee(0,0,0,0),Ee})(),parseBounds=function(Ee,t){return Bounds.fromClientRect(Ee,t.getBoundingClientRect())},parseDocumentSize=function(Ee){var t=Ee.body,n=Ee.documentElement;if(!t||!n)throw new Error("Unable to get document size");var Ce=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),Te=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new Bounds(0,0,Ce,Te)},toCodePoints$1=function(Ee){for(var t=[],n=0,Ce=Ee.length;n<Ce;){var Te=Ee.charCodeAt(n++);if(Te>=55296&&Te<=56319&&n<Ce){var Re=Ee.charCodeAt(n++);(Re&64512)===56320?t.push(((Te&1023)<<10)+(Re&1023)+65536):(t.push(Te),n--)}else t.push(Te)}return t},fromCodePoint$1=function(){for(var Ee=[],t=0;t<arguments.length;t++)Ee[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,Ee);var n=Ee.length;if(!n)return"";for(var Ce=[],Te=-1,Re="";++Te<n;){var Be=Ee[Te];Be<=65535?Ce.push(Be):(Be-=65536,Ce.push((Be>>10)+55296,Be%1024+56320)),(Te+1===n||Ce.length>16384)&&(Re+=String.fromCharCode.apply(String,Ce),Ce.length=0)}return Re},chars$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$2$1=0;i$2$1<chars$2.length;i$2$1++)lookup$2[chars$2.charCodeAt(i$2$1)]=i$2$1;var chars$1$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$1$1=0;i$1$1<chars$1$1.length;i$1$1++)lookup$1$1[chars$1$1.charCodeAt(i$1$1)]=i$1$1;var decode$1=function(Ee){var t=Ee.length*.75,n=Ee.length,Ce,Te=0,Re,Be,Ue,Oe;Ee[Ee.length-1]==="="&&(t--,Ee[Ee.length-2]==="="&&t--);var Me=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),Qe=Array.isArray(Me)?Me:new Uint8Array(Me);for(Ce=0;Ce<n;Ce+=4)Re=lookup$1$1[Ee.charCodeAt(Ce)],Be=lookup$1$1[Ee.charCodeAt(Ce+1)],Ue=lookup$1$1[Ee.charCodeAt(Ce+2)],Oe=lookup$1$1[Ee.charCodeAt(Ce+3)],Qe[Te++]=Re<<2|Be>>4,Qe[Te++]=(Be&15)<<4|Ue>>2,Qe[Te++]=(Ue&3)<<6|Oe&63;return Me},polyUint16Array$1=function(Ee){for(var t=Ee.length,n=[],Ce=0;Ce<t;Ce+=2)n.push(Ee[Ce+1]<<8|Ee[Ce]);return n},polyUint32Array$1=function(Ee){for(var t=Ee.length,n=[],Ce=0;Ce<t;Ce+=4)n.push(Ee[Ce+3]<<24|Ee[Ce+2]<<16|Ee[Ce+1]<<8|Ee[Ce]);return n},UTRIE2_SHIFT_2$1=5,UTRIE2_SHIFT_1$1=11,UTRIE2_INDEX_SHIFT$1=2,UTRIE2_SHIFT_1_2$1=UTRIE2_SHIFT_1$1-UTRIE2_SHIFT_2$1,UTRIE2_LSCP_INDEX_2_OFFSET$1=65536>>UTRIE2_SHIFT_2$1,UTRIE2_DATA_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_2$1,UTRIE2_DATA_MASK$1=UTRIE2_DATA_BLOCK_LENGTH$1-1,UTRIE2_LSCP_INDEX_2_LENGTH$1=1024>>UTRIE2_SHIFT_2$1,UTRIE2_INDEX_2_BMP_LENGTH$1=UTRIE2_LSCP_INDEX_2_OFFSET$1+UTRIE2_LSCP_INDEX_2_LENGTH$1,UTRIE2_UTF8_2B_INDEX_2_OFFSET$1=UTRIE2_INDEX_2_BMP_LENGTH$1,UTRIE2_UTF8_2B_INDEX_2_LENGTH$1=32,UTRIE2_INDEX_1_OFFSET$1=UTRIE2_UTF8_2B_INDEX_2_OFFSET$1+UTRIE2_UTF8_2B_INDEX_2_LENGTH$1,UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1=65536>>UTRIE2_SHIFT_1$1,UTRIE2_INDEX_2_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_1_2$1,UTRIE2_INDEX_2_MASK$1=UTRIE2_INDEX_2_BLOCK_LENGTH$1-1,slice16$1=function(Ee,t,n){return Ee.slice?Ee.slice(t,n):new Uint16Array(Array.prototype.slice.call(Ee,t,n))},slice32$1=function(Ee,t,n){return Ee.slice?Ee.slice(t,n):new Uint32Array(Array.prototype.slice.call(Ee,t,n))},createTrieFromBase64$1=function(Ee,t){var n=decode$1(Ee),Ce=Array.isArray(n)?polyUint32Array$1(n):new Uint32Array(n),Te=Array.isArray(n)?polyUint16Array$1(n):new Uint16Array(n),Re=24,Be=slice16$1(Te,Re/2,Ce[4]/2),Ue=Ce[5]===2?slice16$1(Te,(Re+Ce[4])/2):slice32$1(Ce,Math.ceil((Re+Ce[4])/4));return new Trie$1(Ce[0],Ce[1],Ce[2],Ce[3],Be,Ue)},Trie$1=(function(){function Ee(t,n,Ce,Te,Re,Be){this.initialValue=t,this.errorValue=n,this.highStart=Ce,this.highValueIndex=Te,this.index=Re,this.data=Be}return Ee.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>UTRIE2_SHIFT_2$1],n=(n<<UTRIE2_INDEX_SHIFT$1)+(t&UTRIE2_DATA_MASK$1),this.data[n];if(t<=65535)return n=this.index[UTRIE2_LSCP_INDEX_2_OFFSET$1+(t-55296>>UTRIE2_SHIFT_2$1)],n=(n<<UTRIE2_INDEX_SHIFT$1)+(t&UTRIE2_DATA_MASK$1),this.data[n];if(t<this.highStart)return n=UTRIE2_INDEX_1_OFFSET$1-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1+(t>>UTRIE2_SHIFT_1$1),n=this.index[n],n+=t>>UTRIE2_SHIFT_2$1&UTRIE2_INDEX_2_MASK$1,n=this.index[n],n=(n<<UTRIE2_INDEX_SHIFT$1)+(t&UTRIE2_DATA_MASK$1),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},Ee})(),chars$3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$3=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$3$1=0;i$3$1<chars$3.length;i$3$1++)lookup$3[chars$3.charCodeAt(i$3$1)]=i$3$1;var base64$1="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",LETTER_NUMBER_MODIFIER=50,BK=1,CR$1=2,LF$1=3,CM=4,NL=5,WJ=7,ZW=8,GL=9,SP=10,ZWJ$1=11,B2=12,BA=13,BB=14,HY=15,CB=16,CL=17,CP=18,EX=19,IN=20,NS=21,OP=22,QU=23,IS=24,NU=25,PO=26,PR=27,SY=28,AI=29,AL=30,CJ=31,EB=32,EM=33,H2=34,H3=35,HL=36,ID=37,JL=38,JV=39,JT=40,RI$1=41,SA=42,XX=43,ea_OP=[9001,65288],BREAK_MANDATORY="!",BREAK_NOT_ALLOWED$1="",BREAK_ALLOWED$1="",UnicodeTrie$1=createTrieFromBase64$1(base64$1),ALPHABETICS=[AL,HL],HARD_LINE_BREAKS=[BK,CR$1,LF$1,NL],SPACE$1=[SP,ZW],PREFIX_POSTFIX=[PR,PO],LINE_BREAKS=HARD_LINE_BREAKS.concat(SPACE$1),KOREAN_SYLLABLE_BLOCK=[JL,JV,JT,H2,H3],HYPHEN=[HY,BA],codePointsToCharacterClasses=function(Ee,t){t===void 0&&(t="strict");var n=[],Ce=[],Te=[];return Ee.forEach(function(Re,Be){var Ue=UnicodeTrie$1.get(Re);if(Ue>LETTER_NUMBER_MODIFIER?(Te.push(!0),Ue-=LETTER_NUMBER_MODIFIER):Te.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(Re)!==-1)return Ce.push(Be),n.push(CB);if(Ue===CM||Ue===ZWJ$1){if(Be===0)return Ce.push(Be),n.push(AL);var Oe=n[Be-1];return LINE_BREAKS.indexOf(Oe)===-1?(Ce.push(Ce[Be-1]),n.push(Oe)):(Ce.push(Be),n.push(AL))}if(Ce.push(Be),Ue===CJ)return n.push(t==="strict"?NS:ID);if(Ue===SA||Ue===AI)return n.push(AL);if(Ue===XX)return Re>=131072&&Re<=196605||Re>=196608&&Re<=262141?n.push(ID):n.push(AL);n.push(Ue)}),[Ce,n,Te]},isAdjacentWithSpaceIgnored=function(Ee,t,n,Ce){var Te=Ce[n];if(Array.isArray(Ee)?Ee.indexOf(Te)!==-1:Ee===Te)for(var Re=n;Re<=Ce.length;){Re++;var Be=Ce[Re];if(Be===t)return!0;if(Be!==SP)break}if(Te===SP)for(var Re=n;Re>0;){Re--;var Ue=Ce[Re];if(Array.isArray(Ee)?Ee.indexOf(Ue)!==-1:Ee===Ue)for(var Oe=n;Oe<=Ce.length;){Oe++;var Be=Ce[Oe];if(Be===t)return!0;if(Be!==SP)break}if(Ue!==SP)break}return!1},previousNonSpaceClassType=function(Ee,t){for(var n=Ee;n>=0;){var Ce=t[n];if(Ce===SP)n--;else return Ce}return 0},_lineBreakAtIndex=function(Ee,t,n,Ce,Te){if(n[Ce]===0)return BREAK_NOT_ALLOWED$1;var Re=Ce-1;if(Array.isArray(Te)&&Te[Re]===!0)return BREAK_NOT_ALLOWED$1;var Be=Re-1,Ue=Re+1,Oe=t[Re],Me=Be>=0?t[Be]:0,Qe=t[Ue];if(Oe===CR$1&&Qe===LF$1)return BREAK_NOT_ALLOWED$1;if(HARD_LINE_BREAKS.indexOf(Oe)!==-1)return BREAK_MANDATORY;if(HARD_LINE_BREAKS.indexOf(Qe)!==-1||SPACE$1.indexOf(Qe)!==-1)return BREAK_NOT_ALLOWED$1;if(previousNonSpaceClassType(Re,t)===ZW)return BREAK_ALLOWED$1;if(UnicodeTrie$1.get(Ee[Re])===ZWJ$1||(Oe===EB||Oe===EM)&&UnicodeTrie$1.get(Ee[Ue])===ZWJ$1||Oe===WJ||Qe===WJ||Oe===GL||[SP,BA,HY].indexOf(Oe)===-1&&Qe===GL||[CL,CP,EX,IS,SY].indexOf(Qe)!==-1||previousNonSpaceClassType(Re,t)===OP||isAdjacentWithSpaceIgnored(QU,OP,Re,t)||isAdjacentWithSpaceIgnored([CL,CP],NS,Re,t)||isAdjacentWithSpaceIgnored(B2,B2,Re,t))return BREAK_NOT_ALLOWED$1;if(Oe===SP)return BREAK_ALLOWED$1;if(Oe===QU||Qe===QU)return BREAK_NOT_ALLOWED$1;if(Qe===CB||Oe===CB)return BREAK_ALLOWED$1;if([BA,HY,NS].indexOf(Qe)!==-1||Oe===BB||Me===HL&&HYPHEN.indexOf(Oe)!==-1||Oe===SY&&Qe===HL||Qe===IN||ALPHABETICS.indexOf(Qe)!==-1&&Oe===NU||ALPHABETICS.indexOf(Oe)!==-1&&Qe===NU||Oe===PR&&[ID,EB,EM].indexOf(Qe)!==-1||[ID,EB,EM].indexOf(Oe)!==-1&&Qe===PO||ALPHABETICS.indexOf(Oe)!==-1&&PREFIX_POSTFIX.indexOf(Qe)!==-1||PREFIX_POSTFIX.indexOf(Oe)!==-1&&ALPHABETICS.indexOf(Qe)!==-1||[PR,PO].indexOf(Oe)!==-1&&(Qe===NU||[OP,HY].indexOf(Qe)!==-1&&t[Ue+1]===NU)||[OP,HY].indexOf(Oe)!==-1&&Qe===NU||Oe===NU&&[NU,SY,IS].indexOf(Qe)!==-1)return BREAK_NOT_ALLOWED$1;if([NU,SY,IS,CL,CP].indexOf(Qe)!==-1)for(var Ke=Re;Ke>=0;){var Ge=t[Ke];if(Ge===NU)return BREAK_NOT_ALLOWED$1;if([SY,IS].indexOf(Ge)!==-1)Ke--;else break}if([PR,PO].indexOf(Qe)!==-1)for(var Ke=[CL,CP].indexOf(Oe)!==-1?Be:Re;Ke>=0;){var Ge=t[Ke];if(Ge===NU)return BREAK_NOT_ALLOWED$1;if([SY,IS].indexOf(Ge)!==-1)Ke--;else break}if(JL===Oe&&[JL,JV,H2,H3].indexOf(Qe)!==-1||[JV,H2].indexOf(Oe)!==-1&&[JV,JT].indexOf(Qe)!==-1||[JT,H3].indexOf(Oe)!==-1&&Qe===JT||KOREAN_SYLLABLE_BLOCK.indexOf(Oe)!==-1&&[IN,PO].indexOf(Qe)!==-1||KOREAN_SYLLABLE_BLOCK.indexOf(Qe)!==-1&&Oe===PR||ALPHABETICS.indexOf(Oe)!==-1&&ALPHABETICS.indexOf(Qe)!==-1||Oe===IS&&ALPHABETICS.indexOf(Qe)!==-1||ALPHABETICS.concat(NU).indexOf(Oe)!==-1&&Qe===OP&&ea_OP.indexOf(Ee[Ue])===-1||ALPHABETICS.concat(NU).indexOf(Qe)!==-1&&Oe===CP)return BREAK_NOT_ALLOWED$1;if(Oe===RI$1&&Qe===RI$1){for(var qe=n[Re],Xe=1;qe>0&&(qe--,t[qe]===RI$1);)Xe++;if(Xe%2!==0)return BREAK_NOT_ALLOWED$1}return Oe===EB&&Qe===EM?BREAK_NOT_ALLOWED$1:BREAK_ALLOWED$1},cssFormattedClasses=function(Ee,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=codePointsToCharacterClasses(Ee,t.lineBreak),Ce=n[0],Te=n[1],Re=n[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(Te=Te.map(function(Ue){return[NU,AL,SA].indexOf(Ue)!==-1?ID:Ue}));var Be=t.wordBreak==="keep-all"?Re.map(function(Ue,Oe){return Ue&&Ee[Oe]>=19968&&Ee[Oe]<=40959}):void 0;return[Ce,Te,Be]},Break=(function(){function Ee(t,n,Ce,Te){this.codePoints=t,this.required=n===BREAK_MANDATORY,this.start=Ce,this.end=Te}return Ee.prototype.slice=function(){return fromCodePoint$1.apply(void 0,this.codePoints.slice(this.start,this.end))},Ee})(),LineBreaker=function(Ee,t){var n=toCodePoints$1(Ee),Ce=cssFormattedClasses(n,t),Te=Ce[0],Re=Ce[1],Be=Ce[2],Ue=n.length,Oe=0,Me=0;return{next:function(){if(Me>=Ue)return{done:!0,value:null};for(var Qe=BREAK_NOT_ALLOWED$1;Me<Ue&&(Qe=_lineBreakAtIndex(n,Re,Te,++Me,Be))===BREAK_NOT_ALLOWED$1;);if(Qe!==BREAK_NOT_ALLOWED$1||Me===Ue){var Ke=new Break(n,Qe,Oe,Me);return Oe=Me,{value:Ke,done:!1}}return{done:!0,value:null}}}},FLAG_UNRESTRICTED=1,FLAG_ID=2,FLAG_INTEGER=4,FLAG_NUMBER=8,LINE_FEED=10,SOLIDUS=47,REVERSE_SOLIDUS=92,CHARACTER_TABULATION=9,SPACE=32,QUOTATION_MARK=34,EQUALS_SIGN=61,NUMBER_SIGN=35,DOLLAR_SIGN=36,PERCENTAGE_SIGN=37,APOSTROPHE=39,LEFT_PARENTHESIS=40,RIGHT_PARENTHESIS=41,LOW_LINE=95,HYPHEN_MINUS=45,EXCLAMATION_MARK=33,LESS_THAN_SIGN=60,GREATER_THAN_SIGN=62,COMMERCIAL_AT=64,LEFT_SQUARE_BRACKET=91,RIGHT_SQUARE_BRACKET=93,CIRCUMFLEX_ACCENT=61,LEFT_CURLY_BRACKET=123,QUESTION_MARK=63,RIGHT_CURLY_BRACKET=125,VERTICAL_LINE=124,TILDE=126,CONTROL=128,REPLACEMENT_CHARACTER=65533,ASTERISK=42,PLUS_SIGN=43,COMMA=44,COLON=58,SEMICOLON=59,FULL_STOP=46,NULL$1=0,BACKSPACE=8,LINE_TABULATION=11,SHIFT_OUT=14,INFORMATION_SEPARATOR_ONE=31,DELETE=127,EOF=-1,ZERO=48,a$1=97,e=101,f$1=102,u$1=117,z$1=122,A$1=65,E$1=69,F$1=70,U$1=85,Z$1=90,isDigit=function(Ee){return Ee>=ZERO&&Ee<=57},isSurrogateCodePoint=function(Ee){return Ee>=55296&&Ee<=57343},isHex=function(Ee){return isDigit(Ee)||Ee>=A$1&&Ee<=F$1||Ee>=a$1&&Ee<=f$1},isLowerCaseLetter=function(Ee){return Ee>=a$1&&Ee<=z$1},isUpperCaseLetter=function(Ee){return Ee>=A$1&&Ee<=Z$1},isLetter=function(Ee){return isLowerCaseLetter(Ee)||isUpperCaseLetter(Ee)},isNonASCIICodePoint=function(Ee){return Ee>=CONTROL},isWhiteSpace=function(Ee){return Ee===LINE_FEED||Ee===CHARACTER_TABULATION||Ee===SPACE},isNameStartCodePoint=function(Ee){return isLetter(Ee)||isNonASCIICodePoint(Ee)||Ee===LOW_LINE},isNameCodePoint=function(Ee){return isNameStartCodePoint(Ee)||isDigit(Ee)||Ee===HYPHEN_MINUS},isNonPrintableCodePoint=function(Ee){return Ee>=NULL$1&&Ee<=BACKSPACE||Ee===LINE_TABULATION||Ee>=SHIFT_OUT&&Ee<=INFORMATION_SEPARATOR_ONE||Ee===DELETE},isValidEscape=function(Ee,t){return Ee!==REVERSE_SOLIDUS?!1:t!==LINE_FEED},isIdentifierStart=function(Ee,t,n){return Ee===HYPHEN_MINUS?isNameStartCodePoint(t)||isValidEscape(t,n):isNameStartCodePoint(Ee)?!0:!!(Ee===REVERSE_SOLIDUS&&isValidEscape(Ee,t))},isNumberStart=function(Ee,t,n){return Ee===PLUS_SIGN||Ee===HYPHEN_MINUS?isDigit(t)?!0:t===FULL_STOP&&isDigit(n):isDigit(Ee===FULL_STOP?t:Ee)},stringToNumber=function(Ee){var t=0,n=1;(Ee[t]===PLUS_SIGN||Ee[t]===HYPHEN_MINUS)&&(Ee[t]===HYPHEN_MINUS&&(n=-1),t++);for(var Ce=[];isDigit(Ee[t]);)Ce.push(Ee[t++]);var Te=Ce.length?parseInt(fromCodePoint$1.apply(void 0,Ce),10):0;Ee[t]===FULL_STOP&&t++;for(var Re=[];isDigit(Ee[t]);)Re.push(Ee[t++]);var Be=Re.length,Ue=Be?parseInt(fromCodePoint$1.apply(void 0,Re),10):0;(Ee[t]===E$1||Ee[t]===e)&&t++;var Oe=1;(Ee[t]===PLUS_SIGN||Ee[t]===HYPHEN_MINUS)&&(Ee[t]===HYPHEN_MINUS&&(Oe=-1),t++);for(var Me=[];isDigit(Ee[t]);)Me.push(Ee[t++]);var Qe=Me.length?parseInt(fromCodePoint$1.apply(void 0,Me),10):0;return n*(Te+Ue*Math.pow(10,-Be))*Math.pow(10,Oe*Qe)},LEFT_PARENTHESIS_TOKEN={type:2},RIGHT_PARENTHESIS_TOKEN={type:3},COMMA_TOKEN={type:4},SUFFIX_MATCH_TOKEN={type:13},PREFIX_MATCH_TOKEN={type:8},COLUMN_TOKEN={type:21},DASH_MATCH_TOKEN={type:9},INCLUDE_MATCH_TOKEN={type:10},LEFT_CURLY_BRACKET_TOKEN={type:11},RIGHT_CURLY_BRACKET_TOKEN={type:12},SUBSTRING_MATCH_TOKEN={type:14},BAD_URL_TOKEN={type:23},BAD_STRING_TOKEN={type:1},CDO_TOKEN={type:25},CDC_TOKEN={type:24},COLON_TOKEN={type:26},SEMICOLON_TOKEN={type:27},LEFT_SQUARE_BRACKET_TOKEN={type:28},RIGHT_SQUARE_BRACKET_TOKEN={type:29},WHITESPACE_TOKEN={type:31},EOF_TOKEN={type:32},Tokenizer=(function(){function Ee(){this._value=[]}return Ee.prototype.write=function(t){this._value=this._value.concat(toCodePoints$1(t))},Ee.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==EOF_TOKEN;)t.push(n),n=this.consumeToken();return t},Ee.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case QUOTATION_MARK:return this.consumeStringToken(QUOTATION_MARK);case NUMBER_SIGN:var n=this.peekCodePoint(0),Ce=this.peekCodePoint(1),Te=this.peekCodePoint(2);if(isNameCodePoint(n)||isValidEscape(Ce,Te)){var Re=isIdentifierStart(n,Ce,Te)?FLAG_ID:FLAG_UNRESTRICTED,Be=this.consumeName();return{type:5,value:Be,flags:Re}}break;case DOLLAR_SIGN:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),SUFFIX_MATCH_TOKEN;break;case APOSTROPHE:return this.consumeStringToken(APOSTROPHE);case LEFT_PARENTHESIS:return LEFT_PARENTHESIS_TOKEN;case RIGHT_PARENTHESIS:return RIGHT_PARENTHESIS_TOKEN;case ASTERISK:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),SUBSTRING_MATCH_TOKEN;break;case PLUS_SIGN:if(isNumberStart(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case COMMA:return COMMA_TOKEN;case HYPHEN_MINUS:var Ue=t,Oe=this.peekCodePoint(0),Me=this.peekCodePoint(1);if(isNumberStart(Ue,Oe,Me))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(isIdentifierStart(Ue,Oe,Me))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(Oe===HYPHEN_MINUS&&Me===GREATER_THAN_SIGN)return this.consumeCodePoint(),this.consumeCodePoint(),CDC_TOKEN;break;case FULL_STOP:if(isNumberStart(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case SOLIDUS:if(this.peekCodePoint(0)===ASTERISK)for(this.consumeCodePoint();;){var Qe=this.consumeCodePoint();if(Qe===ASTERISK&&(Qe=this.consumeCodePoint(),Qe===SOLIDUS))return this.consumeToken();if(Qe===EOF)return this.consumeToken()}break;case COLON:return COLON_TOKEN;case SEMICOLON:return SEMICOLON_TOKEN;case LESS_THAN_SIGN:if(this.peekCodePoint(0)===EXCLAMATION_MARK&&this.peekCodePoint(1)===HYPHEN_MINUS&&this.peekCodePoint(2)===HYPHEN_MINUS)return this.consumeCodePoint(),this.consumeCodePoint(),CDO_TOKEN;break;case COMMERCIAL_AT:var Ke=this.peekCodePoint(0),Ge=this.peekCodePoint(1),qe=this.peekCodePoint(2);if(isIdentifierStart(Ke,Ge,qe)){var Be=this.consumeName();return{type:7,value:Be}}break;case LEFT_SQUARE_BRACKET:return LEFT_SQUARE_BRACKET_TOKEN;case REVERSE_SOLIDUS:if(isValidEscape(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case RIGHT_SQUARE_BRACKET:return RIGHT_SQUARE_BRACKET_TOKEN;case CIRCUMFLEX_ACCENT:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),PREFIX_MATCH_TOKEN;break;case LEFT_CURLY_BRACKET:return LEFT_CURLY_BRACKET_TOKEN;case RIGHT_CURLY_BRACKET:return RIGHT_CURLY_BRACKET_TOKEN;case u$1:case U$1:var Xe=this.peekCodePoint(0),tr=this.peekCodePoint(1);return Xe===PLUS_SIGN&&(isHex(tr)||tr===QUESTION_MARK)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case VERTICAL_LINE:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),DASH_MATCH_TOKEN;if(this.peekCodePoint(0)===VERTICAL_LINE)return this.consumeCodePoint(),COLUMN_TOKEN;break;case TILDE:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),INCLUDE_MATCH_TOKEN;break;case EOF:return EOF_TOKEN}return isWhiteSpace(t)?(this.consumeWhiteSpace(),WHITESPACE_TOKEN):isDigit(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):isNameStartCodePoint(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:fromCodePoint$1(t)}},Ee.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},Ee.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},Ee.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},Ee.prototype.consumeUnicodeRangeToken=function(){for(var t=[],n=this.consumeCodePoint();isHex(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(var Ce=!1;n===QUESTION_MARK&&t.length<6;)t.push(n),n=this.consumeCodePoint(),Ce=!0;if(Ce){var Te=parseInt(fromCodePoint$1.apply(void 0,t.map(function(Oe){return Oe===QUESTION_MARK?ZERO:Oe})),16),Re=parseInt(fromCodePoint$1.apply(void 0,t.map(function(Oe){return Oe===QUESTION_MARK?F$1:Oe})),16);return{type:30,start:Te,end:Re}}var Be=parseInt(fromCodePoint$1.apply(void 0,t),16);if(this.peekCodePoint(0)===HYPHEN_MINUS&&isHex(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var Ue=[];isHex(n)&&Ue.length<6;)Ue.push(n),n=this.consumeCodePoint();var Re=parseInt(fromCodePoint$1.apply(void 0,Ue),16);return{type:30,start:Be,end:Re}}else return{type:30,start:Be,end:Be}},Ee.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===LEFT_PARENTHESIS?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===LEFT_PARENTHESIS?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},Ee.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===APOSTROPHE||n===QUOTATION_MARK){var Ce=this.consumeStringToken(this.consumeCodePoint());return Ce.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS)?(this.consumeCodePoint(),{type:22,value:Ce.value}):(this.consumeBadUrlRemnants(),BAD_URL_TOKEN)}for(;;){var Te=this.consumeCodePoint();if(Te===EOF||Te===RIGHT_PARENTHESIS)return{type:22,value:fromCodePoint$1.apply(void 0,t)};if(isWhiteSpace(Te))return this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS?(this.consumeCodePoint(),{type:22,value:fromCodePoint$1.apply(void 0,t)}):(this.consumeBadUrlRemnants(),BAD_URL_TOKEN);if(Te===QUOTATION_MARK||Te===APOSTROPHE||Te===LEFT_PARENTHESIS||isNonPrintableCodePoint(Te))return this.consumeBadUrlRemnants(),BAD_URL_TOKEN;if(Te===REVERSE_SOLIDUS)if(isValidEscape(Te,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),BAD_URL_TOKEN;else t.push(Te)}},Ee.prototype.consumeWhiteSpace=function(){for(;isWhiteSpace(this.peekCodePoint(0));)this.consumeCodePoint()},Ee.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===RIGHT_PARENTHESIS||t===EOF)return;isValidEscape(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},Ee.prototype.consumeStringSlice=function(t){for(var n=5e4,Ce="";t>0;){var Te=Math.min(n,t);Ce+=fromCodePoint$1.apply(void 0,this._value.splice(0,Te)),t-=Te}return this._value.shift(),Ce},Ee.prototype.consumeStringToken=function(t){var n="",Ce=0;do{var Te=this._value[Ce];if(Te===EOF||Te===void 0||Te===t)return n+=this.consumeStringSlice(Ce),{type:0,value:n};if(Te===LINE_FEED)return this._value.splice(0,Ce),BAD_STRING_TOKEN;if(Te===REVERSE_SOLIDUS){var Re=this._value[Ce+1];Re!==EOF&&Re!==void 0&&(Re===LINE_FEED?(n+=this.consumeStringSlice(Ce),Ce=-1,this._value.shift()):isValidEscape(Te,Re)&&(n+=this.consumeStringSlice(Ce),n+=fromCodePoint$1(this.consumeEscapedCodePoint()),Ce=-1))}Ce++}while(!0)},Ee.prototype.consumeNumber=function(){var t=[],n=FLAG_INTEGER,Ce=this.peekCodePoint(0);for((Ce===PLUS_SIGN||Ce===HYPHEN_MINUS)&&t.push(this.consumeCodePoint());isDigit(this.peekCodePoint(0));)t.push(this.consumeCodePoint());Ce=this.peekCodePoint(0);var Te=this.peekCodePoint(1);if(Ce===FULL_STOP&&isDigit(Te))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=FLAG_NUMBER;isDigit(this.peekCodePoint(0));)t.push(this.consumeCodePoint());Ce=this.peekCodePoint(0),Te=this.peekCodePoint(1);var Re=this.peekCodePoint(2);if((Ce===E$1||Ce===e)&&((Te===PLUS_SIGN||Te===HYPHEN_MINUS)&&isDigit(Re)||isDigit(Te)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=FLAG_NUMBER;isDigit(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[stringToNumber(t),n]},Ee.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),n=t[0],Ce=t[1],Te=this.peekCodePoint(0),Re=this.peekCodePoint(1),Be=this.peekCodePoint(2);if(isIdentifierStart(Te,Re,Be)){var Ue=this.consumeName();return{type:15,number:n,flags:Ce,unit:Ue}}return Te===PERCENTAGE_SIGN?(this.consumeCodePoint(),{type:16,number:n,flags:Ce}):{type:17,number:n,flags:Ce}},Ee.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(isHex(t)){for(var n=fromCodePoint$1(t);isHex(this.peekCodePoint(0))&&n.length<6;)n+=fromCodePoint$1(this.consumeCodePoint());isWhiteSpace(this.peekCodePoint(0))&&this.consumeCodePoint();var Ce=parseInt(n,16);return Ce===0||isSurrogateCodePoint(Ce)||Ce>1114111?REPLACEMENT_CHARACTER:Ce}return t===EOF?REPLACEMENT_CHARACTER:t},Ee.prototype.consumeName=function(){for(var t="";;){var n=this.consumeCodePoint();if(isNameCodePoint(n))t+=fromCodePoint$1(n);else if(isValidEscape(n,this.peekCodePoint(0)))t+=fromCodePoint$1(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),t}},Ee})(),Parser=(function(){function Ee(t){this._tokens=t}return Ee.create=function(t){var n=new Tokenizer;return n.write(t),new Ee(n.read())},Ee.parseValue=function(t){return Ee.create(t).parseComponentValue()},Ee.parseValues=function(t){return Ee.create(t).parseComponentValues()},Ee.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var n=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},Ee.prototype.parseComponentValues=function(){for(var t=[];;){var n=this.consumeComponentValue();if(n.type===32)return t;t.push(n),t.push()}},Ee.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},Ee.prototype.consumeSimpleBlock=function(t){for(var n={type:t,values:[]},Ce=this.consumeToken();;){if(Ce.type===32||isEndingTokenFor(Ce,t))return n;this.reconsumeToken(Ce),n.values.push(this.consumeComponentValue()),Ce=this.consumeToken()}},Ee.prototype.consumeFunction=function(t){for(var n={name:t.value,values:[],type:18};;){var Ce=this.consumeToken();if(Ce.type===32||Ce.type===3)return n;this.reconsumeToken(Ce),n.values.push(this.consumeComponentValue())}},Ee.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?EOF_TOKEN:t},Ee.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},Ee})(),isDimensionToken=function(Ee){return Ee.type===15},isNumberToken=function(Ee){return Ee.type===17},isIdentToken=function(Ee){return Ee.type===20},isStringToken=function(Ee){return Ee.type===0},isIdentWithValue=function(Ee,t){return isIdentToken(Ee)&&Ee.value===t},nonWhiteSpace=function(Ee){return Ee.type!==31},nonFunctionArgSeparator=function(Ee){return Ee.type!==31&&Ee.type!==4},parseFunctionArgs=function(Ee){var t=[],n=[];return Ee.forEach(function(Ce){if(Ce.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}Ce.type!==31&&n.push(Ce)}),n.length&&t.push(n),t},isEndingTokenFor=function(Ee,t){return t===11&&Ee.type===12||t===28&&Ee.type===29?!0:t===2&&Ee.type===3},isLength=function(Ee){return Ee.type===17||Ee.type===15},isLengthPercentage=function(Ee){return Ee.type===16||isLength(Ee)},parseLengthPercentageTuple=function(Ee){return Ee.length>1?[Ee[0],Ee[1]]:[Ee[0]]},ZERO_LENGTH={type:17,number:0,flags:FLAG_INTEGER},FIFTY_PERCENT={type:16,number:50,flags:FLAG_INTEGER},HUNDRED_PERCENT={type:16,number:100,flags:FLAG_INTEGER},getAbsoluteValueForTuple=function(Ee,t,n){var Ce=Ee[0],Te=Ee[1];return[getAbsoluteValue(Ce,t),getAbsoluteValue(typeof Te<"u"?Te:Ce,n)]},getAbsoluteValue=function(Ee,t){if(Ee.type===16)return Ee.number/100*t;if(isDimensionToken(Ee))switch(Ee.unit){case"rem":case"em":return 16*Ee.number;case"px":default:return Ee.number}return Ee.number},DEG="deg",GRAD="grad",RAD="rad",TURN="turn",angle={name:"angle",parse:function(Ee,t){if(t.type===15)switch(t.unit){case DEG:return Math.PI*t.number/180;case GRAD:return Math.PI/200*t.number;case RAD:return t.number;case TURN:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},isAngle=function(Ee){return Ee.type===15&&(Ee.unit===DEG||Ee.unit===GRAD||Ee.unit===RAD||Ee.unit===TURN)},parseNamedSide=function(Ee){var t=Ee.filter(isIdentToken).map(function(n){return n.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ZERO_LENGTH,ZERO_LENGTH];case"to top":case"bottom":return deg(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ZERO_LENGTH,HUNDRED_PERCENT];case"to right":case"left":return deg(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[HUNDRED_PERCENT,HUNDRED_PERCENT];case"to bottom":case"top":return deg(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[HUNDRED_PERCENT,ZERO_LENGTH];case"to left":case"right":return deg(270)}return 0},deg=function(Ee){return Math.PI*Ee/180},color$1={name:"color",parse:function(Ee,t){if(t.type===18){var n=SUPPORTED_COLOR_FUNCTIONS[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(Ee,t.values)}if(t.type===5){if(t.value.length===3){var Ce=t.value.substring(0,1),Te=t.value.substring(1,2),Re=t.value.substring(2,3);return pack(parseInt(Ce+Ce,16),parseInt(Te+Te,16),parseInt(Re+Re,16),1)}if(t.value.length===4){var Ce=t.value.substring(0,1),Te=t.value.substring(1,2),Re=t.value.substring(2,3),Be=t.value.substring(3,4);return pack(parseInt(Ce+Ce,16),parseInt(Te+Te,16),parseInt(Re+Re,16),parseInt(Be+Be,16)/255)}if(t.value.length===6){var Ce=t.value.substring(0,2),Te=t.value.substring(2,4),Re=t.value.substring(4,6);return pack(parseInt(Ce,16),parseInt(Te,16),parseInt(Re,16),1)}if(t.value.length===8){var Ce=t.value.substring(0,2),Te=t.value.substring(2,4),Re=t.value.substring(4,6),Be=t.value.substring(6,8);return pack(parseInt(Ce,16),parseInt(Te,16),parseInt(Re,16),parseInt(Be,16)/255)}}if(t.type===20){var Ue=COLORS[t.value.toUpperCase()];if(typeof Ue<"u")return Ue}return COLORS.TRANSPARENT}},isTransparent=function(Ee){return(255&Ee)===0},asString=function(Ee){var t=255&Ee,n=255&Ee>>8,Ce=255&Ee>>16,Te=255&Ee>>24;return t<255?"rgba("+Te+","+Ce+","+n+","+t/255+")":"rgb("+Te+","+Ce+","+n+")"},pack=function(Ee,t,n,Ce){return(Ee<<24|t<<16|n<<8|Math.round(Ce*255)<<0)>>>0},getTokenColorValue=function(Ee,t){if(Ee.type===17)return Ee.number;if(Ee.type===16){var n=t===3?1:255;return t===3?Ee.number/100*n:Math.round(Ee.number/100*n)}return 0},rgb$1=function(Ee,t){var n=t.filter(nonFunctionArgSeparator);if(n.length===3){var Ce=n.map(getTokenColorValue),Te=Ce[0],Re=Ce[1],Be=Ce[2];return pack(Te,Re,Be,1)}if(n.length===4){var Ue=n.map(getTokenColorValue),Te=Ue[0],Re=Ue[1],Be=Ue[2],Oe=Ue[3];return pack(Te,Re,Be,Oe)}return 0};function hue2rgb(Ee,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-Ee)*n*6+Ee:n<1/2?t:n<2/3?(t-Ee)*6*(2/3-n)+Ee:Ee}var hsl=function(Ee,t){var n=t.filter(nonFunctionArgSeparator),Ce=n[0],Te=n[1],Re=n[2],Be=n[3],Ue=(Ce.type===17?deg(Ce.number):angle.parse(Ee,Ce))/(Math.PI*2),Oe=isLengthPercentage(Te)?Te.number/100:0,Me=isLengthPercentage(Re)?Re.number/100:0,Qe=typeof Be<"u"&&isLengthPercentage(Be)?getAbsoluteValue(Be,1):1;if(Oe===0)return pack(Me*255,Me*255,Me*255,1);var Ke=Me<=.5?Me*(Oe+1):Me+Oe-Me*Oe,Ge=Me*2-Ke,qe=hue2rgb(Ge,Ke,Ue+1/3),Xe=hue2rgb(Ge,Ke,Ue),tr=hue2rgb(Ge,Ke,Ue-1/3);return pack(qe*255,Xe*255,tr*255,Qe)},SUPPORTED_COLOR_FUNCTIONS={hsl,hsla:hsl,rgb:rgb$1,rgba:rgb$1},parseColor=function(Ee,t){return color$1.parse(Ee,Parser.create(t).parseComponentValue())},COLORS={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},backgroundClip={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(Ee,t){return t.map(function(n){if(isIdentToken(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},backgroundColor={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},parseColorStop=function(Ee,t){var n=color$1.parse(Ee,t[0]),Ce=t[1];return Ce&&isLengthPercentage(Ce)?{color:n,stop:Ce}:{color:n,stop:null}},processColorStops=function(Ee,t){var n=Ee[0],Ce=Ee[Ee.length-1];n.stop===null&&(n.stop=ZERO_LENGTH),Ce.stop===null&&(Ce.stop=HUNDRED_PERCENT);for(var Te=[],Re=0,Be=0;Be<Ee.length;Be++){var Ue=Ee[Be].stop;if(Ue!==null){var Oe=getAbsoluteValue(Ue,t);Oe>Re?Te.push(Oe):Te.push(Re),Re=Oe}else Te.push(null)}for(var Me=null,Be=0;Be<Te.length;Be++){var Qe=Te[Be];if(Qe===null)Me===null&&(Me=Be);else if(Me!==null){for(var Ke=Be-Me,Ge=Te[Me-1],qe=(Qe-Ge)/(Ke+1),Xe=1;Xe<=Ke;Xe++)Te[Me+Xe-1]=qe*Xe;Me=null}}return Ee.map(function(tr,Je){var Ye=tr.color;return{color:Ye,stop:Math.max(Math.min(1,Te[Je]/t),0)}})},getAngleFromCorner=function(Ee,t,n){var Ce=t/2,Te=n/2,Re=getAbsoluteValue(Ee[0],t)-Ce,Be=Te-getAbsoluteValue(Ee[1],n);return(Math.atan2(Be,Re)+Math.PI*2)%(Math.PI*2)},calculateGradientDirection=function(Ee,t,n){var Ce=typeof Ee=="number"?Ee:getAngleFromCorner(Ee,t,n),Te=Math.abs(t*Math.sin(Ce))+Math.abs(n*Math.cos(Ce)),Re=t/2,Be=n/2,Ue=Te/2,Oe=Math.sin(Ce-Math.PI/2)*Ue,Me=Math.cos(Ce-Math.PI/2)*Ue;return[Te,Re-Me,Re+Me,Be-Oe,Be+Oe]},distance=function(Ee,t){return Math.sqrt(Ee*Ee+t*t)},findCorner=function(Ee,t,n,Ce,Te){var Re=[[0,0],[0,t],[Ee,0],[Ee,t]];return Re.reduce(function(Be,Ue){var Oe=Ue[0],Me=Ue[1],Qe=distance(n-Oe,Ce-Me);return(Te?Qe<Be.optimumDistance:Qe>Be.optimumDistance)?{optimumCorner:Ue,optimumDistance:Qe}:Be},{optimumDistance:Te?1/0:-1/0,optimumCorner:null}).optimumCorner},calculateRadius=function(Ee,t,n,Ce,Te){var Re=0,Be=0;switch(Ee.size){case 0:Ee.shape===0?Re=Be=Math.min(Math.abs(t),Math.abs(t-Ce),Math.abs(n),Math.abs(n-Te)):Ee.shape===1&&(Re=Math.min(Math.abs(t),Math.abs(t-Ce)),Be=Math.min(Math.abs(n),Math.abs(n-Te)));break;case 2:if(Ee.shape===0)Re=Be=Math.min(distance(t,n),distance(t,n-Te),distance(t-Ce,n),distance(t-Ce,n-Te));else if(Ee.shape===1){var Ue=Math.min(Math.abs(n),Math.abs(n-Te))/Math.min(Math.abs(t),Math.abs(t-Ce)),Oe=findCorner(Ce,Te,t,n,!0),Me=Oe[0],Qe=Oe[1];Re=distance(Me-t,(Qe-n)/Ue),Be=Ue*Re}break;case 1:Ee.shape===0?Re=Be=Math.max(Math.abs(t),Math.abs(t-Ce),Math.abs(n),Math.abs(n-Te)):Ee.shape===1&&(Re=Math.max(Math.abs(t),Math.abs(t-Ce)),Be=Math.max(Math.abs(n),Math.abs(n-Te)));break;case 3:if(Ee.shape===0)Re=Be=Math.max(distance(t,n),distance(t,n-Te),distance(t-Ce,n),distance(t-Ce,n-Te));else if(Ee.shape===1){var Ue=Math.max(Math.abs(n),Math.abs(n-Te))/Math.max(Math.abs(t),Math.abs(t-Ce)),Ke=findCorner(Ce,Te,t,n,!1),Me=Ke[0],Qe=Ke[1];Re=distance(Me-t,(Qe-n)/Ue),Be=Ue*Re}break}return Array.isArray(Ee.size)&&(Re=getAbsoluteValue(Ee.size[0],Ce),Be=Ee.size.length===2?getAbsoluteValue(Ee.size[1],Te):Re),[Re,Be]},linearGradient=function(Ee,t){var n=deg(180),Ce=[];return parseFunctionArgs(t).forEach(function(Te,Re){if(Re===0){var Be=Te[0];if(Be.type===20&&Be.value==="to"){n=parseNamedSide(Te);return}else if(isAngle(Be)){n=angle.parse(Ee,Be);return}}var Ue=parseColorStop(Ee,Te);Ce.push(Ue)}),{angle:n,stops:Ce,type:1}},prefixLinearGradient=function(Ee,t){var n=deg(180),Ce=[];return parseFunctionArgs(t).forEach(function(Te,Re){if(Re===0){var Be=Te[0];if(Be.type===20&&["top","left","right","bottom"].indexOf(Be.value)!==-1){n=parseNamedSide(Te);return}else if(isAngle(Be)){n=(angle.parse(Ee,Be)+deg(270))%deg(360);return}}var Ue=parseColorStop(Ee,Te);Ce.push(Ue)}),{angle:n,stops:Ce,type:1}},webkitGradient=function(Ee,t){var n=deg(180),Ce=[],Te=1,Re=0,Be=3,Ue=[];return parseFunctionArgs(t).forEach(function(Oe,Me){var Qe=Oe[0];if(Me===0){if(isIdentToken(Qe)&&Qe.value==="linear"){Te=1;return}else if(isIdentToken(Qe)&&Qe.value==="radial"){Te=2;return}}if(Qe.type===18){if(Qe.name==="from"){var Ke=color$1.parse(Ee,Qe.values[0]);Ce.push({stop:ZERO_LENGTH,color:Ke})}else if(Qe.name==="to"){var Ke=color$1.parse(Ee,Qe.values[0]);Ce.push({stop:HUNDRED_PERCENT,color:Ke})}else if(Qe.name==="color-stop"){var Ge=Qe.values.filter(nonFunctionArgSeparator);if(Ge.length===2){var Ke=color$1.parse(Ee,Ge[1]),qe=Ge[0];isNumberToken(qe)&&Ce.push({stop:{type:16,number:qe.number*100,flags:qe.flags},color:Ke})}}}}),Te===1?{angle:(n+deg(180))%deg(360),stops:Ce,type:Te}:{size:Be,shape:Re,stops:Ce,position:Ue,type:Te}},CLOSEST_SIDE="closest-side",FARTHEST_SIDE="farthest-side",CLOSEST_CORNER="closest-corner",FARTHEST_CORNER="farthest-corner",CIRCLE="circle",ELLIPSE="ellipse",COVER="cover",CONTAIN="contain",radialGradient=function(Ee,t){var n=0,Ce=3,Te=[],Re=[];return parseFunctionArgs(t).forEach(function(Be,Ue){var Oe=!0;if(Ue===0){var Me=!1;Oe=Be.reduce(function(Ke,Ge){if(Me)if(isIdentToken(Ge))switch(Ge.value){case"center":return Re.push(FIFTY_PERCENT),Ke;case"top":case"left":return Re.push(ZERO_LENGTH),Ke;case"right":case"bottom":return Re.push(HUNDRED_PERCENT),Ke}else(isLengthPercentage(Ge)||isLength(Ge))&&Re.push(Ge);else if(isIdentToken(Ge))switch(Ge.value){case CIRCLE:return n=0,!1;case ELLIPSE:return n=1,!1;case"at":return Me=!0,!1;case CLOSEST_SIDE:return Ce=0,!1;case COVER:case FARTHEST_SIDE:return Ce=1,!1;case CONTAIN:case CLOSEST_CORNER:return Ce=2,!1;case FARTHEST_CORNER:return Ce=3,!1}else if(isLength(Ge)||isLengthPercentage(Ge))return Array.isArray(Ce)||(Ce=[]),Ce.push(Ge),!1;return Ke},Oe)}if(Oe){var Qe=parseColorStop(Ee,Be);Te.push(Qe)}}),{size:Ce,shape:n,stops:Te,position:Re,type:2}},prefixRadialGradient=function(Ee,t){var n=0,Ce=3,Te=[],Re=[];return parseFunctionArgs(t).forEach(function(Be,Ue){var Oe=!0;if(Ue===0?Oe=Be.reduce(function(Qe,Ke){if(isIdentToken(Ke))switch(Ke.value){case"center":return Re.push(FIFTY_PERCENT),!1;case"top":case"left":return Re.push(ZERO_LENGTH),!1;case"right":case"bottom":return Re.push(HUNDRED_PERCENT),!1}else if(isLengthPercentage(Ke)||isLength(Ke))return Re.push(Ke),!1;return Qe},Oe):Ue===1&&(Oe=Be.reduce(function(Qe,Ke){if(isIdentToken(Ke))switch(Ke.value){case CIRCLE:return n=0,!1;case ELLIPSE:return n=1,!1;case CONTAIN:case CLOSEST_SIDE:return Ce=0,!1;case FARTHEST_SIDE:return Ce=1,!1;case CLOSEST_CORNER:return Ce=2,!1;case COVER:case FARTHEST_CORNER:return Ce=3,!1}else if(isLength(Ke)||isLengthPercentage(Ke))return Array.isArray(Ce)||(Ce=[]),Ce.push(Ke),!1;return Qe},Oe)),Oe){var Me=parseColorStop(Ee,Be);Te.push(Me)}}),{size:Ce,shape:n,stops:Te,position:Re,type:2}},isLinearGradient=function(Ee){return Ee.type===1},isRadialGradient=function(Ee){return Ee.type===2},image={name:"image",parse:function(Ee,t){if(t.type===22){var n={url:t.value,type:0};return Ee.cache.addImage(t.value),n}if(t.type===18){var Ce=SUPPORTED_IMAGE_FUNCTIONS[t.name];if(typeof Ce>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return Ce(Ee,t.values)}throw new Error("Unsupported image type "+t.type)}};function isSupportedImage(Ee){return!(Ee.type===20&&Ee.value==="none")&&(Ee.type!==18||!!SUPPORTED_IMAGE_FUNCTIONS[Ee.name])}var SUPPORTED_IMAGE_FUNCTIONS={"linear-gradient":linearGradient,"-moz-linear-gradient":prefixLinearGradient,"-ms-linear-gradient":prefixLinearGradient,"-o-linear-gradient":prefixLinearGradient,"-webkit-linear-gradient":prefixLinearGradient,"radial-gradient":radialGradient,"-moz-radial-gradient":prefixRadialGradient,"-ms-radial-gradient":prefixRadialGradient,"-o-radial-gradient":prefixRadialGradient,"-webkit-radial-gradient":prefixRadialGradient,"-webkit-gradient":webkitGradient},backgroundImage={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(Ee,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t.filter(function(Ce){return nonFunctionArgSeparator(Ce)&&isSupportedImage(Ce)}).map(function(Ce){return image.parse(Ee,Ce)})}},backgroundOrigin={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(Ee,t){return t.map(function(n){if(isIdentToken(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},backgroundPosition={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(Ee,t){return parseFunctionArgs(t).map(function(n){return n.filter(isLengthPercentage)}).map(parseLengthPercentageTuple)}},backgroundRepeat={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(Ee,t){return parseFunctionArgs(t).map(function(n){return n.filter(isIdentToken).map(function(Ce){return Ce.value}).join(" ")}).map(parseBackgroundRepeat)}},parseBackgroundRepeat=function(Ee){switch(Ee){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},BACKGROUND_SIZE;(function(Ee){Ee.AUTO="auto",Ee.CONTAIN="contain",Ee.COVER="cover"})(BACKGROUND_SIZE||(BACKGROUND_SIZE={}));var backgroundSize={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(Ee,t){return parseFunctionArgs(t).map(function(n){return n.filter(isBackgroundSizeInfoToken)})}},isBackgroundSizeInfoToken=function(Ee){return isIdentToken(Ee)||isLengthPercentage(Ee)},borderColorForSide=function(Ee){return{name:"border-"+Ee+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},borderTopColor=borderColorForSide("top"),borderRightColor=borderColorForSide("right"),borderBottomColor=borderColorForSide("bottom"),borderLeftColor=borderColorForSide("left"),borderRadiusForSide=function(Ee){return{name:"border-radius-"+Ee,initialValue:"0 0",prefix:!1,type:1,parse:function(t,n){return parseLengthPercentageTuple(n.filter(isLengthPercentage))}}},borderTopLeftRadius=borderRadiusForSide("top-left"),borderTopRightRadius=borderRadiusForSide("top-right"),borderBottomRightRadius=borderRadiusForSide("bottom-right"),borderBottomLeftRadius=borderRadiusForSide("bottom-left"),borderStyleForSide=function(Ee){return{name:"border-"+Ee+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},borderTopStyle=borderStyleForSide("top"),borderRightStyle=borderStyleForSide("right"),borderBottomStyle=borderStyleForSide("bottom"),borderLeftStyle=borderStyleForSide("left"),borderWidthForSide=function(Ee){return{name:"border-"+Ee+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return isDimensionToken(n)?n.number:0}}},borderTopWidth=borderWidthForSide("top"),borderRightWidth=borderWidthForSide("right"),borderBottomWidth=borderWidthForSide("bottom"),borderLeftWidth=borderWidthForSide("left"),color={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},direction={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},display={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(Ee,t){return t.filter(isIdentToken).reduce(function(n,Ce){return n|parseDisplayValue(Ce.value)},0)}},parseDisplayValue=function(Ee){switch(Ee){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},float={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},letterSpacing={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(Ee,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},LINE_BREAK;(function(Ee){Ee.NORMAL="normal",Ee.STRICT="strict"})(LINE_BREAK||(LINE_BREAK={}));var lineBreak={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"strict":return LINE_BREAK.STRICT;case"normal":default:return LINE_BREAK.NORMAL}}},lineHeight={name:"line-height",initialValue:"normal",prefix:!1,type:4},computeLineHeight=function(Ee,t){return isIdentToken(Ee)&&Ee.value==="normal"?1.2*t:Ee.type===17?t*Ee.number:isLengthPercentage(Ee)?getAbsoluteValue(Ee,t):t},listStyleImage={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(Ee,t){return t.type===20&&t.value==="none"?null:image.parse(Ee,t)}},listStylePosition={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},listStyleType={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},marginForSide=function(Ee){return{name:"margin-"+Ee,initialValue:"0",prefix:!1,type:4}},marginTop=marginForSide("top"),marginRight=marginForSide("right"),marginBottom=marginForSide("bottom"),marginLeft=marginForSide("left"),overflow={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(Ee,t){return t.filter(isIdentToken).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},overflowWrap={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},paddingForSide=function(Ee){return{name:"padding-"+Ee,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},paddingTop=paddingForSide("top"),paddingRight=paddingForSide("right"),paddingBottom=paddingForSide("bottom"),paddingLeft=paddingForSide("left"),textAlign={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},position={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},textShadow={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(Ee,t){return t.length===1&&isIdentWithValue(t[0],"none")?[]:parseFunctionArgs(t).map(function(n){for(var Ce={color:COLORS.TRANSPARENT,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH},Te=0,Re=0;Re<n.length;Re++){var Be=n[Re];isLength(Be)?(Te===0?Ce.offsetX=Be:Te===1?Ce.offsetY=Be:Ce.blur=Be,Te++):Ce.color=color$1.parse(Ee,Be)}return Ce})}},textTransform={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},transform$1={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(Ee,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var n=SUPPORTED_TRANSFORM_FUNCTIONS[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},matrix=function(Ee){var t=Ee.filter(function(n){return n.type===17}).map(function(n){return n.number});return t.length===6?t:null},matrix3d=function(Ee){var t=Ee.filter(function(Oe){return Oe.type===17}).map(function(Oe){return Oe.number}),n=t[0],Ce=t[1];t[2],t[3];var Te=t[4],Re=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var Be=t[12],Ue=t[13];return t[14],t[15],t.length===16?[n,Ce,Te,Re,Be,Ue]:null},SUPPORTED_TRANSFORM_FUNCTIONS={matrix,matrix3d},DEFAULT_VALUE={type:16,number:50,flags:FLAG_INTEGER},DEFAULT=[DEFAULT_VALUE,DEFAULT_VALUE],transformOrigin={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(Ee,t){var n=t.filter(isLengthPercentage);return n.length!==2?DEFAULT:[n[0],n[1]]}},visibility={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},WORD_BREAK;(function(Ee){Ee.NORMAL="normal",Ee.BREAK_ALL="break-all",Ee.KEEP_ALL="keep-all"})(WORD_BREAK||(WORD_BREAK={}));var wordBreak={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"break-all":return WORD_BREAK.BREAK_ALL;case"keep-all":return WORD_BREAK.KEEP_ALL;case"normal":default:return WORD_BREAK.NORMAL}}},zIndex={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(Ee,t){if(t.type===20)return{auto:!0,order:0};if(isNumberToken(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},time={name:"time",parse:function(Ee,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},opacity={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(Ee,t){return isNumberToken(t)?t.number:1}},textDecorationColor={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},textDecorationLine={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(Ee,t){return t.filter(isIdentToken).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},fontFamily={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(Ee,t){var n=[],Ce=[];return t.forEach(function(Te){switch(Te.type){case 20:case 0:n.push(Te.value);break;case 17:n.push(Te.number.toString());break;case 4:Ce.push(n.join(" ")),n.length=0;break}}),n.length&&Ce.push(n.join(" ")),Ce.map(function(Te){return Te.indexOf(" ")===-1?Te:"'"+Te+"'"})}},fontSize={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},fontWeight={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(Ee,t){if(isNumberToken(t))return t.number;if(isIdentToken(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},fontVariant={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(Ee,t){return t.filter(isIdentToken).map(function(n){return n.value})}},fontStyle={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},contains=function(Ee,t){return(Ee&t)!==0},content={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(Ee,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t}},counterIncrement={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(Ee,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;for(var Ce=[],Te=t.filter(nonWhiteSpace),Re=0;Re<Te.length;Re++){var Be=Te[Re],Ue=Te[Re+1];if(Be.type===20){var Oe=Ue&&isNumberToken(Ue)?Ue.number:1;Ce.push({counter:Be.value,increment:Oe})}}return Ce}},counterReset={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(Ee,t){if(t.length===0)return[];for(var n=[],Ce=t.filter(nonWhiteSpace),Te=0;Te<Ce.length;Te++){var Re=Ce[Te],Be=Ce[Te+1];if(isIdentToken(Re)&&Re.value!=="none"){var Ue=Be&&isNumberToken(Be)?Be.number:0;n.push({counter:Re.value,reset:Ue})}}return n}},duration={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(Ee,t){return t.filter(isDimensionToken).map(function(n){return time.parse(Ee,n)})}},quotes={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(Ee,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;var Ce=[],Te=t.filter(isStringToken);if(Te.length%2!==0)return null;for(var Re=0;Re<Te.length;Re+=2){var Be=Te[Re].value,Ue=Te[Re+1].value;Ce.push({open:Be,close:Ue})}return Ce}},getQuote=function(Ee,t,n){if(!Ee)return"";var Ce=Ee[Math.min(t,Ee.length-1)];return Ce?n?Ce.open:Ce.close:""},boxShadow={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(Ee,t){return t.length===1&&isIdentWithValue(t[0],"none")?[]:parseFunctionArgs(t).map(function(n){for(var Ce={color:255,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH,spread:ZERO_LENGTH,inset:!1},Te=0,Re=0;Re<n.length;Re++){var Be=n[Re];isIdentWithValue(Be,"inset")?Ce.inset=!0:isLength(Be)?(Te===0?Ce.offsetX=Be:Te===1?Ce.offsetY=Be:Te===2?Ce.blur=Be:Ce.spread=Be,Te++):Ce.color=color$1.parse(Ee,Be)}return Ce})}},paintOrder={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(Ee,t){var n=[0,1,2],Ce=[];return t.filter(isIdentToken).forEach(function(Te){switch(Te.value){case"stroke":Ce.push(1);break;case"fill":Ce.push(0);break;case"markers":Ce.push(2);break}}),n.forEach(function(Te){Ce.indexOf(Te)===-1&&Ce.push(Te)}),Ce}},webkitTextStrokeColor={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},webkitTextStrokeWidth={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(Ee,t){return isDimensionToken(t)?t.number:0}},CSSParsedDeclaration=(function(){function Ee(t,n){var Ce,Te;this.animationDuration=parse$1(t,duration,n.animationDuration),this.backgroundClip=parse$1(t,backgroundClip,n.backgroundClip),this.backgroundColor=parse$1(t,backgroundColor,n.backgroundColor),this.backgroundImage=parse$1(t,backgroundImage,n.backgroundImage),this.backgroundOrigin=parse$1(t,backgroundOrigin,n.backgroundOrigin),this.backgroundPosition=parse$1(t,backgroundPosition,n.backgroundPosition),this.backgroundRepeat=parse$1(t,backgroundRepeat,n.backgroundRepeat),this.backgroundSize=parse$1(t,backgroundSize,n.backgroundSize),this.borderTopColor=parse$1(t,borderTopColor,n.borderTopColor),this.borderRightColor=parse$1(t,borderRightColor,n.borderRightColor),this.borderBottomColor=parse$1(t,borderBottomColor,n.borderBottomColor),this.borderLeftColor=parse$1(t,borderLeftColor,n.borderLeftColor),this.borderTopLeftRadius=parse$1(t,borderTopLeftRadius,n.borderTopLeftRadius),this.borderTopRightRadius=parse$1(t,borderTopRightRadius,n.borderTopRightRadius),this.borderBottomRightRadius=parse$1(t,borderBottomRightRadius,n.borderBottomRightRadius),this.borderBottomLeftRadius=parse$1(t,borderBottomLeftRadius,n.borderBottomLeftRadius),this.borderTopStyle=parse$1(t,borderTopStyle,n.borderTopStyle),this.borderRightStyle=parse$1(t,borderRightStyle,n.borderRightStyle),this.borderBottomStyle=parse$1(t,borderBottomStyle,n.borderBottomStyle),this.borderLeftStyle=parse$1(t,borderLeftStyle,n.borderLeftStyle),this.borderTopWidth=parse$1(t,borderTopWidth,n.borderTopWidth),this.borderRightWidth=parse$1(t,borderRightWidth,n.borderRightWidth),this.borderBottomWidth=parse$1(t,borderBottomWidth,n.borderBottomWidth),this.borderLeftWidth=parse$1(t,borderLeftWidth,n.borderLeftWidth),this.boxShadow=parse$1(t,boxShadow,n.boxShadow),this.color=parse$1(t,color,n.color),this.direction=parse$1(t,direction,n.direction),this.display=parse$1(t,display,n.display),this.float=parse$1(t,float,n.cssFloat),this.fontFamily=parse$1(t,fontFamily,n.fontFamily),this.fontSize=parse$1(t,fontSize,n.fontSize),this.fontStyle=parse$1(t,fontStyle,n.fontStyle),this.fontVariant=parse$1(t,fontVariant,n.fontVariant),this.fontWeight=parse$1(t,fontWeight,n.fontWeight),this.letterSpacing=parse$1(t,letterSpacing,n.letterSpacing),this.lineBreak=parse$1(t,lineBreak,n.lineBreak),this.lineHeight=parse$1(t,lineHeight,n.lineHeight),this.listStyleImage=parse$1(t,listStyleImage,n.listStyleImage),this.listStylePosition=parse$1(t,listStylePosition,n.listStylePosition),this.listStyleType=parse$1(t,listStyleType,n.listStyleType),this.marginTop=parse$1(t,marginTop,n.marginTop),this.marginRight=parse$1(t,marginRight,n.marginRight),this.marginBottom=parse$1(t,marginBottom,n.marginBottom),this.marginLeft=parse$1(t,marginLeft,n.marginLeft),this.opacity=parse$1(t,opacity,n.opacity);var Re=parse$1(t,overflow,n.overflow);this.overflowX=Re[0],this.overflowY=Re[Re.length>1?1:0],this.overflowWrap=parse$1(t,overflowWrap,n.overflowWrap),this.paddingTop=parse$1(t,paddingTop,n.paddingTop),this.paddingRight=parse$1(t,paddingRight,n.paddingRight),this.paddingBottom=parse$1(t,paddingBottom,n.paddingBottom),this.paddingLeft=parse$1(t,paddingLeft,n.paddingLeft),this.paintOrder=parse$1(t,paintOrder,n.paintOrder),this.position=parse$1(t,position,n.position),this.textAlign=parse$1(t,textAlign,n.textAlign),this.textDecorationColor=parse$1(t,textDecorationColor,(Ce=n.textDecorationColor)!==null&&Ce!==void 0?Ce:n.color),this.textDecorationLine=parse$1(t,textDecorationLine,(Te=n.textDecorationLine)!==null&&Te!==void 0?Te:n.textDecoration),this.textShadow=parse$1(t,textShadow,n.textShadow),this.textTransform=parse$1(t,textTransform,n.textTransform),this.transform=parse$1(t,transform$1,n.transform),this.transformOrigin=parse$1(t,transformOrigin,n.transformOrigin),this.visibility=parse$1(t,visibility,n.visibility),this.webkitTextStrokeColor=parse$1(t,webkitTextStrokeColor,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=parse$1(t,webkitTextStrokeWidth,n.webkitTextStrokeWidth),this.wordBreak=parse$1(t,wordBreak,n.wordBreak),this.zIndex=parse$1(t,zIndex,n.zIndex)}return Ee.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},Ee.prototype.isTransparent=function(){return isTransparent(this.backgroundColor)},Ee.prototype.isTransformed=function(){return this.transform!==null},Ee.prototype.isPositioned=function(){return this.position!==0},Ee.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},Ee.prototype.isFloating=function(){return this.float!==0},Ee.prototype.isInlineLevel=function(){return contains(this.display,4)||contains(this.display,33554432)||contains(this.display,268435456)||contains(this.display,536870912)||contains(this.display,67108864)||contains(this.display,134217728)},Ee})(),CSSParsedPseudoDeclaration=(function(){function Ee(t,n){this.content=parse$1(t,content,n.content),this.quotes=parse$1(t,quotes,n.quotes)}return Ee})(),CSSParsedCounterDeclaration=(function(){function Ee(t,n){this.counterIncrement=parse$1(t,counterIncrement,n.counterIncrement),this.counterReset=parse$1(t,counterReset,n.counterReset)}return Ee})(),parse$1=function(Ee,t,n){var Ce=new Tokenizer,Te=n!==null&&typeof n<"u"?n.toString():t.initialValue;Ce.write(Te);var Re=new Parser(Ce.read());switch(t.type){case 2:var Be=Re.parseComponentValue();return t.parse(Ee,isIdentToken(Be)?Be.value:t.initialValue);case 0:return t.parse(Ee,Re.parseComponentValue());case 1:return t.parse(Ee,Re.parseComponentValues());case 4:return Re.parseComponentValue();case 3:switch(t.format){case"angle":return angle.parse(Ee,Re.parseComponentValue());case"color":return color$1.parse(Ee,Re.parseComponentValue());case"image":return image.parse(Ee,Re.parseComponentValue());case"length":var Ue=Re.parseComponentValue();return isLength(Ue)?Ue:ZERO_LENGTH;case"length-percentage":var Oe=Re.parseComponentValue();return isLengthPercentage(Oe)?Oe:ZERO_LENGTH;case"time":return time.parse(Ee,Re.parseComponentValue())}break}},elementDebuggerAttribute="data-html2canvas-debug",getElementDebugType=function(Ee){var t=Ee.getAttribute(elementDebuggerAttribute);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},isDebugging=function(Ee,t){var n=getElementDebugType(Ee);return n===1||t===n},ElementContainer=(function(){function Ee(t,n){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,isDebugging(n,3))debugger;this.styles=new CSSParsedDeclaration(t,window.getComputedStyle(n,null)),isHTMLElementNode(n)&&(this.styles.animationDuration.some(function(Ce){return Ce>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=parseBounds(this.context,n),isDebugging(n,4)&&(this.flags|=16)}return Ee})(),base64="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",chars$1$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1$2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$1$2=0;i$1$2<chars$1$2.length;i$1$2++)lookup$1$2[chars$1$2.charCodeAt(i$1$2)]=i$1$2;var decode$2=function(Ee){var t=Ee.length*.75,n=Ee.length,Ce,Te=0,Re,Be,Ue,Oe;Ee[Ee.length-1]==="="&&(t--,Ee[Ee.length-2]==="="&&t--);var Me=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),Qe=Array.isArray(Me)?Me:new Uint8Array(Me);for(Ce=0;Ce<n;Ce+=4)Re=lookup$1$2[Ee.charCodeAt(Ce)],Be=lookup$1$2[Ee.charCodeAt(Ce+1)],Ue=lookup$1$2[Ee.charCodeAt(Ce+2)],Oe=lookup$1$2[Ee.charCodeAt(Ce+3)],Qe[Te++]=Re<<2|Be>>4,Qe[Te++]=(Be&15)<<4|Ue>>2,Qe[Te++]=(Ue&3)<<6|Oe&63;return Me},polyUint16Array=function(Ee){for(var t=Ee.length,n=[],Ce=0;Ce<t;Ce+=2)n.push(Ee[Ce+1]<<8|Ee[Ce]);return n},polyUint32Array=function(Ee){for(var t=Ee.length,n=[],Ce=0;Ce<t;Ce+=4)n.push(Ee[Ce+3]<<24|Ee[Ce+2]<<16|Ee[Ce+1]<<8|Ee[Ce]);return n},UTRIE2_SHIFT_2=5,UTRIE2_SHIFT_1=11,UTRIE2_INDEX_SHIFT=2,UTRIE2_SHIFT_1_2=UTRIE2_SHIFT_1-UTRIE2_SHIFT_2,UTRIE2_LSCP_INDEX_2_OFFSET=65536>>UTRIE2_SHIFT_2,UTRIE2_DATA_BLOCK_LENGTH=1<<UTRIE2_SHIFT_2,UTRIE2_DATA_MASK=UTRIE2_DATA_BLOCK_LENGTH-1,UTRIE2_LSCP_INDEX_2_LENGTH=1024>>UTRIE2_SHIFT_2,UTRIE2_INDEX_2_BMP_LENGTH=UTRIE2_LSCP_INDEX_2_OFFSET+UTRIE2_LSCP_INDEX_2_LENGTH,UTRIE2_UTF8_2B_INDEX_2_OFFSET=UTRIE2_INDEX_2_BMP_LENGTH,UTRIE2_UTF8_2B_INDEX_2_LENGTH=32,UTRIE2_INDEX_1_OFFSET=UTRIE2_UTF8_2B_INDEX_2_OFFSET+UTRIE2_UTF8_2B_INDEX_2_LENGTH,UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=65536>>UTRIE2_SHIFT_1,UTRIE2_INDEX_2_BLOCK_LENGTH=1<<UTRIE2_SHIFT_1_2,UTRIE2_INDEX_2_MASK=UTRIE2_INDEX_2_BLOCK_LENGTH-1,slice16=function(Ee,t,n){return Ee.slice?Ee.slice(t,n):new Uint16Array(Array.prototype.slice.call(Ee,t,n))},slice32=function(Ee,t,n){return Ee.slice?Ee.slice(t,n):new Uint32Array(Array.prototype.slice.call(Ee,t,n))},createTrieFromBase64=function(Ee,t){var n=decode$2(Ee),Ce=Array.isArray(n)?polyUint32Array(n):new Uint32Array(n),Te=Array.isArray(n)?polyUint16Array(n):new Uint16Array(n),Re=24,Be=slice16(Te,Re/2,Ce[4]/2),Ue=Ce[5]===2?slice16(Te,(Re+Ce[4])/2):slice32(Ce,Math.ceil((Re+Ce[4])/4));return new Trie(Ce[0],Ce[1],Ce[2],Ce[3],Be,Ue)},Trie=(function(){function Ee(t,n,Ce,Te,Re,Be){this.initialValue=t,this.errorValue=n,this.highStart=Ce,this.highValueIndex=Te,this.index=Re,this.data=Be}return Ee.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>UTRIE2_SHIFT_2],n=(n<<UTRIE2_INDEX_SHIFT)+(t&UTRIE2_DATA_MASK),this.data[n];if(t<=65535)return n=this.index[UTRIE2_LSCP_INDEX_2_OFFSET+(t-55296>>UTRIE2_SHIFT_2)],n=(n<<UTRIE2_INDEX_SHIFT)+(t&UTRIE2_DATA_MASK),this.data[n];if(t<this.highStart)return n=UTRIE2_INDEX_1_OFFSET-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH+(t>>UTRIE2_SHIFT_1),n=this.index[n],n+=t>>UTRIE2_SHIFT_2&UTRIE2_INDEX_2_MASK,n=this.index[n],n=(n<<UTRIE2_INDEX_SHIFT)+(t&UTRIE2_DATA_MASK),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},Ee})(),chars$4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$4=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$4=0;i$4<chars$4.length;i$4++)lookup$4[chars$4.charCodeAt(i$4)]=i$4;var Prepend=1,CR=2,LF=3,Control=4,Extend=5,SpacingMark=7,L$1=8,V$1=9,T$1=10,LV=11,LVT=12,ZWJ=13,Extended_Pictographic=14,RI=15,toCodePoints=function(Ee){for(var t=[],n=0,Ce=Ee.length;n<Ce;){var Te=Ee.charCodeAt(n++);if(Te>=55296&&Te<=56319&&n<Ce){var Re=Ee.charCodeAt(n++);(Re&64512)===56320?t.push(((Te&1023)<<10)+(Re&1023)+65536):(t.push(Te),n--)}else t.push(Te)}return t},fromCodePoint=function(){for(var Ee=[],t=0;t<arguments.length;t++)Ee[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,Ee);var n=Ee.length;if(!n)return"";for(var Ce=[],Te=-1,Re="";++Te<n;){var Be=Ee[Te];Be<=65535?Ce.push(Be):(Be-=65536,Ce.push((Be>>10)+55296,Be%1024+56320)),(Te+1===n||Ce.length>16384)&&(Re+=String.fromCharCode.apply(String,Ce),Ce.length=0)}return Re},UnicodeTrie=createTrieFromBase64(base64),BREAK_NOT_ALLOWED="",BREAK_ALLOWED="",codePointToClass=function(Ee){return UnicodeTrie.get(Ee)},_graphemeBreakAtIndex=function(Ee,t,n){var Ce=n-2,Te=t[Ce],Re=t[n-1],Be=t[n];if(Re===CR&&Be===LF)return BREAK_NOT_ALLOWED;if(Re===CR||Re===LF||Re===Control||Be===CR||Be===LF||Be===Control)return BREAK_ALLOWED;if(Re===L$1&&[L$1,V$1,LV,LVT].indexOf(Be)!==-1||(Re===LV||Re===V$1)&&(Be===V$1||Be===T$1)||(Re===LVT||Re===T$1)&&Be===T$1||Be===ZWJ||Be===Extend||Be===SpacingMark||Re===Prepend)return BREAK_NOT_ALLOWED;if(Re===ZWJ&&Be===Extended_Pictographic){for(;Te===Extend;)Te=t[--Ce];if(Te===Extended_Pictographic)return BREAK_NOT_ALLOWED}if(Re===RI&&Be===RI){for(var Ue=0;Te===RI;)Ue++,Te=t[--Ce];if(Ue%2===0)return BREAK_NOT_ALLOWED}return BREAK_ALLOWED},GraphemeBreaker=function(Ee){var t=toCodePoints(Ee),n=t.length,Ce=0,Te=0,Re=t.map(codePointToClass);return{next:function(){if(Ce>=n)return{done:!0,value:null};for(var Be=BREAK_NOT_ALLOWED;Ce<n&&(Be=_graphemeBreakAtIndex(t,Re,++Ce))===BREAK_NOT_ALLOWED;);if(Be!==BREAK_NOT_ALLOWED||Ce===n){var Ue=fromCodePoint.apply(null,t.slice(Te,Ce));return Te=Ce,{value:Ue,done:!1}}return{done:!0,value:null}}}},splitGraphemes=function(Ee){for(var t=GraphemeBreaker(Ee),n=[],Ce;!(Ce=t.next()).done;)Ce.value&&n.push(Ce.value.slice());return n},testRangeBounds=function(Ee){var t=123;if(Ee.createRange){var n=Ee.createRange();if(n.getBoundingClientRect){var Ce=Ee.createElement("boundtest");Ce.style.height=t+"px",Ce.style.display="block",Ee.body.appendChild(Ce),n.selectNode(Ce);var Te=n.getBoundingClientRect(),Re=Math.round(Te.height);if(Ee.body.removeChild(Ce),Re===t)return!0}}return!1},testIOSLineBreak=function(Ee){var t=Ee.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",Ee.body.appendChild(t);var n=Ee.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var Ce=t.firstChild,Te=toCodePoints$1(Ce.data).map(function(Oe){return fromCodePoint$1(Oe)}),Re=0,Be={},Ue=Te.every(function(Oe,Me){n.setStart(Ce,Re),n.setEnd(Ce,Re+Oe.length);var Qe=n.getBoundingClientRect();Re+=Oe.length;var Ke=Qe.x>Be.x||Qe.y>Be.y;return Be=Qe,Me===0?!0:Ke});return Ee.body.removeChild(t),Ue},testCORS=function(){return typeof new Image().crossOrigin<"u"},testResponseType=function(){return typeof new XMLHttpRequest().responseType=="string"},testSVG=function(Ee){var t=new Image,n=Ee.createElement("canvas"),Ce=n.getContext("2d");if(!Ce)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{Ce.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},isGreenPixel=function(Ee){return Ee[0]===0&&Ee[1]===255&&Ee[2]===0&&Ee[3]===255},testForeignObject=function(Ee){var t=Ee.createElement("canvas"),n=100;t.width=n,t.height=n;var Ce=t.getContext("2d");if(!Ce)return Promise.reject(!1);Ce.fillStyle="rgb(0, 255, 0)",Ce.fillRect(0,0,n,n);var Te=new Image,Re=t.toDataURL();Te.src=Re;var Be=createForeignObjectSVG(n,n,0,0,Te);return Ce.fillStyle="red",Ce.fillRect(0,0,n,n),loadSerializedSVG$1(Be).then(function(Ue){Ce.drawImage(Ue,0,0);var Oe=Ce.getImageData(0,0,n,n).data;Ce.fillStyle="red",Ce.fillRect(0,0,n,n);var Me=Ee.createElement("div");return Me.style.backgroundImage="url("+Re+")",Me.style.height=n+"px",isGreenPixel(Oe)?loadSerializedSVG$1(createForeignObjectSVG(n,n,0,0,Me)):Promise.reject(!1)}).then(function(Ue){return Ce.drawImage(Ue,0,0),isGreenPixel(Ce.getImageData(0,0,n,n).data)}).catch(function(){return!1})},createForeignObjectSVG=function(Ee,t,n,Ce,Te){var Re="http://www.w3.org/2000/svg",Be=document.createElementNS(Re,"svg"),Ue=document.createElementNS(Re,"foreignObject");return Be.setAttributeNS(null,"width",Ee.toString()),Be.setAttributeNS(null,"height",t.toString()),Ue.setAttributeNS(null,"width","100%"),Ue.setAttributeNS(null,"height","100%"),Ue.setAttributeNS(null,"x",n.toString()),Ue.setAttributeNS(null,"y",Ce.toString()),Ue.setAttributeNS(null,"externalResourcesRequired","true"),Be.appendChild(Ue),Ue.appendChild(Te),Be},loadSerializedSVG$1=function(Ee){return new Promise(function(t,n){var Ce=new Image;Ce.onload=function(){return t(Ce)},Ce.onerror=n,Ce.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(Ee))})},FEATURES={get SUPPORT_RANGE_BOUNDS(){var Ee=testRangeBounds(document);return Object.defineProperty(FEATURES,"SUPPORT_RANGE_BOUNDS",{value:Ee}),Ee},get SUPPORT_WORD_BREAKING(){var Ee=FEATURES.SUPPORT_RANGE_BOUNDS&&testIOSLineBreak(document);return Object.defineProperty(FEATURES,"SUPPORT_WORD_BREAKING",{value:Ee}),Ee},get SUPPORT_SVG_DRAWING(){var Ee=testSVG(document);return Object.defineProperty(FEATURES,"SUPPORT_SVG_DRAWING",{value:Ee}),Ee},get SUPPORT_FOREIGNOBJECT_DRAWING(){var Ee=typeof Array.from=="function"&&typeof window.fetch=="function"?testForeignObject(document):Promise.resolve(!1);return Object.defineProperty(FEATURES,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:Ee}),Ee},get SUPPORT_CORS_IMAGES(){var Ee=testCORS();return Object.defineProperty(FEATURES,"SUPPORT_CORS_IMAGES",{value:Ee}),Ee},get SUPPORT_RESPONSE_TYPE(){var Ee=testResponseType();return Object.defineProperty(FEATURES,"SUPPORT_RESPONSE_TYPE",{value:Ee}),Ee},get SUPPORT_CORS_XHR(){var Ee="withCredentials"in new XMLHttpRequest;return Object.defineProperty(FEATURES,"SUPPORT_CORS_XHR",{value:Ee}),Ee},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var Ee=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(FEATURES,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:Ee}),Ee}},TextBounds=(function(){function Ee(t,n){this.text=t,this.bounds=n}return Ee})(),parseTextBounds=function(Ee,t,n,Ce){var Te=breakText(t,n),Re=[],Be=0;return Te.forEach(function(Ue){if(n.textDecorationLine.length||Ue.trim().length>0)if(FEATURES.SUPPORT_RANGE_BOUNDS){var Oe=createRange(Ce,Be,Ue.length).getClientRects();if(Oe.length>1){var Me=segmentGraphemes(Ue),Qe=0;Me.forEach(function(Ge){Re.push(new TextBounds(Ge,Bounds.fromDOMRectList(Ee,createRange(Ce,Qe+Be,Ge.length).getClientRects()))),Qe+=Ge.length})}else Re.push(new TextBounds(Ue,Bounds.fromDOMRectList(Ee,Oe)))}else{var Ke=Ce.splitText(Ue.length);Re.push(new TextBounds(Ue,getWrapperBounds(Ee,Ce))),Ce=Ke}else FEATURES.SUPPORT_RANGE_BOUNDS||(Ce=Ce.splitText(Ue.length));Be+=Ue.length}),Re},getWrapperBounds=function(Ee,t){var n=t.ownerDocument;if(n){var Ce=n.createElement("html2canvaswrapper");Ce.appendChild(t.cloneNode(!0));var Te=t.parentNode;if(Te){Te.replaceChild(Ce,t);var Re=parseBounds(Ee,Ce);return Ce.firstChild&&Te.replaceChild(Ce.firstChild,Ce),Re}}return Bounds.EMPTY},createRange=function(Ee,t,n){var Ce=Ee.ownerDocument;if(!Ce)throw new Error("Node has no owner document");var Te=Ce.createRange();return Te.setStart(Ee,t),Te.setEnd(Ee,t+n),Te},segmentGraphemes=function(Ee){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(Ee)).map(function(n){return n.segment})}return splitGraphemes(Ee)},segmentWords=function(Ee,t){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(Ee)).map(function(Ce){return Ce.segment})}return breakWords(Ee,t)},breakText=function(Ee,t){return t.letterSpacing!==0?segmentGraphemes(Ee):segmentWords(Ee,t)},wordSeparators=[32,160,4961,65792,65793,4153,4241],breakWords=function(Ee,t){for(var n=LineBreaker(Ee,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),Ce=[],Te,Re=function(){if(Te.value){var Be=Te.value.slice(),Ue=toCodePoints$1(Be),Oe="";Ue.forEach(function(Me){wordSeparators.indexOf(Me)===-1?Oe+=fromCodePoint$1(Me):(Oe.length&&Ce.push(Oe),Ce.push(fromCodePoint$1(Me)),Oe="")}),Oe.length&&Ce.push(Oe)}};!(Te=n.next()).done;)Re();return Ce},TextContainer=(function(){function Ee(t,n,Ce){this.text=transform(n.data,Ce.textTransform),this.textBounds=parseTextBounds(t,this.text,Ce,n)}return Ee})(),transform=function(Ee,t){switch(t){case 1:return Ee.toLowerCase();case 3:return Ee.replace(CAPITALIZE,capitalize);case 2:return Ee.toUpperCase();default:return Ee}},CAPITALIZE=/(^|\s|:|-|\(|\))([a-z])/g,capitalize=function(Ee,t,n){return Ee.length>0?t+n.toUpperCase():Ee},ImageElementContainer=(function(Ee){__extends$1(t,Ee);function t(n,Ce){var Te=Ee.call(this,n,Ce)||this;return Te.src=Ce.currentSrc||Ce.src,Te.intrinsicWidth=Ce.naturalWidth,Te.intrinsicHeight=Ce.naturalHeight,Te.context.cache.addImage(Te.src),Te}return t})(ElementContainer),CanvasElementContainer=(function(Ee){__extends$1(t,Ee);function t(n,Ce){var Te=Ee.call(this,n,Ce)||this;return Te.canvas=Ce,Te.intrinsicWidth=Ce.width,Te.intrinsicHeight=Ce.height,Te}return t})(ElementContainer),SVGElementContainer=(function(Ee){__extends$1(t,Ee);function t(n,Ce){var Te=Ee.call(this,n,Ce)||this,Re=new XMLSerializer,Be=parseBounds(n,Ce);return Ce.setAttribute("width",Be.width+"px"),Ce.setAttribute("height",Be.height+"px"),Te.svg="data:image/svg+xml,"+encodeURIComponent(Re.serializeToString(Ce)),Te.intrinsicWidth=Ce.width.baseVal.value,Te.intrinsicHeight=Ce.height.baseVal.value,Te.context.cache.addImage(Te.svg),Te}return t})(ElementContainer),LIElementContainer=(function(Ee){__extends$1(t,Ee);function t(n,Ce){var Te=Ee.call(this,n,Ce)||this;return Te.value=Ce.value,Te}return t})(ElementContainer),OLElementContainer=(function(Ee){__extends$1(t,Ee);function t(n,Ce){var Te=Ee.call(this,n,Ce)||this;return Te.start=Ce.start,Te.reversed=typeof Ce.reversed=="boolean"&&Ce.reversed===!0,Te}return t})(ElementContainer),CHECKBOX_BORDER_RADIUS=[{type:15,flags:0,unit:"px",number:3}],RADIO_BORDER_RADIUS=[{type:16,flags:0,number:50}],reformatInputBounds=function(Ee){return Ee.width>Ee.height?new Bounds(Ee.left+(Ee.width-Ee.height)/2,Ee.top,Ee.height,Ee.height):Ee.width<Ee.height?new Bounds(Ee.left,Ee.top+(Ee.height-Ee.width)/2,Ee.width,Ee.width):Ee},getInputValue=function(Ee){var t=Ee.type===PASSWORD?new Array(Ee.value.length+1).join(""):Ee.value;return t.length===0?Ee.placeholder||"":t},CHECKBOX="checkbox",RADIO="radio",PASSWORD="password",INPUT_COLOR=707406591,InputElementContainer=(function(Ee){__extends$1(t,Ee);function t(n,Ce){var Te=Ee.call(this,n,Ce)||this;switch(Te.type=Ce.type.toLowerCase(),Te.checked=Ce.checked,Te.value=getInputValue(Ce),(Te.type===CHECKBOX||Te.type===RADIO)&&(Te.styles.backgroundColor=3739148031,Te.styles.borderTopColor=Te.styles.borderRightColor=Te.styles.borderBottomColor=Te.styles.borderLeftColor=2779096575,Te.styles.borderTopWidth=Te.styles.borderRightWidth=Te.styles.borderBottomWidth=Te.styles.borderLeftWidth=1,Te.styles.borderTopStyle=Te.styles.borderRightStyle=Te.styles.borderBottomStyle=Te.styles.borderLeftStyle=1,Te.styles.backgroundClip=[0],Te.styles.backgroundOrigin=[0],Te.bounds=reformatInputBounds(Te.bounds)),Te.type){case CHECKBOX:Te.styles.borderTopRightRadius=Te.styles.borderTopLeftRadius=Te.styles.borderBottomRightRadius=Te.styles.borderBottomLeftRadius=CHECKBOX_BORDER_RADIUS;break;case RADIO:Te.styles.borderTopRightRadius=Te.styles.borderTopLeftRadius=Te.styles.borderBottomRightRadius=Te.styles.borderBottomLeftRadius=RADIO_BORDER_RADIUS;break}return Te}return t})(ElementContainer),SelectElementContainer=(function(Ee){__extends$1(t,Ee);function t(n,Ce){var Te=Ee.call(this,n,Ce)||this,Re=Ce.options[Ce.selectedIndex||0];return Te.value=Re&&Re.text||"",Te}return t})(ElementContainer),TextareaElementContainer=(function(Ee){__extends$1(t,Ee);function t(n,Ce){var Te=Ee.call(this,n,Ce)||this;return Te.value=Ce.value,Te}return t})(ElementContainer),IFrameElementContainer=(function(Ee){__extends$1(t,Ee);function t(n,Ce){var Te=Ee.call(this,n,Ce)||this;Te.src=Ce.src,Te.width=parseInt(Ce.width,10)||0,Te.height=parseInt(Ce.height,10)||0,Te.backgroundColor=Te.styles.backgroundColor;try{if(Ce.contentWindow&&Ce.contentWindow.document&&Ce.contentWindow.document.documentElement){Te.tree=parseTree(n,Ce.contentWindow.document.documentElement);var Re=Ce.contentWindow.document.documentElement?parseColor(n,getComputedStyle(Ce.contentWindow.document.documentElement).backgroundColor):COLORS.TRANSPARENT,Be=Ce.contentWindow.document.body?parseColor(n,getComputedStyle(Ce.contentWindow.document.body).backgroundColor):COLORS.TRANSPARENT;Te.backgroundColor=isTransparent(Re)?isTransparent(Be)?Te.styles.backgroundColor:Be:Re}}catch{}return Te}return t})(ElementContainer),LIST_OWNERS=["OL","UL","MENU"],parseNodeTree=function(Ee,t,n,Ce){for(var Te=t.firstChild,Re=void 0;Te;Te=Re)if(Re=Te.nextSibling,isTextNode(Te)&&Te.data.trim().length>0)n.textNodes.push(new TextContainer(Ee,Te,n.styles));else if(isElementNode(Te))if(isSlotElement(Te)&&Te.assignedNodes)Te.assignedNodes().forEach(function(Ue){return parseNodeTree(Ee,Ue,n,Ce)});else{var Be=createContainer(Ee,Te);Be.styles.isVisible()&&(createsRealStackingContext(Te,Be,Ce)?Be.flags|=4:createsStackingContext(Be.styles)&&(Be.flags|=2),LIST_OWNERS.indexOf(Te.tagName)!==-1&&(Be.flags|=8),n.elements.push(Be),Te.slot,Te.shadowRoot?parseNodeTree(Ee,Te.shadowRoot,Be,Ce):!isTextareaElement(Te)&&!isSVGElement(Te)&&!isSelectElement(Te)&&parseNodeTree(Ee,Te,Be,Ce))}},createContainer=function(Ee,t){return isImageElement(t)?new ImageElementContainer(Ee,t):isCanvasElement(t)?new CanvasElementContainer(Ee,t):isSVGElement(t)?new SVGElementContainer(Ee,t):isLIElement(t)?new LIElementContainer(Ee,t):isOLElement(t)?new OLElementContainer(Ee,t):isInputElement(t)?new InputElementContainer(Ee,t):isSelectElement(t)?new SelectElementContainer(Ee,t):isTextareaElement(t)?new TextareaElementContainer(Ee,t):isIFrameElement(t)?new IFrameElementContainer(Ee,t):new ElementContainer(Ee,t)},parseTree=function(Ee,t){var n=createContainer(Ee,t);return n.flags|=4,parseNodeTree(Ee,t,n,n),n},createsRealStackingContext=function(Ee,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||isBodyElement(Ee)&&n.styles.isTransparent()},createsStackingContext=function(Ee){return Ee.isPositioned()||Ee.isFloating()},isTextNode=function(Ee){return Ee.nodeType===Node.TEXT_NODE},isElementNode=function(Ee){return Ee.nodeType===Node.ELEMENT_NODE},isHTMLElementNode=function(Ee){return isElementNode(Ee)&&typeof Ee.style<"u"&&!isSVGElementNode(Ee)},isSVGElementNode=function(Ee){return typeof Ee.className=="object"},isLIElement=function(Ee){return Ee.tagName==="LI"},isOLElement=function(Ee){return Ee.tagName==="OL"},isInputElement=function(Ee){return Ee.tagName==="INPUT"},isHTMLElement=function(Ee){return Ee.tagName==="HTML"},isSVGElement=function(Ee){return Ee.tagName==="svg"},isBodyElement=function(Ee){return Ee.tagName==="BODY"},isCanvasElement=function(Ee){return Ee.tagName==="CANVAS"},isVideoElement=function(Ee){return Ee.tagName==="VIDEO"},isImageElement=function(Ee){return Ee.tagName==="IMG"},isIFrameElement=function(Ee){return Ee.tagName==="IFRAME"},isStyleElement=function(Ee){return Ee.tagName==="STYLE"},isScriptElement=function(Ee){return Ee.tagName==="SCRIPT"},isTextareaElement=function(Ee){return Ee.tagName==="TEXTAREA"},isSelectElement=function(Ee){return Ee.tagName==="SELECT"},isSlotElement=function(Ee){return Ee.tagName==="SLOT"},isCustomElement=function(Ee){return Ee.tagName.indexOf("-")>0},CounterState=(function(){function Ee(){this.counters={}}return Ee.prototype.getCounterValue=function(t){var n=this.counters[t];return n&&n.length?n[n.length-1]:1},Ee.prototype.getCounterValues=function(t){var n=this.counters[t];return n||[]},Ee.prototype.pop=function(t){var n=this;t.forEach(function(Ce){return n.counters[Ce].pop()})},Ee.prototype.parse=function(t){var n=this,Ce=t.counterIncrement,Te=t.counterReset,Re=!0;Ce!==null&&Ce.forEach(function(Ue){var Oe=n.counters[Ue.counter];Oe&&Ue.increment!==0&&(Re=!1,Oe.length||Oe.push(1),Oe[Math.max(0,Oe.length-1)]+=Ue.increment)});var Be=[];return Re&&Te.forEach(function(Ue){var Oe=n.counters[Ue.counter];Be.push(Ue.counter),Oe||(Oe=n.counters[Ue.counter]=[]),Oe.push(Ue.reset)}),Be},Ee})(),ROMAN_UPPER={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ARMENIAN={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},HEBREW={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},GEORGIAN={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},createAdditiveCounter=function(Ee,t,n,Ce,Te,Re){return Ee<t||Ee>n?createCounterText(Ee,Te,Re.length>0):Ce.integers.reduce(function(Be,Ue,Oe){for(;Ee>=Ue;)Ee-=Ue,Be+=Ce.values[Oe];return Be},"")+Re},createCounterStyleWithSymbolResolver=function(Ee,t,n,Ce){var Te="";do n||Ee--,Te=Ce(Ee)+Te,Ee/=t;while(Ee*t>=t);return Te},createCounterStyleFromRange=function(Ee,t,n,Ce,Te){var Re=n-t+1;return(Ee<0?"-":"")+(createCounterStyleWithSymbolResolver(Math.abs(Ee),Re,Ce,function(Be){return fromCodePoint$1(Math.floor(Be%Re)+t)})+Te)},createCounterStyleFromSymbols=function(Ee,t,n){n===void 0&&(n=". ");var Ce=t.length;return createCounterStyleWithSymbolResolver(Math.abs(Ee),Ce,!1,function(Te){return t[Math.floor(Te%Ce)]})+n},CJK_ZEROS=1,CJK_TEN_COEFFICIENTS=2,CJK_TEN_HIGH_COEFFICIENTS=4,CJK_HUNDRED_COEFFICIENTS=8,createCJKCounter=function(Ee,t,n,Ce,Te,Re){if(Ee<-9999||Ee>9999)return createCounterText(Ee,4,Te.length>0);var Be=Math.abs(Ee),Ue=Te;if(Be===0)return t[0]+Ue;for(var Oe=0;Be>0&&Oe<=4;Oe++){var Me=Be%10;Me===0&&contains(Re,CJK_ZEROS)&&Ue!==""?Ue=t[Me]+Ue:Me>1||Me===1&&Oe===0||Me===1&&Oe===1&&contains(Re,CJK_TEN_COEFFICIENTS)||Me===1&&Oe===1&&contains(Re,CJK_TEN_HIGH_COEFFICIENTS)&&Ee>100||Me===1&&Oe>1&&contains(Re,CJK_HUNDRED_COEFFICIENTS)?Ue=t[Me]+(Oe>0?n[Oe-1]:"")+Ue:Me===1&&Oe>0&&(Ue=n[Oe-1]+Ue),Be=Math.floor(Be/10)}return(Ee<0?Ce:"")+Ue},CHINESE_INFORMAL_MULTIPLIERS="",CHINESE_FORMAL_MULTIPLIERS="",JAPANESE_NEGATIVE="",KOREAN_NEGATIVE="",createCounterText=function(Ee,t,n){var Ce=n?". ":"",Te=n?"":"",Re=n?", ":"",Be=n?" ":"";switch(t){case 0:return""+Be;case 1:return""+Be;case 2:return""+Be;case 5:var Ue=createCounterStyleFromRange(Ee,48,57,!0,Ce);return Ue.length<4?"0"+Ue:Ue;case 4:return createCounterStyleFromSymbols(Ee,"",Te);case 6:return createAdditiveCounter(Ee,1,3999,ROMAN_UPPER,3,Ce).toLowerCase();case 7:return createAdditiveCounter(Ee,1,3999,ROMAN_UPPER,3,Ce);case 8:return createCounterStyleFromRange(Ee,945,969,!1,Ce);case 9:return createCounterStyleFromRange(Ee,97,122,!1,Ce);case 10:return createCounterStyleFromRange(Ee,65,90,!1,Ce);case 11:return createCounterStyleFromRange(Ee,1632,1641,!0,Ce);case 12:case 49:return createAdditiveCounter(Ee,1,9999,ARMENIAN,3,Ce);case 35:return createAdditiveCounter(Ee,1,9999,ARMENIAN,3,Ce).toLowerCase();case 13:return createCounterStyleFromRange(Ee,2534,2543,!0,Ce);case 14:case 30:return createCounterStyleFromRange(Ee,6112,6121,!0,Ce);case 15:return createCounterStyleFromSymbols(Ee,"",Te);case 16:return createCounterStyleFromSymbols(Ee,"",Te);case 17:case 48:return createCJKCounter(Ee,"",CHINESE_INFORMAL_MULTIPLIERS,"",Te,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 47:return createCJKCounter(Ee,"",CHINESE_FORMAL_MULTIPLIERS,"",Te,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 42:return createCJKCounter(Ee,"",CHINESE_INFORMAL_MULTIPLIERS,"",Te,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 41:return createCJKCounter(Ee,"",CHINESE_FORMAL_MULTIPLIERS,"",Te,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 26:return createCJKCounter(Ee,"","",JAPANESE_NEGATIVE,Te,0);case 25:return createCJKCounter(Ee,"","",JAPANESE_NEGATIVE,Te,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 31:return createCJKCounter(Ee,"","",KOREAN_NEGATIVE,Re,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 33:return createCJKCounter(Ee,"","",KOREAN_NEGATIVE,Re,0);case 32:return createCJKCounter(Ee,"","",KOREAN_NEGATIVE,Re,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 18:return createCounterStyleFromRange(Ee,2406,2415,!0,Ce);case 20:return createAdditiveCounter(Ee,1,19999,GEORGIAN,3,Ce);case 21:return createCounterStyleFromRange(Ee,2790,2799,!0,Ce);case 22:return createCounterStyleFromRange(Ee,2662,2671,!0,Ce);case 22:return createAdditiveCounter(Ee,1,10999,HEBREW,3,Ce);case 23:return createCounterStyleFromSymbols(Ee,"");case 24:return createCounterStyleFromSymbols(Ee,"");case 27:return createCounterStyleFromRange(Ee,3302,3311,!0,Ce);case 28:return createCounterStyleFromSymbols(Ee,"",Te);case 29:return createCounterStyleFromSymbols(Ee,"",Te);case 34:return createCounterStyleFromRange(Ee,3792,3801,!0,Ce);case 37:return createCounterStyleFromRange(Ee,6160,6169,!0,Ce);case 38:return createCounterStyleFromRange(Ee,4160,4169,!0,Ce);case 39:return createCounterStyleFromRange(Ee,2918,2927,!0,Ce);case 40:return createCounterStyleFromRange(Ee,1776,1785,!0,Ce);case 43:return createCounterStyleFromRange(Ee,3046,3055,!0,Ce);case 44:return createCounterStyleFromRange(Ee,3174,3183,!0,Ce);case 45:return createCounterStyleFromRange(Ee,3664,3673,!0,Ce);case 46:return createCounterStyleFromRange(Ee,3872,3881,!0,Ce);case 3:default:return createCounterStyleFromRange(Ee,48,57,!0,Ce)}},IGNORE_ATTRIBUTE="data-html2canvas-ignore",DocumentCloner=(function(){function Ee(t,n,Ce){if(this.context=t,this.options=Ce,this.scrolledElements=[],this.referenceElement=n,this.counters=new CounterState,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return Ee.prototype.toIFrame=function(t,n){var Ce=this,Te=createIFrameContainer(t,n);if(!Te.contentWindow)return Promise.reject("Unable to find iframe window");var Re=t.defaultView.pageXOffset,Be=t.defaultView.pageYOffset,Ue=Te.contentWindow,Oe=Ue.document,Me=iframeLoader(Te).then(function(){return __awaiter$2(Ce,void 0,void 0,function(){var Qe,Ke;return __generator$1(this,function(Ge){switch(Ge.label){case 0:return this.scrolledElements.forEach(restoreNodeScroll),Ue&&(Ue.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Ue.scrollY!==n.top||Ue.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Ue.scrollX-n.left,Ue.scrollY-n.top,0,0))),Qe=this.options.onclone,Ke=this.clonedReferenceElement,typeof Ke>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Oe.fonts&&Oe.fonts.ready?[4,Oe.fonts.ready]:[3,2];case 1:Ge.sent(),Ge.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,imagesReady(Oe)]:[3,4];case 3:Ge.sent(),Ge.label=4;case 4:return typeof Qe=="function"?[2,Promise.resolve().then(function(){return Qe(Oe,Ke)}).then(function(){return Te})]:[2,Te]}})})});return Oe.open(),Oe.write(serializeDoctype(document.doctype)+"<html></html>"),restoreOwnerScroll(this.referenceElement.ownerDocument,Re,Be),Oe.replaceChild(Oe.adoptNode(this.documentElement),Oe.documentElement),Oe.close(),Me},Ee.prototype.createElementClone=function(t){if(isDebugging(t,2))debugger;if(isCanvasElement(t))return this.createCanvasClone(t);if(isVideoElement(t))return this.createVideoClone(t);if(isStyleElement(t))return this.createStyleClone(t);var n=t.cloneNode(!1);return isImageElement(n)&&(isImageElement(t)&&t.currentSrc&&t.currentSrc!==t.src&&(n.src=t.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),isCustomElement(n)?this.createCustomElementClone(n):n},Ee.prototype.createCustomElementClone=function(t){var n=document.createElement("html2canvascustomelement");return copyCSSStyles(t.style,n),n},Ee.prototype.createStyleClone=function(t){try{var n=t.sheet;if(n&&n.cssRules){var Ce=[].slice.call(n.cssRules,0).reduce(function(Re,Be){return Be&&typeof Be.cssText=="string"?Re+Be.cssText:Re},""),Te=t.cloneNode(!1);return Te.textContent=Ce,Te}}catch(Re){if(this.context.logger.error("Unable to access cssRules property",Re),Re.name!=="SecurityError")throw Re}return t.cloneNode(!1)},Ee.prototype.createCanvasClone=function(t){var n;if(this.options.inlineImages&&t.ownerDocument){var Ce=t.ownerDocument.createElement("img");try{return Ce.src=t.toDataURL(),Ce}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var Te=t.cloneNode(!1);try{Te.width=t.width,Te.height=t.height;var Re=t.getContext("2d"),Be=Te.getContext("2d");if(Be)if(!this.options.allowTaint&&Re)Be.putImageData(Re.getImageData(0,0,t.width,t.height),0,0);else{var Ue=(n=t.getContext("webgl2"))!==null&&n!==void 0?n:t.getContext("webgl");if(Ue){var Oe=Ue.getContextAttributes();(Oe==null?void 0:Oe.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}Be.drawImage(t,0,0)}return Te}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return Te},Ee.prototype.createVideoClone=function(t){var n=t.ownerDocument.createElement("canvas");n.width=t.offsetWidth,n.height=t.offsetHeight;var Ce=n.getContext("2d");try{return Ce&&(Ce.drawImage(t,0,0,n.width,n.height),this.options.allowTaint||Ce.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var Te=t.ownerDocument.createElement("canvas");return Te.width=t.offsetWidth,Te.height=t.offsetHeight,Te},Ee.prototype.appendChildNode=function(t,n,Ce){(!isElementNode(n)||!isScriptElement(n)&&!n.hasAttribute(IGNORE_ATTRIBUTE)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!isElementNode(n)||!isStyleElement(n))&&t.appendChild(this.cloneNode(n,Ce))},Ee.prototype.cloneChildNodes=function(t,n,Ce){for(var Te=this,Re=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;Re;Re=Re.nextSibling)if(isElementNode(Re)&&isSlotElement(Re)&&typeof Re.assignedNodes=="function"){var Be=Re.assignedNodes();Be.length&&Be.forEach(function(Ue){return Te.appendChildNode(n,Ue,Ce)})}else this.appendChildNode(n,Re,Ce)},Ee.prototype.cloneNode=function(t,n){if(isTextNode(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var Ce=t.ownerDocument.defaultView;if(Ce&&isElementNode(t)&&(isHTMLElementNode(t)||isSVGElementNode(t))){var Te=this.createElementClone(t);Te.style.transitionProperty="none";var Re=Ce.getComputedStyle(t),Be=Ce.getComputedStyle(t,":before"),Ue=Ce.getComputedStyle(t,":after");this.referenceElement===t&&isHTMLElementNode(Te)&&(this.clonedReferenceElement=Te),isBodyElement(Te)&&createPseudoHideStyles(Te);var Oe=this.counters.parse(new CSSParsedCounterDeclaration(this.context,Re)),Me=this.resolvePseudoContent(t,Te,Be,PseudoElementType.BEFORE);isCustomElement(t)&&(n=!0),isVideoElement(t)||this.cloneChildNodes(t,Te,n),Me&&Te.insertBefore(Me,Te.firstChild);var Qe=this.resolvePseudoContent(t,Te,Ue,PseudoElementType.AFTER);return Qe&&Te.appendChild(Qe),this.counters.pop(Oe),(Re&&(this.options.copyStyles||isSVGElementNode(t))&&!isIFrameElement(t)||n)&&copyCSSStyles(Re,Te),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([Te,t.scrollLeft,t.scrollTop]),(isTextareaElement(t)||isSelectElement(t))&&(isTextareaElement(Te)||isSelectElement(Te))&&(Te.value=t.value),Te}return t.cloneNode(!1)},Ee.prototype.resolvePseudoContent=function(t,n,Ce,Te){var Re=this;if(Ce){var Be=Ce.content,Ue=n.ownerDocument;if(!(!Ue||!Be||Be==="none"||Be==="-moz-alt-content"||Ce.display==="none")){this.counters.parse(new CSSParsedCounterDeclaration(this.context,Ce));var Oe=new CSSParsedPseudoDeclaration(this.context,Ce),Me=Ue.createElement("html2canvaspseudoelement");copyCSSStyles(Ce,Me),Oe.content.forEach(function(Ke){if(Ke.type===0)Me.appendChild(Ue.createTextNode(Ke.value));else if(Ke.type===22){var Ge=Ue.createElement("img");Ge.src=Ke.value,Ge.style.opacity="1",Me.appendChild(Ge)}else if(Ke.type===18){if(Ke.name==="attr"){var qe=Ke.values.filter(isIdentToken);qe.length&&Me.appendChild(Ue.createTextNode(t.getAttribute(qe[0].value)||""))}else if(Ke.name==="counter"){var Xe=Ke.values.filter(nonFunctionArgSeparator),tr=Xe[0],Je=Xe[1];if(tr&&isIdentToken(tr)){var Ye=Re.counters.getCounterValue(tr.value),lr=Je&&isIdentToken(Je)?listStyleType.parse(Re.context,Je.value):3;Me.appendChild(Ue.createTextNode(createCounterText(Ye,lr,!1)))}}else if(Ke.name==="counters"){var cr=Ke.values.filter(nonFunctionArgSeparator),tr=cr[0],hr=cr[1],Je=cr[2];if(tr&&isIdentToken(tr)){var ur=Re.counters.getCounterValues(tr.value),fr=Je&&isIdentToken(Je)?listStyleType.parse(Re.context,Je.value):3,er=hr&&hr.type===0?hr.value:"",nr=ur.map(function($e){return createCounterText($e,fr,!1)}).join(er);Me.appendChild(Ue.createTextNode(nr))}}}else if(Ke.type===20)switch(Ke.value){case"open-quote":Me.appendChild(Ue.createTextNode(getQuote(Oe.quotes,Re.quoteDepth++,!0)));break;case"close-quote":Me.appendChild(Ue.createTextNode(getQuote(Oe.quotes,--Re.quoteDepth,!1)));break;default:Me.appendChild(Ue.createTextNode(Ke.value))}}),Me.className=PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;var Qe=Te===PseudoElementType.BEFORE?" "+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE:" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;return isSVGElementNode(n)?n.className.baseValue+=Qe:n.className+=Qe,Me}}},Ee.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},Ee})(),PseudoElementType;(function(Ee){Ee[Ee.BEFORE=0]="BEFORE",Ee[Ee.AFTER=1]="AFTER"})(PseudoElementType||(PseudoElementType={}));var createIFrameContainer=function(Ee,t){var n=Ee.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(IGNORE_ATTRIBUTE,"true"),Ee.body.appendChild(n),n},imageReady=function(Ee){return new Promise(function(t){if(Ee.complete){t();return}if(!Ee.src){t();return}Ee.onload=t,Ee.onerror=t})},imagesReady=function(Ee){return Promise.all([].slice.call(Ee.images,0).map(imageReady))},iframeLoader=function(Ee){return new Promise(function(t,n){var Ce=Ee.contentWindow;if(!Ce)return n("No window assigned for iframe");var Te=Ce.document;Ce.onload=Ee.onload=function(){Ce.onload=Ee.onload=null;var Re=setInterval(function(){Te.body.childNodes.length>0&&Te.readyState==="complete"&&(clearInterval(Re),t(Ee))},50)}})},ignoredStyleProperties=["all","d","content"],copyCSSStyles=function(Ee,t){for(var n=Ee.length-1;n>=0;n--){var Ce=Ee.item(n);ignoredStyleProperties.indexOf(Ce)===-1&&t.style.setProperty(Ce,Ee.getPropertyValue(Ce))}return t},serializeDoctype=function(Ee){var t="";return Ee&&(t+="<!DOCTYPE ",Ee.name&&(t+=Ee.name),Ee.internalSubset&&(t+=Ee.internalSubset),Ee.publicId&&(t+='"'+Ee.publicId+'"'),Ee.systemId&&(t+='"'+Ee.systemId+'"'),t+=">"),t},restoreOwnerScroll=function(Ee,t,n){Ee&&Ee.defaultView&&(t!==Ee.defaultView.pageXOffset||n!==Ee.defaultView.pageYOffset)&&Ee.defaultView.scrollTo(t,n)},restoreNodeScroll=function(Ee){var t=Ee[0],n=Ee[1],Ce=Ee[2];t.scrollLeft=n,t.scrollTop=Ce},PSEUDO_BEFORE=":before",PSEUDO_AFTER=":after",PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",PSEUDO_HIDE_ELEMENT_STYLE=`{
    content: "" !important;
    display: none !important;
}`,createPseudoHideStyles=function(Ee){createStyles(Ee,"."+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+PSEUDO_BEFORE+PSEUDO_HIDE_ELEMENT_STYLE+`
         .`+PSEUDO_HIDE_ELEMENT_CLASS_AFTER+PSEUDO_AFTER+PSEUDO_HIDE_ELEMENT_STYLE)},createStyles=function(Ee,t){var n=Ee.ownerDocument;if(n){var Ce=n.createElement("style");Ce.textContent=t,Ee.appendChild(Ce)}},CacheStorage=(function(){function Ee(){}return Ee.getOrigin=function(t){var n=Ee._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},Ee.isSameOrigin=function(t){return Ee.getOrigin(t)===Ee._origin},Ee.setContext=function(t){Ee._link=t.document.createElement("a"),Ee._origin=Ee.getOrigin(t.location.href)},Ee._origin="about:blank",Ee})(),Cache$1=(function(){function Ee(t,n){this.context=t,this._options=n,this._cache={}}return Ee.prototype.addImage=function(t){var n=Promise.resolve();return this.has(t)||(isBlobImage(t)||isRenderable(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),n},Ee.prototype.match=function(t){return this._cache[t]},Ee.prototype.loadImage=function(t){return __awaiter$2(this,void 0,void 0,function(){var n,Ce,Te,Re,Be=this;return __generator$1(this,function(Ue){switch(Ue.label){case 0:return n=CacheStorage.isSameOrigin(t),Ce=!isInlineImage(t)&&this._options.useCORS===!0&&FEATURES.SUPPORT_CORS_IMAGES&&!n,Te=!isInlineImage(t)&&!n&&!isBlobImage(t)&&typeof this._options.proxy=="string"&&FEATURES.SUPPORT_CORS_XHR&&!Ce,!n&&this._options.allowTaint===!1&&!isInlineImage(t)&&!isBlobImage(t)&&!Te&&!Ce?[2]:(Re=t,Te?[4,this.proxy(Re)]:[3,2]);case 1:Re=Ue.sent(),Ue.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(Oe,Me){var Qe=new Image;Qe.onload=function(){return Oe(Qe)},Qe.onerror=Me,(isInlineBase64Image(Re)||Ce)&&(Qe.crossOrigin="anonymous"),Qe.src=Re,Qe.complete===!0&&setTimeout(function(){return Oe(Qe)},500),Be._options.imageTimeout>0&&setTimeout(function(){return Me("Timed out ("+Be._options.imageTimeout+"ms) loading image")},Be._options.imageTimeout)})];case 3:return[2,Ue.sent()]}})})},Ee.prototype.has=function(t){return typeof this._cache[t]<"u"},Ee.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},Ee.prototype.proxy=function(t){var n=this,Ce=this._options.proxy;if(!Ce)throw new Error("No proxy defined");var Te=t.substring(0,256);return new Promise(function(Re,Be){var Ue=FEATURES.SUPPORT_RESPONSE_TYPE?"blob":"text",Oe=new XMLHttpRequest;Oe.onload=function(){if(Oe.status===200)if(Ue==="text")Re(Oe.response);else{var Ke=new FileReader;Ke.addEventListener("load",function(){return Re(Ke.result)},!1),Ke.addEventListener("error",function(Ge){return Be(Ge)},!1),Ke.readAsDataURL(Oe.response)}else Be("Failed to proxy resource "+Te+" with status code "+Oe.status)},Oe.onerror=Be;var Me=Ce.indexOf("?")>-1?"&":"?";if(Oe.open("GET",""+Ce+Me+"url="+encodeURIComponent(t)+"&responseType="+Ue),Ue!=="text"&&Oe instanceof XMLHttpRequest&&(Oe.responseType=Ue),n._options.imageTimeout){var Qe=n._options.imageTimeout;Oe.timeout=Qe,Oe.ontimeout=function(){return Be("Timed out ("+Qe+"ms) proxying "+Te)}}Oe.send()})},Ee})(),INLINE_SVG=/^data:image\/svg\+xml/i,INLINE_BASE64=/^data:image\/.*;base64,/i,INLINE_IMG=/^data:image\/.*/i,isRenderable=function(Ee){return FEATURES.SUPPORT_SVG_DRAWING||!isSVG(Ee)},isInlineImage=function(Ee){return INLINE_IMG.test(Ee)},isInlineBase64Image=function(Ee){return INLINE_BASE64.test(Ee)},isBlobImage=function(Ee){return Ee.substr(0,4)==="blob"},isSVG=function(Ee){return Ee.substr(-3).toLowerCase()==="svg"||INLINE_SVG.test(Ee)},Vector=(function(){function Ee(t,n){this.type=0,this.x=t,this.y=n}return Ee.prototype.add=function(t,n){return new Ee(this.x+t,this.y+n)},Ee})(),lerp=function(Ee,t,n){return new Vector(Ee.x+(t.x-Ee.x)*n,Ee.y+(t.y-Ee.y)*n)},BezierCurve=(function(){function Ee(t,n,Ce,Te){this.type=1,this.start=t,this.startControl=n,this.endControl=Ce,this.end=Te}return Ee.prototype.subdivide=function(t,n){var Ce=lerp(this.start,this.startControl,t),Te=lerp(this.startControl,this.endControl,t),Re=lerp(this.endControl,this.end,t),Be=lerp(Ce,Te,t),Ue=lerp(Te,Re,t),Oe=lerp(Be,Ue,t);return n?new Ee(this.start,Ce,Be,Oe):new Ee(Oe,Ue,Re,this.end)},Ee.prototype.add=function(t,n){return new Ee(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},Ee.prototype.reverse=function(){return new Ee(this.end,this.endControl,this.startControl,this.start)},Ee})(),isBezierCurve=function(Ee){return Ee.type===1},BoundCurves=(function(){function Ee(t){var n=t.styles,Ce=t.bounds,Te=getAbsoluteValueForTuple(n.borderTopLeftRadius,Ce.width,Ce.height),Re=Te[0],Be=Te[1],Ue=getAbsoluteValueForTuple(n.borderTopRightRadius,Ce.width,Ce.height),Oe=Ue[0],Me=Ue[1],Qe=getAbsoluteValueForTuple(n.borderBottomRightRadius,Ce.width,Ce.height),Ke=Qe[0],Ge=Qe[1],qe=getAbsoluteValueForTuple(n.borderBottomLeftRadius,Ce.width,Ce.height),Xe=qe[0],tr=qe[1],Je=[];Je.push((Re+Oe)/Ce.width),Je.push((Xe+Ke)/Ce.width),Je.push((Be+tr)/Ce.height),Je.push((Me+Ge)/Ce.height);var Ye=Math.max.apply(Math,Je);Ye>1&&(Re/=Ye,Be/=Ye,Oe/=Ye,Me/=Ye,Ke/=Ye,Ge/=Ye,Xe/=Ye,tr/=Ye);var lr=Ce.width-Oe,cr=Ce.height-Ge,hr=Ce.width-Ke,ur=Ce.height-tr,fr=n.borderTopWidth,er=n.borderRightWidth,nr=n.borderBottomWidth,ir=n.borderLeftWidth,mr=getAbsoluteValue(n.paddingTop,t.bounds.width),$e=getAbsoluteValue(n.paddingRight,t.bounds.width),Ar=getAbsoluteValue(n.paddingBottom,t.bounds.width),or=getAbsoluteValue(n.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=Re>0||Be>0?getCurvePoints(Ce.left+ir/3,Ce.top+fr/3,Re-ir/3,Be-fr/3,CORNER.TOP_LEFT):new Vector(Ce.left+ir/3,Ce.top+fr/3),this.topRightBorderDoubleOuterBox=Re>0||Be>0?getCurvePoints(Ce.left+lr,Ce.top+fr/3,Oe-er/3,Me-fr/3,CORNER.TOP_RIGHT):new Vector(Ce.left+Ce.width-er/3,Ce.top+fr/3),this.bottomRightBorderDoubleOuterBox=Ke>0||Ge>0?getCurvePoints(Ce.left+hr,Ce.top+cr,Ke-er/3,Ge-nr/3,CORNER.BOTTOM_RIGHT):new Vector(Ce.left+Ce.width-er/3,Ce.top+Ce.height-nr/3),this.bottomLeftBorderDoubleOuterBox=Xe>0||tr>0?getCurvePoints(Ce.left+ir/3,Ce.top+ur,Xe-ir/3,tr-nr/3,CORNER.BOTTOM_LEFT):new Vector(Ce.left+ir/3,Ce.top+Ce.height-nr/3),this.topLeftBorderDoubleInnerBox=Re>0||Be>0?getCurvePoints(Ce.left+ir*2/3,Ce.top+fr*2/3,Re-ir*2/3,Be-fr*2/3,CORNER.TOP_LEFT):new Vector(Ce.left+ir*2/3,Ce.top+fr*2/3),this.topRightBorderDoubleInnerBox=Re>0||Be>0?getCurvePoints(Ce.left+lr,Ce.top+fr*2/3,Oe-er*2/3,Me-fr*2/3,CORNER.TOP_RIGHT):new Vector(Ce.left+Ce.width-er*2/3,Ce.top+fr*2/3),this.bottomRightBorderDoubleInnerBox=Ke>0||Ge>0?getCurvePoints(Ce.left+hr,Ce.top+cr,Ke-er*2/3,Ge-nr*2/3,CORNER.BOTTOM_RIGHT):new Vector(Ce.left+Ce.width-er*2/3,Ce.top+Ce.height-nr*2/3),this.bottomLeftBorderDoubleInnerBox=Xe>0||tr>0?getCurvePoints(Ce.left+ir*2/3,Ce.top+ur,Xe-ir*2/3,tr-nr*2/3,CORNER.BOTTOM_LEFT):new Vector(Ce.left+ir*2/3,Ce.top+Ce.height-nr*2/3),this.topLeftBorderStroke=Re>0||Be>0?getCurvePoints(Ce.left+ir/2,Ce.top+fr/2,Re-ir/2,Be-fr/2,CORNER.TOP_LEFT):new Vector(Ce.left+ir/2,Ce.top+fr/2),this.topRightBorderStroke=Re>0||Be>0?getCurvePoints(Ce.left+lr,Ce.top+fr/2,Oe-er/2,Me-fr/2,CORNER.TOP_RIGHT):new Vector(Ce.left+Ce.width-er/2,Ce.top+fr/2),this.bottomRightBorderStroke=Ke>0||Ge>0?getCurvePoints(Ce.left+hr,Ce.top+cr,Ke-er/2,Ge-nr/2,CORNER.BOTTOM_RIGHT):new Vector(Ce.left+Ce.width-er/2,Ce.top+Ce.height-nr/2),this.bottomLeftBorderStroke=Xe>0||tr>0?getCurvePoints(Ce.left+ir/2,Ce.top+ur,Xe-ir/2,tr-nr/2,CORNER.BOTTOM_LEFT):new Vector(Ce.left+ir/2,Ce.top+Ce.height-nr/2),this.topLeftBorderBox=Re>0||Be>0?getCurvePoints(Ce.left,Ce.top,Re,Be,CORNER.TOP_LEFT):new Vector(Ce.left,Ce.top),this.topRightBorderBox=Oe>0||Me>0?getCurvePoints(Ce.left+lr,Ce.top,Oe,Me,CORNER.TOP_RIGHT):new Vector(Ce.left+Ce.width,Ce.top),this.bottomRightBorderBox=Ke>0||Ge>0?getCurvePoints(Ce.left+hr,Ce.top+cr,Ke,Ge,CORNER.BOTTOM_RIGHT):new Vector(Ce.left+Ce.width,Ce.top+Ce.height),this.bottomLeftBorderBox=Xe>0||tr>0?getCurvePoints(Ce.left,Ce.top+ur,Xe,tr,CORNER.BOTTOM_LEFT):new Vector(Ce.left,Ce.top+Ce.height),this.topLeftPaddingBox=Re>0||Be>0?getCurvePoints(Ce.left+ir,Ce.top+fr,Math.max(0,Re-ir),Math.max(0,Be-fr),CORNER.TOP_LEFT):new Vector(Ce.left+ir,Ce.top+fr),this.topRightPaddingBox=Oe>0||Me>0?getCurvePoints(Ce.left+Math.min(lr,Ce.width-er),Ce.top+fr,lr>Ce.width+er?0:Math.max(0,Oe-er),Math.max(0,Me-fr),CORNER.TOP_RIGHT):new Vector(Ce.left+Ce.width-er,Ce.top+fr),this.bottomRightPaddingBox=Ke>0||Ge>0?getCurvePoints(Ce.left+Math.min(hr,Ce.width-ir),Ce.top+Math.min(cr,Ce.height-nr),Math.max(0,Ke-er),Math.max(0,Ge-nr),CORNER.BOTTOM_RIGHT):new Vector(Ce.left+Ce.width-er,Ce.top+Ce.height-nr),this.bottomLeftPaddingBox=Xe>0||tr>0?getCurvePoints(Ce.left+ir,Ce.top+Math.min(ur,Ce.height-nr),Math.max(0,Xe-ir),Math.max(0,tr-nr),CORNER.BOTTOM_LEFT):new Vector(Ce.left+ir,Ce.top+Ce.height-nr),this.topLeftContentBox=Re>0||Be>0?getCurvePoints(Ce.left+ir+or,Ce.top+fr+mr,Math.max(0,Re-(ir+or)),Math.max(0,Be-(fr+mr)),CORNER.TOP_LEFT):new Vector(Ce.left+ir+or,Ce.top+fr+mr),this.topRightContentBox=Oe>0||Me>0?getCurvePoints(Ce.left+Math.min(lr,Ce.width+ir+or),Ce.top+fr+mr,lr>Ce.width+ir+or?0:Oe-ir+or,Me-(fr+mr),CORNER.TOP_RIGHT):new Vector(Ce.left+Ce.width-(er+$e),Ce.top+fr+mr),this.bottomRightContentBox=Ke>0||Ge>0?getCurvePoints(Ce.left+Math.min(hr,Ce.width-(ir+or)),Ce.top+Math.min(cr,Ce.height+fr+mr),Math.max(0,Ke-(er+$e)),Ge-(nr+Ar),CORNER.BOTTOM_RIGHT):new Vector(Ce.left+Ce.width-(er+$e),Ce.top+Ce.height-(nr+Ar)),this.bottomLeftContentBox=Xe>0||tr>0?getCurvePoints(Ce.left+ir+or,Ce.top+ur,Math.max(0,Xe-(ir+or)),tr-(nr+Ar),CORNER.BOTTOM_LEFT):new Vector(Ce.left+ir+or,Ce.top+Ce.height-(nr+Ar))}return Ee})(),CORNER;(function(Ee){Ee[Ee.TOP_LEFT=0]="TOP_LEFT",Ee[Ee.TOP_RIGHT=1]="TOP_RIGHT",Ee[Ee.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",Ee[Ee.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(CORNER||(CORNER={}));var getCurvePoints=function(Ee,t,n,Ce,Te){var Re=4*((Math.sqrt(2)-1)/3),Be=n*Re,Ue=Ce*Re,Oe=Ee+n,Me=t+Ce;switch(Te){case CORNER.TOP_LEFT:return new BezierCurve(new Vector(Ee,Me),new Vector(Ee,Me-Ue),new Vector(Oe-Be,t),new Vector(Oe,t));case CORNER.TOP_RIGHT:return new BezierCurve(new Vector(Ee,t),new Vector(Ee+Be,t),new Vector(Oe,Me-Ue),new Vector(Oe,Me));case CORNER.BOTTOM_RIGHT:return new BezierCurve(new Vector(Oe,t),new Vector(Oe,t+Ue),new Vector(Ee+Be,Me),new Vector(Ee,Me));case CORNER.BOTTOM_LEFT:default:return new BezierCurve(new Vector(Oe,Me),new Vector(Oe-Be,Me),new Vector(Ee,t+Ue),new Vector(Ee,t))}},calculateBorderBoxPath=function(Ee){return[Ee.topLeftBorderBox,Ee.topRightBorderBox,Ee.bottomRightBorderBox,Ee.bottomLeftBorderBox]},calculateContentBoxPath=function(Ee){return[Ee.topLeftContentBox,Ee.topRightContentBox,Ee.bottomRightContentBox,Ee.bottomLeftContentBox]},calculatePaddingBoxPath=function(Ee){return[Ee.topLeftPaddingBox,Ee.topRightPaddingBox,Ee.bottomRightPaddingBox,Ee.bottomLeftPaddingBox]},TransformEffect=(function(){function Ee(t,n,Ce){this.offsetX=t,this.offsetY=n,this.matrix=Ce,this.type=0,this.target=6}return Ee})(),ClipEffect=(function(){function Ee(t,n){this.path=t,this.target=n,this.type=1}return Ee})(),OpacityEffect=(function(){function Ee(t){this.opacity=t,this.type=2,this.target=6}return Ee})(),isTransformEffect=function(Ee){return Ee.type===0},isClipEffect=function(Ee){return Ee.type===1},isOpacityEffect=function(Ee){return Ee.type===2},equalPath=function(Ee,t){return Ee.length===t.length?Ee.some(function(n,Ce){return n===t[Ce]}):!1},transformPath=function(Ee,t,n,Ce,Te){return Ee.map(function(Re,Be){switch(Be){case 0:return Re.add(t,n);case 1:return Re.add(t+Ce,n);case 2:return Re.add(t+Ce,n+Te);case 3:return Re.add(t,n+Te)}return Re})},StackingContext=(function(){function Ee(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return Ee})(),ElementPaint=(function(){function Ee(t,n){if(this.container=t,this.parent=n,this.effects=[],this.curves=new BoundCurves(this.container),this.container.styles.opacity<1&&this.effects.push(new OpacityEffect(this.container.styles.opacity)),this.container.styles.transform!==null){var Ce=this.container.bounds.left+this.container.styles.transformOrigin[0].number,Te=this.container.bounds.top+this.container.styles.transformOrigin[1].number,Re=this.container.styles.transform;this.effects.push(new TransformEffect(Ce,Te,Re))}if(this.container.styles.overflowX!==0){var Be=calculateBorderBoxPath(this.curves),Ue=calculatePaddingBoxPath(this.curves);equalPath(Be,Ue)?this.effects.push(new ClipEffect(Be,6)):(this.effects.push(new ClipEffect(Be,2)),this.effects.push(new ClipEffect(Ue,4)))}}return Ee.prototype.getEffects=function(t){for(var n=[2,3].indexOf(this.container.styles.position)===-1,Ce=this.parent,Te=this.effects.slice(0);Ce;){var Re=Ce.effects.filter(function(Oe){return!isClipEffect(Oe)});if(n||Ce.container.styles.position!==0||!Ce.parent){if(Te.unshift.apply(Te,Re),n=[2,3].indexOf(Ce.container.styles.position)===-1,Ce.container.styles.overflowX!==0){var Be=calculateBorderBoxPath(Ce.curves),Ue=calculatePaddingBoxPath(Ce.curves);equalPath(Be,Ue)||Te.unshift(new ClipEffect(Ue,6))}}else Te.unshift.apply(Te,Re);Ce=Ce.parent}return Te.filter(function(Oe){return contains(Oe.target,t)})},Ee})(),parseStackTree=function(Ee,t,n,Ce){Ee.container.elements.forEach(function(Te){var Re=contains(Te.flags,4),Be=contains(Te.flags,2),Ue=new ElementPaint(Te,Ee);contains(Te.styles.display,2048)&&Ce.push(Ue);var Oe=contains(Te.flags,8)?[]:Ce;if(Re||Be){var Me=Re||Te.styles.isPositioned()?n:t,Qe=new StackingContext(Ue);if(Te.styles.isPositioned()||Te.styles.opacity<1||Te.styles.isTransformed()){var Ke=Te.styles.zIndex.order;if(Ke<0){var Ge=0;Me.negativeZIndex.some(function(Xe,tr){return Ke>Xe.element.container.styles.zIndex.order?(Ge=tr,!1):Ge>0}),Me.negativeZIndex.splice(Ge,0,Qe)}else if(Ke>0){var qe=0;Me.positiveZIndex.some(function(Xe,tr){return Ke>=Xe.element.container.styles.zIndex.order?(qe=tr+1,!1):qe>0}),Me.positiveZIndex.splice(qe,0,Qe)}else Me.zeroOrAutoZIndexOrTransformedOrOpacity.push(Qe)}else Te.styles.isFloating()?Me.nonPositionedFloats.push(Qe):Me.nonPositionedInlineLevel.push(Qe);parseStackTree(Ue,Qe,Re?Qe:n,Oe)}else Te.styles.isInlineLevel()?t.inlineLevel.push(Ue):t.nonInlineLevel.push(Ue),parseStackTree(Ue,t,n,Oe);contains(Te.flags,8)&&processListItems(Te,Oe)})},processListItems=function(Ee,t){for(var n=Ee instanceof OLElementContainer?Ee.start:1,Ce=Ee instanceof OLElementContainer?Ee.reversed:!1,Te=0;Te<t.length;Te++){var Re=t[Te];Re.container instanceof LIElementContainer&&typeof Re.container.value=="number"&&Re.container.value!==0&&(n=Re.container.value),Re.listValue=createCounterText(n,Re.container.styles.listStyleType,!0),n+=Ce?-1:1}},parseStackingContexts=function(Ee){var t=new ElementPaint(Ee,null),n=new StackingContext(t),Ce=[];return parseStackTree(t,n,n,Ce),processListItems(t.container,Ce),n},parsePathForBorder=function(Ee,t){switch(t){case 0:return createPathFromCurves(Ee.topLeftBorderBox,Ee.topLeftPaddingBox,Ee.topRightBorderBox,Ee.topRightPaddingBox);case 1:return createPathFromCurves(Ee.topRightBorderBox,Ee.topRightPaddingBox,Ee.bottomRightBorderBox,Ee.bottomRightPaddingBox);case 2:return createPathFromCurves(Ee.bottomRightBorderBox,Ee.bottomRightPaddingBox,Ee.bottomLeftBorderBox,Ee.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(Ee.bottomLeftBorderBox,Ee.bottomLeftPaddingBox,Ee.topLeftBorderBox,Ee.topLeftPaddingBox)}},parsePathForBorderDoubleOuter=function(Ee,t){switch(t){case 0:return createPathFromCurves(Ee.topLeftBorderBox,Ee.topLeftBorderDoubleOuterBox,Ee.topRightBorderBox,Ee.topRightBorderDoubleOuterBox);case 1:return createPathFromCurves(Ee.topRightBorderBox,Ee.topRightBorderDoubleOuterBox,Ee.bottomRightBorderBox,Ee.bottomRightBorderDoubleOuterBox);case 2:return createPathFromCurves(Ee.bottomRightBorderBox,Ee.bottomRightBorderDoubleOuterBox,Ee.bottomLeftBorderBox,Ee.bottomLeftBorderDoubleOuterBox);case 3:default:return createPathFromCurves(Ee.bottomLeftBorderBox,Ee.bottomLeftBorderDoubleOuterBox,Ee.topLeftBorderBox,Ee.topLeftBorderDoubleOuterBox)}},parsePathForBorderDoubleInner=function(Ee,t){switch(t){case 0:return createPathFromCurves(Ee.topLeftBorderDoubleInnerBox,Ee.topLeftPaddingBox,Ee.topRightBorderDoubleInnerBox,Ee.topRightPaddingBox);case 1:return createPathFromCurves(Ee.topRightBorderDoubleInnerBox,Ee.topRightPaddingBox,Ee.bottomRightBorderDoubleInnerBox,Ee.bottomRightPaddingBox);case 2:return createPathFromCurves(Ee.bottomRightBorderDoubleInnerBox,Ee.bottomRightPaddingBox,Ee.bottomLeftBorderDoubleInnerBox,Ee.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(Ee.bottomLeftBorderDoubleInnerBox,Ee.bottomLeftPaddingBox,Ee.topLeftBorderDoubleInnerBox,Ee.topLeftPaddingBox)}},parsePathForBorderStroke=function(Ee,t){switch(t){case 0:return createStrokePathFromCurves(Ee.topLeftBorderStroke,Ee.topRightBorderStroke);case 1:return createStrokePathFromCurves(Ee.topRightBorderStroke,Ee.bottomRightBorderStroke);case 2:return createStrokePathFromCurves(Ee.bottomRightBorderStroke,Ee.bottomLeftBorderStroke);case 3:default:return createStrokePathFromCurves(Ee.bottomLeftBorderStroke,Ee.topLeftBorderStroke)}},createStrokePathFromCurves=function(Ee,t){var n=[];return isBezierCurve(Ee)?n.push(Ee.subdivide(.5,!1)):n.push(Ee),isBezierCurve(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},createPathFromCurves=function(Ee,t,n,Ce){var Te=[];return isBezierCurve(Ee)?Te.push(Ee.subdivide(.5,!1)):Te.push(Ee),isBezierCurve(n)?Te.push(n.subdivide(.5,!0)):Te.push(n),isBezierCurve(Ce)?Te.push(Ce.subdivide(.5,!0).reverse()):Te.push(Ce),isBezierCurve(t)?Te.push(t.subdivide(.5,!1).reverse()):Te.push(t),Te},paddingBox=function(Ee){var t=Ee.bounds,n=Ee.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},contentBox=function(Ee){var t=Ee.styles,n=Ee.bounds,Ce=getAbsoluteValue(t.paddingLeft,n.width),Te=getAbsoluteValue(t.paddingRight,n.width),Re=getAbsoluteValue(t.paddingTop,n.width),Be=getAbsoluteValue(t.paddingBottom,n.width);return n.add(Ce+t.borderLeftWidth,Re+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+Ce+Te),-(t.borderTopWidth+t.borderBottomWidth+Re+Be))},calculateBackgroundPositioningArea=function(Ee,t){return Ee===0?t.bounds:Ee===2?contentBox(t):paddingBox(t)},calculateBackgroundPaintingArea=function(Ee,t){return Ee===0?t.bounds:Ee===2?contentBox(t):paddingBox(t)},calculateBackgroundRendering=function(Ee,t,n){var Ce=calculateBackgroundPositioningArea(getBackgroundValueForIndex(Ee.styles.backgroundOrigin,t),Ee),Te=calculateBackgroundPaintingArea(getBackgroundValueForIndex(Ee.styles.backgroundClip,t),Ee),Re=calculateBackgroundSize(getBackgroundValueForIndex(Ee.styles.backgroundSize,t),n,Ce),Be=Re[0],Ue=Re[1],Oe=getAbsoluteValueForTuple(getBackgroundValueForIndex(Ee.styles.backgroundPosition,t),Ce.width-Be,Ce.height-Ue),Me=calculateBackgroundRepeatPath(getBackgroundValueForIndex(Ee.styles.backgroundRepeat,t),Oe,Re,Ce,Te),Qe=Math.round(Ce.left+Oe[0]),Ke=Math.round(Ce.top+Oe[1]);return[Me,Qe,Ke,Be,Ue]},isAuto=function(Ee){return isIdentToken(Ee)&&Ee.value===BACKGROUND_SIZE.AUTO},hasIntrinsicValue=function(Ee){return typeof Ee=="number"},calculateBackgroundSize=function(Ee,t,n){var Ce=t[0],Te=t[1],Re=t[2],Be=Ee[0],Ue=Ee[1];if(!Be)return[0,0];if(isLengthPercentage(Be)&&Ue&&isLengthPercentage(Ue))return[getAbsoluteValue(Be,n.width),getAbsoluteValue(Ue,n.height)];var Oe=hasIntrinsicValue(Re);if(isIdentToken(Be)&&(Be.value===BACKGROUND_SIZE.CONTAIN||Be.value===BACKGROUND_SIZE.COVER)){if(hasIntrinsicValue(Re)){var Me=n.width/n.height;return Me<Re!=(Be.value===BACKGROUND_SIZE.COVER)?[n.width,n.width/Re]:[n.height*Re,n.height]}return[n.width,n.height]}var Qe=hasIntrinsicValue(Ce),Ke=hasIntrinsicValue(Te),Ge=Qe||Ke;if(isAuto(Be)&&(!Ue||isAuto(Ue))){if(Qe&&Ke)return[Ce,Te];if(!Oe&&!Ge)return[n.width,n.height];if(Ge&&Oe){var qe=Qe?Ce:Te*Re,Xe=Ke?Te:Ce/Re;return[qe,Xe]}var tr=Qe?Ce:n.width,Je=Ke?Te:n.height;return[tr,Je]}if(Oe){var Ye=0,lr=0;return isLengthPercentage(Be)?Ye=getAbsoluteValue(Be,n.width):isLengthPercentage(Ue)&&(lr=getAbsoluteValue(Ue,n.height)),isAuto(Be)?Ye=lr*Re:(!Ue||isAuto(Ue))&&(lr=Ye/Re),[Ye,lr]}var cr=null,hr=null;if(isLengthPercentage(Be)?cr=getAbsoluteValue(Be,n.width):Ue&&isLengthPercentage(Ue)&&(hr=getAbsoluteValue(Ue,n.height)),cr!==null&&(!Ue||isAuto(Ue))&&(hr=Qe&&Ke?cr/Ce*Te:n.height),hr!==null&&isAuto(Be)&&(cr=Qe&&Ke?hr/Te*Ce:n.width),cr!==null&&hr!==null)return[cr,hr];throw new Error("Unable to calculate background-size for element")},getBackgroundValueForIndex=function(Ee,t){var n=Ee[t];return typeof n>"u"?Ee[0]:n},calculateBackgroundRepeatPath=function(Ee,t,n,Ce,Te){var Re=t[0],Be=t[1],Ue=n[0],Oe=n[1];switch(Ee){case 2:return[new Vector(Math.round(Ce.left),Math.round(Ce.top+Be)),new Vector(Math.round(Ce.left+Ce.width),Math.round(Ce.top+Be)),new Vector(Math.round(Ce.left+Ce.width),Math.round(Oe+Ce.top+Be)),new Vector(Math.round(Ce.left),Math.round(Oe+Ce.top+Be))];case 3:return[new Vector(Math.round(Ce.left+Re),Math.round(Ce.top)),new Vector(Math.round(Ce.left+Re+Ue),Math.round(Ce.top)),new Vector(Math.round(Ce.left+Re+Ue),Math.round(Ce.height+Ce.top)),new Vector(Math.round(Ce.left+Re),Math.round(Ce.height+Ce.top))];case 1:return[new Vector(Math.round(Ce.left+Re),Math.round(Ce.top+Be)),new Vector(Math.round(Ce.left+Re+Ue),Math.round(Ce.top+Be)),new Vector(Math.round(Ce.left+Re+Ue),Math.round(Ce.top+Be+Oe)),new Vector(Math.round(Ce.left+Re),Math.round(Ce.top+Be+Oe))];default:return[new Vector(Math.round(Te.left),Math.round(Te.top)),new Vector(Math.round(Te.left+Te.width),Math.round(Te.top)),new Vector(Math.round(Te.left+Te.width),Math.round(Te.height+Te.top)),new Vector(Math.round(Te.left),Math.round(Te.height+Te.top))]}},SMALL_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",SAMPLE_TEXT="Hidden Text",FontMetrics=(function(){function Ee(t){this._data={},this._document=t}return Ee.prototype.parseMetrics=function(t,n){var Ce=this._document.createElement("div"),Te=this._document.createElement("img"),Re=this._document.createElement("span"),Be=this._document.body;Ce.style.visibility="hidden",Ce.style.fontFamily=t,Ce.style.fontSize=n,Ce.style.margin="0",Ce.style.padding="0",Ce.style.whiteSpace="nowrap",Be.appendChild(Ce),Te.src=SMALL_IMAGE,Te.width=1,Te.height=1,Te.style.margin="0",Te.style.padding="0",Te.style.verticalAlign="baseline",Re.style.fontFamily=t,Re.style.fontSize=n,Re.style.margin="0",Re.style.padding="0",Re.appendChild(this._document.createTextNode(SAMPLE_TEXT)),Ce.appendChild(Re),Ce.appendChild(Te);var Ue=Te.offsetTop-Re.offsetTop+2;Ce.removeChild(Re),Ce.appendChild(this._document.createTextNode(SAMPLE_TEXT)),Ce.style.lineHeight="normal",Te.style.verticalAlign="super";var Oe=Te.offsetTop-Ce.offsetTop+2;return Be.removeChild(Ce),{baseline:Ue,middle:Oe}},Ee.prototype.getMetrics=function(t,n){var Ce=t+" "+n;return typeof this._data[Ce]>"u"&&(this._data[Ce]=this.parseMetrics(t,n)),this._data[Ce]},Ee})(),Renderer=(function(){function Ee(t,n){this.context=t,this.options=n}return Ee})(),MASK_OFFSET=1e4,CanvasRenderer=(function(Ee){__extends$1(t,Ee);function t(n,Ce){var Te=Ee.call(this,n,Ce)||this;return Te._activeEffects=[],Te.canvas=Ce.canvas?Ce.canvas:document.createElement("canvas"),Te.ctx=Te.canvas.getContext("2d"),Ce.canvas||(Te.canvas.width=Math.floor(Ce.width*Ce.scale),Te.canvas.height=Math.floor(Ce.height*Ce.scale),Te.canvas.style.width=Ce.width+"px",Te.canvas.style.height=Ce.height+"px"),Te.fontMetrics=new FontMetrics(document),Te.ctx.scale(Te.options.scale,Te.options.scale),Te.ctx.translate(-Ce.x,-Ce.y),Te.ctx.textBaseline="bottom",Te._activeEffects=[],Te.context.logger.debug("Canvas renderer initialized ("+Ce.width+"x"+Ce.height+") with scale "+Ce.scale),Te}return t.prototype.applyEffects=function(n){for(var Ce=this;this._activeEffects.length;)this.popEffect();n.forEach(function(Te){return Ce.applyEffect(Te)})},t.prototype.applyEffect=function(n){this.ctx.save(),isOpacityEffect(n)&&(this.ctx.globalAlpha=n.opacity),isTransformEffect(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),isClipEffect(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(n){return __awaiter$2(this,void 0,void 0,function(){var Ce;return __generator$1(this,function(Te){switch(Te.label){case 0:return Ce=n.element.container.styles,Ce.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:Te.sent(),Te.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(n){return __awaiter$2(this,void 0,void 0,function(){return __generator$1(this,function(Ce){switch(Ce.label){case 0:if(contains(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return Ce.sent(),[4,this.renderNodeContent(n)];case 2:Ce.sent(),Ce.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(n,Ce,Te){var Re=this;if(Ce===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+Te);else{var Be=segmentGraphemes(n.text);Be.reduce(function(Ue,Oe){return Re.ctx.fillText(Oe,Ue,n.bounds.top+Te),Ue+Re.ctx.measureText(Oe).width},n.bounds.left)}},t.prototype.createFontStyle=function(n){var Ce=n.fontVariant.filter(function(Be){return Be==="normal"||Be==="small-caps"}).join(""),Te=fixIOSSystemFonts(n.fontFamily).join(", "),Re=isDimensionToken(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,Ce,n.fontWeight,Re,Te].join(" "),Te,Re]},t.prototype.renderTextNode=function(n,Ce){return __awaiter$2(this,void 0,void 0,function(){var Te,Re,Be,Ue,Oe,Me,Qe,Ke,Ge=this;return __generator$1(this,function(qe){return Te=this.createFontStyle(Ce),Re=Te[0],Be=Te[1],Ue=Te[2],this.ctx.font=Re,this.ctx.direction=Ce.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Oe=this.fontMetrics.getMetrics(Be,Ue),Me=Oe.baseline,Qe=Oe.middle,Ke=Ce.paintOrder,n.textBounds.forEach(function(Xe){Ke.forEach(function(tr){switch(tr){case 0:Ge.ctx.fillStyle=asString(Ce.color),Ge.renderTextWithLetterSpacing(Xe,Ce.letterSpacing,Me);var Je=Ce.textShadow;Je.length&&Xe.text.trim().length&&(Je.slice(0).reverse().forEach(function(Ye){Ge.ctx.shadowColor=asString(Ye.color),Ge.ctx.shadowOffsetX=Ye.offsetX.number*Ge.options.scale,Ge.ctx.shadowOffsetY=Ye.offsetY.number*Ge.options.scale,Ge.ctx.shadowBlur=Ye.blur.number,Ge.renderTextWithLetterSpacing(Xe,Ce.letterSpacing,Me)}),Ge.ctx.shadowColor="",Ge.ctx.shadowOffsetX=0,Ge.ctx.shadowOffsetY=0,Ge.ctx.shadowBlur=0),Ce.textDecorationLine.length&&(Ge.ctx.fillStyle=asString(Ce.textDecorationColor||Ce.color),Ce.textDecorationLine.forEach(function(Ye){switch(Ye){case 1:Ge.ctx.fillRect(Xe.bounds.left,Math.round(Xe.bounds.top+Me),Xe.bounds.width,1);break;case 2:Ge.ctx.fillRect(Xe.bounds.left,Math.round(Xe.bounds.top),Xe.bounds.width,1);break;case 3:Ge.ctx.fillRect(Xe.bounds.left,Math.ceil(Xe.bounds.top+Qe),Xe.bounds.width,1);break}}));break;case 1:Ce.webkitTextStrokeWidth&&Xe.text.trim().length&&(Ge.ctx.strokeStyle=asString(Ce.webkitTextStrokeColor),Ge.ctx.lineWidth=Ce.webkitTextStrokeWidth,Ge.ctx.lineJoin=window.chrome?"miter":"round",Ge.ctx.strokeText(Xe.text,Xe.bounds.left,Xe.bounds.top+Me)),Ge.ctx.strokeStyle="",Ge.ctx.lineWidth=0,Ge.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(n,Ce,Te){if(Te&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var Re=contentBox(n),Be=calculatePaddingBoxPath(Ce);this.path(Be),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(Te,0,0,n.intrinsicWidth,n.intrinsicHeight,Re.left,Re.top,Re.width,Re.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(n){return __awaiter$2(this,void 0,void 0,function(){var Ce,Te,Re,Be,Ue,Oe,lr,lr,Me,Qe,Ke,Ge,hr,qe,Xe,ur,tr,Je,Ye,lr,cr,hr,ur;return __generator$1(this,function(fr){switch(fr.label){case 0:this.applyEffects(n.getEffects(4)),Ce=n.container,Te=n.curves,Re=Ce.styles,Be=0,Ue=Ce.textNodes,fr.label=1;case 1:return Be<Ue.length?(Oe=Ue[Be],[4,this.renderTextNode(Oe,Re)]):[3,4];case 2:fr.sent(),fr.label=3;case 3:return Be++,[3,1];case 4:if(!(Ce instanceof ImageElementContainer))return[3,8];fr.label=5;case 5:return fr.trys.push([5,7,,8]),[4,this.context.cache.match(Ce.src)];case 6:return lr=fr.sent(),this.renderReplacedElement(Ce,Te,lr),[3,8];case 7:return fr.sent(),this.context.logger.error("Error loading image "+Ce.src),[3,8];case 8:if(Ce instanceof CanvasElementContainer&&this.renderReplacedElement(Ce,Te,Ce.canvas),!(Ce instanceof SVGElementContainer))return[3,12];fr.label=9;case 9:return fr.trys.push([9,11,,12]),[4,this.context.cache.match(Ce.svg)];case 10:return lr=fr.sent(),this.renderReplacedElement(Ce,Te,lr),[3,12];case 11:return fr.sent(),this.context.logger.error("Error loading svg "+Ce.svg.substring(0,255)),[3,12];case 12:return Ce instanceof IFrameElementContainer&&Ce.tree?(Me=new t(this.context,{scale:this.options.scale,backgroundColor:Ce.backgroundColor,x:0,y:0,width:Ce.width,height:Ce.height}),[4,Me.render(Ce.tree)]):[3,14];case 13:Qe=fr.sent(),Ce.width&&Ce.height&&this.ctx.drawImage(Qe,0,0,Ce.width,Ce.height,Ce.bounds.left,Ce.bounds.top,Ce.bounds.width,Ce.bounds.height),fr.label=14;case 14:if(Ce instanceof InputElementContainer&&(Ke=Math.min(Ce.bounds.width,Ce.bounds.height),Ce.type===CHECKBOX?Ce.checked&&(this.ctx.save(),this.path([new Vector(Ce.bounds.left+Ke*.39363,Ce.bounds.top+Ke*.79),new Vector(Ce.bounds.left+Ke*.16,Ce.bounds.top+Ke*.5549),new Vector(Ce.bounds.left+Ke*.27347,Ce.bounds.top+Ke*.44071),new Vector(Ce.bounds.left+Ke*.39694,Ce.bounds.top+Ke*.5649),new Vector(Ce.bounds.left+Ke*.72983,Ce.bounds.top+Ke*.23),new Vector(Ce.bounds.left+Ke*.84,Ce.bounds.top+Ke*.34085),new Vector(Ce.bounds.left+Ke*.39363,Ce.bounds.top+Ke*.79)]),this.ctx.fillStyle=asString(INPUT_COLOR),this.ctx.fill(),this.ctx.restore()):Ce.type===RADIO&&Ce.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(Ce.bounds.left+Ke/2,Ce.bounds.top+Ke/2,Ke/4,0,Math.PI*2,!0),this.ctx.fillStyle=asString(INPUT_COLOR),this.ctx.fill(),this.ctx.restore())),isTextInputElement(Ce)&&Ce.value.length){switch(Ge=this.createFontStyle(Re),hr=Ge[0],qe=Ge[1],Xe=this.fontMetrics.getMetrics(hr,qe).baseline,this.ctx.font=hr,this.ctx.fillStyle=asString(Re.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=canvasTextAlign(Ce.styles.textAlign),ur=contentBox(Ce),tr=0,Ce.styles.textAlign){case 1:tr+=ur.width/2;break;case 2:tr+=ur.width;break}Je=ur.add(tr,0,0,-ur.height/2+1),this.ctx.save(),this.path([new Vector(ur.left,ur.top),new Vector(ur.left+ur.width,ur.top),new Vector(ur.left+ur.width,ur.top+ur.height),new Vector(ur.left,ur.top+ur.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new TextBounds(Ce.value,Je),Re.letterSpacing,Xe),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!contains(Ce.styles.display,2048))return[3,20];if(Ce.styles.listStyleImage===null)return[3,19];if(Ye=Ce.styles.listStyleImage,Ye.type!==0)return[3,18];lr=void 0,cr=Ye.url,fr.label=15;case 15:return fr.trys.push([15,17,,18]),[4,this.context.cache.match(cr)];case 16:return lr=fr.sent(),this.ctx.drawImage(lr,Ce.bounds.left-(lr.width+10),Ce.bounds.top),[3,18];case 17:return fr.sent(),this.context.logger.error("Error loading list-style-image "+cr),[3,18];case 18:return[3,20];case 19:n.listValue&&Ce.styles.listStyleType!==-1&&(hr=this.createFontStyle(Re)[0],this.ctx.font=hr,this.ctx.fillStyle=asString(Re.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",ur=new Bounds(Ce.bounds.left,Ce.bounds.top+getAbsoluteValue(Ce.styles.paddingTop,Ce.bounds.width),Ce.bounds.width,computeLineHeight(Re.lineHeight,Re.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new TextBounds(n.listValue,ur),Re.letterSpacing,computeLineHeight(Re.lineHeight,Re.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),fr.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(n){return __awaiter$2(this,void 0,void 0,function(){var Ce,Te,Ye,Re,Be,Ye,Ue,Oe,Ye,Me,Qe,Ye,Ke,Ge,Ye,qe,Xe,Ye,tr,Je,Ye;return __generator$1(this,function(lr){switch(lr.label){case 0:if(contains(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:lr.sent(),Ce=0,Te=n.negativeZIndex,lr.label=2;case 2:return Ce<Te.length?(Ye=Te[Ce],[4,this.renderStack(Ye)]):[3,5];case 3:lr.sent(),lr.label=4;case 4:return Ce++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:lr.sent(),Re=0,Be=n.nonInlineLevel,lr.label=7;case 7:return Re<Be.length?(Ye=Be[Re],[4,this.renderNode(Ye)]):[3,10];case 8:lr.sent(),lr.label=9;case 9:return Re++,[3,7];case 10:Ue=0,Oe=n.nonPositionedFloats,lr.label=11;case 11:return Ue<Oe.length?(Ye=Oe[Ue],[4,this.renderStack(Ye)]):[3,14];case 12:lr.sent(),lr.label=13;case 13:return Ue++,[3,11];case 14:Me=0,Qe=n.nonPositionedInlineLevel,lr.label=15;case 15:return Me<Qe.length?(Ye=Qe[Me],[4,this.renderStack(Ye)]):[3,18];case 16:lr.sent(),lr.label=17;case 17:return Me++,[3,15];case 18:Ke=0,Ge=n.inlineLevel,lr.label=19;case 19:return Ke<Ge.length?(Ye=Ge[Ke],[4,this.renderNode(Ye)]):[3,22];case 20:lr.sent(),lr.label=21;case 21:return Ke++,[3,19];case 22:qe=0,Xe=n.zeroOrAutoZIndexOrTransformedOrOpacity,lr.label=23;case 23:return qe<Xe.length?(Ye=Xe[qe],[4,this.renderStack(Ye)]):[3,26];case 24:lr.sent(),lr.label=25;case 25:return qe++,[3,23];case 26:tr=0,Je=n.positiveZIndex,lr.label=27;case 27:return tr<Je.length?(Ye=Je[tr],[4,this.renderStack(Ye)]):[3,30];case 28:lr.sent(),lr.label=29;case 29:return tr++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},t.prototype.formatPath=function(n){var Ce=this;n.forEach(function(Te,Re){var Be=isBezierCurve(Te)?Te.start:Te;Re===0?Ce.ctx.moveTo(Be.x,Be.y):Ce.ctx.lineTo(Be.x,Be.y),isBezierCurve(Te)&&Ce.ctx.bezierCurveTo(Te.startControl.x,Te.startControl.y,Te.endControl.x,Te.endControl.y,Te.end.x,Te.end.y)})},t.prototype.renderRepeat=function(n,Ce,Te,Re){this.path(n),this.ctx.fillStyle=Ce,this.ctx.translate(Te,Re),this.ctx.fill(),this.ctx.translate(-Te,-Re)},t.prototype.resizeImage=function(n,Ce,Te){var Re;if(n.width===Ce&&n.height===Te)return n;var Be=(Re=this.canvas.ownerDocument)!==null&&Re!==void 0?Re:document,Ue=Be.createElement("canvas");Ue.width=Math.max(1,Ce),Ue.height=Math.max(1,Te);var Oe=Ue.getContext("2d");return Oe.drawImage(n,0,0,n.width,n.height,0,0,Ce,Te),Ue},t.prototype.renderBackgroundImage=function(n){return __awaiter$2(this,void 0,void 0,function(){var Ce,Te,Re,Be,Ue,Oe;return __generator$1(this,function(Me){switch(Me.label){case 0:Ce=n.styles.backgroundImage.length-1,Te=function(Qe){var Ke,Ge,qe,mr,Fr,Er,or,Tr,nr,Xe,mr,Fr,Er,or,Tr,tr,Je,Ye,lr,cr,hr,ur,fr,er,nr,ir,mr,$e,Ar,or,Tr,Ur,Fr,Er,jr,Nr,Br,Mr,_r,gr,yr,Rr;return __generator$1(this,function(Ir){switch(Ir.label){case 0:if(Qe.type!==0)return[3,5];Ke=void 0,Ge=Qe.url,Ir.label=1;case 1:return Ir.trys.push([1,3,,4]),[4,Re.context.cache.match(Ge)];case 2:return Ke=Ir.sent(),[3,4];case 3:return Ir.sent(),Re.context.logger.error("Error loading background-image "+Ge),[3,4];case 4:return Ke&&(qe=calculateBackgroundRendering(n,Ce,[Ke.width,Ke.height,Ke.width/Ke.height]),mr=qe[0],Fr=qe[1],Er=qe[2],or=qe[3],Tr=qe[4],nr=Re.ctx.createPattern(Re.resizeImage(Ke,or,Tr),"repeat"),Re.renderRepeat(mr,nr,Fr,Er)),[3,6];case 5:isLinearGradient(Qe)?(Xe=calculateBackgroundRendering(n,Ce,[null,null,null]),mr=Xe[0],Fr=Xe[1],Er=Xe[2],or=Xe[3],Tr=Xe[4],tr=calculateGradientDirection(Qe.angle,or,Tr),Je=tr[0],Ye=tr[1],lr=tr[2],cr=tr[3],hr=tr[4],ur=document.createElement("canvas"),ur.width=or,ur.height=Tr,fr=ur.getContext("2d"),er=fr.createLinearGradient(Ye,cr,lr,hr),processColorStops(Qe.stops,Je).forEach(function(Qr){return er.addColorStop(Qr.stop,asString(Qr.color))}),fr.fillStyle=er,fr.fillRect(0,0,or,Tr),or>0&&Tr>0&&(nr=Re.ctx.createPattern(ur,"repeat"),Re.renderRepeat(mr,nr,Fr,Er))):isRadialGradient(Qe)&&(ir=calculateBackgroundRendering(n,Ce,[null,null,null]),mr=ir[0],$e=ir[1],Ar=ir[2],or=ir[3],Tr=ir[4],Ur=Qe.position.length===0?[FIFTY_PERCENT]:Qe.position,Fr=getAbsoluteValue(Ur[0],or),Er=getAbsoluteValue(Ur[Ur.length-1],Tr),jr=calculateRadius(Qe,Fr,Er,or,Tr),Nr=jr[0],Br=jr[1],Nr>0&&Br>0&&(Mr=Re.ctx.createRadialGradient($e+Fr,Ar+Er,0,$e+Fr,Ar+Er,Nr),processColorStops(Qe.stops,Nr*2).forEach(function(Qr){return Mr.addColorStop(Qr.stop,asString(Qr.color))}),Re.path(mr),Re.ctx.fillStyle=Mr,Nr!==Br?(_r=n.bounds.left+.5*n.bounds.width,gr=n.bounds.top+.5*n.bounds.height,yr=Br/Nr,Rr=1/yr,Re.ctx.save(),Re.ctx.translate(_r,gr),Re.ctx.transform(1,0,0,yr,0,0),Re.ctx.translate(-_r,-gr),Re.ctx.fillRect($e,Rr*(Ar-gr)+gr,or,Tr*Rr),Re.ctx.restore()):Re.ctx.fill())),Ir.label=6;case 6:return Ce--,[2]}})},Re=this,Be=0,Ue=n.styles.backgroundImage.slice(0).reverse(),Me.label=1;case 1:return Be<Ue.length?(Oe=Ue[Be],[5,Te(Oe)]):[3,4];case 2:Me.sent(),Me.label=3;case 3:return Be++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(n,Ce,Te){return __awaiter$2(this,void 0,void 0,function(){return __generator$1(this,function(Re){return this.path(parsePathForBorder(Te,Ce)),this.ctx.fillStyle=asString(n),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(n,Ce,Te,Re){return __awaiter$2(this,void 0,void 0,function(){var Be,Ue;return __generator$1(this,function(Oe){switch(Oe.label){case 0:return Ce<3?[4,this.renderSolidBorder(n,Te,Re)]:[3,2];case 1:return Oe.sent(),[2];case 2:return Be=parsePathForBorderDoubleOuter(Re,Te),this.path(Be),this.ctx.fillStyle=asString(n),this.ctx.fill(),Ue=parsePathForBorderDoubleInner(Re,Te),this.path(Ue),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(n){return __awaiter$2(this,void 0,void 0,function(){var Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke=this;return __generator$1(this,function(Ge){switch(Ge.label){case 0:return this.applyEffects(n.getEffects(2)),Ce=n.container.styles,Te=!isTransparent(Ce.backgroundColor)||Ce.backgroundImage.length,Re=[{style:Ce.borderTopStyle,color:Ce.borderTopColor,width:Ce.borderTopWidth},{style:Ce.borderRightStyle,color:Ce.borderRightColor,width:Ce.borderRightWidth},{style:Ce.borderBottomStyle,color:Ce.borderBottomColor,width:Ce.borderBottomWidth},{style:Ce.borderLeftStyle,color:Ce.borderLeftColor,width:Ce.borderLeftWidth}],Be=calculateBackgroundCurvedPaintingArea(getBackgroundValueForIndex(Ce.backgroundClip,0),n.curves),Te||Ce.boxShadow.length?(this.ctx.save(),this.path(Be),this.ctx.clip(),isTransparent(Ce.backgroundColor)||(this.ctx.fillStyle=asString(Ce.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:Ge.sent(),this.ctx.restore(),Ce.boxShadow.slice(0).reverse().forEach(function(qe){Ke.ctx.save();var Xe=calculateBorderBoxPath(n.curves),tr=qe.inset?0:MASK_OFFSET,Je=transformPath(Xe,-tr+(qe.inset?1:-1)*qe.spread.number,(qe.inset?1:-1)*qe.spread.number,qe.spread.number*(qe.inset?-2:2),qe.spread.number*(qe.inset?-2:2));qe.inset?(Ke.path(Xe),Ke.ctx.clip(),Ke.mask(Je)):(Ke.mask(Xe),Ke.ctx.clip(),Ke.path(Je)),Ke.ctx.shadowOffsetX=qe.offsetX.number+tr,Ke.ctx.shadowOffsetY=qe.offsetY.number,Ke.ctx.shadowColor=asString(qe.color),Ke.ctx.shadowBlur=qe.blur.number,Ke.ctx.fillStyle=qe.inset?asString(qe.color):"rgba(0,0,0,1)",Ke.ctx.fill(),Ke.ctx.restore()}),Ge.label=2;case 2:Ue=0,Oe=0,Me=Re,Ge.label=3;case 3:return Oe<Me.length?(Qe=Me[Oe],Qe.style!==0&&!isTransparent(Qe.color)&&Qe.width>0?Qe.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Qe.color,Qe.width,Ue,n.curves,2)]:[3,11]):[3,13];case 4:return Ge.sent(),[3,11];case 5:return Qe.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Qe.color,Qe.width,Ue,n.curves,3)];case 6:return Ge.sent(),[3,11];case 7:return Qe.style!==4?[3,9]:[4,this.renderDoubleBorder(Qe.color,Qe.width,Ue,n.curves)];case 8:return Ge.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Qe.color,Ue,n.curves)];case 10:Ge.sent(),Ge.label=11;case 11:Ue++,Ge.label=12;case 12:return Oe++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(n,Ce,Te,Re,Be){return __awaiter$2(this,void 0,void 0,function(){var Ue,Oe,Me,Qe,Ke,Ge,qe,Xe,tr,Je,Ye,lr,cr,hr,ur,fr,ur,fr;return __generator$1(this,function(er){return this.ctx.save(),Ue=parsePathForBorderStroke(Re,Te),Oe=parsePathForBorder(Re,Te),Be===2&&(this.path(Oe),this.ctx.clip()),isBezierCurve(Oe[0])?(Me=Oe[0].start.x,Qe=Oe[0].start.y):(Me=Oe[0].x,Qe=Oe[0].y),isBezierCurve(Oe[1])?(Ke=Oe[1].end.x,Ge=Oe[1].end.y):(Ke=Oe[1].x,Ge=Oe[1].y),Te===0||Te===2?qe=Math.abs(Me-Ke):qe=Math.abs(Qe-Ge),this.ctx.beginPath(),Be===3?this.formatPath(Ue):this.formatPath(Oe.slice(0,2)),Xe=Ce<3?Ce*3:Ce*2,tr=Ce<3?Ce*2:Ce,Be===3&&(Xe=Ce,tr=Ce),Je=!0,qe<=Xe*2?Je=!1:qe<=Xe*2+tr?(Ye=qe/(2*Xe+tr),Xe*=Ye,tr*=Ye):(lr=Math.floor((qe+tr)/(Xe+tr)),cr=(qe-lr*Xe)/(lr-1),hr=(qe-(lr+1)*Xe)/lr,tr=hr<=0||Math.abs(tr-cr)<Math.abs(tr-hr)?cr:hr),Je&&(Be===3?this.ctx.setLineDash([0,Xe+tr]):this.ctx.setLineDash([Xe,tr])),Be===3?(this.ctx.lineCap="round",this.ctx.lineWidth=Ce):this.ctx.lineWidth=Ce*2+1.1,this.ctx.strokeStyle=asString(n),this.ctx.stroke(),this.ctx.setLineDash([]),Be===2&&(isBezierCurve(Oe[0])&&(ur=Oe[3],fr=Oe[0],this.ctx.beginPath(),this.formatPath([new Vector(ur.end.x,ur.end.y),new Vector(fr.start.x,fr.start.y)]),this.ctx.stroke()),isBezierCurve(Oe[1])&&(ur=Oe[1],fr=Oe[2],this.ctx.beginPath(),this.formatPath([new Vector(ur.end.x,ur.end.y),new Vector(fr.start.x,fr.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(n){return __awaiter$2(this,void 0,void 0,function(){var Ce;return __generator$1(this,function(Te){switch(Te.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=asString(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),Ce=parseStackingContexts(n),[4,this.renderStack(Ce)];case 1:return Te.sent(),this.applyEffects([]),[2,this.canvas]}})})},t})(Renderer),isTextInputElement=function(Ee){return Ee instanceof TextareaElementContainer||Ee instanceof SelectElementContainer?!0:Ee instanceof InputElementContainer&&Ee.type!==RADIO&&Ee.type!==CHECKBOX},calculateBackgroundCurvedPaintingArea=function(Ee,t){switch(Ee){case 0:return calculateBorderBoxPath(t);case 2:return calculateContentBoxPath(t);case 1:default:return calculatePaddingBoxPath(t)}},canvasTextAlign=function(Ee){switch(Ee){case 1:return"center";case 2:return"right";case 0:default:return"left"}},iOSBrokenFonts=["-apple-system","system-ui"],fixIOSSystemFonts=function(Ee){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?Ee.filter(function(t){return iOSBrokenFonts.indexOf(t)===-1}):Ee},ForeignObjectRenderer=(function(Ee){__extends$1(t,Ee);function t(n,Ce){var Te=Ee.call(this,n,Ce)||this;return Te.canvas=Ce.canvas?Ce.canvas:document.createElement("canvas"),Te.ctx=Te.canvas.getContext("2d"),Te.options=Ce,Te.canvas.width=Math.floor(Ce.width*Ce.scale),Te.canvas.height=Math.floor(Ce.height*Ce.scale),Te.canvas.style.width=Ce.width+"px",Te.canvas.style.height=Ce.height+"px",Te.ctx.scale(Te.options.scale,Te.options.scale),Te.ctx.translate(-Ce.x,-Ce.y),Te.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+Ce.width+"x"+Ce.height+" at "+Ce.x+","+Ce.y+") with scale "+Ce.scale),Te}return t.prototype.render=function(n){return __awaiter$2(this,void 0,void 0,function(){var Ce,Te;return __generator$1(this,function(Re){switch(Re.label){case 0:return Ce=createForeignObjectSVG(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,loadSerializedSVG(Ce)];case 1:return Te=Re.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=asString(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(Te,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t})(Renderer),loadSerializedSVG=function(Ee){return new Promise(function(t,n){var Ce=new Image;Ce.onload=function(){t(Ce)},Ce.onerror=n,Ce.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(Ee))})},Logger=(function(){function Ee(t){var n=t.id,Ce=t.enabled;this.id=n,this.enabled=Ce,this.start=Date.now()}return Ee.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,__spreadArray$1([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},Ee.prototype.getTime=function(){return Date.now()-this.start},Ee.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,__spreadArray$1([this.id,this.getTime()+"ms"],t))},Ee.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,__spreadArray$1([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},Ee.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,__spreadArray$1([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},Ee.instances={},Ee})(),Context=(function(){function Ee(t,n){var Ce;this.windowBounds=n,this.instanceName="#"+Ee.instanceCount++,this.logger=new Logger({id:this.instanceName,enabled:t.logging}),this.cache=(Ce=t.cache)!==null&&Ce!==void 0?Ce:new Cache$1(this,t)}return Ee.instanceCount=1,Ee})(),html2canvas=function(Ee,t){return t===void 0&&(t={}),renderElement(Ee,t)};typeof window<"u"&&CacheStorage.setContext(window);var renderElement=function(Ee,t){return __awaiter$2(void 0,void 0,void 0,function(){var n,Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke,Ge,qe,Xe,tr,Je,Ye,lr,cr,hr,ur,er,fr,er,nr,ir,mr,$e,Ar,or,Tr,Ur,Fr,Er,jr,Nr,Br,Mr,_r,gr,yr;return __generator$1(this,function(Rr){switch(Rr.label){case 0:if(!Ee||typeof Ee!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=Ee.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(Ce=n.defaultView,!Ce)throw new Error("Document is not attached to a Window");return Te={allowTaint:(nr=t.allowTaint)!==null&&nr!==void 0?nr:!1,imageTimeout:(ir=t.imageTimeout)!==null&&ir!==void 0?ir:15e3,proxy:t.proxy,useCORS:(mr=t.useCORS)!==null&&mr!==void 0?mr:!1},Re=__assign$1({logging:($e=t.logging)!==null&&$e!==void 0?$e:!0,cache:t.cache},Te),Be={windowWidth:(Ar=t.windowWidth)!==null&&Ar!==void 0?Ar:Ce.innerWidth,windowHeight:(or=t.windowHeight)!==null&&or!==void 0?or:Ce.innerHeight,scrollX:(Tr=t.scrollX)!==null&&Tr!==void 0?Tr:Ce.pageXOffset,scrollY:(Ur=t.scrollY)!==null&&Ur!==void 0?Ur:Ce.pageYOffset},Ue=new Bounds(Be.scrollX,Be.scrollY,Be.windowWidth,Be.windowHeight),Oe=new Context(Re,Ue),Me=(Fr=t.foreignObjectRendering)!==null&&Fr!==void 0?Fr:!1,Qe={allowTaint:(Er=t.allowTaint)!==null&&Er!==void 0?Er:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:Me,copyStyles:Me},Oe.logger.debug("Starting document clone with size "+Ue.width+"x"+Ue.height+" scrolled to "+-Ue.left+","+-Ue.top),Ke=new DocumentCloner(Oe,Ee,Qe),Ge=Ke.clonedReferenceElement,Ge?[4,Ke.toIFrame(n,Ue)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return qe=Rr.sent(),Xe=isBodyElement(Ge)||isHTMLElement(Ge)?parseDocumentSize(Ge.ownerDocument):parseBounds(Oe,Ge),tr=Xe.width,Je=Xe.height,Ye=Xe.left,lr=Xe.top,cr=parseBackgroundColor(Oe,Ge,t.backgroundColor),hr={canvas:t.canvas,backgroundColor:cr,scale:(Nr=(jr=t.scale)!==null&&jr!==void 0?jr:Ce.devicePixelRatio)!==null&&Nr!==void 0?Nr:1,x:((Br=t.x)!==null&&Br!==void 0?Br:0)+Ye,y:((Mr=t.y)!==null&&Mr!==void 0?Mr:0)+lr,width:(_r=t.width)!==null&&_r!==void 0?_r:Math.ceil(tr),height:(gr=t.height)!==null&&gr!==void 0?gr:Math.ceil(Je)},Me?(Oe.logger.debug("Document cloned, using foreign object rendering"),er=new ForeignObjectRenderer(Oe,hr),[4,er.render(Ge)]):[3,3];case 2:return ur=Rr.sent(),[3,5];case 3:return Oe.logger.debug("Document cloned, element located at "+Ye+","+lr+" with size "+tr+"x"+Je+" using computed rendering"),Oe.logger.debug("Starting DOM parsing"),fr=parseTree(Oe,Ge),cr===fr.styles.backgroundColor&&(fr.styles.backgroundColor=COLORS.TRANSPARENT),Oe.logger.debug("Starting renderer for element at "+hr.x+","+hr.y+" with size "+hr.width+"x"+hr.height),er=new CanvasRenderer(Oe,hr),[4,er.render(fr)];case 4:ur=Rr.sent(),Rr.label=5;case 5:return(!((yr=t.removeContainer)!==null&&yr!==void 0)||yr)&&(DocumentCloner.destroy(qe)||Oe.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Oe.logger.debug("Finished rendering"),[2,ur]}})})},parseBackgroundColor=function(Ee,t,n){var Ce=t.ownerDocument,Te=Ce.documentElement?parseColor(Ee,getComputedStyle(Ce.documentElement).backgroundColor):COLORS.TRANSPARENT,Re=Ce.body?parseColor(Ee,getComputedStyle(Ce.body).backgroundColor):COLORS.TRANSPARENT,Be=typeof n=="string"?parseColor(Ee,n):n===null?COLORS.TRANSPARENT:4294967295;return t===Ce.documentElement?isTransparent(Te)?isTransparent(Re)?Be:Re:Te:Be};const html2canvas_esm=Object.freeze(Object.defineProperty({__proto__:null,default:html2canvas},Symbol.toStringTag,{value:"Module"})),scriptRel="modulepreload",assetsURL=function(Ee){return"/"+Ee},seen={},__vitePreload=function(t,n,Ce){let Te=Promise.resolve();if(n&&n.length>0){let Be=function(Me){return Promise.all(Me.map(Qe=>Promise.resolve(Qe).then(Ke=>({status:"fulfilled",value:Ke}),Ke=>({status:"rejected",reason:Ke}))))};document.getElementsByTagName("link");const Ue=document.querySelector("meta[property=csp-nonce]"),Oe=(Ue==null?void 0:Ue.nonce)||(Ue==null?void 0:Ue.getAttribute("nonce"));Te=Be(n.map(Me=>{if(Me=assetsURL(Me),Me in seen)return;seen[Me]=!0;const Qe=Me.endsWith(".css"),Ke=Qe?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${Me}"]${Ke}`))return;const Ge=document.createElement("link");if(Ge.rel=Qe?"stylesheet":scriptRel,Qe||(Ge.as="script"),Ge.crossOrigin="",Ge.href=Me,Oe&&Ge.setAttribute("nonce",Oe),document.head.appendChild(Ge),Qe)return new Promise((qe,Xe)=>{Ge.addEventListener("load",qe),Ge.addEventListener("error",()=>Xe(new Error(`Unable to preload CSS for ${Me}`)))})}))}function Re(Be){const Ue=new Event("vite:preloadError",{cancelable:!0});if(Ue.payload=Be,window.dispatchEvent(Ue),!Ue.defaultPrevented)throw Be}return Te.then(Be=>{for(const Ue of Be||[])Ue.status==="rejected"&&Re(Ue.reason);return t().catch(Re)})};function _typeof(Ee){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(Ee)}var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(Ee,t){for(var n=new u16(31),Ce=0;Ce<31;++Ce)n[Ce]=t+=1<<Ee[Ce-1];for(var Te=new i32(n[30]),Ce=1;Ce<30;++Ce)for(var Re=n[Ce];Re<n[Ce+1];++Re)Te[Re]=Re-n[Ce]<<5|Ce;return{b:n,r:Te}},_a=freb(fleb,2),fl=_a.b,revfl=_a.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),revfd=_b.r,rev=new u16(32768);for(var i$3=0;i$3<32768;++i$3){var x$1=(i$3&43690)>>1|(i$3&21845)<<1;x$1=(x$1&52428)>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>4|(x$1&3855)<<4,rev[i$3]=((x$1&65280)>>8|(x$1&255)<<8)>>1}var hMap=(function(Ee,t,n){for(var Ce=Ee.length,Te=0,Re=new u16(t);Te<Ce;++Te)Ee[Te]&&++Re[Ee[Te]-1];var Be=new u16(t);for(Te=1;Te<t;++Te)Be[Te]=Be[Te-1]+Re[Te-1]<<1;var Ue;if(n){Ue=new u16(1<<t);var Oe=15-t;for(Te=0;Te<Ce;++Te)if(Ee[Te])for(var Me=Te<<4|Ee[Te],Qe=t-Ee[Te],Ke=Be[Ee[Te]-1]++<<Qe,Ge=Ke|(1<<Qe)-1;Ke<=Ge;++Ke)Ue[rev[Ke]>>Oe]=Me}else for(Ue=new u16(Ce),Te=0;Te<Ce;++Te)Ee[Te]&&(Ue[Te]=rev[Be[Ee[Te]-1]++]>>15-Ee[Te]);return Ue}),flt=new u8(288);for(var i$3=0;i$3<144;++i$3)flt[i$3]=8;for(var i$3=144;i$3<256;++i$3)flt[i$3]=9;for(var i$3=256;i$3<280;++i$3)flt[i$3]=7;for(var i$3=280;i$3<288;++i$3)flt[i$3]=8;var fdt=new u8(32);for(var i$3=0;i$3<32;++i$3)fdt[i$3]=5;var flm=hMap(flt,9,0),fdm=hMap(fdt,5,0),shft=function(Ee){return(Ee+7)/8|0},slc=function(Ee,t,n){return(n==null||n>Ee.length)&&(n=Ee.length),new u8(Ee.subarray(t,n))},wbits=function(Ee,t,n){n<<=t&7;var Ce=t/8|0;Ee[Ce]|=n,Ee[Ce+1]|=n>>8},wbits16=function(Ee,t,n){n<<=t&7;var Ce=t/8|0;Ee[Ce]|=n,Ee[Ce+1]|=n>>8,Ee[Ce+2]|=n>>16},hTree=function(Ee,t){for(var n=[],Ce=0;Ce<Ee.length;++Ce)Ee[Ce]&&n.push({s:Ce,f:Ee[Ce]});var Te=n.length,Re=n.slice();if(!Te)return{t:et$1,l:0};if(Te==1){var Be=new u8(n[0].s+1);return Be[n[0].s]=1,{t:Be,l:1}}n.sort(function(ur,fr){return ur.f-fr.f}),n.push({s:-1,f:25001});var Ue=n[0],Oe=n[1],Me=0,Qe=1,Ke=2;for(n[0]={s:-1,f:Ue.f+Oe.f,l:Ue,r:Oe};Qe!=Te-1;)Ue=n[n[Me].f<n[Ke].f?Me++:Ke++],Oe=n[Me!=Qe&&n[Me].f<n[Ke].f?Me++:Ke++],n[Qe++]={s:-1,f:Ue.f+Oe.f,l:Ue,r:Oe};for(var Ge=Re[0].s,Ce=1;Ce<Te;++Ce)Re[Ce].s>Ge&&(Ge=Re[Ce].s);var qe=new u16(Ge+1),Xe=ln(n[Qe-1],qe,0);if(Xe>t){var Ce=0,tr=0,Je=Xe-t,Ye=1<<Je;for(Re.sort(function(fr,er){return qe[er.s]-qe[fr.s]||fr.f-er.f});Ce<Te;++Ce){var lr=Re[Ce].s;if(qe[lr]>t)tr+=Ye-(1<<Xe-qe[lr]),qe[lr]=t;else break}for(tr>>=Je;tr>0;){var cr=Re[Ce].s;qe[cr]<t?tr-=1<<t-qe[cr]++-1:++Ce}for(;Ce>=0&&tr;--Ce){var hr=Re[Ce].s;qe[hr]==t&&(--qe[hr],++tr)}Xe=t}return{t:new u8(qe),l:Xe}},ln=function(Ee,t,n){return Ee.s==-1?Math.max(ln(Ee.l,t,n+1),ln(Ee.r,t,n+1)):t[Ee.s]=n},lc=function(Ee){for(var t=Ee.length;t&&!Ee[--t];);for(var n=new u16(++t),Ce=0,Te=Ee[0],Re=1,Be=function(Oe){n[Ce++]=Oe},Ue=1;Ue<=t;++Ue)if(Ee[Ue]==Te&&Ue!=t)++Re;else{if(!Te&&Re>2){for(;Re>138;Re-=138)Be(32754);Re>2&&(Be(Re>10?Re-11<<5|28690:Re-3<<5|12305),Re=0)}else if(Re>3){for(Be(Te),--Re;Re>6;Re-=6)Be(8304);Re>2&&(Be(Re-3<<5|8208),Re=0)}for(;Re--;)Be(Te);Re=1,Te=Ee[Ue]}return{c:n.subarray(0,Ce),n:t}},clen=function(Ee,t){for(var n=0,Ce=0;Ce<t.length;++Ce)n+=Ee[Ce]*t[Ce];return n},wfblk=function(Ee,t,n){var Ce=n.length,Te=shft(t+2);Ee[Te]=Ce&255,Ee[Te+1]=Ce>>8,Ee[Te+2]=Ee[Te]^255,Ee[Te+3]=Ee[Te+1]^255;for(var Re=0;Re<Ce;++Re)Ee[Te+Re+4]=n[Re];return(Te+4+Ce)*8},wblk=function(Ee,t,n,Ce,Te,Re,Be,Ue,Oe,Me,Qe){wbits(t,Qe++,n),++Te[256];for(var Ke=hTree(Te,15),Ge=Ke.t,qe=Ke.l,Xe=hTree(Re,15),tr=Xe.t,Je=Xe.l,Ye=lc(Ge),lr=Ye.c,cr=Ye.n,hr=lc(tr),ur=hr.c,fr=hr.n,er=new u16(19),nr=0;nr<lr.length;++nr)++er[lr[nr]&31];for(var nr=0;nr<ur.length;++nr)++er[ur[nr]&31];for(var ir=hTree(er,7),mr=ir.t,$e=ir.l,Ar=19;Ar>4&&!mr[clim[Ar-1]];--Ar);var or=Me+5<<3,Tr=clen(Te,flt)+clen(Re,fdt)+Be,Ur=clen(Te,Ge)+clen(Re,tr)+Be+14+3*Ar+clen(er,mr)+2*er[16]+3*er[17]+7*er[18];if(Oe>=0&&or<=Tr&&or<=Ur)return wfblk(t,Qe,Ee.subarray(Oe,Oe+Me));var Fr,Er,jr,Nr;if(wbits(t,Qe,1+(Ur<Tr)),Qe+=2,Ur<Tr){Fr=hMap(Ge,qe,0),Er=Ge,jr=hMap(tr,Je,0),Nr=tr;var Br=hMap(mr,$e,0);wbits(t,Qe,cr-257),wbits(t,Qe+5,fr-1),wbits(t,Qe+10,Ar-4),Qe+=14;for(var nr=0;nr<Ar;++nr)wbits(t,Qe+3*nr,mr[clim[nr]]);Qe+=3*Ar;for(var Mr=[lr,ur],_r=0;_r<2;++_r)for(var gr=Mr[_r],nr=0;nr<gr.length;++nr){var yr=gr[nr]&31;wbits(t,Qe,Br[yr]),Qe+=mr[yr],yr>15&&(wbits(t,Qe,gr[nr]>>5&127),Qe+=gr[nr]>>12)}}else Fr=flm,Er=flt,jr=fdm,Nr=fdt;for(var nr=0;nr<Ue;++nr){var Rr=Ce[nr];if(Rr>255){var yr=Rr>>18&31;wbits16(t,Qe,Fr[yr+257]),Qe+=Er[yr+257],yr>7&&(wbits(t,Qe,Rr>>23&31),Qe+=fleb[yr]);var Ir=Rr&31;wbits16(t,Qe,jr[Ir]),Qe+=Nr[Ir],Ir>3&&(wbits16(t,Qe,Rr>>5&8191),Qe+=fdeb[Ir])}else wbits16(t,Qe,Fr[Rr]),Qe+=Er[Rr]}return wbits16(t,Qe,Fr[256]),Qe+Er[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(Ee,t,n,Ce,Te,Re){var Be=Re.z||Ee.length,Ue=new u8(Ce+Be+5*(1+Math.ceil(Be/7e3))+Te),Oe=Ue.subarray(Ce,Ue.length-Te),Me=Re.l,Qe=(Re.r||0)&7;if(t){Qe&&(Oe[0]=Re.r>>3);for(var Ke=deo[t-1],Ge=Ke>>13,qe=Ke&8191,Xe=(1<<n)-1,tr=Re.p||new u16(32768),Je=Re.h||new u16(Xe+1),Ye=Math.ceil(n/3),lr=2*Ye,cr=function(wn){return(Ee[wn]^Ee[wn+1]<<Ye^Ee[wn+2]<<lr)&Xe},hr=new i32(25e3),ur=new u16(288),fr=new u16(32),er=0,nr=0,ir=Re.i||0,mr=0,$e=Re.w||0,Ar=0;ir+2<Be;++ir){var or=cr(ir),Tr=ir&32767,Ur=Je[or];if(tr[Tr]=Ur,Je[or]=Tr,$e<=ir){var Fr=Be-ir;if((er>7e3||mr>24576)&&(Fr>423||!Me)){Qe=wblk(Ee,Oe,0,hr,ur,fr,nr,mr,Ar,ir-Ar,Qe),mr=er=nr=0,Ar=ir;for(var Er=0;Er<286;++Er)ur[Er]=0;for(var Er=0;Er<30;++Er)fr[Er]=0}var jr=2,Nr=0,Br=qe,Mr=Tr-Ur&32767;if(Fr>2&&or==cr(ir-Mr))for(var _r=Math.min(Ge,Fr)-1,gr=Math.min(32767,ir),yr=Math.min(258,Fr);Mr<=gr&&--Br&&Tr!=Ur;){if(Ee[ir+jr]==Ee[ir+jr-Mr]){for(var Rr=0;Rr<yr&&Ee[ir+Rr]==Ee[ir+Rr-Mr];++Rr);if(Rr>jr){if(jr=Rr,Nr=Mr,Rr>_r)break;for(var Ir=Math.min(Mr,Rr-2),Qr=0,Er=0;Er<Ir;++Er){var Vr=ir-Mr+Er&32767,Wr=tr[Vr],mn=Vr-Wr&32767;mn>Qr&&(Qr=mn,Ur=Vr)}}}Tr=Ur,Ur=tr[Tr],Mr+=Tr-Ur&32767}if(Nr){hr[mr++]=268435456|revfl[jr]<<18|revfd[Nr];var gn=revfl[jr]&31,fn=revfd[Nr]&31;nr+=fleb[gn]+fdeb[fn],++ur[257+gn],++fr[fn],$e=ir+jr,++er}else hr[mr++]=Ee[ir],++ur[Ee[ir]]}}for(ir=Math.max(ir,$e);ir<Be;++ir)hr[mr++]=Ee[ir],++ur[Ee[ir]];Qe=wblk(Ee,Oe,Me,hr,ur,fr,nr,mr,Ar,ir-Ar,Qe),Me||(Re.r=Qe&7|Oe[Qe/8|0]<<3,Qe-=7,Re.h=Je,Re.p=tr,Re.i=ir,Re.w=$e)}else{for(var ir=Re.w||0;ir<Be+Me;ir+=65535){var Fn=ir+65535;Fn>=Be&&(Oe[Qe/8|0]=Me,Fn=Be),Qe=wfblk(Oe,Qe+1,Ee.subarray(ir,Fn))}Re.i=Be}return slc(Ue,0,Ce+shft(Qe)+Te)},adler=function(){var Ee=1,t=0;return{p:function(n){for(var Ce=Ee,Te=t,Re=n.length|0,Be=0;Be!=Re;){for(var Ue=Math.min(Be+2655,Re);Be<Ue;++Be)Te+=Ce+=n[Be];Ce=(Ce&65535)+15*(Ce>>16),Te=(Te&65535)+15*(Te>>16)}Ee=Ce,t=Te},d:function(){return Ee%=65521,t%=65521,(Ee&255)<<24|(Ee&65280)<<8|(t&255)<<8|t>>8}}},dopt=function(Ee,t,n,Ce,Te){if(!Te&&(Te={l:1},t.dictionary)){var Re=t.dictionary.subarray(-32768),Be=new u8(Re.length+Ee.length);Be.set(Re),Be.set(Ee,Re.length),Ee=Be,Te.w=Re.length}return dflt(Ee,t.level==null?6:t.level,t.mem==null?Te.l?Math.ceil(Math.max(8,Math.min(13,Math.log(Ee.length)))*1.5):20:12+t.mem,n,Ce,Te)},wbytes=function(Ee,t,n){for(;n;++t)Ee[t]=n,n>>>=8},zlh=function(Ee,t){var n=t.level,Ce=n==0?0:n<6?1:n==9?3:2;if(Ee[0]=120,Ee[1]=Ce<<6|(t.dictionary&&32),Ee[1]|=31-(Ee[0]<<8|Ee[1])%31,t.dictionary){var Te=adler();Te.p(t.dictionary),wbytes(Ee,2,Te.d())}};function zlibSync(Ee,t){t||(t={});var n=adler();n.p(Ee);var Ce=dopt(Ee,t,t.dictionary?6:2,4);return zlh(Ce,t),wbytes(Ce,Ce.length-4,n.d()),Ce}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$1,{stream:!0}),tds=1}catch{}function _arrayWithHoles(Ee){if(Array.isArray(Ee))return Ee}function _iterableToArrayLimit(Ee,t){var n=Ee==null?null:typeof Symbol<"u"&&Ee[Symbol.iterator]||Ee["@@iterator"];if(n!=null){var Ce,Te,Re,Be,Ue=[],Oe=!0,Me=!1;try{if(Re=(n=n.call(Ee)).next,t!==0)for(;!(Oe=(Ce=Re.call(n)).done)&&(Ue.push(Ce.value),Ue.length!==t);Oe=!0);}catch(Qe){Me=!0,Te=Qe}finally{try{if(!Oe&&n.return!=null&&(Be=n.return(),Object(Be)!==Be))return}finally{if(Me)throw Te}}return Ue}}function _arrayLikeToArray(Ee,t){(t==null||t>Ee.length)&&(t=Ee.length);for(var n=0,Ce=Array(t);n<t;n++)Ce[n]=Ee[n];return Ce}function _unsupportedIterableToArray(Ee,t){if(Ee){if(typeof Ee=="string")return _arrayLikeToArray(Ee,t);var n={}.toString.call(Ee).slice(8,-1);return n==="Object"&&Ee.constructor&&(n=Ee.constructor.name),n==="Map"||n==="Set"?Array.from(Ee):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(Ee,t):void 0}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(Ee,t){return _arrayWithHoles(Ee)||_iterableToArrayLimit(Ee,t)||_unsupportedIterableToArray(Ee,t)||_nonIterableRest()}function decode(Ee,t="utf8"){return new TextDecoder(t).decode(Ee)}const encoder=new TextEncoder;function encode(Ee){return encoder.encode(Ee)}const defaultByteLength=1024*8,hostBigEndian=(()=>{const Ee=new Uint8Array(4),t=new Uint32Array(Ee.buffer);return!((t[0]=1)&Ee[0])})(),typedArrays={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class IOBuffer{constructor(t=defaultByteLength,n={}){zi(this,"buffer");zi(this,"byteLength");zi(this,"byteOffset");zi(this,"length");zi(this,"offset");zi(this,"lastWrittenByte");zi(this,"littleEndian");zi(this,"_data");zi(this,"_mark");zi(this,"_marks");let Ce=!1;typeof t=="number"?t=new ArrayBuffer(t):(Ce=!0,this.lastWrittenByte=t.byteLength);const Te=n.offset?n.offset>>>0:0,Re=t.byteLength-Te;let Be=Te;(ArrayBuffer.isView(t)||t instanceof IOBuffer)&&(t.byteLength!==t.buffer.byteLength&&(Be=t.byteOffset+Te),t=t.buffer),Ce?this.lastWrittenByte=Re:this.lastWrittenByte=0,this.buffer=t,this.length=Re,this.byteLength=Re,this.byteOffset=Be,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,Be,Re),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const Ce=(this.offset+t)*2,Te=new Uint8Array(Ce);Te.set(new Uint8Array(this.buffer)),this.buffer=Te.buffer,this.length=Ce,this.byteLength=Ce,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const Ce=typedArrays[n].BYTES_PER_ELEMENT*t,Te=this.byteOffset+this.offset,Re=this.buffer.slice(Te,Te+Ce);if(this.littleEndian===hostBigEndian&&n!=="uint8"&&n!=="int8"){const Ue=new Uint8Array(this.buffer.slice(Te,Te+Ce));Ue.reverse();const Oe=new typedArrays[n](Ue.buffer);return this.offset+=Ce,Oe.reverse(),Oe}const Be=new typedArrays[n](Re);return this.offset+=Ce,Be}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let Ce=0;Ce<t;Ce++)n+=this.readChar();return n}readUtf8(t=1){return decode(this.readBytes(t))}decodeText(t=1,n="utf8"){return decode(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(encode(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function zero$1(Ee){let t=Ee.length;for(;--t>=0;)Ee[t]=0}const MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);const adler32=(Ee,t,n,Ce)=>{let Te=Ee&65535|0,Re=Ee>>>16&65535|0,Be=0;for(;n!==0;){Be=n>2e3?2e3:n,n-=Be;do Te=Te+t[Ce++]|0,Re=Re+Te|0;while(--Be);Te%=65521,Re%=65521}return Te|Re<<16|0};var adler32_1$3=adler32;const makeTable=()=>{let Ee,t=[];for(var n=0;n<256;n++){Ee=n;for(var Ce=0;Ce<8;Ce++)Ee=Ee&1?3988292384^Ee>>>1:Ee>>>1;t[n]=Ee}return t},crcTable$1=new Uint32Array(makeTable()),crc32=(Ee,t,n,Ce)=>{const Te=crcTable$1,Re=Ce+n;Ee^=-1;for(let Be=Ce;Be<Re;Be++)Ee=Ee>>>8^Te[(Ee^t[Be])&255];return Ee^-1};var crc32_1$3=crc32,messages$3={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2$1={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const _has=(Ee,t)=>Object.prototype.hasOwnProperty.call(Ee,t);var assign=function(Ee){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const Ce in n)_has(n,Ce)&&(Ee[Ce]=n[Ce])}}return Ee},flattenChunks=Ee=>{let t=0;for(let Ce=0,Te=Ee.length;Ce<Te;Ce++)t+=Ee[Ce].length;const n=new Uint8Array(t);for(let Ce=0,Te=0,Re=Ee.length;Ce<Re;Ce++){let Be=Ee[Ce];n.set(Be,Te),Te+=Be.length}return n},common$3={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let Ee=0;Ee<256;Ee++)_utf8len[Ee]=Ee>=252?6:Ee>=248?5:Ee>=240?4:Ee>=224?3:Ee>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=Ee=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(Ee);let t,n,Ce,Te,Re,Be=Ee.length,Ue=0;for(Te=0;Te<Be;Te++)n=Ee.charCodeAt(Te),(n&64512)===55296&&Te+1<Be&&(Ce=Ee.charCodeAt(Te+1),(Ce&64512)===56320&&(n=65536+(n-55296<<10)+(Ce-56320),Te++)),Ue+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(Ue),Re=0,Te=0;Re<Ue;Te++)n=Ee.charCodeAt(Te),(n&64512)===55296&&Te+1<Be&&(Ce=Ee.charCodeAt(Te+1),(Ce&64512)===56320&&(n=65536+(n-55296<<10)+(Ce-56320),Te++)),n<128?t[Re++]=n:n<2048?(t[Re++]=192|n>>>6,t[Re++]=128|n&63):n<65536?(t[Re++]=224|n>>>12,t[Re++]=128|n>>>6&63,t[Re++]=128|n&63):(t[Re++]=240|n>>>18,t[Re++]=128|n>>>12&63,t[Re++]=128|n>>>6&63,t[Re++]=128|n&63);return t};const buf2binstring=(Ee,t)=>{if(t<65534&&Ee.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,Ee.length===t?Ee:Ee.subarray(0,t));let n="";for(let Ce=0;Ce<t;Ce++)n+=String.fromCharCode(Ee[Ce]);return n};var buf2string=(Ee,t)=>{const n=t||Ee.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(Ee.subarray(0,t));let Ce,Te;const Re=new Array(n*2);for(Te=0,Ce=0;Ce<n;){let Be=Ee[Ce++];if(Be<128){Re[Te++]=Be;continue}let Ue=_utf8len[Be];if(Ue>4){Re[Te++]=65533,Ce+=Ue-1;continue}for(Be&=Ue===2?31:Ue===3?15:7;Ue>1&&Ce<n;)Be=Be<<6|Ee[Ce++]&63,Ue--;if(Ue>1){Re[Te++]=65533;continue}Be<65536?Re[Te++]=Be:(Be-=65536,Re[Te++]=55296|Be>>10&1023,Re[Te++]=56320|Be&1023)}return buf2binstring(Re,Te)},utf8border=(Ee,t)=>{t=t||Ee.length,t>Ee.length&&(t=Ee.length);let n=t-1;for(;n>=0&&(Ee[n]&192)===128;)n--;return n<0||n===0?t:n+_utf8len[Ee[n]]>t?n:t},strings$3={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream$3=ZStream;const BAD$1=16209,TYPE$1=16191;var inffast$3=function(t,n){let Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke,Ge,qe,Xe,tr,Je,Ye,lr,cr,hr,ur,fr,er,nr,ir,mr;const $e=t.state;Ce=t.next_in,ir=t.input,Te=Ce+(t.avail_in-5),Re=t.next_out,mr=t.output,Be=Re-(n-t.avail_out),Ue=Re+(t.avail_out-257),Oe=$e.dmax,Me=$e.wsize,Qe=$e.whave,Ke=$e.wnext,Ge=$e.window,qe=$e.hold,Xe=$e.bits,tr=$e.lencode,Je=$e.distcode,Ye=(1<<$e.lenbits)-1,lr=(1<<$e.distbits)-1;e:do{Xe<15&&(qe+=ir[Ce++]<<Xe,Xe+=8,qe+=ir[Ce++]<<Xe,Xe+=8),cr=tr[qe&Ye];t:for(;;){if(hr=cr>>>24,qe>>>=hr,Xe-=hr,hr=cr>>>16&255,hr===0)mr[Re++]=cr&65535;else if(hr&16){ur=cr&65535,hr&=15,hr&&(Xe<hr&&(qe+=ir[Ce++]<<Xe,Xe+=8),ur+=qe&(1<<hr)-1,qe>>>=hr,Xe-=hr),Xe<15&&(qe+=ir[Ce++]<<Xe,Xe+=8,qe+=ir[Ce++]<<Xe,Xe+=8),cr=Je[qe&lr];r:for(;;){if(hr=cr>>>24,qe>>>=hr,Xe-=hr,hr=cr>>>16&255,hr&16){if(fr=cr&65535,hr&=15,Xe<hr&&(qe+=ir[Ce++]<<Xe,Xe+=8,Xe<hr&&(qe+=ir[Ce++]<<Xe,Xe+=8)),fr+=qe&(1<<hr)-1,fr>Oe){t.msg="invalid distance too far back",$e.mode=BAD$1;break e}if(qe>>>=hr,Xe-=hr,hr=Re-Be,fr>hr){if(hr=fr-hr,hr>Qe&&$e.sane){t.msg="invalid distance too far back",$e.mode=BAD$1;break e}if(er=0,nr=Ge,Ke===0){if(er+=Me-hr,hr<ur){ur-=hr;do mr[Re++]=Ge[er++];while(--hr);er=Re-fr,nr=mr}}else if(Ke<hr){if(er+=Me+Ke-hr,hr-=Ke,hr<ur){ur-=hr;do mr[Re++]=Ge[er++];while(--hr);if(er=0,Ke<ur){hr=Ke,ur-=hr;do mr[Re++]=Ge[er++];while(--hr);er=Re-fr,nr=mr}}}else if(er+=Ke-hr,hr<ur){ur-=hr;do mr[Re++]=Ge[er++];while(--hr);er=Re-fr,nr=mr}for(;ur>2;)mr[Re++]=nr[er++],mr[Re++]=nr[er++],mr[Re++]=nr[er++],ur-=3;ur&&(mr[Re++]=nr[er++],ur>1&&(mr[Re++]=nr[er++]))}else{er=Re-fr;do mr[Re++]=mr[er++],mr[Re++]=mr[er++],mr[Re++]=mr[er++],ur-=3;while(ur>2);ur&&(mr[Re++]=mr[er++],ur>1&&(mr[Re++]=mr[er++]))}}else if((hr&64)===0){cr=Je[(cr&65535)+(qe&(1<<hr)-1)];continue r}else{t.msg="invalid distance code",$e.mode=BAD$1;break e}break}}else if((hr&64)===0){cr=tr[(cr&65535)+(qe&(1<<hr)-1)];continue t}else if(hr&32){$e.mode=TYPE$1;break e}else{t.msg="invalid literal/length code",$e.mode=BAD$1;break e}break}}while(Ce<Te&&Re<Ue);ur=Xe>>3,Ce-=ur,Xe-=ur<<3,qe&=(1<<Xe)-1,t.next_in=Ce,t.next_out=Re,t.avail_in=Ce<Te?5+(Te-Ce):5-(Ce-Te),t.avail_out=Re<Ue?257+(Ue-Re):257-(Re-Ue),$e.hold=qe,$e.bits=Xe};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(Ee,t,n,Ce,Te,Re,Be,Ue)=>{const Oe=Ue.bits;let Me=0,Qe=0,Ke=0,Ge=0,qe=0,Xe=0,tr=0,Je=0,Ye=0,lr=0,cr,hr,ur,fr,er,nr=null,ir;const mr=new Uint16Array(MAXBITS+1),$e=new Uint16Array(MAXBITS+1);let Ar=null,or,Tr,Ur;for(Me=0;Me<=MAXBITS;Me++)mr[Me]=0;for(Qe=0;Qe<Ce;Qe++)mr[t[n+Qe]]++;for(qe=Oe,Ge=MAXBITS;Ge>=1&&mr[Ge]===0;Ge--);if(qe>Ge&&(qe=Ge),Ge===0)return Te[Re++]=1<<24|64<<16|0,Te[Re++]=1<<24|64<<16|0,Ue.bits=1,0;for(Ke=1;Ke<Ge&&mr[Ke]===0;Ke++);for(qe<Ke&&(qe=Ke),Je=1,Me=1;Me<=MAXBITS;Me++)if(Je<<=1,Je-=mr[Me],Je<0)return-1;if(Je>0&&(Ee===CODES$1||Ge!==1))return-1;for($e[1]=0,Me=1;Me<MAXBITS;Me++)$e[Me+1]=$e[Me]+mr[Me];for(Qe=0;Qe<Ce;Qe++)t[n+Qe]!==0&&(Be[$e[t[n+Qe]]++]=Qe);if(Ee===CODES$1?(nr=Ar=Be,ir=20):Ee===LENS$1?(nr=lbase,Ar=lext,ir=257):(nr=dbase,Ar=dext,ir=0),lr=0,Qe=0,Me=Ke,er=Re,Xe=qe,tr=0,ur=-1,Ye=1<<qe,fr=Ye-1,Ee===LENS$1&&Ye>ENOUGH_LENS$1||Ee===DISTS$1&&Ye>ENOUGH_DISTS$1)return 1;for(;;){or=Me-tr,Be[Qe]+1<ir?(Tr=0,Ur=Be[Qe]):Be[Qe]>=ir?(Tr=Ar[Be[Qe]-ir],Ur=nr[Be[Qe]-ir]):(Tr=96,Ur=0),cr=1<<Me-tr,hr=1<<Xe,Ke=hr;do hr-=cr,Te[er+(lr>>tr)+hr]=or<<24|Tr<<16|Ur|0;while(hr!==0);for(cr=1<<Me-1;lr&cr;)cr>>=1;if(cr!==0?(lr&=cr-1,lr+=cr):lr=0,Qe++,--mr[Me]===0){if(Me===Ge)break;Me=t[n+Be[Qe]]}if(Me>qe&&(lr&fr)!==ur){for(tr===0&&(tr=qe),er+=Ke,Xe=Me-tr,Je=1<<Xe;Xe+tr<Ge&&(Je-=mr[Xe+tr],!(Je<=0));)Xe++,Je<<=1;if(Ye+=1<<Xe,Ee===LENS$1&&Ye>ENOUGH_LENS$1||Ee===DISTS$1&&Ye>ENOUGH_DISTS$1)return 1;ur=lr&fr,Te[ur]=qe<<24|Xe<<16|er-Re|0}}return lr!==0&&(Te[er+lr]=Me-tr<<24|64<<16|0),Ue.bits=qe,0};var inftrees$3=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2$1,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=Ee=>(Ee>>>24&255)+(Ee>>>8&65280)+((Ee&65280)<<8)+((Ee&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=Ee=>{if(!Ee)return 1;const t=Ee.state;return!t||t.strm!==Ee||t.mode<HEAD||t.mode>SYNC?1:0},inflateResetKeep=Ee=>{if(inflateStateCheck(Ee))return Z_STREAM_ERROR$1;const t=Ee.state;return Ee.total_in=Ee.total_out=t.total=0,Ee.msg="",t.wrap&&(Ee.adler=t.wrap&1),t.mode=HEAD,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(ENOUGH_LENS),t.distcode=t.distdyn=new Int32Array(ENOUGH_DISTS),t.sane=1,t.back=-1,Z_OK$1},inflateReset=Ee=>{if(inflateStateCheck(Ee))return Z_STREAM_ERROR$1;const t=Ee.state;return t.wsize=0,t.whave=0,t.wnext=0,inflateResetKeep(Ee)},inflateReset2=(Ee,t)=>{let n;if(inflateStateCheck(Ee))return Z_STREAM_ERROR$1;const Ce=Ee.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Z_STREAM_ERROR$1:(Ce.window!==null&&Ce.wbits!==t&&(Ce.window=null),Ce.wrap=n,Ce.wbits=t,inflateReset(Ee))},inflateInit2=(Ee,t)=>{if(!Ee)return Z_STREAM_ERROR$1;const n=new InflateState;Ee.state=n,n.strm=Ee,n.window=null,n.mode=HEAD;const Ce=inflateReset2(Ee,t);return Ce!==Z_OK$1&&(Ee.state=null),Ce},inflateInit=Ee=>inflateInit2(Ee,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=Ee=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let t=0;for(;t<144;)Ee.lens[t++]=8;for(;t<256;)Ee.lens[t++]=9;for(;t<280;)Ee.lens[t++]=7;for(;t<288;)Ee.lens[t++]=8;for(inftrees$3(LENS,Ee.lens,0,288,lenfix,0,Ee.work,{bits:9}),t=0;t<32;)Ee.lens[t++]=5;inftrees$3(DISTS,Ee.lens,0,32,distfix,0,Ee.work,{bits:5}),virgin=!1}Ee.lencode=lenfix,Ee.lenbits=9,Ee.distcode=distfix,Ee.distbits=5},updatewindow=(Ee,t,n,Ce)=>{let Te;const Re=Ee.state;return Re.window===null&&(Re.wsize=1<<Re.wbits,Re.wnext=0,Re.whave=0,Re.window=new Uint8Array(Re.wsize)),Ce>=Re.wsize?(Re.window.set(t.subarray(n-Re.wsize,n),0),Re.wnext=0,Re.whave=Re.wsize):(Te=Re.wsize-Re.wnext,Te>Ce&&(Te=Ce),Re.window.set(t.subarray(n-Ce,n-Ce+Te),Re.wnext),Ce-=Te,Ce?(Re.window.set(t.subarray(n-Ce,n),0),Re.wnext=Ce,Re.whave=Re.wsize):(Re.wnext+=Te,Re.wnext===Re.wsize&&(Re.wnext=0),Re.whave<Re.wsize&&(Re.whave+=Te))),0},inflate$2$1=(Ee,t)=>{let n,Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke,Ge,qe,Xe,tr,Je=0,Ye,lr,cr,hr,ur,fr,er,nr;const ir=new Uint8Array(4);let mr,$e;const Ar=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(Ee)||!Ee.output||!Ee.input&&Ee.avail_in!==0)return Z_STREAM_ERROR$1;n=Ee.state,n.mode===TYPE&&(n.mode=TYPEDO),Be=Ee.next_out,Te=Ee.output,Oe=Ee.avail_out,Re=Ee.next_in,Ce=Ee.input,Ue=Ee.avail_in,Me=n.hold,Qe=n.bits,Ke=Ue,Ge=Oe,nr=Z_OK$1;e:for(;;)switch(n.mode){case HEAD:if(n.wrap===0){n.mode=TYPEDO;break}for(;Qe<16;){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}if(n.wrap&2&&Me===35615){n.wbits===0&&(n.wbits=15),n.check=0,ir[0]=Me&255,ir[1]=Me>>>8&255,n.check=crc32_1$3(n.check,ir,2,0),Me=0,Qe=0,n.mode=FLAGS;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((Me&255)<<8)+(Me>>8))%31){Ee.msg="incorrect header check",n.mode=BAD;break}if((Me&15)!==Z_DEFLATED){Ee.msg="unknown compression method",n.mode=BAD;break}if(Me>>>=4,Qe-=4,er=(Me&15)+8,n.wbits===0&&(n.wbits=er),er>15||er>n.wbits){Ee.msg="invalid window size",n.mode=BAD;break}n.dmax=1<<n.wbits,n.flags=0,Ee.adler=n.check=1,n.mode=Me&512?DICTID:TYPE,Me=0,Qe=0;break;case FLAGS:for(;Qe<16;){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}if(n.flags=Me,(n.flags&255)!==Z_DEFLATED){Ee.msg="unknown compression method",n.mode=BAD;break}if(n.flags&57344){Ee.msg="unknown header flags set",n.mode=BAD;break}n.head&&(n.head.text=Me>>8&1),n.flags&512&&n.wrap&4&&(ir[0]=Me&255,ir[1]=Me>>>8&255,n.check=crc32_1$3(n.check,ir,2,0)),Me=0,Qe=0,n.mode=TIME;case TIME:for(;Qe<32;){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}n.head&&(n.head.time=Me),n.flags&512&&n.wrap&4&&(ir[0]=Me&255,ir[1]=Me>>>8&255,ir[2]=Me>>>16&255,ir[3]=Me>>>24&255,n.check=crc32_1$3(n.check,ir,4,0)),Me=0,Qe=0,n.mode=OS;case OS:for(;Qe<16;){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}n.head&&(n.head.xflags=Me&255,n.head.os=Me>>8),n.flags&512&&n.wrap&4&&(ir[0]=Me&255,ir[1]=Me>>>8&255,n.check=crc32_1$3(n.check,ir,2,0)),Me=0,Qe=0,n.mode=EXLEN;case EXLEN:if(n.flags&1024){for(;Qe<16;){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}n.length=Me,n.head&&(n.head.extra_len=Me),n.flags&512&&n.wrap&4&&(ir[0]=Me&255,ir[1]=Me>>>8&255,n.check=crc32_1$3(n.check,ir,2,0)),Me=0,Qe=0}else n.head&&(n.head.extra=null);n.mode=EXTRA;case EXTRA:if(n.flags&1024&&(qe=n.length,qe>Ue&&(qe=Ue),qe&&(n.head&&(er=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(Ce.subarray(Re,Re+qe),er)),n.flags&512&&n.wrap&4&&(n.check=crc32_1$3(n.check,Ce,qe,Re)),Ue-=qe,Re+=qe,n.length-=qe),n.length))break e;n.length=0,n.mode=NAME;case NAME:if(n.flags&2048){if(Ue===0)break e;qe=0;do er=Ce[Re+qe++],n.head&&er&&n.length<65536&&(n.head.name+=String.fromCharCode(er));while(er&&qe<Ue);if(n.flags&512&&n.wrap&4&&(n.check=crc32_1$3(n.check,Ce,qe,Re)),Ue-=qe,Re+=qe,er)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=COMMENT;case COMMENT:if(n.flags&4096){if(Ue===0)break e;qe=0;do er=Ce[Re+qe++],n.head&&er&&n.length<65536&&(n.head.comment+=String.fromCharCode(er));while(er&&qe<Ue);if(n.flags&512&&n.wrap&4&&(n.check=crc32_1$3(n.check,Ce,qe,Re)),Ue-=qe,Re+=qe,er)break e}else n.head&&(n.head.comment=null);n.mode=HCRC;case HCRC:if(n.flags&512){for(;Qe<16;){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}if(n.wrap&4&&Me!==(n.check&65535)){Ee.msg="header crc mismatch",n.mode=BAD;break}Me=0,Qe=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),Ee.adler=n.check=0,n.mode=TYPE;break;case DICTID:for(;Qe<32;){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}Ee.adler=n.check=zswap32(Me),Me=0,Qe=0,n.mode=DICT;case DICT:if(n.havedict===0)return Ee.next_out=Be,Ee.avail_out=Oe,Ee.next_in=Re,Ee.avail_in=Ue,n.hold=Me,n.bits=Qe,Z_NEED_DICT$1;Ee.adler=n.check=1,n.mode=TYPE;case TYPE:if(t===Z_BLOCK||t===Z_TREES)break e;case TYPEDO:if(n.last){Me>>>=Qe&7,Qe-=Qe&7,n.mode=CHECK;break}for(;Qe<3;){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}switch(n.last=Me&1,Me>>>=1,Qe-=1,Me&3){case 0:n.mode=STORED;break;case 1:if(fixedtables(n),n.mode=LEN_,t===Z_TREES){Me>>>=2,Qe-=2;break e}break;case 2:n.mode=TABLE;break;case 3:Ee.msg="invalid block type",n.mode=BAD}Me>>>=2,Qe-=2;break;case STORED:for(Me>>>=Qe&7,Qe-=Qe&7;Qe<32;){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}if((Me&65535)!==(Me>>>16^65535)){Ee.msg="invalid stored block lengths",n.mode=BAD;break}if(n.length=Me&65535,Me=0,Qe=0,n.mode=COPY_,t===Z_TREES)break e;case COPY_:n.mode=COPY;case COPY:if(qe=n.length,qe){if(qe>Ue&&(qe=Ue),qe>Oe&&(qe=Oe),qe===0)break e;Te.set(Ce.subarray(Re,Re+qe),Be),Ue-=qe,Re+=qe,Oe-=qe,Be+=qe,n.length-=qe;break}n.mode=TYPE;break;case TABLE:for(;Qe<14;){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}if(n.nlen=(Me&31)+257,Me>>>=5,Qe-=5,n.ndist=(Me&31)+1,Me>>>=5,Qe-=5,n.ncode=(Me&15)+4,Me>>>=4,Qe-=4,n.nlen>286||n.ndist>30){Ee.msg="too many length or distance symbols",n.mode=BAD;break}n.have=0,n.mode=LENLENS;case LENLENS:for(;n.have<n.ncode;){for(;Qe<3;){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}n.lens[Ar[n.have++]]=Me&7,Me>>>=3,Qe-=3}for(;n.have<19;)n.lens[Ar[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,mr={bits:n.lenbits},nr=inftrees$3(CODES,n.lens,0,19,n.lencode,0,n.work,mr),n.lenbits=mr.bits,nr){Ee.msg="invalid code lengths set",n.mode=BAD;break}n.have=0,n.mode=CODELENS;case CODELENS:for(;n.have<n.nlen+n.ndist;){for(;Je=n.lencode[Me&(1<<n.lenbits)-1],Ye=Je>>>24,lr=Je>>>16&255,cr=Je&65535,!(Ye<=Qe);){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}if(cr<16)Me>>>=Ye,Qe-=Ye,n.lens[n.have++]=cr;else{if(cr===16){for($e=Ye+2;Qe<$e;){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}if(Me>>>=Ye,Qe-=Ye,n.have===0){Ee.msg="invalid bit length repeat",n.mode=BAD;break}er=n.lens[n.have-1],qe=3+(Me&3),Me>>>=2,Qe-=2}else if(cr===17){for($e=Ye+3;Qe<$e;){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}Me>>>=Ye,Qe-=Ye,er=0,qe=3+(Me&7),Me>>>=3,Qe-=3}else{for($e=Ye+7;Qe<$e;){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}Me>>>=Ye,Qe-=Ye,er=0,qe=11+(Me&127),Me>>>=7,Qe-=7}if(n.have+qe>n.nlen+n.ndist){Ee.msg="invalid bit length repeat",n.mode=BAD;break}for(;qe--;)n.lens[n.have++]=er}}if(n.mode===BAD)break;if(n.lens[256]===0){Ee.msg="invalid code -- missing end-of-block",n.mode=BAD;break}if(n.lenbits=9,mr={bits:n.lenbits},nr=inftrees$3(LENS,n.lens,0,n.nlen,n.lencode,0,n.work,mr),n.lenbits=mr.bits,nr){Ee.msg="invalid literal/lengths set",n.mode=BAD;break}if(n.distbits=6,n.distcode=n.distdyn,mr={bits:n.distbits},nr=inftrees$3(DISTS,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,mr),n.distbits=mr.bits,nr){Ee.msg="invalid distances set",n.mode=BAD;break}if(n.mode=LEN_,t===Z_TREES)break e;case LEN_:n.mode=LEN;case LEN:if(Ue>=6&&Oe>=258){Ee.next_out=Be,Ee.avail_out=Oe,Ee.next_in=Re,Ee.avail_in=Ue,n.hold=Me,n.bits=Qe,inffast$3(Ee,Ge),Be=Ee.next_out,Te=Ee.output,Oe=Ee.avail_out,Re=Ee.next_in,Ce=Ee.input,Ue=Ee.avail_in,Me=n.hold,Qe=n.bits,n.mode===TYPE&&(n.back=-1);break}for(n.back=0;Je=n.lencode[Me&(1<<n.lenbits)-1],Ye=Je>>>24,lr=Je>>>16&255,cr=Je&65535,!(Ye<=Qe);){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}if(lr&&(lr&240)===0){for(hr=Ye,ur=lr,fr=cr;Je=n.lencode[fr+((Me&(1<<hr+ur)-1)>>hr)],Ye=Je>>>24,lr=Je>>>16&255,cr=Je&65535,!(hr+Ye<=Qe);){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}Me>>>=hr,Qe-=hr,n.back+=hr}if(Me>>>=Ye,Qe-=Ye,n.back+=Ye,n.length=cr,lr===0){n.mode=LIT;break}if(lr&32){n.back=-1,n.mode=TYPE;break}if(lr&64){Ee.msg="invalid literal/length code",n.mode=BAD;break}n.extra=lr&15,n.mode=LENEXT;case LENEXT:if(n.extra){for($e=n.extra;Qe<$e;){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}n.length+=Me&(1<<n.extra)-1,Me>>>=n.extra,Qe-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=DIST;case DIST:for(;Je=n.distcode[Me&(1<<n.distbits)-1],Ye=Je>>>24,lr=Je>>>16&255,cr=Je&65535,!(Ye<=Qe);){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}if((lr&240)===0){for(hr=Ye,ur=lr,fr=cr;Je=n.distcode[fr+((Me&(1<<hr+ur)-1)>>hr)],Ye=Je>>>24,lr=Je>>>16&255,cr=Je&65535,!(hr+Ye<=Qe);){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}Me>>>=hr,Qe-=hr,n.back+=hr}if(Me>>>=Ye,Qe-=Ye,n.back+=Ye,lr&64){Ee.msg="invalid distance code",n.mode=BAD;break}n.offset=cr,n.extra=lr&15,n.mode=DISTEXT;case DISTEXT:if(n.extra){for($e=n.extra;Qe<$e;){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}n.offset+=Me&(1<<n.extra)-1,Me>>>=n.extra,Qe-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){Ee.msg="invalid distance too far back",n.mode=BAD;break}n.mode=MATCH;case MATCH:if(Oe===0)break e;if(qe=Ge-Oe,n.offset>qe){if(qe=n.offset-qe,qe>n.whave&&n.sane){Ee.msg="invalid distance too far back",n.mode=BAD;break}qe>n.wnext?(qe-=n.wnext,Xe=n.wsize-qe):Xe=n.wnext-qe,qe>n.length&&(qe=n.length),tr=n.window}else tr=Te,Xe=Be-n.offset,qe=n.length;qe>Oe&&(qe=Oe),Oe-=qe,n.length-=qe;do Te[Be++]=tr[Xe++];while(--qe);n.length===0&&(n.mode=LEN);break;case LIT:if(Oe===0)break e;Te[Be++]=n.length,Oe--,n.mode=LEN;break;case CHECK:if(n.wrap){for(;Qe<32;){if(Ue===0)break e;Ue--,Me|=Ce[Re++]<<Qe,Qe+=8}if(Ge-=Oe,Ee.total_out+=Ge,n.total+=Ge,n.wrap&4&&Ge&&(Ee.adler=n.check=n.flags?crc32_1$3(n.check,Te,Ge,Be-Ge):adler32_1$3(n.check,Te,Ge,Be-Ge)),Ge=Oe,n.wrap&4&&(n.flags?Me:zswap32(Me))!==n.check){Ee.msg="incorrect data check",n.mode=BAD;break}Me=0,Qe=0}n.mode=LENGTH;case LENGTH:if(n.wrap&&n.flags){for(;Qe<32;){if(Ue===0)break e;Ue--,Me+=Ce[Re++]<<Qe,Qe+=8}if(n.wrap&4&&Me!==(n.total&4294967295)){Ee.msg="incorrect length check",n.mode=BAD;break}Me=0,Qe=0}n.mode=DONE;case DONE:nr=Z_STREAM_END$1;break e;case BAD:nr=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return Ee.next_out=Be,Ee.avail_out=Oe,Ee.next_in=Re,Ee.avail_in=Ue,n.hold=Me,n.bits=Qe,(n.wsize||Ge!==Ee.avail_out&&n.mode<BAD&&(n.mode<CHECK||t!==Z_FINISH$1))&&updatewindow(Ee,Ee.output,Ee.next_out,Ge-Ee.avail_out),Ke-=Ee.avail_in,Ge-=Ee.avail_out,Ee.total_in+=Ke,Ee.total_out+=Ge,n.total+=Ge,n.wrap&4&&Ge&&(Ee.adler=n.check=n.flags?crc32_1$3(n.check,Te,Ge,Ee.next_out-Ge):adler32_1$3(n.check,Te,Ge,Ee.next_out-Ge)),Ee.data_type=n.bits+(n.last?64:0)+(n.mode===TYPE?128:0)+(n.mode===LEN_||n.mode===COPY_?256:0),(Ke===0&&Ge===0||t===Z_FINISH$1)&&nr===Z_OK$1&&(nr=Z_BUF_ERROR),nr},inflateEnd=Ee=>{if(inflateStateCheck(Ee))return Z_STREAM_ERROR$1;let t=Ee.state;return t.window&&(t.window=null),Ee.state=null,Z_OK$1},inflateGetHeader=(Ee,t)=>{if(inflateStateCheck(Ee))return Z_STREAM_ERROR$1;const n=Ee.state;return(n.wrap&2)===0?Z_STREAM_ERROR$1:(n.head=t,t.done=!1,Z_OK$1)},inflateSetDictionary=(Ee,t)=>{const n=t.length;let Ce,Te,Re;return inflateStateCheck(Ee)||(Ce=Ee.state,Ce.wrap!==0&&Ce.mode!==DICT)?Z_STREAM_ERROR$1:Ce.mode===DICT&&(Te=1,Te=adler32_1$3(Te,t,n,0),Te!==Ce.check)?Z_DATA_ERROR$1:(Re=updatewindow(Ee,t,n,n),Re?(Ce.mode=MEM,Z_MEM_ERROR$1):(Ce.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2$1,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader$3=GZheader;const toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2$1;function Inflate$1(Ee){this.options=common$3.assign({chunkSize:1024*64,windowBits:15,to:""},Ee||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(Ee&&Ee.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream$3,this.strm.avail_out=0;let n=inflate_1$2.inflateInit2(this.strm,t.windowBits);if(n!==Z_OK)throw new Error(messages$3[n]);if(this.header=new gzheader$3,inflate_1$2.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=strings$3.string2buf(t.dictionary):toString.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=inflate_1$2.inflateSetDictionary(this.strm,t.dictionary),n!==Z_OK)))throw new Error(messages$3[n])}Inflate$1.prototype.push=function(Ee,t){const n=this.strm,Ce=this.options.chunkSize,Te=this.options.dictionary;let Re,Be,Ue;if(this.ended)return!1;for(t===~~t?Be=t:Be=t===!0?Z_FINISH:Z_NO_FLUSH,toString.call(Ee)==="[object ArrayBuffer]"?n.input=new Uint8Array(Ee):n.input=Ee,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(Ce),n.next_out=0,n.avail_out=Ce),Re=inflate_1$2.inflate(n,Be),Re===Z_NEED_DICT&&Te&&(Re=inflate_1$2.inflateSetDictionary(n,Te),Re===Z_OK?Re=inflate_1$2.inflate(n,Be):Re===Z_DATA_ERROR&&(Re=Z_NEED_DICT));n.avail_in>0&&Re===Z_STREAM_END&&n.state.wrap>0&&Ee[n.next_in]!==0;)inflate_1$2.inflateReset(n),Re=inflate_1$2.inflate(n,Be);switch(Re){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(Re),this.ended=!0,!1}if(Ue=n.avail_out,n.next_out&&(n.avail_out===0||Re===Z_STREAM_END))if(this.options.to==="string"){let Oe=strings$3.utf8border(n.output,n.next_out),Me=n.next_out-Oe,Qe=strings$3.buf2string(n.output,Oe);n.next_out=Me,n.avail_out=Ce-Me,Me&&n.output.set(n.output.subarray(Oe,Oe+Me),0),this.onData(Qe)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(Re===Z_OK&&Ue===0)){if(Re===Z_STREAM_END)return Re=inflate_1$2.inflateEnd(this.strm),this.onEnd(Re),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(Ee){this.chunks.push(Ee)};Inflate$1.prototype.onEnd=function(Ee){Ee===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common$3.flattenChunks(this.chunks)),this.chunks=[],this.err=Ee,this.msg=this.strm.msg};function inflate$1$1(Ee,t){const n=new Inflate$1(t);if(n.push(Ee),n.err)throw n.msg||messages$3[n.err];return n.result}var Inflate_1$1=Inflate$1,inflate_2=inflate$1$1,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2};const{Inflate,inflate:inflate$6}=inflate_1$1;var Inflate_1=Inflate,inflate_1=inflate$6;const crcTable=[];for(let Ee=0;Ee<256;Ee++){let t=Ee;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;crcTable[Ee]=t}const initialCrc=4294967295;function updateCrc(Ee,t,n){let Ce=Ee;for(let Te=0;Te<n;Te++)Ce=crcTable[(Ce^t[Te])&255]^Ce>>>8;return Ce}function crc(Ee,t){return(updateCrc(initialCrc,Ee,t)^initialCrc)>>>0}function checkCrc(Ee,t,n){const Ce=Ee.readUint32(),Te=crc(new Uint8Array(Ee.buffer,Ee.byteOffset+Ee.offset-t-4,t),t);if(Te!==Ce)throw new Error(`CRC mismatch for chunk ${n}. Expected ${Ce}, found ${Te}`)}function unfilterNone(Ee,t,n){for(let Ce=0;Ce<n;Ce++)t[Ce]=Ee[Ce]}function unfilterSub(Ee,t,n,Ce){let Te=0;for(;Te<Ce;Te++)t[Te]=Ee[Te];for(;Te<n;Te++)t[Te]=Ee[Te]+t[Te-Ce]&255}function unfilterUp(Ee,t,n,Ce){let Te=0;if(n.length===0)for(;Te<Ce;Te++)t[Te]=Ee[Te];else for(;Te<Ce;Te++)t[Te]=Ee[Te]+n[Te]&255}function unfilterAverage(Ee,t,n,Ce,Te){let Re=0;if(n.length===0){for(;Re<Te;Re++)t[Re]=Ee[Re];for(;Re<Ce;Re++)t[Re]=Ee[Re]+(t[Re-Te]>>1)&255}else{for(;Re<Te;Re++)t[Re]=Ee[Re]+(n[Re]>>1)&255;for(;Re<Ce;Re++)t[Re]=Ee[Re]+(t[Re-Te]+n[Re]>>1)&255}}function unfilterPaeth(Ee,t,n,Ce,Te){let Re=0;if(n.length===0){for(;Re<Te;Re++)t[Re]=Ee[Re];for(;Re<Ce;Re++)t[Re]=Ee[Re]+t[Re-Te]&255}else{for(;Re<Te;Re++)t[Re]=Ee[Re]+n[Re]&255;for(;Re<Ce;Re++)t[Re]=Ee[Re]+paethPredictor(t[Re-Te],n[Re],n[Re-Te])&255}}function paethPredictor(Ee,t,n){const Ce=Ee+t-n,Te=Math.abs(Ce-Ee),Re=Math.abs(Ce-t),Be=Math.abs(Ce-n);return Te<=Re&&Te<=Be?Ee:Re<=Be?t:n}function applyUnfilter(Ee,t,n,Ce,Te,Re){switch(Ee){case 0:unfilterNone(t,n,Te);break;case 1:unfilterSub(t,n,Te,Re);break;case 2:unfilterUp(t,n,Ce,Te);break;case 3:unfilterAverage(t,n,Ce,Te,Re);break;case 4:unfilterPaeth(t,n,Ce,Te,Re);break;default:throw new Error(`Unsupported filter: ${Ee}`)}}const uint16$1=new Uint16Array([255]),uint8$1=new Uint8Array(uint16$1.buffer),osIsLittleEndian$1=uint8$1[0]===255;function decodeInterlaceAdam7(Ee){const{data:t,width:n,height:Ce,channels:Te,depth:Re}=Ee,Be=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],Ue=Math.ceil(Re/8)*Te,Oe=new Uint8Array(Ce*n*Ue);let Me=0;for(let Qe=0;Qe<7;Qe++){const Ke=Be[Qe],Ge=Math.ceil((n-Ke.x)/Ke.xStep),qe=Math.ceil((Ce-Ke.y)/Ke.yStep);if(Ge<=0||qe<=0)continue;const Xe=Ge*Ue,tr=new Uint8Array(Xe);for(let Je=0;Je<qe;Je++){const Ye=t[Me++],lr=t.subarray(Me,Me+Xe);Me+=Xe;const cr=new Uint8Array(Xe);applyUnfilter(Ye,lr,cr,tr,Xe,Ue),tr.set(cr);for(let hr=0;hr<Ge;hr++){const ur=Ke.x+hr*Ke.xStep,fr=Ke.y+Je*Ke.yStep;if(!(ur>=n||fr>=Ce))for(let er=0;er<Ue;er++)Oe[(fr*n+ur)*Ue+er]=cr[hr*Ue+er]}}}if(Re===16){const Qe=new Uint16Array(Oe.buffer);if(osIsLittleEndian$1)for(let Ke=0;Ke<Qe.length;Ke++)Qe[Ke]=swap16$1(Qe[Ke]);return Qe}else return Oe}function swap16$1(Ee){return(Ee&255)<<8|Ee>>8&255}const uint16=new Uint16Array([255]),uint8=new Uint8Array(uint16.buffer),osIsLittleEndian=uint8[0]===255,empty=new Uint8Array(0);function decodeInterlaceNull(Ee){const{data:t,width:n,height:Ce,channels:Te,depth:Re}=Ee,Be=Math.ceil(Re/8)*Te,Ue=Math.ceil(Re/8*Te*n),Oe=new Uint8Array(Ce*Ue);let Me=empty,Qe=0,Ke,Ge;for(let qe=0;qe<Ce;qe++){switch(Ke=t.subarray(Qe+1,Qe+1+Ue),Ge=Oe.subarray(qe*Ue,(qe+1)*Ue),t[Qe]){case 0:unfilterNone(Ke,Ge,Ue);break;case 1:unfilterSub(Ke,Ge,Ue,Be);break;case 2:unfilterUp(Ke,Ge,Me,Ue);break;case 3:unfilterAverage(Ke,Ge,Me,Ue,Be);break;case 4:unfilterPaeth(Ke,Ge,Me,Ue,Be);break;default:throw new Error(`Unsupported filter: ${t[Qe]}`)}Me=Ge,Qe+=Ue+1}if(Re===16){const qe=new Uint16Array(Oe.buffer);if(osIsLittleEndian)for(let Xe=0;Xe<qe.length;Xe++)qe[Xe]=swap16(qe[Xe]);return qe}else return Oe}function swap16(Ee){return(Ee&255)<<8|Ee>>8&255}const pngSignature=Uint8Array.of(137,80,78,71,13,10,26,10);function checkSignature(Ee){if(!hasPngSignature(Ee.readBytes(pngSignature.length)))throw new Error("wrong PNG signature")}function hasPngSignature(Ee){if(Ee.length<pngSignature.length)return!1;for(let t=0;t<pngSignature.length;t++)if(Ee[t]!==pngSignature[t])return!1;return!0}const textChunkName="tEXt",NULL=0,latin1Decoder=new TextDecoder("latin1");function validateKeyword(Ee){if(validateLatin1(Ee),Ee.length===0||Ee.length>79)throw new Error("keyword length must be between 1 and 79")}const latin1Regex=/^[\u0000-\u00FF]*$/;function validateLatin1(Ee){if(!latin1Regex.test(Ee))throw new Error("invalid latin1 text")}function decodetEXt(Ee,t,n){const Ce=readKeyword(t);Ee[Ce]=readLatin1(t,n-Ce.length-1)}function readKeyword(Ee){for(Ee.mark();Ee.readByte()!==NULL;);const t=Ee.offset;Ee.reset();const n=latin1Decoder.decode(Ee.readBytes(t-Ee.offset-1));return Ee.skip(1),validateKeyword(n),n}function readLatin1(Ee,t){return latin1Decoder.decode(Ee.readBytes(t))}const ColorType={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},CompressionMethod={UNKNOWN:-1,DEFLATE:0},FilterMethod={UNKNOWN:-1,ADAPTIVE:0},InterlaceMethod={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},DisposeOpType={NONE:0,BACKGROUND:1,PREVIOUS:2},BlendOpType={SOURCE:0,OVER:1};class PngDecoder extends IOBuffer{constructor(n,Ce={}){super(n);zi(this,"_checkCrc");zi(this,"_inflator");zi(this,"_png");zi(this,"_apng");zi(this,"_end");zi(this,"_hasPalette");zi(this,"_palette");zi(this,"_hasTransparency");zi(this,"_transparency");zi(this,"_compressionMethod");zi(this,"_filterMethod");zi(this,"_interlaceMethod");zi(this,"_colorType");zi(this,"_isAnimated");zi(this,"_numberOfFrames");zi(this,"_numberOfPlays");zi(this,"_frames");zi(this,"_writingDataChunks");const{checkCrc:Te=!1}=Ce;this._checkCrc=Te,this._inflator=new Inflate_1,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=CompressionMethod.UNKNOWN,this._filterMethod=FilterMethod.UNKNOWN,this._interlaceMethod=InterlaceMethod.UNKNOWN,this._colorType=ColorType.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(checkSignature(this);!this._end;){const n=this.readUint32(),Ce=this.readChars(4);this.decodeChunk(n,Ce)}return this.decodeImage(),this._png}decodeApng(){for(checkSignature(this);!this._end;){const n=this.readUint32(),Ce=this.readChars(4);this.decodeApngChunk(n,Ce)}return this.decodeApngImage(),this._apng}decodeChunk(n,Ce){const Te=this.offset;switch(Ce){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case textChunkName:decodetEXt(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-Te!==n)throw new Error(`Length mismatch while decoding chunk ${Ce}`);this._checkCrc?checkCrc(this,n+4,Ce):this.skip(4)}decodeApngChunk(n,Ce){const Te=this.offset;switch(Ce!=="fdAT"&&Ce!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),Ce){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,Ce),this.offset=Te+n;break}if(this.offset-Te!==n)throw new Error(`Length mismatch while decoding chunk ${Ce}`);this._checkCrc?checkCrc(this,n+4,Ce):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=checkBitDepth(this.readUint8());const Ce=this.readUint8();this._colorType=Ce;let Te;switch(Ce){case ColorType.GREYSCALE:Te=1;break;case ColorType.TRUECOLOUR:Te=3;break;case ColorType.INDEXED_COLOUR:Te=1;break;case ColorType.GREYSCALE_ALPHA:Te=2;break;case ColorType.TRUECOLOUR_ALPHA:Te=4;break;case ColorType.UNKNOWN:default:throw new Error(`Unknown color type: ${Ce}`)}if(this._png.channels=Te,this._compressionMethod=this.readUint8(),this._compressionMethod!==CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const Ce=n/3;this._hasPalette=!0;const Te=[];this._palette=Te;for(let Re=0;Re<Ce;Re++)Te.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const Ce=n,Te=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,Te,Ce)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let Ce=n,Te=this.offset+this.byteOffset;if(Te+=4,Ce-=4,this._inflator.push(new Uint8Array(this.buffer,Te,Ce)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case ColorType.GREYSCALE:case ColorType.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let Ce=0;Ce<n/2;Ce++)this._transparency[Ce]=this.readUint16();break}case ColorType.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let Ce=0;for(;Ce<n;Ce++){const Te=this.readByte();this._palette[Ce].push(Te)}for(;Ce<this._palette.length;Ce++)this._palette[Ce].push(255);break}case ColorType.UNKNOWN:case ColorType.GREYSCALE_ALPHA:case ColorType.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const Ce=readKeyword(this),Te=this.readUint8();if(Te!==CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${Te}`);const Re=this.readBytes(n-Ce.length-2);this._png.iccEmbeddedProfile={name:Ce,profile:inflate_1(Re)}}decodepHYs(){const n=this.readUint32(),Ce=this.readUint32(),Te=this.readByte();this._png.resolution={x:n,y:Ce,unit:Te}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const Ce={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},Te=this._frames.at(n);if(Te){if(Te.data=decodeInterlaceNull({data:Te.data,width:Te.width,height:Te.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||Te.xOffset===0&&Te.yOffset===0&&Te.width===this._png.width&&Te.height===this._png.height)Ce.data=Te.data;else{const Re=this._apng.frames.at(n-1);this.disposeFrame(Te,Re,Ce),this.addFrameDataToCanvas(Ce,Te)}this._apng.frames.push(Ce)}}return this._apng}disposeFrame(n,Ce,Te){switch(n.disposeOp){case DisposeOpType.NONE:break;case DisposeOpType.BACKGROUND:for(let Re=0;Re<this._png.height;Re++)for(let Be=0;Be<this._png.width;Be++){const Ue=(Re*n.width+Be)*this._png.channels;for(let Oe=0;Oe<this._png.channels;Oe++)Te.data[Ue+Oe]=0}break;case DisposeOpType.PREVIOUS:Te.data.set(Ce.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,Ce){const Te=1<<this._png.depth,Re=(Be,Ue)=>{const Oe=((Be+Ce.yOffset)*this._png.width+Ce.xOffset+Ue)*this._png.channels,Me=(Be*Ce.width+Ue)*this._png.channels;return{index:Oe,frameIndex:Me}};switch(Ce.blendOp){case BlendOpType.SOURCE:for(let Be=0;Be<Ce.height;Be++)for(let Ue=0;Ue<Ce.width;Ue++){const{index:Oe,frameIndex:Me}=Re(Be,Ue);for(let Qe=0;Qe<this._png.channels;Qe++)n.data[Oe+Qe]=Ce.data[Me+Qe]}break;case BlendOpType.OVER:for(let Be=0;Be<Ce.height;Be++)for(let Ue=0;Ue<Ce.width;Ue++){const{index:Oe,frameIndex:Me}=Re(Be,Ue);for(let Qe=0;Qe<this._png.channels;Qe++){const Ke=Ce.data[Me+this._png.channels-1]/Te,Ge=Qe%(this._png.channels-1)===0?1:Ce.data[Me+Qe],qe=Math.floor(Ke*Ge+(1-Ke)*n.data[Oe+Qe]);n.data[Oe+Qe]+=qe}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var Ce;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((Ce=this._frames)==null?void 0:Ce.at(0)).data:this._inflator.result;if(this._filterMethod!==FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===InterlaceMethod.NO_INTERLACE)this._png.data=decodeInterlaceNull({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===InterlaceMethod.ADAM7)this._png.data=decodeInterlaceAdam7({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,Ce=this._frames.at(-1);Ce?Ce.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:DisposeOpType.NONE,blendOp:BlendOpType.SOURCE,data:n}),this._inflator=new Inflate_1,this._writingDataChunks=!1}}function checkBitDepth(Ee){if(Ee!==1&&Ee!==2&&Ee!==4&&Ee!==8&&Ee!==16)throw new Error(`invalid bit depth: ${Ee}`);return Ee}var ResolutionUnitSpecifier;(function(Ee){Ee[Ee.UNKNOWN=0]="UNKNOWN",Ee[Ee.METRE=1]="METRE"})(ResolutionUnitSpecifier||(ResolutionUnitSpecifier={}));function decodePng(Ee,t){return new PngDecoder(Ee,t).decode()}var i$2=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function a(){i$2.console&&typeof i$2.console.log=="function"&&i$2.console.log.apply(i$2.console,arguments)}var o={log:a,warn:function(Ee){i$2.console&&(typeof i$2.console.warn=="function"?i$2.console.warn.apply(i$2.console,arguments):a.call(null,arguments))},error:function(Ee){i$2.console&&(typeof i$2.console.error=="function"?i$2.console.error.apply(i$2.console,arguments):a(Ee))}};function s(Ee,t,n){var Ce=new XMLHttpRequest;Ce.open("GET",Ee),Ce.responseType="blob",Ce.onload=function(){l(Ce.response,t,n)},Ce.onerror=function(){o.error("could not download file")},Ce.send()}function u(Ee){var t=new XMLHttpRequest;t.open("HEAD",Ee,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function c(Ee){try{Ee.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Ee.dispatchEvent(t)}}var l=i$2.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==i$2?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(Ee,t,n){var Ce=i$2.URL||i$2.webkitURL,Te=document.createElement("a");t=t||Ee.name||"download",Te.download=t,Te.rel="noopener",typeof Ee=="string"?(Te.href=Ee,Te.origin!==location.origin?u(Te.href)?s(Ee,t,n):c(Te,Te.target="_blank"):c(Te)):(Te.href=Ce.createObjectURL(Ee),setTimeout(function(){Ce.revokeObjectURL(Te.href)},4e4),setTimeout(function(){c(Te)},0))}:"msSaveOrOpenBlob"in navigator?function(Ee,t,n){if(t=t||Ee.name||"download",typeof Ee=="string")if(u(Ee))s(Ee,t,n);else{var Ce=document.createElement("a");Ce.href=Ee,Ce.target="_blank",setTimeout(function(){c(Ce)})}else navigator.msSaveOrOpenBlob((function(Te,Re){return Re===void 0?Re={autoBom:!1}:_typeof(Re)!=="object"&&(o.warn("Deprecated: Expected third argument to be a object"),Re={autoBom:!Re}),Re.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Te.type)?new Blob(["\uFEFF",Te],{type:Te.type}):Te})(Ee,n),t)}:function(Ee,t,n,Ce){if((Ce=Ce||open("","_blank"))&&(Ce.document.title=Ce.document.body.innerText="downloading..."),typeof Ee=="string")return s(Ee,t,n);var Te=Ee.type==="application/octet-stream",Re=/constructor/i.test(i$2.HTMLElement)||i$2.safari,Be=/CriOS\/[\d]+/.test(navigator.userAgent);if((Be||Te&&Re)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var Ue=new FileReader;Ue.onloadend=function(){var Qe=Ue.result;Qe=Be?Qe:Qe.replace(/^data:[^;]*;/,"data:attachment/file;"),Ce?Ce.location.href=Qe:location=Qe,Ce=null},Ue.readAsDataURL(Ee)}else{var Oe=i$2.URL||i$2.webkitURL,Me=Oe.createObjectURL(Ee);Ce?Ce.location=Me:location.href=Me,Ce=null,setTimeout(function(){Oe.revokeObjectURL(Me)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function h(Ee){var t;Ee=Ee||"",this.ok=!1,Ee.charAt(0)=="#"&&(Ee=Ee.substr(1,6)),Ee={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[Ee=(Ee=Ee.replace(/ /g,"")).toLowerCase()]||Ee;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(Ue){return[parseInt(Ue[1]),parseInt(Ue[2]),parseInt(Ue[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(Ue){return[parseInt(Ue[1],16),parseInt(Ue[2],16),parseInt(Ue[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(Ue){return[parseInt(Ue[1]+Ue[1],16),parseInt(Ue[2]+Ue[2],16),parseInt(Ue[3]+Ue[3],16)]}}],Ce=0;Ce<n.length;Ce++){var Te=n[Ce].re,Re=n[Ce].process,Be=Te.exec(Ee);Be&&(t=Re(Be),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var Ue=this.r.toString(16),Oe=this.g.toString(16),Me=this.b.toString(16);return Ue.length==1&&(Ue="0"+Ue),Oe.length==1&&(Oe="0"+Oe),Me.length==1&&(Me="0"+Me),"#"+Ue+Oe+Me}}var f=i$2.atob.bind(i$2),d=i$2.btoa.bind(i$2);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function p(Ee,t){var n=Ee[0],Ce=Ee[1],Te=Ee[2],Re=Ee[3];n=m(n,Ce,Te,Re,t[0],7,-680876936),Re=m(Re,n,Ce,Te,t[1],12,-389564586),Te=m(Te,Re,n,Ce,t[2],17,606105819),Ce=m(Ce,Te,Re,n,t[3],22,-1044525330),n=m(n,Ce,Te,Re,t[4],7,-176418897),Re=m(Re,n,Ce,Te,t[5],12,1200080426),Te=m(Te,Re,n,Ce,t[6],17,-1473231341),Ce=m(Ce,Te,Re,n,t[7],22,-45705983),n=m(n,Ce,Te,Re,t[8],7,1770035416),Re=m(Re,n,Ce,Te,t[9],12,-1958414417),Te=m(Te,Re,n,Ce,t[10],17,-42063),Ce=m(Ce,Te,Re,n,t[11],22,-1990404162),n=m(n,Ce,Te,Re,t[12],7,1804603682),Re=m(Re,n,Ce,Te,t[13],12,-40341101),Te=m(Te,Re,n,Ce,t[14],17,-1502002290),n=v(n,Ce=m(Ce,Te,Re,n,t[15],22,1236535329),Te,Re,t[1],5,-165796510),Re=v(Re,n,Ce,Te,t[6],9,-1069501632),Te=v(Te,Re,n,Ce,t[11],14,643717713),Ce=v(Ce,Te,Re,n,t[0],20,-373897302),n=v(n,Ce,Te,Re,t[5],5,-701558691),Re=v(Re,n,Ce,Te,t[10],9,38016083),Te=v(Te,Re,n,Ce,t[15],14,-660478335),Ce=v(Ce,Te,Re,n,t[4],20,-405537848),n=v(n,Ce,Te,Re,t[9],5,568446438),Re=v(Re,n,Ce,Te,t[14],9,-1019803690),Te=v(Te,Re,n,Ce,t[3],14,-187363961),Ce=v(Ce,Te,Re,n,t[8],20,1163531501),n=v(n,Ce,Te,Re,t[13],5,-1444681467),Re=v(Re,n,Ce,Te,t[2],9,-51403784),Te=v(Te,Re,n,Ce,t[7],14,1735328473),n=b(n,Ce=v(Ce,Te,Re,n,t[12],20,-1926607734),Te,Re,t[5],4,-378558),Re=b(Re,n,Ce,Te,t[8],11,-2022574463),Te=b(Te,Re,n,Ce,t[11],16,1839030562),Ce=b(Ce,Te,Re,n,t[14],23,-35309556),n=b(n,Ce,Te,Re,t[1],4,-1530992060),Re=b(Re,n,Ce,Te,t[4],11,1272893353),Te=b(Te,Re,n,Ce,t[7],16,-155497632),Ce=b(Ce,Te,Re,n,t[10],23,-1094730640),n=b(n,Ce,Te,Re,t[13],4,681279174),Re=b(Re,n,Ce,Te,t[0],11,-358537222),Te=b(Te,Re,n,Ce,t[3],16,-722521979),Ce=b(Ce,Te,Re,n,t[6],23,76029189),n=b(n,Ce,Te,Re,t[9],4,-640364487),Re=b(Re,n,Ce,Te,t[12],11,-421815835),Te=b(Te,Re,n,Ce,t[15],16,530742520),n=y(n,Ce=b(Ce,Te,Re,n,t[2],23,-995338651),Te,Re,t[0],6,-198630844),Re=y(Re,n,Ce,Te,t[7],10,1126891415),Te=y(Te,Re,n,Ce,t[14],15,-1416354905),Ce=y(Ce,Te,Re,n,t[5],21,-57434055),n=y(n,Ce,Te,Re,t[12],6,1700485571),Re=y(Re,n,Ce,Te,t[3],10,-1894986606),Te=y(Te,Re,n,Ce,t[10],15,-1051523),Ce=y(Ce,Te,Re,n,t[1],21,-2054922799),n=y(n,Ce,Te,Re,t[8],6,1873313359),Re=y(Re,n,Ce,Te,t[15],10,-30611744),Te=y(Te,Re,n,Ce,t[6],15,-1560198380),Ce=y(Ce,Te,Re,n,t[13],21,1309151649),n=y(n,Ce,Te,Re,t[4],6,-145523070),Re=y(Re,n,Ce,Te,t[11],10,-1120210379),Te=y(Te,Re,n,Ce,t[2],15,718787259),Ce=y(Ce,Te,Re,n,t[9],21,-343485551),Ee[0]=P(n,Ee[0]),Ee[1]=P(Ce,Ee[1]),Ee[2]=P(Te,Ee[2]),Ee[3]=P(Re,Ee[3])}function g(Ee,t,n,Ce,Te,Re){return t=P(P(t,Ee),P(Ce,Re)),P(t<<Te|t>>>32-Te,n)}function m(Ee,t,n,Ce,Te,Re,Be){return g(t&n|~t&Ce,Ee,t,Te,Re,Be)}function v(Ee,t,n,Ce,Te,Re,Be){return g(t&Ce|n&~Ce,Ee,t,Te,Re,Be)}function b(Ee,t,n,Ce,Te,Re,Be){return g(t^n^Ce,Ee,t,Te,Re,Be)}function y(Ee,t,n,Ce,Te,Re,Be){return g(n^(t|~Ce),Ee,t,Te,Re,Be)}function w(Ee){var t,n=Ee.length,Ce=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=Ee.length;t+=64)p(Ce,N(Ee.substring(t-64,t)));Ee=Ee.substring(t-64);var Te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<Ee.length;t++)Te[t>>2]|=Ee.charCodeAt(t)<<(t%4<<3);if(Te[t>>2]|=128<<(t%4<<3),t>55)for(p(Ce,Te),t=0;t<16;t++)Te[t]=0;return Te[14]=8*n,p(Ce,Te),Ce}function N(Ee){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=Ee.charCodeAt(t)+(Ee.charCodeAt(t+1)<<8)+(Ee.charCodeAt(t+2)<<16)+(Ee.charCodeAt(t+3)<<24);return n}var L="0123456789abcdef".split("");function x(Ee){for(var t="",n=0;n<4;n++)t+=L[Ee>>8*n+4&15]+L[Ee>>8*n&15];return t}function A(Ee){return String.fromCharCode(255&Ee,(65280&Ee)>>8,(16711680&Ee)>>16,(4278190080&Ee)>>24)}function S(Ee){return w(Ee).map(A).join("")}var _=(function(Ee){for(var t=0;t<Ee.length;t++)Ee[t]=x(Ee[t]);return Ee.join("")})(w("hello"))!="5d41402abc4b2a76b9719d911017c592";function P(Ee,t){if(_){var n=(65535&Ee)+(65535&t);return(Ee>>16)+(t>>16)+(n>>16)<<16|65535&n}return Ee+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function k(Ee,t){var n,Ce,Te,Re;if(Ee!==n){for(var Be=(Te=Ee,Re=1+(256/Ee.length|0),new Array(Re+1).join(Te)),Ue=[],Oe=0;Oe<256;Oe++)Ue[Oe]=Oe;var Me=0;for(Oe=0;Oe<256;Oe++){var Qe=Ue[Oe];Me=(Me+Qe+Be.charCodeAt(Oe))%256,Ue[Oe]=Ue[Me],Ue[Me]=Qe}n=Ee,Ce=Ue}else Ue=Ce;var Ke=t.length,Ge=0,qe=0,Xe="";for(Oe=0;Oe<Ke;Oe++)qe=(qe+(Qe=Ue[Ge=(Ge+1)%256]))%256,Ue[Ge]=Ue[qe],Ue[qe]=Qe,Be=Ue[(Ue[Ge]+Ue[qe])%256],Xe+=String.fromCharCode(t.charCodeAt(Oe)^Be);return Xe}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var F={print:4,modify:8,copy:16,"annot-forms":32};function I(Ee,t,n,Ce){this.v=1,this.r=2;var Te=192;Ee.forEach(function(Ue){if(F.perm!==void 0)throw new Error("Invalid permission: "+Ue);Te+=F[Ue]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var Re=(t+this.padding).substr(0,32),Be=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(Re,Be),this.P=-(1+(255^Te)),this.encryptionKey=S(Re+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(Ce)).substr(0,5),this.U=k(this.encryptionKey,this.padding)}function j(Ee){if(/[^\u0000-\u00ff]/.test(Ee))throw new Error("Invalid PDF Name Object: "+Ee+", Only accept ASCII characters.");for(var t="",n=Ee.length,Ce=0;Ce<n;Ce++){var Te=Ee.charCodeAt(Ce);t+=Te<33||Te===35||Te===37||Te===40||Te===41||Te===47||Te===60||Te===62||Te===91||Te===93||Te===123||Te===125||Te>126?"#"+("0"+Te.toString(16)).slice(-2):Ee[Ce]}return t}function C(Ee){if(_typeof(Ee)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,Ce,Te){if(Te=Te||!1,typeof n!="string"||typeof Ce!="function"||typeof Te!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var Re=Math.random().toString(35);return t[n][Re]=[Ce,!!Te],Re},this.unsubscribe=function(n){for(var Ce in t)if(t[Ce][n])return delete t[Ce][n],Object.keys(t[Ce]).length===0&&delete t[Ce],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var Ce=Array.prototype.slice.call(arguments,1),Te=[];for(var Re in t[n]){var Be=t[n][Re];try{Be[0].apply(Ee,Ce)}catch(Ue){i$2.console&&o.error("jsPDF PubSub Error",Ue.message,Ue)}Be[1]&&Te.push(Re)}Te.length&&Te.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function O(Ee){if(!(this instanceof O))return new O(Ee);var t="opacity,stroke-opacity".split(",");for(var n in Ee)Ee.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=Ee[n]);this.id="",this.objectNumber=-1}function B(Ee,t){this.gState=Ee,this.matrix=t,this.id="",this.objectNumber=-1}function M(Ee,t,n,Ce,Te){if(!(this instanceof M))return new M(Ee,t,n,Ce,Te);this.type=Ee==="axial"?2:3,this.coords=t,this.colors=n,B.call(this,Ce,Te)}function q(Ee,t,n,Ce,Te){if(!(this instanceof q))return new q(Ee,t,n,Ce,Te);this.boundingBox=Ee,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,B.call(this,Ce,Te)}function E(Ee){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",Ce=arguments[1],Te=arguments[2],Re=arguments[3],Be=[],Ue=1,Oe=16,Me="S",Qe=null;_typeof(Ee=Ee||{})==="object"&&(n=Ee.orientation,Ce=Ee.unit||Ce,Te=Ee.format||Te,Re=Ee.compress||Ee.compressPdf||Re,(Qe=Ee.encryption||null)!==null&&(Qe.userPassword=Qe.userPassword||"",Qe.ownerPassword=Qe.ownerPassword||"",Qe.userPermissions=Qe.userPermissions||[]),Ue=typeof Ee.userUnit=="number"?Math.abs(Ee.userUnit):1,Ee.precision!==void 0&&(t=Ee.precision),Ee.floatPrecision!==void 0&&(Oe=Ee.floatPrecision),Me=Ee.defaultPathOperation||"S"),Be=Ee.filters||(Re===!0?["FlateEncode"]:Be),Ce=Ce||"mm",n=(""+(n||"P")).toLowerCase();var Ke=Ee.putOnlyUsedFonts||!1,Ge={},qe={internal:{},__private__:{}};qe.__private__.PubSub=C;var Xe="1.3",tr=qe.__private__.getPdfVersion=function(){return Xe};qe.__private__.setPdfVersion=function(Sr){Xe=Sr};var Je={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};qe.__private__.getPageFormats=function(){return Je};var Ye=qe.__private__.getPageFormat=function(Sr){return Je[Sr]};Te=Te||"a4";var lr="compat",cr="advanced",hr=lr;function ur(){this.saveGraphicsState(),Yr(new dn(Ci,0,0,-Ci,0,Gs()*Ci).toString()+" cm"),this.setFontSize(this.getFontSize()/Ci),Me="n",hr=cr}function fr(){this.restoreGraphicsState(),Me="S",hr=lr}var er=qe.__private__.combineFontStyleAndFontWeight=function(Sr,un){if(Sr=="bold"&&un=="normal"||Sr=="bold"&&un==400||Sr=="normal"&&un=="italic"||Sr=="bold"&&un=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return un&&(Sr=un==400||un==="normal"?Sr==="italic"?"italic":"normal":un!=700&&un!=="bold"||Sr!=="normal"?(un==700?"bold":un)+""+Sr:"bold"),Sr};qe.advancedAPI=function(Sr){var un=hr===lr;return un&&ur.call(this),typeof Sr!="function"||(Sr(this),un&&fr.call(this)),this},qe.compatAPI=function(Sr){var un=hr===cr;return un&&fr.call(this),typeof Sr!="function"||(Sr(this),un&&ur.call(this)),this},qe.isAdvancedAPI=function(){return hr===cr};var nr,ir=function(Sr){if(hr!==cr)throw new Error(Sr+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},mr=qe.roundToPrecision=qe.__private__.roundToPrecision=function(Sr,un){var Un=t||un;if(isNaN(Sr)||isNaN(Un))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Sr.toFixed(Un).replace(/0+$/,"")};nr=qe.hpf=qe.__private__.hpf=typeof Oe=="number"?function(Sr){if(isNaN(Sr))throw new Error("Invalid argument passed to jsPDF.hpf");return mr(Sr,Oe)}:Oe==="smart"?function(Sr){if(isNaN(Sr))throw new Error("Invalid argument passed to jsPDF.hpf");return mr(Sr,Sr>-1&&Sr<1?16:5)}:function(Sr){if(isNaN(Sr))throw new Error("Invalid argument passed to jsPDF.hpf");return mr(Sr,16)};var $e=qe.f2=qe.__private__.f2=function(Sr){if(isNaN(Sr))throw new Error("Invalid argument passed to jsPDF.f2");return mr(Sr,2)},Ar=qe.__private__.f3=function(Sr){if(isNaN(Sr))throw new Error("Invalid argument passed to jsPDF.f3");return mr(Sr,3)},or=qe.scale=qe.__private__.scale=function(Sr){if(isNaN(Sr))throw new Error("Invalid argument passed to jsPDF.scale");return hr===lr?Sr*Ci:hr===cr?Sr:void 0},Tr=function(Sr){return or((function(un){return hr===lr?Gs()-un:hr===cr?un:void 0})(Sr))};qe.__private__.setPrecision=qe.setPrecision=function(Sr){typeof parseInt(Sr,10)=="number"&&(t=parseInt(Sr,10))};var Ur,Fr="00000000000000000000000000000000",Er=qe.__private__.getFileId=function(){return Fr},jr=qe.__private__.setFileId=function(Sr){return Fr=Sr!==void 0&&/^[a-fA-F0-9]{32}$/.test(Sr)?Sr.toUpperCase():Fr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Qe!==null&&(sa=new I(Qe.userPermissions,Qe.userPassword,Qe.ownerPassword,Fr)),Fr};qe.setFileId=function(Sr){return jr(Sr),this},qe.getFileId=function(){return Er()};var Nr=qe.__private__.convertDateToPDFDate=function(Sr){var un=Sr.getTimezoneOffset(),Un=un<0?"+":"-",Hn=Math.floor(Math.abs(un/60)),ei=Math.abs(un%60),wi=[Un,yr(Hn),"'",yr(ei),"'"].join("");return["D:",Sr.getFullYear(),yr(Sr.getMonth()+1),yr(Sr.getDate()),yr(Sr.getHours()),yr(Sr.getMinutes()),yr(Sr.getSeconds()),wi].join("")},Br=qe.__private__.convertPDFDateToDate=function(Sr){var un=parseInt(Sr.substr(2,4),10),Un=parseInt(Sr.substr(6,2),10)-1,Hn=parseInt(Sr.substr(8,2),10),ei=parseInt(Sr.substr(10,2),10),wi=parseInt(Sr.substr(12,2),10),Bi=parseInt(Sr.substr(14,2),10);return new Date(un,Un,Hn,ei,wi,Bi,0)},Mr=qe.__private__.setCreationDate=function(Sr){var un;if(Sr===void 0&&(Sr=new Date),Sr instanceof Date)un=Nr(Sr);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Sr))throw new Error("Invalid argument passed to jsPDF.setCreationDate");un=Sr}return Ur=un},_r=qe.__private__.getCreationDate=function(Sr){var un=Ur;return Sr==="jsDate"&&(un=Br(Ur)),un};qe.setCreationDate=function(Sr){return Mr(Sr),this},qe.getCreationDate=function(Sr){return _r(Sr)};var gr,yr=qe.__private__.padd2=function(Sr){return("0"+parseInt(Sr)).slice(-2)},Rr=qe.__private__.padd2Hex=function(Sr){return("00"+(Sr=Sr.toString())).substr(Sr.length)},Ir=0,Qr=[],Vr=[],Wr=0,mn=[],gn=[],fn=!1,Fn=Vr;qe.__private__.setCustomOutputDestination=function(Sr){fn=!0,Fn=Sr};var wn=function(Sr){fn||(Fn=Sr)};qe.__private__.resetCustomOutputDestination=function(){fn=!1,Fn=Vr};var Yr=qe.__private__.out=function(Sr){return Sr=Sr.toString(),Wr+=Sr.length+1,Fn.push(Sr),Fn},Rn=qe.__private__.write=function(Sr){return Yr(arguments.length===1?Sr.toString():Array.prototype.join.call(arguments," "))},bn=qe.__private__.getArrayBuffer=function(Sr){for(var un=Sr.length,Un=new ArrayBuffer(un),Hn=new Uint8Array(Un);un--;)Hn[un]=Sr.charCodeAt(un);return Un},zr=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];qe.__private__.getStandardFonts=function(){return zr};var $r=Ee.fontSize||16;qe.__private__.setFontSize=qe.setFontSize=function(Sr){return $r=hr===cr?Sr/Ci:Sr,this};var Bn,Pn=qe.__private__.getFontSize=qe.getFontSize=function(){return hr===lr?$r:$r*Ci},jn=Ee.R2L||!1;qe.__private__.setR2L=qe.setR2L=function(Sr){return jn=Sr,this},qe.__private__.getR2L=qe.getR2L=function(){return jn};var Kn,Xn=qe.__private__.setZoomMode=function(Sr){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Sr))Bn=Sr;else if(isNaN(Sr)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(Sr)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Sr+'" is not recognized.');Bn=Sr}else Bn=parseInt(Sr,10)};qe.__private__.getZoomMode=function(){return Bn};var In,$n=qe.__private__.setPageMode=function(Sr){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Sr)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Sr+'" is not recognized.');Kn=Sr};qe.__private__.getPageMode=function(){return Kn};var Yn=qe.__private__.setLayoutMode=function(Sr){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Sr)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Sr+'" is not recognized.');In=Sr};qe.__private__.getLayoutMode=function(){return In},qe.__private__.setDisplayMode=qe.setDisplayMode=function(Sr,un,Un){return Xn(Sr),Yn(un),$n(Un),this};var si={title:"",subject:"",author:"",keywords:"",creator:""};qe.__private__.getDocumentProperty=function(Sr){if(Object.keys(si).indexOf(Sr)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return si[Sr]},qe.__private__.getDocumentProperties=function(){return si},qe.__private__.setDocumentProperties=qe.setProperties=qe.setDocumentProperties=function(Sr){for(var un in si)si.hasOwnProperty(un)&&Sr[un]&&(si[un]=Sr[un]);return this},qe.__private__.setDocumentProperty=function(Sr,un){if(Object.keys(si).indexOf(Sr)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return si[Sr]=un};var ai,Ci,dr,An,vn,Sn={},wr={},Or=[],Ze={},Jr={},Mn={},ze={},Cr=null,kr=0,rr=[],xr=new C(qe),Kr=Ee.hotfixes||[],Dn={},Gr={},Hr=[],dn=function Sr(un,Un,Hn,ei,wi,Bi){if(!(this instanceof Sr))return new Sr(un,Un,Hn,ei,wi,Bi);isNaN(un)&&(un=1),isNaN(Un)&&(Un=0),isNaN(Hn)&&(Hn=0),isNaN(ei)&&(ei=1),isNaN(wi)&&(wi=0),isNaN(Bi)&&(Bi=0),this._matrix=[un,Un,Hn,ei,wi,Bi]};Object.defineProperty(dn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Sr){this._matrix[0]=Sr}}),Object.defineProperty(dn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Sr){this._matrix[1]=Sr}}),Object.defineProperty(dn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Sr){this._matrix[2]=Sr}}),Object.defineProperty(dn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Sr){this._matrix[3]=Sr}}),Object.defineProperty(dn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Sr){this._matrix[4]=Sr}}),Object.defineProperty(dn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Sr){this._matrix[5]=Sr}}),Object.defineProperty(dn.prototype,"a",{get:function(){return this._matrix[0]},set:function(Sr){this._matrix[0]=Sr}}),Object.defineProperty(dn.prototype,"b",{get:function(){return this._matrix[1]},set:function(Sr){this._matrix[1]=Sr}}),Object.defineProperty(dn.prototype,"c",{get:function(){return this._matrix[2]},set:function(Sr){this._matrix[2]=Sr}}),Object.defineProperty(dn.prototype,"d",{get:function(){return this._matrix[3]},set:function(Sr){this._matrix[3]=Sr}}),Object.defineProperty(dn.prototype,"e",{get:function(){return this._matrix[4]},set:function(Sr){this._matrix[4]=Sr}}),Object.defineProperty(dn.prototype,"f",{get:function(){return this._matrix[5]},set:function(Sr){this._matrix[5]=Sr}}),Object.defineProperty(dn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dn.prototype.join=function(Sr){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(nr).join(Sr)},dn.prototype.multiply=function(Sr){var un=Sr.sx*this.sx+Sr.shy*this.shx,Un=Sr.sx*this.shy+Sr.shy*this.sy,Hn=Sr.shx*this.sx+Sr.sy*this.shx,ei=Sr.shx*this.shy+Sr.sy*this.sy,wi=Sr.tx*this.sx+Sr.ty*this.shx+this.tx,Bi=Sr.tx*this.shy+Sr.ty*this.sy+this.ty;return new dn(un,Un,Hn,ei,wi,Bi)},dn.prototype.decompose=function(){var Sr=this.sx,un=this.shy,Un=this.shx,Hn=this.sy,ei=this.tx,wi=this.ty,Bi=Math.sqrt(Sr*Sr+un*un),Li=(Sr/=Bi)*Un+(un/=Bi)*Hn;Un-=Sr*Li,Hn-=un*Li;var Qi=Math.sqrt(Un*Un+Hn*Hn);return Li/=Qi,Sr*(Hn/=Qi)<un*(Un/=Qi)&&(Sr=-Sr,un=-un,Li=-Li,Bi=-Bi),{scale:new dn(Bi,0,0,Qi,0,0),translate:new dn(1,0,0,1,ei,wi),rotate:new dn(Sr,un,-un,Sr,0,0),skew:new dn(1,0,Li,1,0,0)}},dn.prototype.toString=function(Sr){return this.join(" ")},dn.prototype.inversed=function(){var Sr=this.sx,un=this.shy,Un=this.shx,Hn=this.sy,ei=this.tx,wi=this.ty,Bi=1/(Sr*Hn-un*Un),Li=Hn*Bi,Qi=-un*Bi,Gi=-Un*Bi,Ji=Sr*Bi;return new dn(Li,Qi,Gi,Ji,-Li*ei-Gi*wi,-Qi*ei-Ji*wi)},dn.prototype.applyToPoint=function(Sr){var un=Sr.x*this.sx+Sr.y*this.shx+this.tx,Un=Sr.x*this.shy+Sr.y*this.sy+this.ty;return new tl(un,Un)},dn.prototype.applyToRectangle=function(Sr){var un=this.applyToPoint(Sr),Un=this.applyToPoint(new tl(Sr.x+Sr.w,Sr.y+Sr.h));return new rl(un.x,un.y,Un.x-un.x,Un.y-un.y)},dn.prototype.clone=function(){var Sr=this.sx,un=this.shy,Un=this.shx,Hn=this.sy,ei=this.tx,wi=this.ty;return new dn(Sr,un,Un,Hn,ei,wi)},qe.Matrix=dn;var Qn=qe.matrixMult=function(Sr,un){return un.multiply(Sr)},kn=new dn(1,0,0,1,0,0);qe.unitMatrix=qe.identityMatrix=kn;var On=function(Sr,un){if(!Jr[Sr]){var Un=(un instanceof M?"Sh":"P")+(Object.keys(Ze).length+1).toString(10);un.id=Un,Jr[Sr]=Un,Ze[Un]=un,xr.publish("addPattern",un)}};qe.ShadingPattern=M,qe.TilingPattern=q,qe.addShadingPattern=function(Sr,un){return ir("addShadingPattern()"),On(Sr,un),this},qe.beginTilingPattern=function(Sr){ir("beginTilingPattern()"),Ao(Sr.boundingBox[0],Sr.boundingBox[1],Sr.boundingBox[2]-Sr.boundingBox[0],Sr.boundingBox[3]-Sr.boundingBox[1],Sr.matrix)},qe.endTilingPattern=function(Sr,un){ir("endTilingPattern()"),un.stream=gn[gr].join(`
`),On(Sr,un),xr.publish("endTilingPattern",un),Hr.pop().restore()};var zn,hi=qe.__private__.newObject=function(){var Sr=pi();return mi(Sr,!0),Sr},pi=qe.__private__.newObjectDeferred=function(){return Ir++,Qr[Ir]=function(){return Wr},Ir},mi=function(Sr,un){return un=typeof un=="boolean"&&un,Qr[Sr]=Wr,un&&Yr(Sr+" 0 obj"),Sr},Ni=qe.__private__.newAdditionalObject=function(){var Sr={objId:pi(),content:""};return mn.push(Sr),Sr},ui=pi(),yi=pi(),_i=qe.__private__.decodeColorString=function(Sr){var un=Sr.split(" ");if(un.length!==2||un[1]!=="g"&&un[1]!=="G")un.length!==5||un[4]!=="k"&&un[4]!=="K"||(un=[(1-un[0])*(1-un[3]),(1-un[1])*(1-un[3]),(1-un[2])*(1-un[3]),"r"]);else{var Un=parseFloat(un[0]);un=[Un,Un,Un,"r"]}for(var Hn="#",ei=0;ei<3;ei++)Hn+=("0"+Math.floor(255*parseFloat(un[ei])).toString(16)).slice(-2);return Hn},Fi=qe.__private__.encodeColorString=function(Sr){var un;typeof Sr=="string"&&(Sr={ch1:Sr});var Un=Sr.ch1,Hn=Sr.ch2,ei=Sr.ch3,wi=Sr.ch4,Bi=Sr.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Un=="string"&&Un.charAt(0)!=="#"){var Li=new h(Un);if(Li.ok)Un=Li.toHex();else if(!/^\d*\.?\d*$/.test(Un))throw new Error('Invalid color "'+Un+'" passed to jsPDF.encodeColorString.')}if(typeof Un=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Un)&&(Un="#"+Un[1]+Un[1]+Un[2]+Un[2]+Un[3]+Un[3]),typeof Un=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Un)){var Qi=parseInt(Un.substr(1),16);Un=Qi>>16&255,Hn=Qi>>8&255,ei=255&Qi}if(Hn===void 0||wi===void 0&&Un===Hn&&Hn===ei)un=typeof Un=="string"?Un+" "+Bi[0]:Sr.precision===2?$e(Un/255)+" "+Bi[0]:Ar(Un/255)+" "+Bi[0];else if(wi===void 0||_typeof(wi)==="object"){if(wi&&!isNaN(wi.a)&&wi.a===0)return["1.","1.","1.",Bi[1]].join(" ");un=typeof Un=="string"?[Un,Hn,ei,Bi[1]].join(" "):Sr.precision===2?[$e(Un/255),$e(Hn/255),$e(ei/255),Bi[1]].join(" "):[Ar(Un/255),Ar(Hn/255),Ar(ei/255),Bi[1]].join(" ")}else un=typeof Un=="string"?[Un,Hn,ei,wi,Bi[2]].join(" "):Sr.precision===2?[$e(Un),$e(Hn),$e(ei),$e(wi),Bi[2]].join(" "):[Ar(Un),Ar(Hn),Ar(ei),Ar(wi),Bi[2]].join(" ");return un},Di=qe.__private__.getFilters=function(){return Be},Oi=qe.__private__.putStream=function(Sr){var un=(Sr=Sr||{}).data||"",Un=Sr.filters||Di(),Hn=Sr.alreadyAppliedFilters||[],ei=Sr.addLength1||!1,wi=un.length,Bi=Sr.objectId,Li=function(Wa){return Wa};if(Qe!==null&&Bi===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Qe!==null&&(Li=sa.encryptor(Bi,0));var Qi={};Un===!0&&(Un=["FlateEncode"]);var Gi=Sr.additionalKeyValues||[],Ji=(Qi=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(un,Un):{data:un,reverseChain:[]}).reverseChain+(Array.isArray(Hn)?Hn.join(" "):Hn.toString());if(Qi.data.length!==0&&(Gi.push({key:"Length",value:Qi.data.length}),ei===!0&&Gi.push({key:"Length1",value:wi})),Ji.length!=0)if(Ji.split("/").length-1==1)Gi.push({key:"Filter",value:Ji});else{Gi.push({key:"Filter",value:"["+Ji+"]"});for(var Aa=0;Aa<Gi.length;Aa+=1)if(Gi[Aa].key==="DecodeParms"){for(var La=[],Va=0;Va<Qi.reverseChain.split("/").length-1;Va+=1)La.push("null");La.push(Gi[Aa].value),Gi[Aa].value="["+La.join(" ")+"]"}}Yr("<<");for(var Ca=0;Ca<Gi.length;Ca++)Yr("/"+Gi[Ca].key+" "+Gi[Ca].value);Yr(">>"),Qi.data.length!==0&&(Yr("stream"),Yr(Li(Qi.data)),Yr("endstream"))},$i=qe.__private__.putPage=function(Sr){var un=Sr.number,Un=Sr.data,Hn=Sr.objId,ei=Sr.contentsObjId;mi(Hn,!0),Yr("<</Type /Page"),Yr("/Parent "+Sr.rootDictionaryObjId+" 0 R"),Yr("/Resources "+Sr.resourceDictionaryObjId+" 0 R"),Yr("/MediaBox ["+parseFloat(nr(Sr.mediaBox.bottomLeftX))+" "+parseFloat(nr(Sr.mediaBox.bottomLeftY))+" "+nr(Sr.mediaBox.topRightX)+" "+nr(Sr.mediaBox.topRightY)+"]"),Sr.cropBox!==null&&Yr("/CropBox ["+nr(Sr.cropBox.bottomLeftX)+" "+nr(Sr.cropBox.bottomLeftY)+" "+nr(Sr.cropBox.topRightX)+" "+nr(Sr.cropBox.topRightY)+"]"),Sr.bleedBox!==null&&Yr("/BleedBox ["+nr(Sr.bleedBox.bottomLeftX)+" "+nr(Sr.bleedBox.bottomLeftY)+" "+nr(Sr.bleedBox.topRightX)+" "+nr(Sr.bleedBox.topRightY)+"]"),Sr.trimBox!==null&&Yr("/TrimBox ["+nr(Sr.trimBox.bottomLeftX)+" "+nr(Sr.trimBox.bottomLeftY)+" "+nr(Sr.trimBox.topRightX)+" "+nr(Sr.trimBox.topRightY)+"]"),Sr.artBox!==null&&Yr("/ArtBox ["+nr(Sr.artBox.bottomLeftX)+" "+nr(Sr.artBox.bottomLeftY)+" "+nr(Sr.artBox.topRightX)+" "+nr(Sr.artBox.topRightY)+"]"),typeof Sr.userUnit=="number"&&Sr.userUnit!==1&&Yr("/UserUnit "+Sr.userUnit),xr.publish("putPage",{objId:Hn,pageContext:rr[un],pageNumber:un,page:Un}),Yr("/Contents "+ei+" 0 R"),Yr(">>"),Yr("endobj");var wi=Un.join(`
`);return hr===cr&&(wi+=`
Q`),mi(ei,!0),Oi({data:wi,filters:Di(),objectId:ei}),Yr("endobj"),Hn},oa=qe.__private__.putPages=function(){var Sr,un,Un=[];for(Sr=1;Sr<=kr;Sr++)rr[Sr].objId=pi(),rr[Sr].contentsObjId=pi();for(Sr=1;Sr<=kr;Sr++)Un.push($i({number:Sr,data:gn[Sr],objId:rr[Sr].objId,contentsObjId:rr[Sr].contentsObjId,mediaBox:rr[Sr].mediaBox,cropBox:rr[Sr].cropBox,bleedBox:rr[Sr].bleedBox,trimBox:rr[Sr].trimBox,artBox:rr[Sr].artBox,userUnit:rr[Sr].userUnit,rootDictionaryObjId:ui,resourceDictionaryObjId:yi}));mi(ui,!0),Yr("<</Type /Pages");var Hn="/Kids [";for(un=0;un<kr;un++)Hn+=Un[un]+" 0 R ";Yr(Hn+"]"),Yr("/Count "+kr),Yr(">>"),Yr("endobj"),xr.publish("postPutPages")},Za=function(Sr){xr.publish("putFont",{font:Sr,out:Yr,newObject:hi,putStream:Oi}),Sr.isAlreadyPutted!==!0&&(Sr.objectNumber=hi(),Yr("<<"),Yr("/Type /Font"),Yr("/BaseFont /"+j(Sr.postScriptName)),Yr("/Subtype /Type1"),typeof Sr.encoding=="string"&&Yr("/Encoding /"+Sr.encoding),Yr("/FirstChar 32"),Yr("/LastChar 255"),Yr(">>"),Yr("endobj"))},ja=function(Sr){Sr.objectNumber=hi();var un=[];un.push({key:"Type",value:"/XObject"}),un.push({key:"Subtype",value:"/Form"}),un.push({key:"BBox",value:"["+[nr(Sr.x),nr(Sr.y),nr(Sr.x+Sr.width),nr(Sr.y+Sr.height)].join(" ")+"]"}),un.push({key:"Matrix",value:"["+Sr.matrix.toString()+"]"});var Un=Sr.pages[1].join(`
`);Oi({data:Un,additionalKeyValues:un,objectId:Sr.objectNumber}),Yr("endobj")},Ga=function(Sr,un){un||(un=21);var Un=hi(),Hn=(function(Bi,Li){var Qi,Gi=[],Ji=1/(Li-1);for(Qi=0;Qi<1;Qi+=Ji)Gi.push(Qi);if(Gi.push(1),Bi[0].offset!=0){var Aa={offset:0,color:Bi[0].color};Bi.unshift(Aa)}if(Bi[Bi.length-1].offset!=1){var La={offset:1,color:Bi[Bi.length-1].color};Bi.push(La)}for(var Va="",Ca=0,Wa=0;Wa<Gi.length;Wa++){for(Qi=Gi[Wa];Qi>Bi[Ca+1].offset;)Ca++;var Fa=Bi[Ca].offset,fs=(Qi-Fa)/(Bi[Ca+1].offset-Fa),To=Bi[Ca].color,jo=Bi[Ca+1].color;Va+=Rr(Math.round((1-fs)*To[0]+fs*jo[0]).toString(16))+Rr(Math.round((1-fs)*To[1]+fs*jo[1]).toString(16))+Rr(Math.round((1-fs)*To[2]+fs*jo[2]).toString(16))}return Va.trim()})(Sr.colors,un),ei=[];ei.push({key:"FunctionType",value:"0"}),ei.push({key:"Domain",value:"[0.0 1.0]"}),ei.push({key:"Size",value:"["+un+"]"}),ei.push({key:"BitsPerSample",value:"8"}),ei.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ei.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oi({data:Hn,additionalKeyValues:ei,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Un}),Yr("endobj"),Sr.objectNumber=hi(),Yr("<< /ShadingType "+Sr.type),Yr("/ColorSpace /DeviceRGB");var wi="/Coords ["+nr(parseFloat(Sr.coords[0]))+" "+nr(parseFloat(Sr.coords[1]))+" ";Sr.type===2?wi+=nr(parseFloat(Sr.coords[2]))+" "+nr(parseFloat(Sr.coords[3])):wi+=nr(parseFloat(Sr.coords[2]))+" "+nr(parseFloat(Sr.coords[3]))+" "+nr(parseFloat(Sr.coords[4]))+" "+nr(parseFloat(Sr.coords[5])),Yr(wi+="]"),Sr.matrix&&Yr("/Matrix ["+Sr.matrix.toString()+"]"),Yr("/Function "+Un+" 0 R"),Yr("/Extend [true true]"),Yr(">>"),Yr("endobj")},bo=function(Sr,un){var Un=pi(),Hn=hi();un.push({resourcesOid:Un,objectOid:Hn}),Sr.objectNumber=Hn;var ei=[];ei.push({key:"Type",value:"/Pattern"}),ei.push({key:"PatternType",value:"1"}),ei.push({key:"PaintType",value:"1"}),ei.push({key:"TilingType",value:"1"}),ei.push({key:"BBox",value:"["+Sr.boundingBox.map(nr).join(" ")+"]"}),ei.push({key:"XStep",value:nr(Sr.xStep)}),ei.push({key:"YStep",value:nr(Sr.yStep)}),ei.push({key:"Resources",value:Un+" 0 R"}),Sr.matrix&&ei.push({key:"Matrix",value:"["+Sr.matrix.toString()+"]"}),Oi({data:Sr.stream,additionalKeyValues:ei,objectId:Sr.objectNumber}),Yr("endobj")},DA=function(Sr){for(var un in Sr.objectNumber=hi(),Yr("<<"),Sr)switch(un){case"opacity":Yr("/ca "+$e(Sr[un]));break;case"stroke-opacity":Yr("/CA "+$e(Sr[un]))}Yr(">>"),Yr("endobj")},Uo=function(Sr){mi(Sr.resourcesOid,!0),Yr("<<"),Yr("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var un in Yr("/Font <<"),Sn)Sn.hasOwnProperty(un)&&(Ke===!1||Ke===!0&&Ge.hasOwnProperty(un))&&Yr("/"+un+" "+Sn[un].objectNumber+" 0 R");Yr(">>")})(),(function(){if(Object.keys(Ze).length>0){for(var un in Yr("/Shading <<"),Ze)Ze.hasOwnProperty(un)&&Ze[un]instanceof M&&Ze[un].objectNumber>=0&&Yr("/"+un+" "+Ze[un].objectNumber+" 0 R");xr.publish("putShadingPatternDict"),Yr(">>")}})(),(function(un){if(Object.keys(Ze).length>0){for(var Un in Yr("/Pattern <<"),Ze)Ze.hasOwnProperty(Un)&&Ze[Un]instanceof qe.TilingPattern&&Ze[Un].objectNumber>=0&&Ze[Un].objectNumber<un&&Yr("/"+Un+" "+Ze[Un].objectNumber+" 0 R");xr.publish("putTilingPatternDict"),Yr(">>")}})(Sr.objectOid),(function(){if(Object.keys(Mn).length>0){var un;for(un in Yr("/ExtGState <<"),Mn)Mn.hasOwnProperty(un)&&Mn[un].objectNumber>=0&&Yr("/"+un+" "+Mn[un].objectNumber+" 0 R");xr.publish("putGStateDict"),Yr(">>")}})(),(function(){for(var un in Yr("/XObject <<"),Dn)Dn.hasOwnProperty(un)&&Dn[un].objectNumber>=0&&Yr("/"+un+" "+Dn[un].objectNumber+" 0 R");xr.publish("putXobjectDict"),Yr(">>")})(),Yr(">>"),Yr("endobj")},lA=function(Sr){wr[Sr.fontName]=wr[Sr.fontName]||{},wr[Sr.fontName][Sr.fontStyle]=Sr.id},Lo=function(Sr,un,Un,Hn,ei){var wi={id:"F"+(Object.keys(Sn).length+1).toString(10),postScriptName:Sr,fontName:un,fontStyle:Un,encoding:Hn,isStandardFont:ei||!1,metadata:{}};return xr.publish("addFont",{font:wi,instance:this}),Sn[wi.id]=wi,lA(wi),wi.id},is=qe.__private__.pdfEscape=qe.pdfEscape=function(Sr,un){return(function(Un,Hn){var ei,wi,Bi,Li,Qi,Gi,Ji,Aa,La;if(Bi=(Hn=Hn||{}).sourceEncoding||"Unicode",Qi=Hn.outputEncoding,(Hn.autoencode||Qi)&&Sn[ai].metadata&&Sn[ai].metadata[Bi]&&Sn[ai].metadata[Bi].encoding&&(Li=Sn[ai].metadata[Bi].encoding,!Qi&&Sn[ai].encoding&&(Qi=Sn[ai].encoding),!Qi&&Li.codePages&&(Qi=Li.codePages[0]),typeof Qi=="string"&&(Qi=Li[Qi]),Qi)){for(Ji=!1,Gi=[],ei=0,wi=Un.length;ei<wi;ei++)(Aa=Qi[Un.charCodeAt(ei)])?Gi.push(String.fromCharCode(Aa)):Gi.push(Un[ei]),Gi[ei].charCodeAt(0)>>8&&(Ji=!0);Un=Gi.join("")}for(ei=Un.length;Ji===void 0&&ei!==0;)Un.charCodeAt(ei-1)>>8&&(Ji=!0),ei--;if(!Ji)return Un;for(Gi=Hn.noBOM?[]:[254,255],ei=0,wi=Un.length;ei<wi;ei++){if((La=(Aa=Un.charCodeAt(ei))>>8)>>8)throw new Error("Character at position "+ei+" of string '"+Un+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Gi.push(La),Gi.push(Aa-(La<<8))}return String.fromCharCode.apply(void 0,Gi)})(Sr,un).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},as=qe.__private__.beginPage=function(Sr){gn[++kr]=[],rr[kr]={objId:0,contentsObjId:0,userUnit:Number(Ue),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Sr[0]),topRightY:Number(Sr[1])}},wo(kr),wn(gn[gr])},Wo=function(Sr,un){var Un,Hn,ei;switch(n=un||n,typeof Sr=="string"&&(Un=Ye(Sr.toLowerCase()),Array.isArray(Un)&&(Hn=Un[0],ei=Un[1])),Array.isArray(Sr)&&(Hn=Sr[0]*Ci,ei=Sr[1]*Ci),isNaN(Hn)&&(Hn=Te[0],ei=Te[1]),(Hn>14400||ei>14400)&&(o.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Hn=Math.min(14400,Hn),ei=Math.min(14400,ei)),Te=[Hn,ei],n.substr(0,1)){case"l":ei>Hn&&(Te=[ei,Hn]);break;case"p":Hn>ei&&(Te=[ei,Hn])}as(Te),Co(uo),Yr(lo),ya!==0&&Yr(ya+" J"),el!==0&&Yr(el+" j"),xr.publish("addPage",{pageNumber:kr})},Kl=function(Sr){Sr>0&&Sr<=kr&&(gn.splice(Sr,1),rr.splice(Sr,1),kr--,gr>kr&&(gr=kr),this.setPage(gr))},wo=function(Sr){Sr>0&&Sr<=kr&&(gr=Sr)},wl=qe.__private__.getNumberOfPages=qe.getNumberOfPages=function(){return gn.length-1},xl=function(Sr,un,Un){var Hn,ei=void 0;return Un=Un||{},Sr=Sr!==void 0?Sr:Sn[ai].fontName,un=un!==void 0?un:Sn[ai].fontStyle,Hn=Sr.toLowerCase(),wr[Hn]!==void 0&&wr[Hn][un]!==void 0?ei=wr[Hn][un]:wr[Sr]!==void 0&&wr[Sr][un]!==void 0?ei=wr[Sr][un]:Un.disableWarning===!1&&o.warn("Unable to look up font label for font '"+Sr+"', '"+un+"'. Refer to getFontList() for available fonts."),ei||Un.noFallback||(ei=wr.times[un])==null&&(ei=wr.times.normal),ei},Xo=qe.__private__.putInfo=function(){var Sr=hi(),un=function(Hn){return Hn};for(var Un in Qe!==null&&(un=sa.encryptor(Sr,0)),Yr("<<"),Yr("/Producer ("+is(un("jsPDF "+E.version))+")"),si)si.hasOwnProperty(Un)&&si[Un]&&Yr("/"+Un.substr(0,1).toUpperCase()+Un.substr(1)+" ("+is(un(si[Un]))+")");Yr("/CreationDate ("+is(un(Ur))+")"),Yr(">>"),Yr("endobj")},ql=qe.__private__.putCatalog=function(Sr){var un=(Sr=Sr||{}).rootDictionaryObjId||ui;switch(hi(),Yr("<<"),Yr("/Type /Catalog"),Yr("/Pages "+un+" 0 R"),Bn||(Bn="fullwidth"),Bn){case"fullwidth":Yr("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Yr("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Yr("/OpenAction [3 0 R /Fit]");break;case"original":Yr("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Un=""+Bn;Un.substr(Un.length-1)==="%"&&(Bn=parseInt(Bn)/100),typeof Bn=="number"&&Yr("/OpenAction [3 0 R /XYZ null null "+$e(Bn)+"]")}switch(In||(In="continuous"),In){case"continuous":Yr("/PageLayout /OneColumn");break;case"single":Yr("/PageLayout /SinglePage");break;case"two":case"twoleft":Yr("/PageLayout /TwoColumnLeft");break;case"tworight":Yr("/PageLayout /TwoColumnRight")}Kn&&Yr("/PageMode /"+Kn),xr.publish("putCatalog"),Yr(">>"),Yr("endobj")},va=qe.__private__.putTrailer=function(){Yr("trailer"),Yr("<<"),Yr("/Size "+(Ir+1)),Yr("/Root "+Ir+" 0 R"),Yr("/Info "+(Ir-1)+" 0 R"),Qe!==null&&Yr("/Encrypt "+sa.oid+" 0 R"),Yr("/ID [ <"+Fr+"> <"+Fr+"> ]"),Yr(">>")},zl=qe.__private__.putHeader=function(){Yr("%PDF-"+Xe),Yr("%")},NA=qe.__private__.putXRef=function(){var Sr="0000000000";Yr("xref"),Yr("0 "+(Ir+1)),Yr("0000000000 65535 f ");for(var un=1;un<=Ir;un++)typeof Qr[un]=="function"?Yr((Sr+Qr[un]()).slice(-10)+" 00000 n "):Qr[un]!==void 0?Yr((Sr+Qr[un]).slice(-10)+" 00000 n "):Yr("0000000000 00000 n ")},ao=qe.__private__.buildDocument=function(){var Sr;Ir=0,Wr=0,Vr=[],Qr=[],mn=[],ui=pi(),yi=pi(),wn(Vr),xr.publish("buildDocument"),zl(),oa(),(function(){xr.publish("putAdditionalObjects");for(var Un=0;Un<mn.length;Un++){var Hn=mn[Un];mi(Hn.objId,!0),Yr(Hn.content),Yr("endobj")}xr.publish("postPutAdditionalObjects")})(),Sr=[],(function(){for(var Un in Sn)Sn.hasOwnProperty(Un)&&(Ke===!1||Ke===!0&&Ge.hasOwnProperty(Un))&&Za(Sn[Un])})(),(function(){var Un;for(Un in Mn)Mn.hasOwnProperty(Un)&&DA(Mn[Un])})(),(function(){for(var Un in Dn)Dn.hasOwnProperty(Un)&&ja(Dn[Un])})(),(function(Un){var Hn;for(Hn in Ze)Ze.hasOwnProperty(Hn)&&(Ze[Hn]instanceof M?Ga(Ze[Hn]):Ze[Hn]instanceof q&&bo(Ze[Hn],Un))})(Sr),xr.publish("putResources"),Sr.forEach(Uo),Uo({resourcesOid:yi,objectOid:Number.MAX_SAFE_INTEGER}),xr.publish("postPutResources"),Qe!==null&&(sa.oid=hi(),Yr("<<"),Yr("/Filter /Standard"),Yr("/V "+sa.v),Yr("/R "+sa.r),Yr("/U <"+sa.toHexString(sa.U)+">"),Yr("/O <"+sa.toHexString(sa.O)+">"),Yr("/P "+sa.P),Yr(">>"),Yr("endobj")),Xo(),ql();var un=Wr;return NA(),va(),Yr("startxref"),Yr(""+un),Yr("%%EOF"),wn(gn[gr]),Vr.join(`
`)},Oo=qe.__private__.getBlob=function(Sr){return new Blob([bn(Sr)],{type:"application/pdf"})},Ts=qe.output=qe.__private__.output=(zn=function(Sr,un){switch(typeof(un=un||{})=="string"?un={filename:un}:un.filename=un.filename||"generated.pdf",Sr){case void 0:return ao();case"save":qe.save(un.filename);break;case"arraybuffer":return bn(ao());case"blob":return Oo(ao());case"bloburi":case"bloburl":if(i$2.URL!==void 0&&typeof i$2.URL.createObjectURL=="function")return i$2.URL&&i$2.URL.createObjectURL(Oo(ao()))||void 0;o.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Un="",Hn=ao();try{Un=d(Hn)}catch{Un=d(unescape(encodeURIComponent(Hn)))}return"data:application/pdf;filename="+un.filename+";base64,"+Un;case"pdfobjectnewwindow":if(Object.prototype.toString.call(i$2)==="[object Window]"){var ei="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",wi=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';un.pdfObjectUrl&&(ei=un.pdfObjectUrl,wi="");var Bi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ei+'"'+wi+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(un)+");<\/script></body></html>",Li=i$2.open();return Li!==null&&Li.document.write(Bi),Li}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(i$2)==="[object Window]"){var Qi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(un.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+un.filename+'" width="500px" height="400px" /></body></html>',Gi=i$2.open();if(Gi!==null){Gi.document.write(Qi);var Ji=this;Gi.document.documentElement.querySelector("#pdfViewer").onload=function(){Gi.document.title=un.filename,Gi.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ji.output("bloburl"))}}return Gi}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(i$2)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Aa='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",un)+'"></iframe></body></html>',La=i$2.open();if(La!==null&&(La.document.write(Aa),La.document.title=un.filename),La||typeof safari>"u")return La;break;case"datauri":case"dataurl":return i$2.document.location.href=this.output("datauristring",un);default:return null}},zn.foo=function(){try{return zn.apply(this,arguments)}catch(Un){var Sr=Un.stack||"";~Sr.indexOf(" at ")&&(Sr=Sr.split(" at ")[1]);var un="Error in function "+Sr.split(`
`)[0].split("<")[0]+": "+Un.message;if(!i$2.console)throw new Error(un);i$2.console.error(un,Un),i$2.alert&&alert(un)}},zn.foo.bar=zn,zn.foo),Cl=function(Sr){return Array.isArray(Kr)===!0&&Kr.indexOf(Sr)>-1};switch(Ce){case"pt":Ci=1;break;case"mm":Ci=72/25.4;break;case"cm":Ci=72/2.54;break;case"in":Ci=72;break;case"px":Ci=Cl("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ci=12;break;case"ex":Ci=6;break;default:if(typeof Ce!="number")throw new Error("Invalid unit: "+Ce);Ci=Ce}var sa=null;Mr(),jr();var Rs=qe.__private__.getPageInfo=qe.getPageInfo=function(Sr){if(isNaN(Sr)||Sr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:rr[Sr].objId,pageNumber:Sr,pageContext:rr[Sr]}},Sl=qe.__private__.getPageInfoByObjId=function(Sr){if(isNaN(Sr)||Sr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var un in rr)if(rr[un].objId===Sr)break;return Rs(un)},Yo=qe.__private__.getCurrentPageInfo=qe.getCurrentPageInfo=function(){return{objId:rr[gr].objId,pageNumber:gr,pageContext:rr[gr]}};qe.addPage=function(){return Wo.apply(this,arguments),this},qe.setPage=function(){return wo.apply(this,arguments),wn.call(this,gn[gr]),this},qe.insertPage=function(Sr){return this.addPage(),this.movePage(gr,Sr),this},qe.movePage=function(Sr,un){var Un,Hn;if(Sr>un){Un=gn[Sr],Hn=rr[Sr];for(var ei=Sr;ei>un;ei--)gn[ei]=gn[ei-1],rr[ei]=rr[ei-1];gn[un]=Un,rr[un]=Hn,this.setPage(un)}else if(Sr<un){Un=gn[Sr],Hn=rr[Sr];for(var wi=Sr;wi<un;wi++)gn[wi]=gn[wi+1],rr[wi]=rr[wi+1];gn[un]=Un,rr[un]=Hn,this.setPage(un)}return this},qe.deletePage=function(){return Kl.apply(this,arguments),this},qe.__private__.text=qe.text=function(Sr,un,Un,Hn,ei){var wi,Bi,Li,Qi,Gi,Ji,Aa,La,Va,Ca=(Hn=Hn||{}).scope||this;if(typeof Sr=="number"&&typeof un=="number"&&(typeof Un=="string"||Array.isArray(Un))){var Wa=Un;Un=un,un=Sr,Sr=Wa}if(arguments[3]instanceof dn==0?(Li=arguments[4],Qi=arguments[5],_typeof(Aa=arguments[3])==="object"&&Aa!==null||(typeof Li=="string"&&(Qi=Li,Li=null),typeof Aa=="string"&&(Qi=Aa,Aa=null),typeof Aa=="number"&&(Li=Aa,Aa=null),Hn={flags:Aa,angle:Li,align:Qi})):(ir("The transform parameter of text() with a Matrix value"),Va=ei),isNaN(un)||isNaN(Un)||Sr==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Sr.length===0)return Ca;var Fa,fs="",To=typeof Hn.lineHeightFactor=="number"?Hn.lineHeightFactor:Ks,jo=Ca.internal.scaleFactor;function LA(Sa){return Sa=Sa.split("	").join(Array(Hn.TabLen||9).join(" ")),is(Sa,Aa)}function Bl(Sa){for(var Ia,Qa=Sa.concat(),Xa=[],cl=Qa.length;cl--;)typeof(Ia=Qa.shift())=="string"?Xa.push(Ia):Array.isArray(Sa)&&(Ia.length===1||Ia[1]===void 0&&Ia[2]===void 0)?Xa.push(Ia[0]):Xa.push([Ia[0],Ia[1],Ia[2]]);return Xa}function ss(Sa,Ia){var Qa;if(typeof Sa=="string")Qa=Ia(Sa)[0];else if(Array.isArray(Sa)){for(var Xa,cl,Bo=Sa.concat(),Zs=[],hA=Bo.length;hA--;)typeof(Xa=Bo.shift())=="string"?Zs.push(Ia(Xa)[0]):Array.isArray(Xa)&&typeof Xa[0]=="string"&&(cl=Ia(Xa[0],Xa[1],Xa[2]),Zs.push([cl[0],cl[1],cl[2]]));Qa=Zs}return Qa}var co=!1,Xl=!0;if(typeof Sr=="string")co=!0;else if(Array.isArray(Sr)){var Ws=Sr.concat();Bi=[];for(var sr,Dr=Ws.length;Dr--;)(typeof(sr=Ws.shift())!="string"||Array.isArray(sr)&&typeof sr[0]!="string")&&(Xl=!1);co=Xl}if(co===!1)throw new Error('Type of text must be string or Array. "'+Sr+'" is not recognized.');typeof Sr=="string"&&(Sr=Sr.match(/[\r?\n]/)?Sr.split(/\r\n|\r|\n/g):[Sr]);var Xr=$r/Ca.internal.scaleFactor,Cn=Xr*(To-1);switch(Hn.baseline){case"bottom":Un-=Cn;break;case"top":Un+=Xr-Cn;break;case"hanging":Un+=Xr-2*Cn;break;case"middle":Un+=Xr/2-Cn}if((Ji=Hn.maxWidth||0)>0&&(typeof Sr=="string"?Sr=Ca.splitTextToSize(Sr,Ji):Object.prototype.toString.call(Sr)==="[object Array]"&&(Sr=Sr.reduce(function(Sa,Ia){return Sa.concat(Ca.splitTextToSize(Ia,Ji))},[]))),wi={text:Sr,x:un,y:Un,options:Hn,mutex:{pdfEscape:is,activeFontKey:ai,fonts:Sn,activeFontSize:$r}},xr.publish("preProcessText",wi),Sr=wi.text,Li=(Hn=wi.options).angle,Va instanceof dn==0&&Li&&typeof Li=="number"){Li*=Math.PI/180,Hn.rotationDirection===0&&(Li=-Li),hr===cr&&(Li=-Li);var ni=Math.cos(Li),gi=Math.sin(Li);Va=new dn(ni,gi,-gi,ni,0,0)}else Li&&Li instanceof dn&&(Va=Li);hr!==cr||Va||(Va=kn),(Gi=Hn.charSpace||Jo)!==void 0&&(fs+=nr(or(Gi))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(La=Hn.horizontalScale)!==void 0&&(fs+=nr(100*La)+` Tz
`),Hn.lang;var Ii=-1,ca=Hn.renderingMode!==void 0?Hn.renderingMode:Hn.stroke,qa=Ca.internal.getCurrentPageInfo().pageContext;switch(ca){case 0:case!1:case"fill":Ii=0;break;case 1:case!0:case"stroke":Ii=1;break;case 2:case"fillThenStroke":Ii=2;break;case 3:case"invisible":Ii=3;break;case 4:case"fillAndAddForClipping":Ii=4;break;case 5:case"strokeAndAddPathForClipping":Ii=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ii=6;break;case 7:case"addToPathForClipping":Ii=7}var ua=qa.usedRenderingMode!==void 0?qa.usedRenderingMode:-1;Ii!==-1?fs+=Ii+` Tr
`:ua!==-1&&(fs+=`0 Tr
`),Ii!==-1&&(qa.usedRenderingMode=Ii),Qi=Hn.align||"left";var da,Ra=$r*To,go=Ca.internal.pageSize.getWidth(),os=Sn[ai];Gi=Hn.charSpace||Jo,Ji=Hn.maxWidth||0,Aa=Object.assign({autoencode:!0,noBOM:!0},Hn.flags);var Bs=[],nl=function(Sa){return Ca.getStringUnitWidth(Sa,{font:os,charSpace:Gi,fontSize:$r,doKerning:!1})*$r/jo};if(Object.prototype.toString.call(Sr)==="[object Array]"){var Ps;Bi=Bl(Sr),Qi!=="left"&&(da=Bi.map(nl));var Xs,Yl=0;if(Qi==="right"){un-=da[0],Sr=[],Dr=Bi.length;for(var Ro=0;Ro<Dr;Ro++)Ro===0?(Xs=hs(un),Ps=qs(Un)):(Xs=or(Yl-da[Ro]),Ps=-Ra),Sr.push([Bi[Ro],Xs,Ps]),Yl=da[Ro]}else if(Qi==="center"){un-=da[0]/2,Sr=[],Dr=Bi.length;for(var il=0;il<Dr;il++)il===0?(Xs=hs(un),Ps=qs(Un)):(Xs=or((Yl-da[il])/2),Ps=-Ra),Sr.push([Bi[il],Xs,Ps]),Yl=da[il]}else if(Qi==="left"){Sr=[],Dr=Bi.length;for(var OA=0;OA<Dr;OA++)Sr.push(Bi[OA])}else if(Qi==="justify"&&os.encoding==="Identity-H"){Sr=[],Dr=Bi.length,Ji=Ji!==0?Ji:go;for(var Pl=0,$a=0;$a<Dr;$a++)if(Ps=$a===0?qs(Un):-Ra,Xs=$a===0?hs(un):Pl,$a<Dr-1){var pu=or((Ji-da[$a])/(Bi[$a].split(" ").length-1)),al=Bi[$a].split(" ");Sr.push([al[0]+" ",Xs,Ps]),Pl=0;for(var sl=1;sl<al.length;sl++){var kA=(nl(al[sl-1]+" "+al[sl])-nl(al[sl]))*jo+pu;sl==al.length-1?Sr.push([al[sl],kA,0]):Sr.push([al[sl]+" ",kA,0]),Pl-=kA}}else Sr.push([Bi[$a],Xs,Ps]);Sr.push(["",Pl,0])}else{if(Qi!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Sr=[],Dr=Bi.length,Ji=Ji!==0?Ji:go,$a=0;$a<Dr;$a++)Ps=$a===0?qs(Un):-Ra,Xs=$a===0?hs(un):0,$a<Dr-1?Bs.push(nr(or((Ji-da[$a])/(Bi[$a].split(" ").length-1)))):Bs.push(0),Sr.push([Bi[$a],Xs,Ps])}}(typeof Hn.R2L=="boolean"?Hn.R2L:jn)===!0&&(Sr=ss(Sr,function(Sa,Ia,Qa){return[Sa.split("").reverse().join(""),Ia,Qa]})),wi={text:Sr,x:un,y:Un,options:Hn,mutex:{pdfEscape:is,activeFontKey:ai,fonts:Sn,activeFontSize:$r}},xr.publish("postProcessText",wi),Sr=wi.text,Fa=wi.mutex.isHex||!1;var dc=Sn[ai].encoding;dc!=="WinAnsiEncoding"&&dc!=="StandardEncoding"||(Sr=ss(Sr,function(Sa,Ia,Qa){return[LA(Sa),Ia,Qa]})),Bi=Bl(Sr),Sr=[];for(var xs,ol,Zl,$l=Array.isArray(Bi[0])?1:0,ll="",MA=function(Sa,Ia,Qa){var Xa="";return Qa instanceof dn?(Qa=typeof Hn.angle=="number"?Qn(Qa,new dn(1,0,0,1,Sa,Ia)):Qn(new dn(1,0,0,1,Sa,Ia),Qa),hr===cr&&(Qa=Qn(new dn(1,0,0,-1,0,0),Qa)),Xa=Qa.join(" ")+` Tm
`):Xa=nr(Sa)+" "+nr(Ia)+` Td
`,Xa},Ys=0;Ys<Bi.length;Ys++){switch(ll="",$l){case 1:Zl=(Fa?"<":"(")+Bi[Ys][0]+(Fa?">":")"),xs=parseFloat(Bi[Ys][1]),ol=parseFloat(Bi[Ys][2]);break;case 0:Zl=(Fa?"<":"(")+Bi[Ys]+(Fa?">":")"),xs=hs(un),ol=qs(Un)}Bs!==void 0&&Bs[Ys]!==void 0&&(ll=Bs[Ys]+` Tw
`),Ys===0?Sr.push(ll+MA(xs,ol,Va)+Zl):$l===0?Sr.push(ll+Zl):$l===1&&Sr.push(ll+MA(xs,ol,Va)+Zl)}Sr=$l===0?Sr.join(` Tj
T* `):Sr.join(` Tj
`),Sr+=` Tj
`;var Al=`BT
/`;return Al+=ai+" "+$r+` Tf
`,Al+=nr($r*To)+` TL
`,Al+=Us+`
`,Al+=fs,Al+=Sr,Yr(Al+="ET"),Ge[ai]=!0,Ca};var ko=qe.__private__.clip=qe.clip=function(Sr){return Yr(Sr==="evenodd"?"W*":"W"),this};qe.clipEvenOdd=function(){return ko("evenodd")},qe.__private__.discardPath=qe.discardPath=function(){return Yr("n"),this};var la=qe.__private__.isValidStyle=function(Sr){var un=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Sr)!==-1&&(un=!0),un};qe.__private__.setDefaultPathOperation=qe.setDefaultPathOperation=function(Sr){return la(Sr)&&(Me=Sr),this};var Zo=qe.__private__.getStyle=qe.getStyle=function(Sr){var un=Me;switch(Sr){case"D":case"S":un="S";break;case"F":un="f";break;case"FD":case"DF":un="B";break;case"f":case"f*":case"B":case"B*":un=Sr}return un},Hs=qe.close=function(){return Yr("h"),this};qe.stroke=function(){return Yr("S"),this},qe.fill=function(Sr){return so("f",Sr),this},qe.fillEvenOdd=function(Sr){return so("f*",Sr),this},qe.fillStroke=function(Sr){return so("B",Sr),this},qe.fillStrokeEvenOdd=function(Sr){return so("B*",Sr),this};var so=function(Sr,un){_typeof(un)==="object"?cA(un,Sr):Yr(Sr)},Gl=function(Sr){Sr===null||hr===cr&&Sr===void 0||(Sr=Zo(Sr),Yr(Sr))};function AA(Sr,un,Un,Hn,ei){var wi=new q(un||this.boundingBox,Un||this.xStep,Hn||this.yStep,this.gState,ei||this.matrix);wi.stream=this.stream;var Bi=Sr+"$$"+this.cloneIndex+++"$$";return On(Bi,wi),wi}var cA=function(Sr,un){var Un=Jr[Sr.key],Hn=Ze[Un];if(Hn instanceof M)Yr("q"),Yr(hc(un)),Hn.gState&&qe.setGState(Hn.gState),Yr(Sr.matrix.toString()+" cm"),Yr("/"+Un+" sh"),Yr("Q");else if(Hn instanceof q){var ei=new dn(1,0,0,-1,0,Gs());Sr.matrix&&(ei=ei.multiply(Sr.matrix||kn),Un=AA.call(Hn,Sr.key,Sr.boundingBox,Sr.xStep,Sr.yStep,ei).id),Yr("q"),Yr("/Pattern cs"),Yr("/"+Un+" scn"),Hn.gState&&qe.setGState(Hn.gState),Yr(un),Yr("Q")}},hc=function(Sr){switch(Sr){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},uA=qe.moveTo=function(Sr,un){return Yr(nr(or(Sr))+" "+nr(Tr(un))+" m"),this},xo=qe.lineTo=function(Sr,un){return Yr(nr(or(Sr))+" "+nr(Tr(un))+" l"),this},Ns=qe.curveTo=function(Sr,un,Un,Hn,ei,wi){return Yr([nr(or(Sr)),nr(Tr(un)),nr(or(Un)),nr(Tr(Hn)),nr(or(ei)),nr(Tr(wi)),"c"].join(" ")),this};qe.__private__.line=qe.line=function(Sr,un,Un,Hn,ei){if(isNaN(Sr)||isNaN(un)||isNaN(Un)||isNaN(Hn)||!la(ei))throw new Error("Invalid arguments passed to jsPDF.line");return hr===lr?this.lines([[Un-Sr,Hn-un]],Sr,un,[1,1],ei||"S"):this.lines([[Un-Sr,Hn-un]],Sr,un,[1,1]).stroke()},qe.__private__.lines=qe.lines=function(Sr,un,Un,Hn,ei,wi){var Bi,Li,Qi,Gi,Ji,Aa,La,Va,Ca,Wa,Fa,fs;if(typeof Sr=="number"&&(fs=Un,Un=un,un=Sr,Sr=fs),Hn=Hn||[1,1],wi=wi||!1,isNaN(un)||isNaN(Un)||!Array.isArray(Sr)||!Array.isArray(Hn)||!la(ei)||typeof wi!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(uA(un,Un),Bi=Hn[0],Li=Hn[1],Gi=Sr.length,Wa=un,Fa=Un,Qi=0;Qi<Gi;Qi++)(Ji=Sr[Qi]).length===2?(Wa=Ji[0]*Bi+Wa,Fa=Ji[1]*Li+Fa,xo(Wa,Fa)):(Aa=Ji[0]*Bi+Wa,La=Ji[1]*Li+Fa,Va=Ji[2]*Bi+Wa,Ca=Ji[3]*Li+Fa,Wa=Ji[4]*Bi+Wa,Fa=Ji[5]*Li+Fa,Ns(Aa,La,Va,Ca,Wa,Fa));return wi&&Hs(),Gl(ei),this},qe.path=function(Sr){for(var un=0;un<Sr.length;un++){var Un=Sr[un],Hn=Un.c;switch(Un.op){case"m":uA(Hn[0],Hn[1]);break;case"l":xo(Hn[0],Hn[1]);break;case"c":Ns.apply(this,Hn);break;case"h":Hs()}}return this},qe.__private__.rect=qe.rect=function(Sr,un,Un,Hn,ei){if(isNaN(Sr)||isNaN(un)||isNaN(Un)||isNaN(Hn)||!la(ei))throw new Error("Invalid arguments passed to jsPDF.rect");return hr===lr&&(Hn=-Hn),Yr([nr(or(Sr)),nr(Tr(un)),nr(or(Un)),nr(or(Hn)),"re"].join(" ")),Gl(ei),this},qe.__private__.triangle=qe.triangle=function(Sr,un,Un,Hn,ei,wi,Bi){if(isNaN(Sr)||isNaN(un)||isNaN(Un)||isNaN(Hn)||isNaN(ei)||isNaN(wi)||!la(Bi))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Un-Sr,Hn-un],[ei-Un,wi-Hn],[Sr-ei,un-wi]],Sr,un,[1,1],Bi,!0),this},qe.__private__.roundedRect=qe.roundedRect=function(Sr,un,Un,Hn,ei,wi,Bi){if(isNaN(Sr)||isNaN(un)||isNaN(Un)||isNaN(Hn)||isNaN(ei)||isNaN(wi)||!la(Bi))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Li=4/3*(Math.SQRT2-1);return ei=Math.min(ei,.5*Un),wi=Math.min(wi,.5*Hn),this.lines([[Un-2*ei,0],[ei*Li,0,ei,wi-wi*Li,ei,wi],[0,Hn-2*wi],[0,wi*Li,-ei*Li,wi,-ei,wi],[2*ei-Un,0],[-ei*Li,0,-ei,-wi*Li,-ei,-wi],[0,2*wi-Hn],[0,-wi*Li,ei*Li,-wi,ei,-wi]],Sr+ei,un,[1,1],Bi,!0),this},qe.__private__.ellipse=qe.ellipse=function(Sr,un,Un,Hn,ei){if(isNaN(Sr)||isNaN(un)||isNaN(Un)||isNaN(Hn)||!la(ei))throw new Error("Invalid arguments passed to jsPDF.ellipse");var wi=4/3*(Math.SQRT2-1)*Un,Bi=4/3*(Math.SQRT2-1)*Hn;return uA(Sr+Un,un),Ns(Sr+Un,un-Bi,Sr+wi,un-Hn,Sr,un-Hn),Ns(Sr-wi,un-Hn,Sr-Un,un-Bi,Sr-Un,un),Ns(Sr-Un,un+Bi,Sr-wi,un+Hn,Sr,un+Hn),Ns(Sr+wi,un+Hn,Sr+Un,un+Bi,Sr+Un,un),Gl(ei),this},qe.__private__.circle=qe.circle=function(Sr,un,Un,Hn){if(isNaN(Sr)||isNaN(un)||isNaN(Un)||!la(Hn))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Sr,un,Un,Un,Hn)},qe.setFont=function(Sr,un,Un){return Un&&(un=er(un,Un)),ai=xl(Sr,un,{disableWarning:!1}),this};var oo=qe.__private__.getFont=qe.getFont=function(){return Sn[xl.apply(qe,arguments)]};qe.__private__.getFontList=qe.getFontList=function(){var Sr,un,Un={};for(Sr in wr)if(wr.hasOwnProperty(Sr))for(un in Un[Sr]=[],wr[Sr])wr[Sr].hasOwnProperty(un)&&Un[Sr].push(un);return Un},qe.addFont=function(Sr,un,Un,Hn,ei){var wi=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&wi.indexOf(arguments[3])!==-1?ei=arguments[3]:arguments[3]&&wi.indexOf(arguments[3])==-1&&(Un=er(Un,Hn)),Lo.call(this,Sr,un,Un,ei=ei||"Identity-H")};var Ks,uo=Ee.lineWidth||.200025,Wi=qe.__private__.getLineWidth=qe.getLineWidth=function(){return uo},Co=qe.__private__.setLineWidth=qe.setLineWidth=function(Sr){return uo=Sr,Yr(nr(or(Sr))+" w"),this};qe.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(Sr,un){if(Sr=Sr||[],un=un||0,isNaN(un)||!Array.isArray(Sr))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Sr=Sr.map(function(Un){return nr(or(Un))}).join(" "),un=nr(or(un)),Yr("["+Sr+"] "+un+" d"),this};var UA=qe.__private__.getLineHeight=qe.getLineHeight=function(){return $r*Ks};qe.__private__.getLineHeight=qe.getLineHeight=function(){return $r*Ks};var Tl=qe.__private__.setLineHeightFactor=qe.setLineHeightFactor=function(Sr){return typeof(Sr=Sr||1.15)=="number"&&(Ks=Sr),this},ho=qe.__private__.getLineHeightFactor=qe.getLineHeightFactor=function(){return Ks};Tl(Ee.lineHeight);var hs=qe.__private__.getHorizontalCoordinate=function(Sr){return or(Sr)},qs=qe.__private__.getVerticalCoordinate=function(Sr){return hr===cr?Sr:rr[gr].mediaBox.topRightY-rr[gr].mediaBox.bottomLeftY-or(Sr)},So=qe.__private__.getHorizontalCoordinateString=qe.getHorizontalCoordinateString=function(Sr){return nr(hs(Sr))},$o=qe.__private__.getVerticalCoordinateString=qe.getVerticalCoordinateString=function(Sr){return nr(qs(Sr))},lo=Ee.strokeColor||"0 G";qe.__private__.getStrokeColor=qe.getDrawColor=function(){return _i(lo)},qe.__private__.setStrokeColor=qe.setDrawColor=function(Sr,un,Un,Hn){return lo=Fi({ch1:Sr,ch2:un,ch3:Un,ch4:Hn,pdfColorType:"draw",precision:2}),Yr(lo),this};var Rl=Ee.fillColor||"0 g";qe.__private__.getFillColor=qe.getFillColor=function(){return _i(Rl)},qe.__private__.setFillColor=qe.setFillColor=function(Sr,un,Un,Hn){return Rl=Fi({ch1:Sr,ch2:un,ch3:Un,ch4:Hn,pdfColorType:"fill",precision:2}),Yr(Rl),this};var Us=Ee.textColor||"0 g",zs=qe.__private__.getTextColor=qe.getTextColor=function(){return _i(Us)};qe.__private__.setTextColor=qe.setTextColor=function(Sr,un,Un,Hn){return Us=Fi({ch1:Sr,ch2:un,ch3:Un,ch4:Hn,pdfColorType:"text",precision:3}),this};var Jo=Ee.charSpace,ds=qe.__private__.getCharSpace=qe.getCharSpace=function(){return parseFloat(Jo||0)};qe.__private__.setCharSpace=qe.setCharSpace=function(Sr){if(isNaN(Sr))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jo=Sr,this};var ya=0;qe.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},qe.__private__.setLineCap=qe.setLineCap=function(Sr){var un=qe.CapJoinStyles[Sr];if(un===void 0)throw new Error("Line cap style of '"+Sr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ya=un,Yr(un+" J"),this};var el=0;qe.__private__.setLineJoin=qe.setLineJoin=function(Sr){var un=qe.CapJoinStyles[Sr];if(un===void 0)throw new Error("Line join style of '"+Sr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return el=un,Yr(un+" j"),this},qe.__private__.setLineMiterLimit=qe.__private__.setMiterLimit=qe.setLineMiterLimit=qe.setMiterLimit=function(Sr){if(Sr=Sr||0,isNaN(Sr))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Yr(nr(or(Sr))+" M"),this},qe.GState=O,qe.setGState=function(Sr){(Sr=typeof Sr=="string"?Mn[ze[Sr]]:fo(null,Sr)).equals(Cr)||(Yr("/"+Sr.id+" gs"),Cr=Sr)};var fo=function(Sr,un){if(!Sr||!ze[Sr]){var Un=!1;for(var Hn in Mn)if(Mn.hasOwnProperty(Hn)&&Mn[Hn].equals(un)){Un=!0;break}if(Un)un=Mn[Hn];else{var ei="GS"+(Object.keys(Mn).length+1).toString(10);Mn[ei]=un,un.id=ei}return Sr&&(ze[Sr]=un.id),xr.publish("addGState",un),un}};qe.addGState=function(Sr,un){return fo(Sr,un),this},qe.saveGraphicsState=function(){return Yr("q"),Or.push({key:ai,size:$r,color:Us}),this},qe.restoreGraphicsState=function(){Yr("Q");var Sr=Or.pop();return ai=Sr.key,$r=Sr.size,Us=Sr.color,Cr=null,this},qe.setCurrentTransformationMatrix=function(Sr){return Yr(Sr.toString()+" cm"),this},qe.comment=function(Sr){return Yr("#"+Sr),this};var tl=function(Sr,un){var Un=Sr||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Un},set:function(wi){isNaN(wi)||(Un=parseFloat(wi))}});var Hn=un||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Hn},set:function(wi){isNaN(wi)||(Hn=parseFloat(wi))}});var ei="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ei},set:function(wi){ei=wi.toString()}}),this},rl=function(Sr,un,Un,Hn){tl.call(this,Sr,un),this.type="rect";var ei=Un||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ei},set:function(Bi){isNaN(Bi)||(ei=parseFloat(Bi))}});var wi=Hn||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return wi},set:function(Bi){isNaN(Bi)||(wi=parseFloat(Bi))}}),this},Mo=function(){this.page=kr,this.currentPage=gr,this.pages=gn.slice(0),this.pagesContext=rr.slice(0),this.x=dr,this.y=An,this.matrix=vn,this.width=Ls(gr),this.height=Gs(gr),this.outputDestination=Fn,this.id="",this.objectNumber=-1};Mo.prototype.restore=function(){kr=this.page,gr=this.currentPage,rr=this.pagesContext,gn=this.pages,dr=this.x,An=this.y,vn=this.matrix,Wl(gr,this.width),Os(gr,this.height),Fn=this.outputDestination};var Ao=function(Sr,un,Un,Hn,ei){Hr.push(new Mo),kr=gr=0,gn=[],dr=Sr,An=un,vn=ei,as([Un,Hn])};for(var po in qe.beginFormObject=function(Sr,un,Un,Hn,ei){return Ao(Sr,un,Un,Hn,ei),this},qe.endFormObject=function(Sr){return(function(un){if(Gr[un])Hr.pop().restore();else{var Un=new Mo,Hn="Xo"+(Object.keys(Dn).length+1).toString(10);Un.id=Hn,Gr[un]=Hn,Dn[Hn]=Un,xr.publish("addFormObject",Un),Hr.pop().restore()}})(Sr),this},qe.doFormObject=function(Sr,un){var Un=Dn[Gr[Sr]];return Yr("q"),Yr(un.toString()+" cm"),Yr("/"+Un.id+" Do"),Yr("Q"),this},qe.getFormObject=function(Sr){var un=Dn[Gr[Sr]];return{x:un.x,y:un.y,width:un.width,height:un.height,matrix:un.matrix}},qe.save=function(Sr,un){return Sr=Sr||"generated.pdf",(un=un||{}).returnPromise=un.returnPromise||!1,un.returnPromise===!1?(l(Oo(ao()),Sr),typeof l.unload=="function"&&i$2.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(Un,Hn){try{var ei=l(Oo(ao()),Sr);typeof l.unload=="function"&&i$2.setTimeout&&setTimeout(l.unload,911),Un(ei)}catch(wi){Hn(wi.message)}})},E.API)E.API.hasOwnProperty(po)&&(po==="events"&&E.API.events.length?(function(Sr,un){var Un,Hn,ei;for(ei=un.length-1;ei!==-1;ei--)Un=un[ei][0],Hn=un[ei][1],Sr.subscribe.apply(Sr,[Un].concat(typeof Hn=="function"?[Hn]:Hn))})(xr,E.API.events):qe[po]=E.API[po]);var Ls=qe.getPageWidth=function(Sr){return(rr[Sr=Sr||gr].mediaBox.topRightX-rr[Sr].mediaBox.bottomLeftX)/Ci},Wl=qe.setPageWidth=function(Sr,un){rr[Sr].mediaBox.topRightX=un*Ci+rr[Sr].mediaBox.bottomLeftX},Gs=qe.getPageHeight=function(Sr){return(rr[Sr=Sr||gr].mediaBox.topRightY-rr[Sr].mediaBox.bottomLeftY)/Ci},Os=qe.setPageHeight=function(Sr,un){rr[Sr].mediaBox.topRightY=un*Ci+rr[Sr].mediaBox.bottomLeftY};return qe.internal={pdfEscape:is,getStyle:Zo,getFont:oo,getFontSize:Pn,getCharSpace:ds,getTextColor:zs,getLineHeight:UA,getLineHeightFactor:ho,getLineWidth:Wi,write:Rn,getHorizontalCoordinate:hs,getVerticalCoordinate:qs,getCoordinateString:So,getVerticalCoordinateString:$o,collections:{},newObject:hi,newAdditionalObject:Ni,newObjectDeferred:pi,newObjectDeferredBegin:mi,getFilters:Di,putStream:Oi,events:xr,scaleFactor:Ci,pageSize:{getWidth:function(){return Ls(gr)},setWidth:function(Sr){Wl(gr,Sr)},getHeight:function(){return Gs(gr)},setHeight:function(Sr){Os(gr,Sr)}},encryptionOptions:Qe,encryption:sa,getEncryptor:function(Sr){return Qe!==null?sa.encryptor(Sr,0):function(un){return un}},output:Ts,getNumberOfPages:wl,pages:gn,out:Yr,f2:$e,f3:Ar,getPageInfo:Rs,getPageInfoByObjId:Sl,getCurrentPageInfo:Yo,getPDFVersion:tr,Point:tl,Rectangle:rl,Matrix:dn,hasHotfix:Cl},Object.defineProperty(qe.internal.pageSize,"width",{get:function(){return Ls(gr)},set:function(Sr){Wl(gr,Sr)},enumerable:!0,configurable:!0}),Object.defineProperty(qe.internal.pageSize,"height",{get:function(){return Gs(gr)},set:function(Sr){Os(gr,Sr)},enumerable:!0,configurable:!0}),(function(Sr){for(var un=0,Un=zr.length;un<Un;un++){var Hn=Lo.call(this,Sr[un][0],Sr[un][1],Sr[un][2],zr[un][3],!0);Ke===!1&&(Ge[Hn]=!0);var ei=Sr[un][0].split("-");lA({id:Hn,fontName:ei[0],fontStyle:ei[1]||""})}xr.publish("addFonts",{fonts:Sn,dictionary:wr})}).call(qe,zr),ai="F1",Wo(Te,n),xr.publish("initialized"),qe}I.prototype.lsbFirstWord=function(Ee){return String.fromCharCode(255&Ee,Ee>>8&255,Ee>>16&255,Ee>>24&255)},I.prototype.toHexString=function(Ee){return Ee.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(Ee){for(var t=[],n=0;n<Ee.length;n+=2)t.push(String.fromCharCode(parseInt(Ee.substr(n,2),16)));return t.join("")},I.prototype.processOwnerPassword=function(Ee,t){return k(S(t).substr(0,5),Ee)},I.prototype.encryptor=function(Ee,t){var n=S(this.encryptionKey+String.fromCharCode(255&Ee,Ee>>8&255,Ee>>16&255,255&t,t>>8&255)).substr(0,10);return function(Ce){return k(n,Ce)}},O.prototype.equals=function(Ee){var t,n="id,objectNumber,equals";if(!Ee||_typeof(Ee)!==_typeof(this))return!1;var Ce=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!Ee.hasOwnProperty(t)||this[t]!==Ee[t])return!1;Ce++}for(t in Ee)Ee.hasOwnProperty(t)&&n.indexOf(t)<0&&Ce--;return Ce===0},E.API={events:[]},E.version="3.0.2";var R=E.API,D=1,T=function(Ee){return Ee.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},z=function(Ee){return Ee.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(Ee){return Ee.toFixed(2)},H=function(Ee){return Ee.toFixed(5)};R.__acroform__={};var W=function(Ee,t){Ee.prototype=Object.create(t.prototype),Ee.prototype.constructor=Ee},V=function(Ee){return Ee*D},G=function(Ee){var t=new ct,n=xt.internal.getHeight(Ee)||0,Ce=xt.internal.getWidth(Ee)||0;return t.BBox=[0,0,Number(U(Ce)),Number(U(n))],t},Y=R.__acroform__.setBit=function(Ee,t){if(Ee=Ee||0,t=t||0,isNaN(Ee)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return Ee|1<<t},J=R.__acroform__.clearBit=function(Ee,t){if(Ee=Ee||0,t=t||0,isNaN(Ee)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return Ee&~(1<<t)},X=R.__acroform__.getBit=function(Ee,t){if(isNaN(Ee)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return Ee&1<<t?1:0},K=R.__acroform__.getBitForPdf=function(Ee,t){if(isNaN(Ee)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return X(Ee,t-1)},Z=R.__acroform__.setBitForPdf=function(Ee,t){if(isNaN(Ee)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Y(Ee,t-1)},$=R.__acroform__.clearBitForPdf=function(Ee,t){if(isNaN(Ee)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return J(Ee,t-1)},Q=R.__acroform__.calculateCoordinates=function(Ee,t){var n=t.internal.getHorizontalCoordinate,Ce=t.internal.getVerticalCoordinate,Te=Ee[0],Re=Ee[1],Be=Ee[2],Ue=Ee[3],Oe={};return Oe.lowerLeft_X=n(Te)||0,Oe.lowerLeft_Y=Ce(Re+Ue)||0,Oe.upperRight_X=n(Te+Be)||0,Oe.upperRight_Y=Ce(Re)||0,[Number(U(Oe.lowerLeft_X)),Number(U(Oe.lowerLeft_Y)),Number(U(Oe.upperRight_X)),Number(U(Oe.upperRight_Y))]},tt=function(Ee){if(Ee.appearanceStreamContent)return Ee.appearanceStreamContent;if(Ee.V||Ee.DV){var t=[],n=Ee._V||Ee.DV,Ce=et(Ee,n),Te=Ee.scope.internal.getFont(Ee.fontName,Ee.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(Ee.scope.__private__.encodeColorString(Ee.color)),t.push("/"+Te+" "+U(Ce.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(Ce.text),t.push("ET"),t.push("Q"),t.push("EMC");var Re=G(Ee);return Re.scope=Ee.scope,Re.stream=t.join(`
`),Re}},et=function(Ee,t){var n=Ee.fontSize===0?Ee.maxFontSize:Ee.fontSize,Ce={text:"",fontSize:""},Te=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");Te=Ee.multiline?Te.map(function($e){return $e.split(`
`)}):Te.map(function($e){return[$e]});var Re=n,Be=xt.internal.getHeight(Ee)||0;Be=Be<0?-Be:Be;var Ue=xt.internal.getWidth(Ee)||0;Ue=Ue<0?-Ue:Ue;var Oe=function($e,Ar,or){if($e+1<Te.length){var Tr=Ar+" "+Te[$e+1][0];return nt(Tr,Ee,or).width<=Ue-4}return!1};Re++;e:for(;Re>0;){t="",Re--;var Me,Qe,Ke=nt("3",Ee,Re).height,Ge=Ee.multiline?Be-Re:(Be-Ke)/2,qe=Ge+=2,Xe=0,tr=0,Je=0;if(Re<=0){t=`(...) Tj
`,t+="% Width of Text: "+nt(t,Ee,Re=12).width+", FieldWidth:"+Ue+`
`;break}for(var Ye="",lr=0,cr=0;cr<Te.length;cr++)if(Te.hasOwnProperty(cr)){var hr=!1;if(Te[cr].length!==1&&Je!==Te[cr].length-1){if((Ke+2)*(lr+2)+2>Be)continue e;Ye+=Te[cr][Je],hr=!0,tr=cr,cr--}else{Ye=(Ye+=Te[cr][Je]+" ").substr(Ye.length-1)==" "?Ye.substr(0,Ye.length-1):Ye;var ur=parseInt(cr),fr=Oe(ur,Ye,Re),er=cr>=Te.length-1;if(fr&&!er){Ye+=" ",Je=0;continue}if(fr||er){if(er)tr=ur;else if(Ee.multiline&&(Ke+2)*(lr+2)+2>Be)continue e}else{if(!Ee.multiline||(Ke+2)*(lr+2)+2>Be)continue e;tr=ur}}for(var nr="",ir=Xe;ir<=tr;ir++){var mr=Te[ir];if(Ee.multiline){if(ir===tr){nr+=mr[Je]+" ",Je=(Je+1)%mr.length;continue}if(ir===Xe){nr+=mr[mr.length-1]+" ";continue}}nr+=mr[0]+" "}switch(nr=nr.substr(nr.length-1)==" "?nr.substr(0,nr.length-1):nr,Qe=nt(nr,Ee,Re).width,Ee.textAlign){case"right":Me=Ue-Qe-2;break;case"center":Me=(Ue-Qe)/2;break;default:Me=2}t+=U(Me)+" "+U(qe)+` Td
`,t+="("+T(nr)+`) Tj
`,t+=-U(Me)+` 0 Td
`,qe=-(Re+2),Qe=0,Xe=hr?tr:tr+1,lr++,Ye=""}break}return Ce.text=t,Ce.fontSize=Re,Ce},nt=function(Ee,t,n){var Ce=t.scope.internal.getFont(t.fontName,t.fontStyle),Te=t.scope.getStringUnitWidth(Ee,{font:Ce,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:Ce,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:Te}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},it=function(Ee,t){var n={type:"reference",object:Ee};t.internal.getPageInfo(Ee.page).pageContext.annotations.find(function(Ce){return Ce.type===n.type&&Ce.object===n.object})===void 0&&t.internal.getPageInfo(Ee.page).pageContext.annotations.push(n)},at=function(Ee,t){if(t.scope=Ee,Ee.internal!==void 0&&(Ee.internal.acroformPlugin===void 0||Ee.internal.acroformPlugin.isInitialized===!1)){if(ht.FieldNum=0,Ee.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),Ee.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=Ee.internal.scaleFactor,Ee.internal.acroformPlugin.acroFormDictionaryRoot=new lt,Ee.internal.acroformPlugin.acroFormDictionaryRoot.scope=Ee,Ee.internal.acroformPlugin.acroFormDictionaryRoot._eventID=Ee.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(Ee)}),Ee.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var Ce=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Te in Ce)if(Ce.hasOwnProperty(Te)){var Re=Ce[Te];Re.objId=void 0,Re.hasAnnotation&&it(Re,n)}})(Ee)}),Ee.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(Ee)}),Ee.internal.events.subscribe("postPutPages",function(n){(function(Ce,Te){var Re=!Ce;for(var Be in Ce||(Te.internal.newObjectDeferredBegin(Te.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),Te.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),Ce=Ce||Te.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(Ce.hasOwnProperty(Be)){var Ue=Ce[Be],Oe=[],Me=Ue.Rect;if(Ue.Rect&&(Ue.Rect=Q(Ue.Rect,Te)),Te.internal.newObjectDeferredBegin(Ue.objId,!0),Ue.DA=xt.createDefaultAppearanceStream(Ue),_typeof(Ue)==="object"&&typeof Ue.getKeyValueListForStream=="function"&&(Oe=Ue.getKeyValueListForStream()),Ue.Rect=Me,Ue.hasAppearanceStream&&!Ue.appearanceStreamContent){var Qe=tt(Ue);Oe.push({key:"AP",value:"<</N "+Qe+">>"}),Te.internal.acroformPlugin.xForms.push(Qe)}if(Ue.appearanceStreamContent){var Ke="";for(var Ge in Ue.appearanceStreamContent)if(Ue.appearanceStreamContent.hasOwnProperty(Ge)){var qe=Ue.appearanceStreamContent[Ge];if(Ke+="/"+Ge+" ",Ke+="<<",Object.keys(qe).length>=1||Array.isArray(qe)){for(var Be in qe)if(qe.hasOwnProperty(Be)){var Xe=qe[Be];typeof Xe=="function"&&(Xe=Xe.call(Te,Ue)),Ke+="/"+Be+" "+Xe+" ",Te.internal.acroformPlugin.xForms.indexOf(Xe)>=0||Te.internal.acroformPlugin.xForms.push(Xe)}}else typeof(Xe=qe)=="function"&&(Xe=Xe.call(Te,Ue)),Ke+="/"+Be+" "+Xe,Te.internal.acroformPlugin.xForms.indexOf(Xe)>=0||Te.internal.acroformPlugin.xForms.push(Xe);Ke+=">>"}Oe.push({key:"AP",value:`<<
`+Ke+">>"})}Te.internal.putStream({additionalKeyValues:Oe,objectId:Ue.objId}),Te.internal.out("endobj")}Re&&(function(tr,Je){for(var Ye in tr)if(tr.hasOwnProperty(Ye)){var lr=Ye,cr=tr[Ye];Je.internal.newObjectDeferredBegin(cr.objId,!0),_typeof(cr)==="object"&&typeof cr.putStream=="function"&&cr.putStream(),delete tr[lr]}})(Te.internal.acroformPlugin.xForms,Te)})(n,Ee)}),Ee.internal.acroformPlugin.isInitialized=!0}},ot=R.__acroform__.arrayToPdfArray=function(Ee,t,n){var Ce=function(Be){return Be};if(Array.isArray(Ee)){for(var Te="[",Re=0;Re<Ee.length;Re++)switch(Re!==0&&(Te+=" "),_typeof(Ee[Re])){case"boolean":case"number":case"object":Te+=Ee[Re].toString();break;case"string":Ee[Re].substr(0,1)!=="/"?(t!==void 0&&n&&(Ce=n.internal.getEncryptor(t)),Te+="("+T(Ce(Ee[Re].toString()))+")"):Te+=Ee[Re].toString()}return Te+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(Ee,t,n){var Ce=function(Te){return Te};return t!==void 0&&n&&(Ce=n.internal.getEncryptor(t)),(Ee=Ee||"").toString(),"("+T(Ce(Ee))+")"},ut=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(Ee){this._objId=Ee}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ut.prototype.toString=function(){return this.objId+" 0 R"},ut.prototype.putStream=function(){var Ee=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:Ee,objectId:this.objId}),this.scope.internal.out("endobj")},ut.prototype.getKeyValueListForStream=function(){var Ee=[],t=Object.getOwnPropertyNames(this).filter(function(Re){return Re!="content"&&Re!="appearanceStreamContent"&&Re!="scope"&&Re!="objId"&&Re.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var Ce=t[n],Te=this[Ce];Te&&(Array.isArray(Te)?Ee.push({key:Ce,value:ot(Te,this.objId,this.scope)}):Te instanceof ut?(Te.scope=this.scope,Ee.push({key:Ce,value:Te.objId+" 0 R"})):typeof Te!="function"&&Ee.push({key:Ce,value:Te}))}return Ee};var ct=function(){ut.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var Ee,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){Ee=n.trim()},get:function(){return Ee||null}})};W(ct,ut);var lt=function(){ut.call(this);var Ee,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(Ee){var n=function(Ce){return Ce};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+T(n(Ee))+")"}},set:function(n){Ee=n}})};W(lt,ut);var ht=function Ee(){ut.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(Ye){if(isNaN(Ye))throw new Error('Invalid value "'+Ye+'" for attribute F supplied.');t=Ye}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!K(t,3)},set:function(Ye){Ye?this.F=Z(t,3):this.F=$(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(Ye){if(isNaN(Ye))throw new Error('Invalid value "'+Ye+'" for attribute Ff supplied.');n=Ye}});var Ce=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(Ce.length!==0)return Ce},set:function(Ye){Ce=Ye!==void 0?Ye:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!Ce||isNaN(Ce[0])?0:Ce[0]},set:function(Ye){Ce[0]=Ye}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!Ce||isNaN(Ce[1])?0:Ce[1]},set:function(Ye){Ce[1]=Ye}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!Ce||isNaN(Ce[2])?0:Ce[2]},set:function(Ye){Ce[2]=Ye}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!Ce||isNaN(Ce[3])?0:Ce[3]},set:function(Ye){Ce[3]=Ye}});var Te="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Te},set:function(Ye){switch(Ye){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Te=Ye;break;default:throw new Error('Invalid value "'+Ye+'" for attribute FT supplied.')}}});var Re=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!Re||Re.length<1){if(this instanceof yt)return;Re="FieldObject"+Ee.FieldNum++}var Ye=function(lr){return lr};return this.scope&&(Ye=this.scope.internal.getEncryptor(this.objId)),"("+T(Ye(Re))+")"},set:function(Ye){Re=Ye.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return Re},set:function(Ye){Re=Ye}});var Be="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Be},set:function(Ye){Be=Ye}});var Ue="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return Ue},set:function(Ye){Ue=Ye}});var Oe=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return Oe},set:function(Ye){Oe=Ye}});var Me=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Me===void 0?50/D:Me},set:function(Ye){Me=Ye}});var Qe="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Qe},set:function(Ye){Qe=Ye}});var Ke="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Ke||this instanceof yt||this instanceof Nt))return st(Ke,this.objId,this.scope)},set:function(Ye){Ye=Ye.toString(),Ke=Ye}});var Ge=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Ge)return this instanceof mt==0?st(Ge,this.objId,this.scope):Ge},set:function(Ye){Ye=Ye.toString(),Ge=this instanceof mt==0?Ye.substr(0,1)==="("?z(Ye.substr(1,Ye.length-2)):z(Ye):Ye}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt==1?z(Ge.substr(1,Ge.length-1)):Ge},set:function(Ye){Ye=Ye.toString(),Ge=this instanceof mt==1?"/"+Ye:Ye}});var qe=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(qe)return qe},set:function(Ye){this.V=Ye}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(qe)return this instanceof mt==0?st(qe,this.objId,this.scope):qe},set:function(Ye){Ye=Ye.toString(),qe=this instanceof mt==0?Ye.substr(0,1)==="("?z(Ye.substr(1,Ye.length-2)):z(Ye):Ye}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt==1?z(qe.substr(1,qe.length-1)):qe},set:function(Ye){Ye=Ye.toString(),qe=this instanceof mt==1?"/"+Ye:Ye}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Xe,tr=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return tr},set:function(Ye){Ye=!!Ye,tr=Ye}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(Xe)return Xe},set:function(Ye){Xe=Ye}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,1)},set:function(Ye){Ye?this.Ff=Z(this.Ff,1):this.Ff=$(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,2)},set:function(Ye){Ye?this.Ff=Z(this.Ff,2):this.Ff=$(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,3)},set:function(Ye){Ye?this.Ff=Z(this.Ff,3):this.Ff=$(this.Ff,3)}});var Je=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Je!==null)return Je},set:function(Ye){if([0,1,2].indexOf(Ye)===-1)throw new Error('Invalid value "'+Ye+'" for attribute Q supplied.');Je=Ye}}),Object.defineProperty(this,"textAlign",{get:function(){var Ye;switch(Je){case 0:default:Ye="left";break;case 1:Ye="center";break;case 2:Ye="right"}return Ye},configurable:!0,enumerable:!0,set:function(Ye){switch(Ye){case"right":case 2:Je=2;break;case"center":case 1:Je=1;break;default:Je=0}}})};W(ht,ut);var ft=function(){ht.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var Ee=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return Ee},set:function(n){Ee=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return Ee},set:function(n){Ee=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(t,this.objId,this.scope)},set:function(n){var Ce,Te;Te=[],typeof(Ce=n)=="string"&&(Te=(function(Re,Be,Ue){Ue||(Ue=1);for(var Oe,Me=[];Oe=Be.exec(Re);)Me.push(Oe[Ue]);return Me})(Ce,/\((.*?)\)/g)),t=Te}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,Ce){for(Ce=Ce||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),Ce!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,18)},set:function(n){n?this.Ff=Z(this.Ff,18):this.Ff=$(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Z(this.Ff,19):this.Ff=$(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,20)},set:function(n){n?(this.Ff=Z(this.Ff,20),t.sort()):this.Ff=$(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,22)},set:function(n){n?this.Ff=Z(this.Ff,22):this.Ff=$(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,23)},set:function(n){n?this.Ff=Z(this.Ff,23):this.Ff=$(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,27)},set:function(n){n?this.Ff=Z(this.Ff,27):this.Ff=$(this.Ff,27)}}),this.hasAppearanceStream=!1};W(ft,ht);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};W(dt,ft);var pt=function(){dt.call(this),this.combo=!0};W(pt,dt);var gt=function(){pt.call(this),this.edit=!0};W(gt,pt);var mt=function(){ht.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,15)},set:function(n){n?this.Ff=Z(this.Ff,15):this.Ff=$(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,16)},set:function(n){n?this.Ff=Z(this.Ff,16):this.Ff=$(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,17)},set:function(n){n?this.Ff=Z(this.Ff,17):this.Ff=$(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,26)},set:function(n){n?this.Ff=Z(this.Ff,26):this.Ff=$(this.Ff,26)}});var Ee,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(Re){return Re};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var Ce,Te=[];for(Ce in Te.push("<<"),t)Te.push("/"+Ce+" ("+T(n(t[Ce]))+")");return Te.push(">>"),Te.join(`
`)}},set:function(n){_typeof(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Ee},set:function(n){Ee=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Ee.substr(1,Ee.length-1)},set:function(n){Ee="/"+n}})};W(mt,ht);var vt=function(){mt.call(this),this.pushButton=!0};W(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var Ee=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return Ee},set:function(t){Ee=t!==void 0?t:[]}})};W(bt,mt);var yt=function(){var Ee,t;ht.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return Ee},set:function(Te){Ee=Te}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(Te){t=Te}});var n,Ce={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Te=function(Ue){return Ue};this.scope&&(Te=this.scope.internal.getEncryptor(this.objId));var Re,Be=[];for(Re in Be.push("<<"),Ce)Be.push("/"+Re+" ("+T(Te(Ce[Re]))+")");return Be.push(">>"),Be.join(`
`)},set:function(Te){_typeof(Te)==="object"&&(Ce=Te)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Ce.CA||""},set:function(Te){typeof Te=="string"&&(Ce.CA=Te)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(Te){n=Te}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(Te){n="/"+Te}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};W(yt,ht),bt.prototype.setAppearance=function(Ee){if(!("createAppearanceStream"in Ee)||!("getCA"in Ee))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=Ee.createAppearanceStream(n.optionName),n.caption=Ee.getCA()}},bt.prototype.createOption=function(Ee){var t=new yt;return t.Parent=this,t.optionName=Ee,this.Kids.push(t),At.call(this.scope,t),t};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=xt.CheckBox.createAppearanceStream()};W(wt,mt);var Nt=function(){ht.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,13)},set:function(t){t?this.Ff=Z(this.Ff,13):this.Ff=$(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,21)},set:function(t){t?this.Ff=Z(this.Ff,21):this.Ff=$(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,23)},set:function(t){t?this.Ff=Z(this.Ff,23):this.Ff=$(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,24)},set:function(t){t?this.Ff=Z(this.Ff,24):this.Ff=$(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,25)},set:function(t){t?this.Ff=Z(this.Ff,25):this.Ff=$(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,26)},set:function(t){t?this.Ff=Z(this.Ff,26):this.Ff=$(this.Ff,26)}});var Ee=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return Ee},set:function(t){Ee=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return Ee},set:function(t){Number.isInteger(t)&&(Ee=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};W(Nt,ht);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,14)},set:function(Ee){Ee?this.Ff=Z(this.Ff,14):this.Ff=$(this.Ff,14)}}),this.password=!0};W(Lt,Nt);var xt={CheckBox:{createAppearanceStream:function(){return{N:{On:xt.CheckBox.YesNormal},D:{On:xt.CheckBox.YesPushDown,Off:xt.CheckBox.OffPushDown}}},YesPushDown:function(Ee){var t=G(Ee);t.scope=Ee.scope;var n=[],Ce=Ee.scope.internal.getFont(Ee.fontName,Ee.fontStyle).id,Te=Ee.scope.__private__.encodeColorString(Ee.color),Re=et(Ee,Ee.caption);return n.push("0.749023 g"),n.push("0 0 "+U(xt.internal.getWidth(Ee))+" "+U(xt.internal.getHeight(Ee))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+Ce+" "+U(Re.fontSize)+" Tf "+Te),n.push("BT"),n.push(Re.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(Ee){var t=G(Ee);t.scope=Ee.scope;var n=Ee.scope.internal.getFont(Ee.fontName,Ee.fontStyle).id,Ce=Ee.scope.__private__.encodeColorString(Ee.color),Te=[],Re=xt.internal.getHeight(Ee),Be=xt.internal.getWidth(Ee),Ue=et(Ee,Ee.caption);return Te.push("1 g"),Te.push("0 0 "+U(Be)+" "+U(Re)+" re"),Te.push("f"),Te.push("q"),Te.push("0 0 1 rg"),Te.push("0 0 "+U(Be-1)+" "+U(Re-1)+" re"),Te.push("W"),Te.push("n"),Te.push("0 g"),Te.push("BT"),Te.push("/"+n+" "+U(Ue.fontSize)+" Tf "+Ce),Te.push(Ue.text),Te.push("ET"),Te.push("Q"),t.stream=Te.join(`
`),t},OffPushDown:function(Ee){var t=G(Ee);t.scope=Ee.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+U(xt.internal.getWidth(Ee))+" "+U(xt.internal.getHeight(Ee))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(Ee){var t={D:{Off:xt.RadioButton.Circle.OffPushDown},N:{}};return t.N[Ee]=xt.RadioButton.Circle.YesNormal,t.D[Ee]=xt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(Ee){var t=G(Ee);t.scope=Ee.scope;var n=[],Ce=xt.internal.getWidth(Ee)<=xt.internal.getHeight(Ee)?xt.internal.getWidth(Ee)/4:xt.internal.getHeight(Ee)/4;Ce=Number((.9*Ce).toFixed(5));var Te=xt.internal.Bezier_C,Re=Number((Ce*Te).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+H(xt.internal.getWidth(Ee)/2)+" "+H(xt.internal.getHeight(Ee)/2)+" cm"),n.push(Ce+" 0 m"),n.push(Ce+" "+Re+" "+Re+" "+Ce+" 0 "+Ce+" c"),n.push("-"+Re+" "+Ce+" -"+Ce+" "+Re+" -"+Ce+" 0 c"),n.push("-"+Ce+" -"+Re+" -"+Re+" -"+Ce+" 0 -"+Ce+" c"),n.push(Re+" -"+Ce+" "+Ce+" -"+Re+" "+Ce+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(Ee){var t=G(Ee);t.scope=Ee.scope;var n=[],Ce=xt.internal.getWidth(Ee)<=xt.internal.getHeight(Ee)?xt.internal.getWidth(Ee)/4:xt.internal.getHeight(Ee)/4;Ce=Number((.9*Ce).toFixed(5));var Te=Number((2*Ce).toFixed(5)),Re=Number((Te*xt.internal.Bezier_C).toFixed(5)),Be=Number((Ce*xt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+H(xt.internal.getWidth(Ee)/2)+" "+H(xt.internal.getHeight(Ee)/2)+" cm"),n.push(Te+" 0 m"),n.push(Te+" "+Re+" "+Re+" "+Te+" 0 "+Te+" c"),n.push("-"+Re+" "+Te+" -"+Te+" "+Re+" -"+Te+" 0 c"),n.push("-"+Te+" -"+Re+" -"+Re+" -"+Te+" 0 -"+Te+" c"),n.push(Re+" -"+Te+" "+Te+" -"+Re+" "+Te+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+H(xt.internal.getWidth(Ee)/2)+" "+H(xt.internal.getHeight(Ee)/2)+" cm"),n.push(Ce+" 0 m"),n.push(Ce+" "+Be+" "+Be+" "+Ce+" 0 "+Ce+" c"),n.push("-"+Be+" "+Ce+" -"+Ce+" "+Be+" -"+Ce+" 0 c"),n.push("-"+Ce+" -"+Be+" -"+Be+" -"+Ce+" 0 -"+Ce+" c"),n.push(Be+" -"+Ce+" "+Ce+" -"+Be+" "+Ce+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(Ee){var t=G(Ee);t.scope=Ee.scope;var n=[],Ce=xt.internal.getWidth(Ee)<=xt.internal.getHeight(Ee)?xt.internal.getWidth(Ee)/4:xt.internal.getHeight(Ee)/4;Ce=Number((.9*Ce).toFixed(5));var Te=Number((2*Ce).toFixed(5)),Re=Number((Te*xt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+H(xt.internal.getWidth(Ee)/2)+" "+H(xt.internal.getHeight(Ee)/2)+" cm"),n.push(Te+" 0 m"),n.push(Te+" "+Re+" "+Re+" "+Te+" 0 "+Te+" c"),n.push("-"+Re+" "+Te+" -"+Te+" "+Re+" -"+Te+" 0 c"),n.push("-"+Te+" -"+Re+" -"+Re+" -"+Te+" 0 -"+Te+" c"),n.push(Re+" -"+Te+" "+Te+" -"+Re+" "+Te+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(Ee){var t={D:{Off:xt.RadioButton.Cross.OffPushDown},N:{}};return t.N[Ee]=xt.RadioButton.Cross.YesNormal,t.D[Ee]=xt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(Ee){var t=G(Ee);t.scope=Ee.scope;var n=[],Ce=xt.internal.calculateCross(Ee);return n.push("q"),n.push("1 1 "+U(xt.internal.getWidth(Ee)-2)+" "+U(xt.internal.getHeight(Ee)-2)+" re"),n.push("W"),n.push("n"),n.push(U(Ce.x1.x)+" "+U(Ce.x1.y)+" m"),n.push(U(Ce.x2.x)+" "+U(Ce.x2.y)+" l"),n.push(U(Ce.x4.x)+" "+U(Ce.x4.y)+" m"),n.push(U(Ce.x3.x)+" "+U(Ce.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(Ee){var t=G(Ee);t.scope=Ee.scope;var n=xt.internal.calculateCross(Ee),Ce=[];return Ce.push("0.749023 g"),Ce.push("0 0 "+U(xt.internal.getWidth(Ee))+" "+U(xt.internal.getHeight(Ee))+" re"),Ce.push("f"),Ce.push("q"),Ce.push("1 1 "+U(xt.internal.getWidth(Ee)-2)+" "+U(xt.internal.getHeight(Ee)-2)+" re"),Ce.push("W"),Ce.push("n"),Ce.push(U(n.x1.x)+" "+U(n.x1.y)+" m"),Ce.push(U(n.x2.x)+" "+U(n.x2.y)+" l"),Ce.push(U(n.x4.x)+" "+U(n.x4.y)+" m"),Ce.push(U(n.x3.x)+" "+U(n.x3.y)+" l"),Ce.push("s"),Ce.push("Q"),t.stream=Ce.join(`
`),t},OffPushDown:function(Ee){var t=G(Ee);t.scope=Ee.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+U(xt.internal.getWidth(Ee))+" "+U(xt.internal.getHeight(Ee))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(Ee){var t=Ee.scope.internal.getFont(Ee.fontName,Ee.fontStyle).id,n=Ee.scope.__private__.encodeColorString(Ee.color);return"/"+t+" "+Ee.fontSize+" Tf "+n}};xt.internal={Bezier_C:.551915024494,calculateCross:function(Ee){var t=xt.internal.getWidth(Ee),n=xt.internal.getHeight(Ee),Ce=Math.min(t,n);return{x1:{x:(t-Ce)/2,y:(n-Ce)/2+Ce},x2:{x:(t-Ce)/2+Ce,y:(n-Ce)/2},x3:{x:(t-Ce)/2,y:(n-Ce)/2},x4:{x:(t-Ce)/2+Ce,y:(n-Ce)/2+Ce}}}},xt.internal.getWidth=function(Ee){var t=0;return _typeof(Ee)==="object"&&(t=V(Ee.Rect[2])),t},xt.internal.getHeight=function(Ee){var t=0;return _typeof(Ee)==="object"&&(t=V(Ee.Rect[3])),t};var At=R.addField=function(Ee){if(at(this,Ee),!(Ee instanceof ht))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=Ee).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),Ee.page=Ee.scope.internal.getCurrentPageInfo().pageNumber,this};R.AcroFormChoiceField=ft,R.AcroFormListBox=dt,R.AcroFormComboBox=pt,R.AcroFormEditBox=gt,R.AcroFormButton=mt,R.AcroFormPushButton=vt,R.AcroFormRadioButton=bt,R.AcroFormCheckBox=wt,R.AcroFormTextField=Nt,R.AcroFormPasswordField=Lt,R.AcroFormAppearance=xt,R.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:xt},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:xt};E.AcroForm;function _t(Ee){return Ee.reduce(function(t,n,Ce){return t[n]=Ce,t},{})}(function(Ee){var t="addImage_";Ee.__addimage__={};var n="UNKNOWN",Ce={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},Te=Ee.__addimage__.getImageFileTypeByImageData=function($e,Ar){var or,Tr,Ur,Fr,Er,jr=n;if((Ar=Ar||n)==="RGBA"||$e.data!==void 0&&$e.data instanceof Uint8ClampedArray&&"height"in $e&&"width"in $e)return"RGBA";if(fr($e))for(Er in Ce)for(Ur=Ce[Er],or=0;or<Ur.length;or+=1){for(Fr=!0,Tr=0;Tr<Ur[or].length;Tr+=1)if(Ur[or][Tr]!==void 0&&Ur[or][Tr]!==$e[Tr]){Fr=!1;break}if(Fr===!0){jr=Er;break}}else for(Er in Ce)for(Ur=Ce[Er],or=0;or<Ur.length;or+=1){for(Fr=!0,Tr=0;Tr<Ur[or].length;Tr+=1)if(Ur[or][Tr]!==void 0&&Ur[or][Tr]!==$e.charCodeAt(Tr)){Fr=!1;break}if(Fr===!0){jr=Er;break}}return jr===n&&Ar!==n&&(jr=Ar),jr},Re=function $e(Ar){for(var or=this.internal.write,Tr=this.internal.putStream,Ur=(0,this.internal.getFilters)();Ur.indexOf("FlateEncode")!==-1;)Ur.splice(Ur.indexOf("FlateEncode"),1);Ar.objectId=this.internal.newObject();var Fr=[];if(Fr.push({key:"Type",value:"/XObject"}),Fr.push({key:"Subtype",value:"/Image"}),Fr.push({key:"Width",value:Ar.width}),Fr.push({key:"Height",value:Ar.height}),Ar.colorSpace===Ye.INDEXED?Fr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Ar.palette.length/3-1)+" "+("sMask"in Ar&&Ar.sMask!==void 0?Ar.objectId+2:Ar.objectId+1)+" 0 R]"}):(Fr.push({key:"ColorSpace",value:"/"+Ar.colorSpace}),Ar.colorSpace===Ye.DEVICE_CMYK&&Fr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Fr.push({key:"BitsPerComponent",value:Ar.bitsPerComponent}),"decodeParameters"in Ar&&Ar.decodeParameters!==void 0&&Fr.push({key:"DecodeParms",value:"<<"+Ar.decodeParameters+">>"}),"transparency"in Ar&&Array.isArray(Ar.transparency)){for(var Er="",jr=0,Nr=Ar.transparency.length;jr<Nr;jr++)Er+=Ar.transparency[jr]+" "+Ar.transparency[jr]+" ";Fr.push({key:"Mask",value:"["+Er+"]"})}Ar.sMask!==void 0&&Fr.push({key:"SMask",value:Ar.objectId+1+" 0 R"});var Br=Ar.filter!==void 0?["/"+Ar.filter]:void 0;if(Tr({data:Ar.data,additionalKeyValues:Fr,alreadyAppliedFilters:Br,objectId:Ar.objectId}),or("endobj"),"sMask"in Ar&&Ar.sMask!==void 0){var Mr=(Ar.predictor!=null?"/Predictor "+Ar.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+Ar.width,_r={width:Ar.width,height:Ar.height,colorSpace:"DeviceGray",bitsPerComponent:Ar.bitsPerComponent,decodeParameters:Mr,data:Ar.sMask};"filter"in Ar&&(_r.filter=Ar.filter),$e.call(this,_r)}if(Ar.colorSpace===Ye.INDEXED){var gr=this.internal.newObject();Tr({data:nr(new Uint8Array(Ar.palette)),objectId:gr}),or("endobj")}},Be=function(){var $e=this.internal.collections[t+"images"];for(var Ar in $e)Re.call(this,$e[Ar])},Ue=function(){var $e,Ar=this.internal.collections[t+"images"],or=this.internal.write;for(var Tr in Ar)or("/I"+($e=Ar[Tr]).index,$e.objectId,"0","R")},Oe=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",Be),this.internal.events.subscribe("putXobjectDict",Ue))},Me=function(){var $e=this.internal.collections[t+"images"];return Oe.call(this),$e},Qe=function(){return Object.keys(this.internal.collections[t+"images"]).length},Ke=function($e){return typeof Ee["process"+$e.toUpperCase()]=="function"},Ge=function($e){return _typeof($e)==="object"&&$e.nodeType===1},qe=function($e,Ar){if($e.nodeName==="IMG"&&$e.hasAttribute("src")){var or=""+$e.getAttribute("src");if(or.indexOf("data:image/")===0)return f(unescape(or).split("base64,").pop());var Tr=Ee.loadFile(or,!0);if(Tr!==void 0)return Tr}if($e.nodeName==="CANVAS"){if($e.width===0||$e.height===0)throw new Error("Given canvas must have data. Canvas width: "+$e.width+", height: "+$e.height);var Ur;switch(Ar){case"PNG":Ur="image/png";break;case"WEBP":Ur="image/webp";break;default:Ur="image/jpeg"}return f($e.toDataURL(Ur,1).split("base64,").pop())}},Xe=function($e){var Ar=this.internal.collections[t+"images"];if(Ar){for(var or in Ar)if($e===Ar[or].alias)return Ar[or]}},tr=function($e,Ar,or){return $e||Ar||($e=-96,Ar=-96),$e<0&&($e=-1*or.width*72/$e/this.internal.scaleFactor),Ar<0&&(Ar=-1*or.height*72/Ar/this.internal.scaleFactor),$e===0&&($e=Ar*or.width/or.height),Ar===0&&(Ar=$e*or.height/or.width),[$e,Ar]},Je=function($e,Ar,or,Tr,Ur,Fr){var Er=tr.call(this,or,Tr,Ur),jr=this.internal.getCoordinateString,Nr=this.internal.getVerticalCoordinateString,Br=Me.call(this);if(or=Er[0],Tr=Er[1],Br[Ur.index]=Ur,Fr){Fr*=Math.PI/180;var Mr=Math.cos(Fr),_r=Math.sin(Fr),gr=function(Rr){return Rr.toFixed(4)},yr=[gr(Mr),gr(_r),gr(-1*_r),gr(Mr),0,0,"cm"]}this.internal.write("q"),Fr?(this.internal.write([1,"0","0",1,jr($e),Nr(Ar+Tr),"cm"].join(" ")),this.internal.write(yr.join(" ")),this.internal.write([jr(or),"0","0",jr(Tr),"0","0","cm"].join(" "))):this.internal.write([jr(or),"0","0",jr(Tr),jr($e),Nr(Ar+Tr),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ur.index+" Do"),this.internal.write("Q")},Ye=Ee.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};Ee.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var lr=Ee.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},cr=Ee.__addimage__.sHashCode=function($e){var Ar,or,Tr=0;if(typeof $e=="string")for(or=$e.length,Ar=0;Ar<or;Ar++)Tr=(Tr<<5)-Tr+$e.charCodeAt(Ar),Tr|=0;else if(fr($e))for(or=$e.byteLength/2,Ar=0;Ar<or;Ar++)Tr=(Tr<<5)-Tr+$e[Ar],Tr|=0;return Tr},hr=Ee.__addimage__.validateStringAsBase64=function($e){($e=$e||"").toString().trim();var Ar=!0;return $e.length===0&&(Ar=!1),$e.length%4!=0&&(Ar=!1),/^[A-Za-z0-9+/]+$/.test($e.substr(0,$e.length-2))===!1&&(Ar=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test($e.substr(-2))===!1&&(Ar=!1),Ar},ur=Ee.__addimage__.extractImageFromDataUrl=function($e){if($e==null||!($e=$e.trim()).startsWith("data:"))return null;var Ar=$e.indexOf(",");return Ar<0?null:$e.substring(0,Ar).trim().endsWith("base64")?$e.substring(Ar+1):null};Ee.__addimage__.isArrayBuffer=function($e){return $e instanceof ArrayBuffer};var fr=Ee.__addimage__.isArrayBufferView=function($e){return $e instanceof Int8Array||$e instanceof Uint8Array||$e instanceof Uint8ClampedArray||$e instanceof Int16Array||$e instanceof Uint16Array||$e instanceof Int32Array||$e instanceof Uint32Array||$e instanceof Float32Array||$e instanceof Float64Array},er=Ee.__addimage__.binaryStringToUint8Array=function($e){for(var Ar=$e.length,or=new Uint8Array(Ar),Tr=0;Tr<Ar;Tr++)or[Tr]=$e.charCodeAt(Tr);return or},nr=Ee.__addimage__.arrayBufferToBinaryString=function($e){for(var Ar="",or=fr($e)?$e:new Uint8Array($e),Tr=0;Tr<or.length;Tr+=8192)Ar+=String.fromCharCode.apply(null,or.subarray(Tr,Tr+8192));return Ar};Ee.addImage=function(){var $e,Ar,or,Tr,Ur,Fr,Er,jr,Nr;if(typeof arguments[1]=="number"?(Ar=n,or=arguments[1],Tr=arguments[2],Ur=arguments[3],Fr=arguments[4],Er=arguments[5],jr=arguments[6],Nr=arguments[7]):(Ar=arguments[1],or=arguments[2],Tr=arguments[3],Ur=arguments[4],Fr=arguments[5],Er=arguments[6],jr=arguments[7],Nr=arguments[8]),_typeof($e=arguments[0])==="object"&&!Ge($e)&&"imageData"in $e){var Br=$e;$e=Br.imageData,Ar=Br.format||Ar||n,or=Br.x||or||0,Tr=Br.y||Tr||0,Ur=Br.w||Br.width||Ur,Fr=Br.h||Br.height||Fr,Er=Br.alias||Er,jr=Br.compression||jr,Nr=Br.rotation||Br.angle||Nr}var Mr=this.internal.getFilters();if(jr===void 0&&Mr.indexOf("FlateEncode")!==-1&&(jr="SLOW"),isNaN(or)||isNaN(Tr))throw new Error("Invalid coordinates passed to jsPDF.addImage");Oe.call(this);var _r=ir.call(this,$e,Ar,Er,jr);return Je.call(this,or,Tr,Ur,Fr,_r,Nr),this};var ir=function($e,Ar,or,Tr){var Ur,Fr,Er;if(typeof $e=="string"&&Te($e)===n){$e=unescape($e);var jr=mr($e,!1);(jr!==""||(jr=Ee.loadFile($e,!0))!==void 0)&&($e=jr)}if(Ge($e)&&($e=qe($e,Ar)),Ar=Te($e,Ar),!Ke(Ar))throw new Error("addImage does not support files of type '"+Ar+"', please ensure that a plugin for '"+Ar+"' support is added.");if(((Er=or)==null||Er.length===0)&&(or=(function(Nr){return typeof Nr=="string"||fr(Nr)?cr(Nr):fr(Nr.data)?cr(Nr.data):null})($e)),(Ur=Xe.call(this,or))||($e instanceof Uint8Array||Ar==="RGBA"||(Fr=$e,$e=er($e)),Ur=this["process"+Ar.toUpperCase()]($e,Qe.call(this),or,(function(Nr){return Nr&&typeof Nr=="string"&&(Nr=Nr.toUpperCase()),Nr in Ee.image_compression?Nr:lr.NONE})(Tr),Fr)),!Ur)throw new Error("An unknown error occurred whilst processing the image.");return Ur},mr=Ee.__addimage__.convertBase64ToBinaryString=function($e,Ar){Ar=typeof Ar!="boolean"||Ar;var or,Tr="";if(typeof $e=="string"){var Ur;or=(Ur=ur($e))!==null&&Ur!==void 0?Ur:$e;try{Tr=f(or)}catch(Fr){if(Ar)throw hr(or)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Fr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Tr};Ee.getImageProperties=function($e){var Ar,or,Tr="";if(Ge($e)&&($e=qe($e)),typeof $e=="string"&&Te($e)===n&&((Tr=mr($e,!1))===""&&(Tr=Ee.loadFile($e)||""),$e=Tr),or=Te($e),!Ke(or))throw new Error("addImage does not support files of type '"+or+"', please ensure that a plugin for '"+or+"' support is added.");if($e instanceof Uint8Array||($e=er($e)),!(Ar=this["process"+or.toUpperCase()]($e)))throw new Error("An unknown error occurred whilst processing the image");return Ar.fileType=or,Ar}})(E.API),(function(Ee){var t=function(n){if(n!==void 0&&n!="")return!0};E.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),Ee.events.push(["putPage",function(n){for(var Ce,Te,Re,Be=this.internal.getCoordinateString,Ue=this.internal.getVerticalCoordinateString,Oe=this.internal.getPageInfoByObjId(n.objId),Me=n.pageContext.annotations,Qe=!1,Ke=0;Ke<Me.length&&!Qe;Ke++)switch((Ce=Me[Ke]).type){case"link":(t(Ce.options.url)||t(Ce.options.pageNumber))&&(Qe=!0);break;case"reference":case"text":case"freetext":Qe=!0}if(Qe!=0){this.internal.write("/Annots [");for(var Ge=0;Ge<Me.length;Ge++){Ce=Me[Ge];var qe=this.internal.pdfEscape,Xe=this.internal.getEncryptor(n.objId);switch(Ce.type){case"reference":this.internal.write(" "+Ce.object.objId+" 0 R ");break;case"text":var tr=this.internal.newAdditionalObject(),Je=this.internal.newAdditionalObject(),Ye=this.internal.getEncryptor(tr.objId),lr=Ce.title||"Note";Re="<</Type /Annot /Subtype /Text "+(Te="/Rect ["+Be(Ce.bounds.x)+" "+Ue(Ce.bounds.y+Ce.bounds.h)+" "+Be(Ce.bounds.x+Ce.bounds.w)+" "+Ue(Ce.bounds.y)+"] ")+"/Contents ("+qe(Ye(Ce.contents))+")",Re+=" /Popup "+Je.objId+" 0 R",Re+=" /P "+Oe.objId+" 0 R",Re+=" /T ("+qe(Ye(lr))+") >>",tr.content=Re;var cr=tr.objId+" 0 R";Re="<</Type /Annot /Subtype /Popup "+(Te="/Rect ["+Be(Ce.bounds.x+30)+" "+Ue(Ce.bounds.y+Ce.bounds.h)+" "+Be(Ce.bounds.x+Ce.bounds.w+30)+" "+Ue(Ce.bounds.y)+"] ")+" /Parent "+cr,Ce.open&&(Re+=" /Open true"),Re+=" >>",Je.content=Re,this.internal.write(tr.objId,"0 R",Je.objId,"0 R");break;case"freetext":Te="/Rect ["+Be(Ce.bounds.x)+" "+Ue(Ce.bounds.y)+" "+Be(Ce.bounds.x+Ce.bounds.w)+" "+Ue(Ce.bounds.y+Ce.bounds.h)+"] ";var hr=Ce.color||"#000000";Re="<</Type /Annot /Subtype /FreeText "+Te+"/Contents ("+qe(Xe(Ce.contents))+")",Re+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+hr+")",Re+=" /Border [0 0 0]",Re+=" >>",this.internal.write(Re);break;case"link":if(Ce.options.name){var ur=this.annotations._nameMap[Ce.options.name];Ce.options.pageNumber=ur.page,Ce.options.top=ur.y}else Ce.options.top||(Ce.options.top=0);if(Te="/Rect ["+Ce.finalBounds.x+" "+Ce.finalBounds.y+" "+Ce.finalBounds.w+" "+Ce.finalBounds.h+"] ",Re="",Ce.options.url)Re="<</Type /Annot /Subtype /Link "+Te+"/Border [0 0 0] /A <</S /URI /URI ("+qe(Xe(Ce.options.url))+") >>";else if(Ce.options.pageNumber)switch(Re="<</Type /Annot /Subtype /Link "+Te+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(Ce.options.pageNumber).objId+" 0 R",Ce.options.magFactor=Ce.options.magFactor||"XYZ",Ce.options.magFactor){case"Fit":Re+=" /Fit]";break;case"FitH":Re+=" /FitH "+Ce.options.top+"]";break;case"FitV":Ce.options.left=Ce.options.left||0,Re+=" /FitV "+Ce.options.left+"]";break;default:var fr=Ue(Ce.options.top);Ce.options.left=Ce.options.left||0,Ce.options.zoom===void 0&&(Ce.options.zoom=0),Re+=" /XYZ "+Ce.options.left+" "+fr+" "+Ce.options.zoom+"]"}Re!=""&&(Re+=" >>",this.internal.write(Re))}}this.internal.write("]")}}]),Ee.createAnnotation=function(n){var Ce=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":Ce.pageContext.annotations.push(n)}},Ee.link=function(n,Ce,Te,Re,Be){var Ue=this.internal.getCurrentPageInfo(),Oe=this.internal.getCoordinateString,Me=this.internal.getVerticalCoordinateString;Ue.pageContext.annotations.push({finalBounds:{x:Oe(n),y:Me(Ce),w:Oe(n+Te),h:Me(Ce+Re)},options:Be,type:"link"})},Ee.textWithLink=function(n,Ce,Te,Re){var Be,Ue,Oe=this.getTextWidth(n),Me=this.internal.getLineHeight()/this.internal.scaleFactor;if(Re.maxWidth!==void 0){Ue=Re.maxWidth;var Qe=this.splitTextToSize(n,Ue).length;Be=Math.ceil(Me*Qe)}else Ue=Oe,Be=Me;return this.text(n,Ce,Te,Re),Te+=.2*Me,Re.align==="center"&&(Ce-=Oe/2),Re.align==="right"&&(Ce-=Oe),this.link(Ce,Te-Me,Ue,Be,Re),Oe},Ee.getTextWidth=function(n){var Ce=this.internal.getFontSize();return this.getStringUnitWidth(n)*Ce/this.internal.scaleFactor}})(E.API),(function(Ee){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},Ce={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},Te=[1570,1571,1573,1575];Ee.__arabicParser__={};var Re=Ee.__arabicParser__.isInArabicSubstitutionA=function(tr){return t[tr.charCodeAt(0)]!==void 0},Be=Ee.__arabicParser__.isArabicLetter=function(tr){return typeof tr=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(tr)},Ue=Ee.__arabicParser__.isArabicEndLetter=function(tr){return Be(tr)&&Re(tr)&&t[tr.charCodeAt(0)].length<=2},Oe=Ee.__arabicParser__.isArabicAlfLetter=function(tr){return Be(tr)&&Te.indexOf(tr.charCodeAt(0))>=0};Ee.__arabicParser__.arabicLetterHasIsolatedForm=function(tr){return Be(tr)&&Re(tr)&&t[tr.charCodeAt(0)].length>=1};var Me=Ee.__arabicParser__.arabicLetterHasFinalForm=function(tr){return Be(tr)&&Re(tr)&&t[tr.charCodeAt(0)].length>=2};Ee.__arabicParser__.arabicLetterHasInitialForm=function(tr){return Be(tr)&&Re(tr)&&t[tr.charCodeAt(0)].length>=3};var Qe=Ee.__arabicParser__.arabicLetterHasMedialForm=function(tr){return Be(tr)&&Re(tr)&&t[tr.charCodeAt(0)].length==4},Ke=Ee.__arabicParser__.resolveLigatures=function(tr){var Je=0,Ye=n,lr="",cr=0;for(Je=0;Je<tr.length;Je+=1)Ye[tr.charCodeAt(Je)]!==void 0?(cr++,typeof(Ye=Ye[tr.charCodeAt(Je)])=="number"&&(lr+=String.fromCharCode(Ye),Ye=n,cr=0),Je===tr.length-1&&(Ye=n,lr+=tr.charAt(Je-(cr-1)),Je-=cr-1,cr=0)):(Ye=n,lr+=tr.charAt(Je-cr),Je-=cr,cr=0);return lr};Ee.__arabicParser__.isArabicDiacritic=function(tr){return tr!==void 0&&Ce[tr.charCodeAt(0)]!==void 0};var Ge=Ee.__arabicParser__.getCorrectForm=function(tr,Je,Ye){return Be(tr)?Re(tr)===!1?-1:!Me(tr)||!Be(Je)&&!Be(Ye)||!Be(Ye)&&Ue(Je)||Ue(tr)&&!Be(Je)||Ue(tr)&&Oe(Je)||Ue(tr)&&Ue(Je)?0:Qe(tr)&&Be(Je)&&!Ue(Je)&&Be(Ye)&&Me(Ye)?3:Ue(tr)||!Be(Ye)?1:2:-1},qe=function(tr){var Je=0,Ye=0,lr=0,cr="",hr="",ur="",fr=(tr=tr||"").split("\\s+"),er=[];for(Je=0;Je<fr.length;Je+=1){for(er.push(""),Ye=0;Ye<fr[Je].length;Ye+=1)cr=fr[Je][Ye],hr=fr[Je][Ye-1],ur=fr[Je][Ye+1],Be(cr)?(lr=Ge(cr,hr,ur),er[Je]+=lr!==-1?String.fromCharCode(t[cr.charCodeAt(0)][lr]):cr):er[Je]+=cr;er[Je]=Ke(er[Je])}return er.join(" ")},Xe=Ee.__arabicParser__.processArabic=Ee.processArabic=function(){var tr,Je=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Ye=[];if(Array.isArray(Je)){var lr=0;for(Ye=[],lr=0;lr<Je.length;lr+=1)Array.isArray(Je[lr])?Ye.push([qe(Je[lr][0]),Je[lr][1],Je[lr][2]]):Ye.push([qe(Je[lr])]);tr=Ye}else tr=qe(Je);return typeof arguments[0]=="string"?tr:(arguments[0].text=tr,arguments[0])};Ee.events.push(["preProcessText",Xe])})(E.API),E.API.autoPrint=function(Ee){var t;return(Ee=Ee||{}).variant=Ee.variant||"non-conform",Ee.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(Ee){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(Ue){n=Ue}});var Ce=150;Object.defineProperty(this,"width",{get:function(){return Ce},set:function(Ue){Ce=isNaN(Ue)||Number.isInteger(Ue)===!1||Ue<0?150:Ue,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=Ce+1)}});var Te=300;Object.defineProperty(this,"height",{get:function(){return Te},set:function(Ue){Te=isNaN(Ue)||Number.isInteger(Ue)===!1||Ue<0?300:Ue,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=Te+1)}});var Re=[];Object.defineProperty(this,"childNodes",{get:function(){return Re},set:function(Ue){Re=Ue}});var Be={};Object.defineProperty(this,"style",{get:function(){return Be},set:function(Ue){Be=Ue}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,Ce){var Te;if((n=n||"2d")!=="2d")return null;for(Te in Ce)this.pdf.context2d.hasOwnProperty(Te)&&(this.pdf.context2d[Te]=Ce[Te]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},Ee.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(E.API),(function(Ee){var t={left:0,top:0,bottom:0,right:0},n=!1,Ce=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),Te.call(this))},Te=function(){this.internal.__cell__.lastCell=new Re,this.internal.__cell__.pages=1},Re=function(){var Oe=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Oe},set:function(tr){Oe=tr}});var Me=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Me},set:function(tr){Me=tr}});var Qe=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Qe},set:function(tr){Qe=tr}});var Ke=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Ke},set:function(tr){Ke=tr}});var Ge=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Ge},set:function(tr){Ge=tr}});var qe=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return qe},set:function(tr){qe=tr}});var Xe=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return Xe},set:function(tr){Xe=tr}}),this};Re.prototype.clone=function(){return new Re(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},Re.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},Ee.setHeaderFunction=function(Oe){return Ce.call(this),this.internal.__cell__.headerFunction=typeof Oe=="function"?Oe:void 0,this},Ee.getTextDimensions=function(Oe,Me){Ce.call(this);var Qe=(Me=Me||{}).fontSize||this.getFontSize(),Ke=Me.font||this.getFont(),Ge=Me.scaleFactor||this.internal.scaleFactor,qe=0,Xe=0,tr=0,Je=this;if(!Array.isArray(Oe)&&typeof Oe!="string"){if(typeof Oe!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");Oe=String(Oe)}var Ye=Me.maxWidth;Ye>0?typeof Oe=="string"?Oe=this.splitTextToSize(Oe,Ye):Object.prototype.toString.call(Oe)==="[object Array]"&&(Oe=Oe.reduce(function(cr,hr){return cr.concat(Je.splitTextToSize(hr,Ye))},[])):Oe=Array.isArray(Oe)?Oe:[Oe];for(var lr=0;lr<Oe.length;lr++)qe<(tr=this.getStringUnitWidth(Oe[lr],{font:Ke})*Qe)&&(qe=tr);return qe!==0&&(Xe=Oe.length),{w:qe/=Ge,h:Math.max((Xe*Qe*this.getLineHeightFactor()-Qe*(this.getLineHeightFactor()-1))/Ge,0)}},Ee.cellAddPage=function(){Ce.call(this),this.addPage();var Oe=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new Re(Oe.left,Oe.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Be=Ee.cell=function(){var Oe;Oe=arguments[0]instanceof Re?arguments[0]:new Re(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),Ce.call(this);var Me=this.internal.__cell__.lastCell,Qe=this.internal.__cell__.padding,Ke=this.internal.__cell__.margins||t,Ge=this.internal.__cell__.tableHeaderRow,qe=this.internal.__cell__.printHeaders;return Me.lineNumber!==void 0&&(Me.lineNumber===Oe.lineNumber?(Oe.x=(Me.x||0)+(Me.width||0),Oe.y=Me.y||0):Me.y+Me.height+Oe.height+Ke.bottom>this.getPageHeight()?(this.cellAddPage(),Oe.y=Ke.top,qe&&Ge&&(this.printHeaderRow(Oe.lineNumber,!0),Oe.y+=Ge[0].height)):Oe.y=Me.y+Me.height||Oe.y),Oe.text[0]!==void 0&&(this.rect(Oe.x,Oe.y,Oe.width,Oe.height,n===!0?"FD":void 0),Oe.align==="right"?this.text(Oe.text,Oe.x+Oe.width-Qe,Oe.y+Qe,{align:"right",baseline:"top"}):Oe.align==="center"?this.text(Oe.text,Oe.x+Oe.width/2,Oe.y+Qe,{align:"center",baseline:"top",maxWidth:Oe.width-Qe-Qe}):this.text(Oe.text,Oe.x+Qe,Oe.y+Qe,{align:"left",baseline:"top",maxWidth:Oe.width-Qe-Qe})),this.internal.__cell__.lastCell=Oe,this};Ee.table=function(Oe,Me,Qe,Ke,Ge){if(Ce.call(this),!Qe)throw new Error("No data for PDF table.");var qe,Xe,tr,Je,Ye=[],lr=[],cr=[],hr={},ur={},fr=[],er=[],nr=(Ge=Ge||{}).autoSize||!1,ir=Ge.printHeaders!==!1,mr=Ge.css&&Ge.css["font-size"]!==void 0?16*Ge.css["font-size"]:Ge.fontSize||12,$e=Ge.margins||Object.assign({width:this.getPageWidth()},t),Ar=typeof Ge.padding=="number"?Ge.padding:3,or=Ge.headerBackgroundColor||"#c8c8c8",Tr=Ge.headerTextColor||"#000";if(Te.call(this),this.internal.__cell__.printHeaders=ir,this.internal.__cell__.margins=$e,this.internal.__cell__.table_font_size=mr,this.internal.__cell__.padding=Ar,this.internal.__cell__.headerBackgroundColor=or,this.internal.__cell__.headerTextColor=Tr,this.setFontSize(mr),Ke==null)lr=Ye=Object.keys(Qe[0]),cr=Ye.map(function(){return"left"});else if(Array.isArray(Ke)&&_typeof(Ke[0])==="object")for(Ye=Ke.map(function(Br){return Br.name}),lr=Ke.map(function(Br){return Br.prompt||Br.name||""}),cr=Ke.map(function(Br){return Br.align||"left"}),qe=0;qe<Ke.length;qe+=1)ur[Ke[qe].name]=.7499990551181103*Ke[qe].width;else Array.isArray(Ke)&&typeof Ke[0]=="string"&&(lr=Ye=Ke,cr=Ye.map(function(){return"left"}));if(nr||Array.isArray(Ke)&&typeof Ke[0]=="string")for(qe=0;qe<Ye.length;qe+=1){for(hr[Je=Ye[qe]]=Qe.map(function(Br){return Br[Je]}),this.setFont(void 0,"bold"),fr.push(this.getTextDimensions(lr[qe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),Xe=hr[Je],this.setFont(void 0,"normal"),tr=0;tr<Xe.length;tr+=1)fr.push(this.getTextDimensions(Xe[tr],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ur[Je]=Math.max.apply(null,fr)+Ar+Ar,fr=[]}if(ir){var Ur={};for(qe=0;qe<Ye.length;qe+=1)Ur[Ye[qe]]={},Ur[Ye[qe]].text=lr[qe],Ur[Ye[qe]].align=cr[qe];var Fr=Ue.call(this,Ur,ur);er=Ye.map(function(Br){return new Re(Oe,Me,ur[Br],Fr,Ur[Br].text,void 0,Ur[Br].align)}),this.setTableHeaderRow(er),this.printHeaderRow(1,!1)}var Er=Ke.reduce(function(Br,Mr){return Br[Mr.name]=Mr.align,Br},{});for(qe=0;qe<Qe.length;qe+=1){"rowStart"in Ge&&Ge.rowStart instanceof Function&&Ge.rowStart({row:qe,data:Qe[qe]},this);var jr=Ue.call(this,Qe[qe],ur);for(tr=0;tr<Ye.length;tr+=1){var Nr=Qe[qe][Ye[tr]];"cellStart"in Ge&&Ge.cellStart instanceof Function&&Ge.cellStart({row:qe,col:tr,data:Nr},this),Be.call(this,new Re(Oe,Me,ur[Ye[tr]],jr,Nr,qe+2,Er[Ye[tr]]))}}return this.internal.__cell__.table_x=Oe,this.internal.__cell__.table_y=Me,this};var Ue=function(Oe,Me){var Qe=this.internal.__cell__.padding,Ke=this.internal.__cell__.table_font_size,Ge=this.internal.scaleFactor;return Object.keys(Oe).map(function(qe){var Xe=Oe[qe];return this.splitTextToSize(Xe.hasOwnProperty("text")?Xe.text:Xe,Me[qe]-Qe-Qe)},this).map(function(qe){return this.getLineHeightFactor()*qe.length*Ke/Ge+Qe+Qe},this).reduce(function(qe,Xe){return Math.max(qe,Xe)},0)};Ee.setTableHeaderRow=function(Oe){Ce.call(this),this.internal.__cell__.tableHeaderRow=Oe},Ee.printHeaderRow=function(Oe,Me){if(Ce.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Qe;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var Ke=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new Re(Ke[0],Ke[1],Ke[2],Ke[3],void 0,-1)}this.setFont(void 0,"bold");for(var Ge=[],qe=0;qe<this.internal.__cell__.tableHeaderRow.length;qe+=1){Qe=this.internal.__cell__.tableHeaderRow[qe].clone(),Me&&(Qe.y=this.internal.__cell__.margins.top||0,Ge.push(Qe)),Qe.lineNumber=Oe;var Xe=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Be.call(this,Qe),this.setTextColor(Xe)}Ge.length>0&&this.setTableHeaderRow(Ge),this.setFont(void 0,"normal"),n=!1}})(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ft=_t(kt),It=[100,200,300,400,500,600,700,800,900],jt=_t(It);function Ct(Ee){var t=Ee.family.replace(/"|'/g,"").toLowerCase(),n=(function(Re){return Pt[Re=Re||"normal"]?Re:"normal"})(Ee.style),Ce=(function(Re){return Re?typeof Re=="number"?Re>=100&&Re<=900&&Re%100==0?Re:400:/^\d00$/.test(Re)?parseInt(Re):Re==="bold"?700:400:400})(Ee.weight),Te=(function(Re){return typeof Ft[Re=Re||"normal"]=="number"?Re:"normal"})(Ee.stretch);return{family:t,style:n,weight:Ce,stretch:Te,src:Ee.src||[],ref:Ee.ref||{name:t,style:[Te,n,Ce].join(" ")}}}function Ot(Ee,t,n,Ce){var Te;for(Te=n;Te>=0&&Te<t.length;Te+=Ce)if(Ee[t[Te]])return Ee[t[Te]];for(Te=n;Te>=0&&Te<t.length;Te-=Ce)if(Ee[t[Te]])return Ee[t[Te]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function qt(Ee){return[Ee.stretch,Ee.style,Ee.weight,Ee.family].join(" ")}function Et(Ee){return Ee.trimLeft()}function Rt(Ee,t){for(var n=0;n<Ee.length;){if(Ee.charAt(n)===t)return[Ee.substring(0,n),Ee.substring(n+1)];n+=1}return null}function Dt(Ee){var t=Ee.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],Ee.substring(t[0].length)]}var Tt,zt,Ut,Ht,Wt,Vt,Gt,Yt,Jt=["times"];function Xt(Ee,t,n,Ce){var Te=4,Re=$t;switch(Ce){case E.API.image_compression.FAST:Te=1,Re=Zt;break;case E.API.image_compression.MEDIUM:Te=6,Re=Qt;break;case E.API.image_compression.SLOW:Te=9,Re=te}Ee=(function(Ue,Oe,Me,Qe){for(var Ke,Ge=Ue.length/Oe,qe=new Uint8Array(Ue.length+Ge),Xe=[Kt,Zt,$t,Qt,te],tr=0;tr<Ge;tr+=1){var Je=tr*Oe,Ye=Ue.subarray(Je,Je+Oe);if(Qe)qe.set(Qe(Ye,Me,Ke),Je+tr);else{for(var lr=Xe.length,cr=[],hr=0;hr<lr;hr+=1)cr[hr]=Xe[hr](Ye,Me,Ke);var ur=ne(cr.concat());qe.set(cr[ur],Je+tr)}Ke=Ye}return qe})(Ee,t,n,Re);var Be=zlibSync(Ee,{level:Te});return E.API.__addimage__.arrayBufferToBinaryString(Be)}function Kt(Ee){var t=Array.apply([],Ee);return t.unshift(0),t}function Zt(Ee,t){var n=Ee.length,Ce=[];Ce[0]=1;for(var Te=0;Te<n;Te+=1){var Re=Ee[Te-t]||0;Ce[Te+1]=Ee[Te]-Re+256&255}return Ce}function $t(Ee,t,n){var Ce=Ee.length,Te=[];Te[0]=2;for(var Re=0;Re<Ce;Re+=1){var Be=n&&n[Re]||0;Te[Re+1]=Ee[Re]-Be+256&255}return Te}function Qt(Ee,t,n){var Ce=Ee.length,Te=[];Te[0]=3;for(var Re=0;Re<Ce;Re+=1){var Be=Ee[Re-t]||0,Ue=n&&n[Re]||0;Te[Re+1]=Ee[Re]+256-(Be+Ue>>>1)&255}return Te}function te(Ee,t,n){var Ce=Ee.length,Te=[];Te[0]=4;for(var Re=0;Re<Ce;Re+=1){var Be=ee(Ee[Re-t]||0,n&&n[Re]||0,n&&n[Re-t]||0);Te[Re+1]=Ee[Re]-Be+256&255}return Te}function ee(Ee,t,n){if(Ee===t&&t===n)return Ee;var Ce=Math.abs(t-n),Te=Math.abs(Ee-n),Re=Math.abs(Ee+t-n-n);return Ce<=Te&&Ce<=Re?Ee:Te<=Re?t:n}function ne(Ee){var t=Ee.map(function(n){return n.reduce(function(Ce,Te){return Ce+Math.abs(Te)},0)});return t.indexOf(Math.min.apply(null,t))}function re(Ee,t,n){var Ce=t*n,Te=Math.floor(Ce/8),Re=16-(Ce-8*Te+n),Be=(1<<n)-1;return ae(Ee,Te)>>Re&Be}function ie(Ee,t,n,Ce){var Te=n*Ce,Re=Math.floor(Te/8),Be=16-(Te-8*Re+Ce),Ue=(1<<Ce)-1,Oe=(t&Ue)<<Be;(function(Me,Qe,Ke){if(Qe+1<Me.byteLength)Me.setUint16(Qe,Ke,!1);else{var Ge=Ke>>8&255;Me.setUint8(Qe,Ge)}})(Ee,Re,ae(Ee,Re)&~(Ue<<Be)&65535|Oe)}function ae(Ee,t){return t+1<Ee.byteLength?Ee.getUint16(t,!1):Ee.getUint8(t)<<8}function oe(Ee){var t=0;if(Ee[t++]!==71||Ee[t++]!==73||Ee[t++]!==70||Ee[t++]!==56||(Ee[t++]+1&253)!=56||Ee[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=Ee[t++]|Ee[t++]<<8,Ce=Ee[t++]|Ee[t++]<<8,Te=Ee[t++],Re=Te>>7,Be=1<<1+(7&Te);Ee[t++],Ee[t++];var Ue=null,Oe=null;Re&&(Ue=t,Oe=Be,t+=3*Be);var Me=!0,Qe=[],Ke=0,Ge=null,qe=0,Xe=null;for(this.width=n,this.height=Ce;Me&&t<Ee.length;)switch(Ee[t++]){case 33:switch(Ee[t++]){case 255:if(Ee[t]!==11||Ee[t+1]==78&&Ee[t+2]==69&&Ee[t+3]==84&&Ee[t+4]==83&&Ee[t+5]==67&&Ee[t+6]==65&&Ee[t+7]==80&&Ee[t+8]==69&&Ee[t+9]==50&&Ee[t+10]==46&&Ee[t+11]==48&&Ee[t+12]==3&&Ee[t+13]==1&&Ee[t+16]==0)t+=14,Xe=Ee[t++]|Ee[t++]<<8,t++;else for(t+=12;;){if(!(($e=Ee[t++])>=0))throw Error("Invalid block size");if($e===0)break;t+=$e}break;case 249:if(Ee[t++]!==4||Ee[t+4]!==0)throw new Error("Invalid graphics extension block.");var tr=Ee[t++];Ke=Ee[t++]|Ee[t++]<<8,Ge=Ee[t++],1&tr||(Ge=null),qe=tr>>2&7,t++;break;case 254:for(;;){if(!(($e=Ee[t++])>=0))throw Error("Invalid block size");if($e===0)break;t+=$e}break;default:throw new Error("Unknown graphic control label: 0x"+Ee[t-1].toString(16))}break;case 44:var Je=Ee[t++]|Ee[t++]<<8,Ye=Ee[t++]|Ee[t++]<<8,lr=Ee[t++]|Ee[t++]<<8,cr=Ee[t++]|Ee[t++]<<8,hr=Ee[t++],ur=hr>>6&1,fr=1<<1+(7&hr),er=Ue,nr=Oe,ir=!1;hr>>7&&(ir=!0,er=t,nr=fr,t+=3*fr);var mr=t;for(t++;;){var $e;if(!(($e=Ee[t++])>=0))throw Error("Invalid block size");if($e===0)break;t+=$e}Qe.push({x:Je,y:Ye,width:lr,height:cr,has_local_palette:ir,palette_offset:er,palette_size:nr,data_offset:mr,data_length:t-mr,transparent_index:Ge,interlaced:!!ur,delay:Ke,disposal:qe});break;case 59:Me=!1;break;default:throw new Error("Unknown gif block: 0x"+Ee[t-1].toString(16))}this.numFrames=function(){return Qe.length},this.loopCount=function(){return Xe},this.frameInfo=function(Ar){if(Ar<0||Ar>=Qe.length)throw new Error("Frame index out of range.");return Qe[Ar]},this.decodeAndBlitFrameBGRA=function(Ar,or){var Tr=this.frameInfo(Ar),Ur=Tr.width*Tr.height,Fr=new Uint8Array(Ur);se(Ee,Tr.data_offset,Fr,Ur);var Er=Tr.palette_offset,jr=Tr.transparent_index;jr===null&&(jr=256);var Nr=Tr.width,Br=n-Nr,Mr=Nr,_r=4*(Tr.y*n+Tr.x),gr=4*((Tr.y+Tr.height)*n+Tr.x),yr=_r,Rr=4*Br;Tr.interlaced===!0&&(Rr+=4*n*7);for(var Ir=8,Qr=0,Vr=Fr.length;Qr<Vr;++Qr){var Wr=Fr[Qr];if(Mr===0&&(Mr=Nr,(yr+=Rr)>=gr&&(Rr=4*Br+4*n*(Ir-1),yr=_r+(Nr+Br)*(Ir<<1),Ir>>=1)),Wr===jr)yr+=4;else{var mn=Ee[Er+3*Wr],gn=Ee[Er+3*Wr+1],fn=Ee[Er+3*Wr+2];or[yr++]=fn,or[yr++]=gn,or[yr++]=mn,or[yr++]=255}--Mr}},this.decodeAndBlitFrameRGBA=function(Ar,or){var Tr=this.frameInfo(Ar),Ur=Tr.width*Tr.height,Fr=new Uint8Array(Ur);se(Ee,Tr.data_offset,Fr,Ur);var Er=Tr.palette_offset,jr=Tr.transparent_index;jr===null&&(jr=256);var Nr=Tr.width,Br=n-Nr,Mr=Nr,_r=4*(Tr.y*n+Tr.x),gr=4*((Tr.y+Tr.height)*n+Tr.x),yr=_r,Rr=4*Br;Tr.interlaced===!0&&(Rr+=4*n*7);for(var Ir=8,Qr=0,Vr=Fr.length;Qr<Vr;++Qr){var Wr=Fr[Qr];if(Mr===0&&(Mr=Nr,(yr+=Rr)>=gr&&(Rr=4*Br+4*n*(Ir-1),yr=_r+(Nr+Br)*(Ir<<1),Ir>>=1)),Wr===jr)yr+=4;else{var mn=Ee[Er+3*Wr],gn=Ee[Er+3*Wr+1],fn=Ee[Er+3*Wr+2];or[yr++]=mn,or[yr++]=gn,or[yr++]=fn,or[yr++]=255}--Mr}}}function se(Ee,t,n,Ce){for(var Te=Ee[t++],Re=1<<Te,Be=Re+1,Ue=Be+1,Oe=Te+1,Me=(1<<Oe)-1,Qe=0,Ke=0,Ge=0,qe=Ee[t++],Xe=new Int32Array(4096),tr=null;;){for(;Qe<16&&qe!==0;)Ke|=Ee[t++]<<Qe,Qe+=8,qe===1?qe=Ee[t++]:--qe;if(Qe<Oe)break;var Je=Ke&Me;if(Ke>>=Oe,Qe-=Oe,Je!==Re){if(Je===Be)break;for(var Ye=Je<Ue?Je:tr,lr=0,cr=Ye;cr>Re;)cr=Xe[cr]>>8,++lr;var hr=cr;if(Ge+lr+(Ye!==Je?1:0)>Ce)return void o.log("Warning, gif stream longer than expected.");n[Ge++]=hr;var ur=Ge+=lr;for(Ye!==Je&&(n[Ge++]=hr),cr=Ye;lr--;)cr=Xe[cr],n[--ur]=255&cr,cr>>=8;tr!==null&&Ue<4096&&(Xe[Ue++]=tr<<8|hr,Ue>=Me+1&&Oe<12&&(++Oe,Me=Me<<1|1)),tr=Je}else Ue=Be+1,Me=(1<<(Oe=Te+1))-1,tr=null}return Ge!==Ce&&o.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ue(Ee){var t,n,Ce,Te,Re,Be=Math.floor,Ue=new Array(64),Oe=new Array(64),Me=new Array(64),Qe=new Array(64),Ke=new Array(65535),Ge=new Array(65535),qe=new Array(64),Xe=new Array(64),tr=[],Je=0,Ye=7,lr=new Array(64),cr=new Array(64),hr=new Array(64),ur=new Array(256),fr=new Array(2048),er=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],nr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ir=[0,1,2,3,4,5,6,7,8,9,10,11],mr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],$e=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Ar=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],or=[0,1,2,3,4,5,6,7,8,9,10,11],Tr=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ur=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Fr(_r,gr){for(var yr=0,Rr=0,Ir=new Array,Qr=1;Qr<=16;Qr++){for(var Vr=1;Vr<=_r[Qr];Vr++)Ir[gr[Rr]]=[],Ir[gr[Rr]][0]=yr,Ir[gr[Rr]][1]=Qr,Rr++,yr++;yr*=2}return Ir}function Er(_r){for(var gr=_r[0],yr=_r[1]-1;yr>=0;)gr&1<<yr&&(Je|=1<<Ye),yr--,--Ye<0&&(Je==255?(jr(255),jr(0)):jr(Je),Ye=7,Je=0)}function jr(_r){tr.push(_r)}function Nr(_r){jr(_r>>8&255),jr(255&_r)}function Br(_r,gr,yr,Rr,Ir){for(var Qr,Vr=Ir[0],Wr=Ir[240],mn=(function($r,Bn){var Pn,jn,Kn,Xn,In,$n,Yn,si,ai,Ci,dr=0;for(ai=0;ai<8;++ai){Pn=$r[dr],jn=$r[dr+1],Kn=$r[dr+2],Xn=$r[dr+3],In=$r[dr+4],$n=$r[dr+5],Yn=$r[dr+6];var An=Pn+(si=$r[dr+7]),vn=Pn-si,Sn=jn+Yn,wr=jn-Yn,Or=Kn+$n,Ze=Kn-$n,Jr=Xn+In,Mn=Xn-In,ze=An+Jr,Cr=An-Jr,kr=Sn+Or,rr=Sn-Or;$r[dr]=ze+kr,$r[dr+4]=ze-kr;var xr=.707106781*(rr+Cr);$r[dr+2]=Cr+xr,$r[dr+6]=Cr-xr;var Kr=.382683433*((ze=Mn+Ze)-(rr=wr+vn)),Dn=.5411961*ze+Kr,Gr=1.306562965*rr+Kr,Hr=.707106781*(kr=Ze+wr),dn=vn+Hr,Qn=vn-Hr;$r[dr+5]=Qn+Dn,$r[dr+3]=Qn-Dn,$r[dr+1]=dn+Gr,$r[dr+7]=dn-Gr,dr+=8}for(dr=0,ai=0;ai<8;++ai){Pn=$r[dr],jn=$r[dr+8],Kn=$r[dr+16],Xn=$r[dr+24],In=$r[dr+32],$n=$r[dr+40],Yn=$r[dr+48];var kn=Pn+(si=$r[dr+56]),On=Pn-si,zn=jn+Yn,hi=jn-Yn,pi=Kn+$n,mi=Kn-$n,Ni=Xn+In,ui=Xn-In,yi=kn+Ni,_i=kn-Ni,Fi=zn+pi,Di=zn-pi;$r[dr]=yi+Fi,$r[dr+32]=yi-Fi;var Oi=.707106781*(Di+_i);$r[dr+16]=_i+Oi,$r[dr+48]=_i-Oi;var $i=.382683433*((yi=ui+mi)-(Di=hi+On)),oa=.5411961*yi+$i,Za=1.306562965*Di+$i,ja=.707106781*(Fi=mi+hi),Ga=On+ja,bo=On-ja;$r[dr+40]=bo+oa,$r[dr+24]=bo-oa,$r[dr+8]=Ga+Za,$r[dr+56]=Ga-Za,dr++}for(ai=0;ai<64;++ai)Ci=$r[ai]*Bn[ai],qe[ai]=Ci>0?Ci+.5|0:Ci-.5|0;return qe})(_r,gr),gn=0;gn<64;++gn)Xe[er[gn]]=mn[gn];var fn=Xe[0]-yr;yr=Xe[0],fn==0?Er(Rr[0]):(Er(Rr[Ge[Qr=32767+fn]]),Er(Ke[Qr]));for(var Fn=63;Fn>0&&Xe[Fn]==0;)Fn--;if(Fn==0)return Er(Vr),yr;for(var wn,Yr=1;Yr<=Fn;){for(var Rn=Yr;Xe[Yr]==0&&Yr<=Fn;)++Yr;var bn=Yr-Rn;if(bn>=16){wn=bn>>4;for(var zr=1;zr<=wn;++zr)Er(Wr);bn&=15}Qr=32767+Xe[Yr],Er(Ir[(bn<<4)+Ge[Qr]]),Er(Ke[Qr]),Yr++}return Fn!=63&&Er(Vr),yr}function Mr(_r){_r=Math.min(Math.max(_r,1),100),Re!=_r&&((function(gr){for(var yr=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Rr=0;Rr<64;Rr++){var Ir=Be((yr[Rr]*gr+50)/100);Ir=Math.min(Math.max(Ir,1),255),Ue[er[Rr]]=Ir}for(var Qr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Vr=0;Vr<64;Vr++){var Wr=Be((Qr[Vr]*gr+50)/100);Wr=Math.min(Math.max(Wr,1),255),Oe[er[Vr]]=Wr}for(var mn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],gn=0,fn=0;fn<8;fn++)for(var Fn=0;Fn<8;Fn++)Me[gn]=1/(Ue[er[gn]]*mn[fn]*mn[Fn]*8),Qe[gn]=1/(Oe[er[gn]]*mn[fn]*mn[Fn]*8),gn++})(_r<50?Math.floor(5e3/_r):Math.floor(200-2*_r)),Re=_r)}this.encode=function(_r,gr){gr&&Mr(gr),tr=new Array,Je=0,Ye=7,Nr(65496),Nr(65504),Nr(16),jr(74),jr(70),jr(73),jr(70),jr(0),jr(1),jr(1),jr(0),Nr(1),Nr(1),jr(0),jr(0),(function(){Nr(65499),Nr(132),jr(0);for(var jn=0;jn<64;jn++)jr(Ue[jn]);jr(1);for(var Kn=0;Kn<64;Kn++)jr(Oe[Kn])})(),(function(jn,Kn){Nr(65472),Nr(17),jr(8),Nr(Kn),Nr(jn),jr(3),jr(1),jr(17),jr(0),jr(2),jr(17),jr(1),jr(3),jr(17),jr(1)})(_r.width,_r.height),(function(){Nr(65476),Nr(418),jr(0);for(var jn=0;jn<16;jn++)jr(nr[jn+1]);for(var Kn=0;Kn<=11;Kn++)jr(ir[Kn]);jr(16);for(var Xn=0;Xn<16;Xn++)jr(mr[Xn+1]);for(var In=0;In<=161;In++)jr($e[In]);jr(1);for(var $n=0;$n<16;$n++)jr(Ar[$n+1]);for(var Yn=0;Yn<=11;Yn++)jr(or[Yn]);jr(17);for(var si=0;si<16;si++)jr(Tr[si+1]);for(var ai=0;ai<=161;ai++)jr(Ur[ai])})(),Nr(65498),Nr(12),jr(3),jr(1),jr(0),jr(2),jr(17),jr(3),jr(17),jr(0),jr(63),jr(0);var yr=0,Rr=0,Ir=0;Je=0,Ye=7,this.encode.displayName="_encode_";for(var Qr,Vr,Wr,mn,gn,fn,Fn,wn,Yr,Rn=_r.data,bn=_r.width,zr=_r.height,$r=4*bn,Bn=0;Bn<zr;){for(Qr=0;Qr<$r;){for(gn=$r*Bn+Qr,Fn=-1,wn=0,Yr=0;Yr<64;Yr++)fn=gn+(wn=Yr>>3)*$r+(Fn=4*(7&Yr)),Bn+wn>=zr&&(fn-=$r*(Bn+1+wn-zr)),Qr+Fn>=$r&&(fn-=Qr+Fn-$r+4),Vr=Rn[fn++],Wr=Rn[fn++],mn=Rn[fn++],lr[Yr]=(fr[Vr]+fr[Wr+256|0]+fr[mn+512|0]>>16)-128,cr[Yr]=(fr[Vr+768|0]+fr[Wr+1024|0]+fr[mn+1280|0]>>16)-128,hr[Yr]=(fr[Vr+1280|0]+fr[Wr+1536|0]+fr[mn+1792|0]>>16)-128;yr=Br(lr,Me,yr,t,Ce),Rr=Br(cr,Qe,Rr,n,Te),Ir=Br(hr,Qe,Ir,n,Te),Qr+=32}Bn+=8}if(Ye>=0){var Pn=[];Pn[1]=Ye+1,Pn[0]=(1<<Ye+1)-1,Er(Pn)}return Nr(65497),new Uint8Array(tr)},Ee=Ee||50,(function(){for(var _r=String.fromCharCode,gr=0;gr<256;gr++)ur[gr]=_r(gr)})(),t=Fr(nr,ir),n=Fr(Ar,or),Ce=Fr(mr,$e),Te=Fr(Tr,Ur),(function(){for(var _r=1,gr=2,yr=1;yr<=15;yr++){for(var Rr=_r;Rr<gr;Rr++)Ge[32767+Rr]=yr,Ke[32767+Rr]=[],Ke[32767+Rr][1]=yr,Ke[32767+Rr][0]=Rr;for(var Ir=-(gr-1);Ir<=-_r;Ir++)Ge[32767+Ir]=yr,Ke[32767+Ir]=[],Ke[32767+Ir][1]=yr,Ke[32767+Ir][0]=gr-1+Ir;_r<<=1,gr<<=1}})(),(function(){for(var _r=0;_r<256;_r++)fr[_r]=19595*_r,fr[_r+256|0]=38470*_r,fr[_r+512|0]=7471*_r+32768,fr[_r+768|0]=-11059*_r,fr[_r+1024|0]=-21709*_r,fr[_r+1280|0]=32768*_r+8421375,fr[_r+1536|0]=-27439*_r,fr[_r+1792|0]=-5329*_r})(),Mr(Ee)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ce(Ee,t){if(this.pos=0,this.buffer=Ee,this.datav=new DataView(Ee.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function le(Ee){function t(ir){if(!ir)throw Error("assert :P")}function n(ir,mr,$e){for(var Ar=0;4>Ar;Ar++)if(ir[mr+Ar]!=$e.charCodeAt(Ar))return!0;return!1}function Ce(ir,mr,$e,Ar,or){for(var Tr=0;Tr<or;Tr++)ir[mr+Tr]=$e[Ar+Tr]}function Te(ir,mr,$e,Ar){for(var or=0;or<Ar;or++)ir[mr+or]=$e}function Re(ir){return new Int32Array(ir)}function Be(ir,mr){for(var $e=[],Ar=0;Ar<ir;Ar++)$e.push(new mr);return $e}function Ue(ir,mr){var $e=[];return(function Ar(or,Tr,Ur){for(var Fr=Ur[Tr],Er=0;Er<Fr&&(or.push(Ur.length>Tr+1?[]:new mr),!(Ur.length<Tr+1));Er++)Ar(or[Er],Tr+1,Ur)})($e,0,ir),$e}var Oe=function(){var ir=this;function mr(ar,vr){for(var Pr=1<<vr-1>>>0;ar&Pr;)Pr>>>=1;return Pr?(ar&Pr-1)+Pr:ar}function $e(ar,vr,Pr,qr,hn){t(!(qr%Pr));do ar[vr+(qr-=Pr)]=hn;while(0<qr)}function Ar(ar,vr,Pr,qr,hn){if(t(2328>=hn),512>=hn)var pn=Re(512);else if((pn=Re(hn))==null)return 0;return(function(yn,xn,Tn,Ln,Gn,Ai){var Nn,Zn,ii=xn,vi=1<<Tn,li=Re(16),bi=Re(16);for(t(Gn!=0),t(Ln!=null),t(yn!=null),t(0<Tn),Zn=0;Zn<Gn;++Zn){if(15<Ln[Zn])return 0;++li[Ln[Zn]]}if(li[0]==Gn)return 0;for(bi[1]=0,Nn=1;15>Nn;++Nn){if(li[Nn]>1<<Nn)return 0;bi[Nn+1]=bi[Nn]+li[Nn]}for(Zn=0;Zn<Gn;++Zn)Nn=Ln[Zn],0<Ln[Zn]&&(Ai[bi[Nn]++]=Zn);if(bi[15]==1)return(Ln=new or).g=0,Ln.value=Ai[0],$e(yn,ii,1,vi,Ln),vi;var Ei,Pi=-1,Ti=vi-1,Ki=0,ki=1,ra=1,Mi=1<<Tn;for(Zn=0,Nn=1,Gn=2;Nn<=Tn;++Nn,Gn<<=1){if(ki+=ra<<=1,0>(ra-=li[Nn]))return 0;for(;0<li[Nn];--li[Nn])(Ln=new or).g=Nn,Ln.value=Ai[Zn++],$e(yn,ii+Ki,Gn,Mi,Ln),Ki=mr(Ki,Nn)}for(Nn=Tn+1,Gn=2;15>=Nn;++Nn,Gn<<=1){if(ki+=ra<<=1,0>(ra-=li[Nn]))return 0;for(;0<li[Nn];--li[Nn]){if(Ln=new or,(Ki&Ti)!=Pi){for(ii+=Mi,Ei=1<<(Pi=Nn)-Tn;15>Pi&&!(0>=(Ei-=li[Pi]));)++Pi,Ei<<=1;vi+=Mi=1<<(Ei=Pi-Tn),yn[xn+(Pi=Ki&Ti)].g=Ei+Tn,yn[xn+Pi].value=ii-xn-Pi}Ln.g=Nn-Tn,Ln.value=Ai[Zn++],$e(yn,ii+(Ki>>Tn),Gn,Mi,Ln),Ki=mr(Ki,Nn)}}return ki!=2*bi[15]-1?0:vi})(ar,vr,Pr,qr,hn,pn)}function or(){this.value=this.g=0}function Tr(){this.value=this.g=0}function Ur(){this.G=Be(5,or),this.H=Re(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Be(Ro,Tr)}function Fr(ar,vr,Pr,qr){t(ar!=null),t(vr!=null),t(2147483648>qr),ar.Ca=254,ar.I=0,ar.b=-8,ar.Ka=0,ar.oa=vr,ar.pa=Pr,ar.Jd=vr,ar.Yc=Pr+qr,ar.Zc=4<=qr?Pr+qr-4+1:Pr,Vr(ar)}function Er(ar,vr){for(var Pr=0;0<vr--;)Pr|=mn(ar,128)<<vr;return Pr}function jr(ar,vr){var Pr=Er(ar,vr);return Wr(ar)?-Pr:Pr}function Nr(ar,vr,Pr,qr){var hn,pn=0;for(t(ar!=null),t(vr!=null),t(4294967288>qr),ar.Sb=qr,ar.Ra=0,ar.u=0,ar.h=0,4<qr&&(qr=4),hn=0;hn<qr;++hn)pn+=vr[Pr+hn]<<8*hn;ar.Ra=pn,ar.bb=qr,ar.oa=vr,ar.pa=Pr}function Br(ar){for(;8<=ar.u&&ar.bb<ar.Sb;)ar.Ra>>>=8,ar.Ra+=ar.oa[ar.pa+ar.bb]<<Pl-8>>>0,++ar.bb,ar.u-=8;Rr(ar)&&(ar.h=1,ar.u=0)}function Mr(ar,vr){if(t(0<=vr),!ar.h&&vr<=OA){var Pr=yr(ar)&il[vr];return ar.u+=vr,Br(ar),Pr}return ar.h=1,ar.u=0}function _r(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function gr(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function yr(ar){return ar.Ra>>>(ar.u&Pl-1)>>>0}function Rr(ar){return t(ar.bb<=ar.Sb),ar.h||ar.bb==ar.Sb&&ar.u>Pl}function Ir(ar,vr){ar.u=vr,ar.h=Rr(ar)}function Qr(ar){ar.u>=$a&&(t(ar.u>=$a),Br(ar))}function Vr(ar){t(ar!=null&&ar.oa!=null),ar.pa<ar.Zc?(ar.I=(ar.oa[ar.pa++]|ar.I<<8)>>>0,ar.b+=8):(t(ar!=null&&ar.oa!=null),ar.pa<ar.Yc?(ar.b+=8,ar.I=ar.oa[ar.pa++]|ar.I<<8):ar.Ka?ar.b=0:(ar.I<<=8,ar.b+=8,ar.Ka=1))}function Wr(ar){return Er(ar,1)}function mn(ar,vr){var Pr=ar.Ca;0>ar.b&&Vr(ar);var qr=ar.b,hn=Pr*vr>>>8,pn=(ar.I>>>qr>hn)+0;for(pn?(Pr-=hn,ar.I-=hn+1<<qr>>>0):Pr=hn+1,qr=Pr,hn=0;256<=qr;)hn+=8,qr>>=8;return qr=7^hn+pu[qr],ar.b-=qr,ar.Ca=(Pr<<qr)-1,pn}function gn(ar,vr,Pr){ar[vr+0]=Pr>>24&255,ar[vr+1]=Pr>>16&255,ar[vr+2]=Pr>>8&255,ar[vr+3]=255&Pr}function fn(ar,vr){return ar[vr+0]|ar[vr+1]<<8}function Fn(ar,vr){return fn(ar,vr)|ar[vr+2]<<16}function wn(ar,vr){return fn(ar,vr)|fn(ar,vr+2)<<16}function Yr(ar,vr){var Pr=1<<vr;return t(ar!=null),t(0<vr),ar.X=Re(Pr),ar.X==null?0:(ar.Mb=32-vr,ar.Xa=vr,1)}function Rn(ar,vr){t(ar!=null),t(vr!=null),t(ar.Xa==vr.Xa),Ce(vr.X,0,ar.X,0,1<<vr.Xa)}function bn(){this.X=[],this.Xa=this.Mb=0}function zr(ar,vr,Pr,qr){t(Pr!=null),t(qr!=null);var hn=Pr[0],pn=qr[0];return hn==0&&(hn=(ar*pn+vr/2)/vr),pn==0&&(pn=(vr*hn+ar/2)/ar),0>=hn||0>=pn?0:(Pr[0]=hn,qr[0]=pn,1)}function $r(ar,vr){return ar+(1<<vr)-1>>>vr}function Bn(ar,vr){return((4278255360&ar)+(4278255360&vr)>>>0&4278255360)+((16711935&ar)+(16711935&vr)>>>0&16711935)>>>0}function Pn(ar,vr){ir[vr]=function(Pr,qr,hn,pn,yn,xn,Tn){var Ln;for(Ln=0;Ln<yn;++Ln){var Gn=ir[ar](xn[Tn+Ln-1],hn,pn+Ln);xn[Tn+Ln]=Bn(Pr[qr+Ln],Gn)}}}function jn(){this.ud=this.hd=this.jd=0}function Kn(ar,vr){return((4278124286&(ar^vr))>>>1)+(ar&vr)>>>0}function Xn(ar){return 0<=ar&&256>ar?ar:0>ar?0:255<ar?255:void 0}function In(ar,vr){return Xn(ar+(ar-vr+.5>>1))}function $n(ar,vr,Pr){return Math.abs(vr-Pr)-Math.abs(ar-Pr)}function Yn(ar,vr,Pr,qr,hn,pn,yn){for(qr=pn[yn-1],Pr=0;Pr<hn;++Pr)pn[yn+Pr]=qr=Bn(ar[vr+Pr],qr)}function si(ar,vr,Pr,qr,hn){var pn;for(pn=0;pn<Pr;++pn){var yn=ar[vr+pn],xn=yn>>8&255,Tn=16711935&(Tn=(Tn=16711935&yn)+((xn<<16)+xn));qr[hn+pn]=(4278255360&yn)+Tn>>>0}}function ai(ar,vr){vr.jd=255&ar,vr.hd=ar>>8&255,vr.ud=ar>>16&255}function Ci(ar,vr,Pr,qr,hn,pn){var yn;for(yn=0;yn<qr;++yn){var xn=vr[Pr+yn],Tn=xn>>>8,Ln=xn,Gn=255&(Gn=(Gn=xn>>>16)+((ar.jd<<24>>24)*(Tn<<24>>24)>>>5));Ln=255&(Ln=(Ln+=(ar.hd<<24>>24)*(Tn<<24>>24)>>>5)+((ar.ud<<24>>24)*(Gn<<24>>24)>>>5)),hn[pn+yn]=(4278255360&xn)+(Gn<<16)+Ln}}function dr(ar,vr,Pr,qr,hn){ir[vr]=function(pn,yn,xn,Tn,Ln,Gn,Ai,Nn,Zn){for(Tn=Ai;Tn<Nn;++Tn)for(Ai=0;Ai<Zn;++Ai)Ln[Gn++]=hn(xn[qr(pn[yn++])])},ir[ar]=function(pn,yn,xn,Tn,Ln,Gn,Ai){var Nn=8>>pn.b,Zn=pn.Ea,ii=pn.K[0],vi=pn.w;if(8>Nn)for(pn=(1<<pn.b)-1,vi=(1<<Nn)-1;yn<xn;++yn){var li,bi=0;for(li=0;li<Zn;++li)li&pn||(bi=qr(Tn[Ln++])),Gn[Ai++]=hn(ii[bi&vi]),bi>>=Nn}else ir["VP8LMapColor"+Pr](Tn,Ln,ii,vi,Gn,Ai,yn,xn,Zn)}}function An(ar,vr,Pr,qr,hn){for(Pr=vr+Pr;vr<Pr;){var pn=ar[vr++];qr[hn++]=pn>>16&255,qr[hn++]=pn>>8&255,qr[hn++]=255&pn}}function vn(ar,vr,Pr,qr,hn){for(Pr=vr+Pr;vr<Pr;){var pn=ar[vr++];qr[hn++]=pn>>16&255,qr[hn++]=pn>>8&255,qr[hn++]=255&pn,qr[hn++]=pn>>24&255}}function Sn(ar,vr,Pr,qr,hn){for(Pr=vr+Pr;vr<Pr;){var pn=(yn=ar[vr++])>>16&240|yn>>12&15,yn=240&yn|yn>>28&15;qr[hn++]=pn,qr[hn++]=yn}}function wr(ar,vr,Pr,qr,hn){for(Pr=vr+Pr;vr<Pr;){var pn=(yn=ar[vr++])>>16&248|yn>>13&7,yn=yn>>5&224|yn>>3&31;qr[hn++]=pn,qr[hn++]=yn}}function Or(ar,vr,Pr,qr,hn){for(Pr=vr+Pr;vr<Pr;){var pn=ar[vr++];qr[hn++]=255&pn,qr[hn++]=pn>>8&255,qr[hn++]=pn>>16&255}}function Ze(ar,vr,Pr,qr,hn,pn){if(pn==0)for(Pr=vr+Pr;vr<Pr;)gn(qr,((pn=ar[vr++])[0]>>24|pn[1]>>8&65280|pn[2]<<8&16711680|pn[3]<<24)>>>0),hn+=32;else Ce(qr,hn,ar,vr,Pr)}function Jr(ar,vr){ir[vr][0]=ir[ar+"0"],ir[vr][1]=ir[ar+"1"],ir[vr][2]=ir[ar+"2"],ir[vr][3]=ir[ar+"3"],ir[vr][4]=ir[ar+"4"],ir[vr][5]=ir[ar+"5"],ir[vr][6]=ir[ar+"6"],ir[vr][7]=ir[ar+"7"],ir[vr][8]=ir[ar+"8"],ir[vr][9]=ir[ar+"9"],ir[vr][10]=ir[ar+"10"],ir[vr][11]=ir[ar+"11"],ir[vr][12]=ir[ar+"12"],ir[vr][13]=ir[ar+"13"],ir[vr][14]=ir[ar+"0"],ir[vr][15]=ir[ar+"0"]}function Mn(ar){return ar==mc||ar==eA||ar==Il||ar==QA}function ze(){this.eb=[],this.size=this.A=this.fb=0}function Cr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function kr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ze,this.f.kb=new Cr,this.sd=null}function rr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function xr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Kr(ar){return alert("todo:WebPSamplerProcessPlane"),ar.T}function Dn(ar,vr){var Pr=ar.T,qr=vr.ba.f.RGBA,hn=qr.eb,pn=qr.fb+ar.ka*qr.A,yn=Ss[vr.ba.S],xn=ar.y,Tn=ar.O,Ln=ar.f,Gn=ar.N,Ai=ar.ea,Nn=ar.W,Zn=vr.cc,ii=vr.dc,vi=vr.Mc,li=vr.Nc,bi=ar.ka,Ei=ar.ka+ar.T,Pi=ar.U,Ti=Pi+1>>1;for(bi==0?yn(xn,Tn,null,null,Ln,Gn,Ai,Nn,Ln,Gn,Ai,Nn,hn,pn,null,null,Pi):(yn(vr.ec,vr.fc,xn,Tn,Zn,ii,vi,li,Ln,Gn,Ai,Nn,hn,pn-qr.A,hn,pn,Pi),++Pr);bi+2<Ei;bi+=2)Zn=Ln,ii=Gn,vi=Ai,li=Nn,Gn+=ar.Rc,Nn+=ar.Rc,pn+=2*qr.A,yn(xn,(Tn+=2*ar.fa)-ar.fa,xn,Tn,Zn,ii,vi,li,Ln,Gn,Ai,Nn,hn,pn-qr.A,hn,pn,Pi);return Tn+=ar.fa,ar.j+Ei<ar.o?(Ce(vr.ec,vr.fc,xn,Tn,Pi),Ce(vr.cc,vr.dc,Ln,Gn,Ti),Ce(vr.Mc,vr.Nc,Ai,Nn,Ti),Pr--):1&Ei||yn(xn,Tn,null,null,Ln,Gn,Ai,Nn,Ln,Gn,Ai,Nn,hn,pn+qr.A,null,null,Pi),Pr}function Gr(ar,vr,Pr){var qr=ar.F,hn=[ar.J];if(qr!=null){var pn=ar.U,yn=vr.ba.S,xn=yn==gA||yn==Il;vr=vr.ba.f.RGBA;var Tn=[0],Ln=ar.ka;Tn[0]=ar.T,ar.Kb&&(Ln==0?--Tn[0]:(--Ln,hn[0]-=ar.width),ar.j+ar.ka+ar.T==ar.o&&(Tn[0]=ar.o-ar.j-Ln));var Gn=vr.eb;Ln=vr.fb+Ln*vr.A,ar=vo(qr,hn[0],ar.width,pn,Tn,Gn,Ln+(xn?0:3),vr.A),t(Pr==Tn),ar&&Mn(yn)&&jA(Gn,Ln,xn,pn,Tn,vr.A)}return 0}function Hr(ar){var vr=ar.ma,Pr=vr.ba.S,qr=11>Pr,hn=Pr==VA||Pr==gc||Pr==gA||Pr==Fl||Pr==12||Mn(Pr);if(vr.memory=null,vr.Ib=null,vr.Jb=null,vr.Nd=null,!Ps(vr.Oa,ar,hn?11:12))return 0;if(hn&&Mn(Pr)&&Xl(),ar.da)alert("todo:use_scaling");else{if(qr){if(vr.Ib=Kr,ar.Kb){if(Pr=ar.U+1>>1,vr.memory=Re(ar.U+2*Pr),vr.memory==null)return 0;vr.ec=vr.memory,vr.fc=0,vr.cc=vr.ec,vr.dc=vr.fc+ar.U,vr.Mc=vr.cc,vr.Nc=vr.dc+Pr,vr.Ib=Dn,Xl()}}else alert("todo:EmitYUV");hn&&(vr.Jb=Gr,qr&&ss())}if(qr&&!_h){for(ar=0;256>ar;++ar)Bd[ar]=89858*(ar-128)+vs>>gl,yc[ar]=-22014*(ar-128)+vs,wu[ar]=-45773*(ar-128),_s[ar]=113618*(ar-128)+vs>>gl;for(ar=nA;ar<Kc;++ar)vr=76283*(ar-16)+vs>>gl,Ec[ar-nA]=da(vr,255),xu[ar-nA]=da(vr+8>>4,15);_h=1}return 1}function dn(ar){var vr=ar.ma,Pr=ar.U,qr=ar.T;return t(!(1&ar.ka)),0>=Pr||0>=qr?0:(Pr=vr.Ib(ar,vr),vr.Jb!=null&&vr.Jb(ar,vr,Pr),vr.Dc+=Pr,1)}function Qn(ar){ar.ma.memory=null}function kn(ar,vr,Pr,qr){return Mr(ar,8)!=47?0:(vr[0]=Mr(ar,14)+1,Pr[0]=Mr(ar,14)+1,qr[0]=Mr(ar,1),Mr(ar,3)!=0?0:!ar.h)}function On(ar,vr){if(4>ar)return ar+1;var Pr=ar-2>>1;return(2+(1&ar)<<Pr)+Mr(vr,Pr)+1}function zn(ar,vr){return 120<vr?vr-120:1<=(Pr=((Pr=Nl[vr-1])>>4)*ar+(8-(15&Pr)))?Pr:1;var Pr}function hi(ar,vr,Pr){var qr=yr(Pr),hn=ar[vr+=255&qr].g-8;return 0<hn&&(Ir(Pr,Pr.u+8),qr=yr(Pr),vr+=ar[vr].value,vr+=qr&(1<<hn)-1),Ir(Pr,Pr.u+ar[vr].g),ar[vr].value}function pi(ar,vr,Pr){return Pr.g+=ar.g,Pr.value+=ar.value<<vr>>>0,t(8>=Pr.g),ar.g}function mi(ar,vr,Pr){var qr=ar.xc;return t((vr=qr==0?0:ar.vc[ar.md*(Pr>>qr)+(vr>>qr)])<ar.Wb),ar.Ya[vr]}function Ni(ar,vr,Pr,qr){var hn=ar.ab,pn=ar.c*vr,yn=ar.C;vr=yn+vr;var xn=Pr,Tn=qr;for(qr=ar.Ta,Pr=ar.Ua;0<hn--;){var Ln=ar.gc[hn],Gn=yn,Ai=vr,Nn=xn,Zn=Tn,ii=(Tn=qr,xn=Pr,Ln.Ea);switch(t(Gn<Ai),t(Ai<=Ln.nc),Ln.hc){case 2:kA(Nn,Zn,(Ai-Gn)*ii,Tn,xn);break;case 0:var vi=Gn,li=Ai,bi=Tn,Ei=xn,Pi=(Mi=Ln).Ea;vi==0&&(al(Nn,Zn,null,null,1,bi,Ei),Yn(Nn,Zn+1,0,0,Pi-1,bi,Ei+1),Zn+=Pi,Ei+=Pi,++vi);for(var Ti=1<<Mi.b,Ki=Ti-1,ki=$r(Pi,Mi.b),ra=Mi.K,Mi=Mi.w+(vi>>Mi.b)*ki;vi<li;){var fa=ra,ps=Mi,ea=1;for(sl(Nn,Zn,bi,Ei-Pi,1,bi,Ei);ea<Pi;){var ji=(ea&~Ki)+Ti;ji>Pi&&(ji=Pi),(0,$l[fa[ps++]>>8&15])(Nn,Zn+ +ea,bi,Ei+ea-Pi,ji-ea,bi,Ei+ea),ea=ji}Zn+=Pi,Ei+=Pi,++vi&Ki||(Mi+=ki)}Ai!=Ln.nc&&Ce(Tn,xn-ii,Tn,xn+(Ai-Gn-1)*ii,ii);break;case 1:for(ii=Nn,li=Zn,Pi=(Nn=Ln.Ea)-(Ei=Nn&~(bi=(Zn=1<<Ln.b)-1)),vi=$r(Nn,Ln.b),Ti=Ln.K,Ln=Ln.w+(Gn>>Ln.b)*vi;Gn<Ai;){for(Ki=Ti,ki=Ln,ra=new jn,Mi=li+Ei,fa=li+Nn;li<Mi;)ai(Ki[ki++],ra),ll(ra,ii,li,Zn,Tn,xn),li+=Zn,xn+=Zn;li<fa&&(ai(Ki[ki++],ra),ll(ra,ii,li,Pi,Tn,xn),li+=Pi,xn+=Pi),++Gn&bi||(Ln+=vi)}break;case 3:if(Nn==Tn&&Zn==xn&&0<Ln.b){for(li=Tn,Nn=ii=xn+(Ai-Gn)*ii-(Ei=(Ai-Gn)*$r(Ln.Ea,Ln.b)),Zn=Tn,bi=xn,vi=[],Ei=(Pi=Ei)-1;0<=Ei;--Ei)vi[Ei]=Zn[bi+Ei];for(Ei=Pi-1;0<=Ei;--Ei)li[Nn+Ei]=vi[Ei];dc(Ln,Gn,Ai,Tn,ii,Tn,xn)}else dc(Ln,Gn,Ai,Nn,Zn,Tn,xn)}xn=qr,Tn=Pr}Tn!=Pr&&Ce(qr,Pr,xn,Tn,pn)}function ui(ar,vr){var Pr=ar.V,qr=ar.Ba+ar.c*ar.C,hn=vr-ar.C;if(t(vr<=ar.l.o),t(16>=hn),0<hn){var pn=ar.l,yn=ar.Ta,xn=ar.Ua,Tn=pn.width;if(Ni(ar,hn,Pr,qr),hn=xn=[xn],t((Pr=ar.C)<(qr=vr)),t(pn.v<pn.va),qr>pn.o&&(qr=pn.o),Pr<pn.j){var Ln=pn.j-Pr;Pr=pn.j,hn[0]+=Ln*Tn}if(Pr>=qr?Pr=0:(hn[0]+=4*pn.v,pn.ka=Pr-pn.j,pn.U=pn.va-pn.v,pn.T=qr-Pr,Pr=1),Pr){if(xn=xn[0],11>(Pr=ar.ca).S){var Gn=Pr.f.RGBA,Ai=(qr=Pr.S,hn=pn.U,pn=pn.T,Ln=Gn.eb,Gn.A),Nn=pn;for(Gn=Gn.fb+ar.Ma*Gn.A;0<Nn--;){var Zn=yn,ii=xn,vi=hn,li=Ln,bi=Gn;switch(qr){case ks:MA(Zn,ii,vi,li,bi);break;case VA:Ys(Zn,ii,vi,li,bi);break;case mc:Ys(Zn,ii,vi,li,bi),jA(li,bi,0,vi,1,0);break;case ul:Ia(Zn,ii,vi,li,bi);break;case gc:Ze(Zn,ii,vi,li,bi,1);break;case eA:Ze(Zn,ii,vi,li,bi,1),jA(li,bi,0,vi,1,0);break;case gA:Ze(Zn,ii,vi,li,bi,0);break;case Il:Ze(Zn,ii,vi,li,bi,0),jA(li,bi,1,vi,1,0);break;case Fl:Al(Zn,ii,vi,li,bi);break;case QA:Al(Zn,ii,vi,li,bi),mo(li,bi,vi,1,0);break;case Mc:Sa(Zn,ii,vi,li,bi);break;default:t(0)}xn+=Tn,Gn+=Ai}ar.Ma+=pn}else alert("todo:EmitRescaledRowsYUVA");t(ar.Ma<=Pr.height)}}ar.C=vr,t(ar.C<=ar.i)}function yi(ar){var vr;if(0<ar.ua)return 0;for(vr=0;vr<ar.Wb;++vr){var Pr=ar.Ya[vr].G,qr=ar.Ya[vr].H;if(0<Pr[1][qr[1]+0].g||0<Pr[2][qr[2]+0].g||0<Pr[3][qr[3]+0].g)return 0}return 1}function _i(ar,vr,Pr,qr,hn,pn){if(ar.Z!=0){var yn=ar.qd,xn=ar.rd;for(t(dl[ar.Z]!=null);vr<Pr;++vr)dl[ar.Z](yn,xn,qr,hn,qr,hn,pn),yn=qr,xn=hn,hn+=pn;ar.qd=yn,ar.rd=xn}}function Fi(ar,vr){var Pr=ar.l.ma,qr=Pr.Z==0||Pr.Z==1?ar.l.j:ar.C;if(qr=ar.C<qr?qr:ar.C,t(vr<=ar.l.o),vr>qr){var hn=ar.l.width,pn=Pr.ca,yn=Pr.tb+hn*qr,xn=ar.V,Tn=ar.Ba+ar.c*qr,Ln=ar.gc;t(ar.ab==1),t(Ln[0].hc==3),ol(Ln[0],qr,vr,xn,Tn,pn,yn),_i(Pr,qr,vr,pn,yn,hn)}ar.C=ar.Ma=vr}function Di(ar,vr,Pr,qr,hn,pn,yn){var xn=ar.$/qr,Tn=ar.$%qr,Ln=ar.m,Gn=ar.s,Ai=Pr+ar.$,Nn=Ai;hn=Pr+qr*hn;var Zn=Pr+qr*pn,ii=280+Gn.ua,vi=ar.Pb?xn:16777216,li=0<Gn.ua?Gn.Wa:null,bi=Gn.wc,Ei=Ai<Zn?mi(Gn,Tn,xn):null;t(ar.C<pn),t(Zn<=hn);var Pi=!1;e:for(;;){for(;Pi||Ai<Zn;){var Ti=0;if(xn>=vi){var Ki=Ai-Pr;t((vi=ar).Pb),vi.wd=vi.m,vi.xd=Ki,0<vi.s.ua&&Rn(vi.s.Wa,vi.s.vb),vi=xn+gh}if(Tn&bi||(Ei=mi(Gn,Tn,xn)),t(Ei!=null),Ei.Qb&&(vr[Ai]=Ei.qb,Pi=!0),!Pi)if(Qr(Ln),Ei.jc){Ti=Ln,Ki=vr;var ki=Ai,ra=Ei.pd[yr(Ti)&Ro-1];t(Ei.jc),256>ra.g?(Ir(Ti,Ti.u+ra.g),Ki[ki]=ra.value,Ti=0):(Ir(Ti,Ti.u+ra.g-256),t(256<=ra.value),Ti=ra.value),Ti==0&&(Pi=!0)}else Ti=hi(Ei.G[0],Ei.H[0],Ln);if(Ln.h)break;if(Pi||256>Ti){if(!Pi)if(Ei.nd)vr[Ai]=(Ei.qb|Ti<<8)>>>0;else{if(Qr(Ln),Pi=hi(Ei.G[1],Ei.H[1],Ln),Qr(Ln),Ki=hi(Ei.G[2],Ei.H[2],Ln),ki=hi(Ei.G[3],Ei.H[3],Ln),Ln.h)break;vr[Ai]=(ki<<24|Pi<<16|Ti<<8|Ki)>>>0}if(Pi=!1,++Ai,++Tn>=qr&&(Tn=0,++xn,yn!=null&&xn<=pn&&!(xn%16)&&yn(ar,xn),li!=null))for(;Nn<Ai;)Ti=vr[Nn++],li.X[(506832829*Ti&4294967295)>>>li.Mb]=Ti}else if(280>Ti){if(Ti=On(Ti-256,Ln),Ki=hi(Ei.G[4],Ei.H[4],Ln),Qr(Ln),Ki=zn(qr,Ki=On(Ki,Ln)),Ln.h)break;if(Ai-Pr<Ki||hn-Ai<Ti)break e;for(ki=0;ki<Ti;++ki)vr[Ai+ki]=vr[Ai+ki-Ki];for(Ai+=Ti,Tn+=Ti;Tn>=qr;)Tn-=qr,++xn,yn!=null&&xn<=pn&&!(xn%16)&&yn(ar,xn);if(t(Ai<=hn),Tn&bi&&(Ei=mi(Gn,Tn,xn)),li!=null)for(;Nn<Ai;)Ti=vr[Nn++],li.X[(506832829*Ti&4294967295)>>>li.Mb]=Ti}else{if(!(Ti<ii))break e;for(Pi=Ti-280,t(li!=null);Nn<Ai;)Ti=vr[Nn++],li.X[(506832829*Ti&4294967295)>>>li.Mb]=Ti;Ti=Ai,t(!(Pi>>>(Ki=li).Xa)),vr[Ti]=Ki.X[Pi],Pi=!0}Pi||t(Ln.h==Rr(Ln))}if(ar.Pb&&Ln.h&&Ai<hn)t(ar.m.h),ar.a=5,ar.m=ar.wd,ar.$=ar.xd,0<ar.s.ua&&Rn(ar.s.vb,ar.s.Wa);else{if(Ln.h)break e;yn!=null&&yn(ar,xn>pn?pn:xn),ar.a=0,ar.$=Ai-Pr}return 1}return ar.a=3,0}function Oi(ar){t(ar!=null),ar.vc=null,ar.yc=null,ar.Ya=null;var vr=ar.Wa;vr!=null&&(vr.X=null),ar.vb=null,t(ar!=null)}function $i(){var ar=new La;return ar==null?null:(ar.a=0,ar.xb=HA,Jr("Predictor","VP8LPredictors"),Jr("Predictor","VP8LPredictors_C"),Jr("PredictorAdd","VP8LPredictorsAdd"),Jr("PredictorAdd","VP8LPredictorsAdd_C"),kA=si,ll=Ci,MA=An,Ys=vn,Al=Sn,Sa=wr,Ia=Or,ir.VP8LMapColor32b=xs,ir.VP8LMapColor8b=Zl,ar)}function oa(ar,vr,Pr,qr,hn){var pn=1,yn=[ar],xn=[vr],Tn=qr.m,Ln=qr.s,Gn=null,Ai=0;e:for(;;){if(Pr)for(;pn&&Mr(Tn,1);){var Nn=yn,Zn=xn,ii=qr,vi=1,li=ii.m,bi=ii.gc[ii.ab],Ei=Mr(li,2);if(ii.Oc&1<<Ei)pn=0;else{switch(ii.Oc|=1<<Ei,bi.hc=Ei,bi.Ea=Nn[0],bi.nc=Zn[0],bi.K=[null],++ii.ab,t(4>=ii.ab),Ei){case 0:case 1:bi.b=Mr(li,3)+2,vi=oa($r(bi.Ea,bi.b),$r(bi.nc,bi.b),0,ii,bi.K),bi.K=bi.K[0];break;case 3:var Pi,Ti=Mr(li,8)+1,Ki=16<Ti?0:4<Ti?1:2<Ti?2:3;if(Nn[0]=$r(bi.Ea,Ki),bi.b=Ki,Pi=vi=oa(Ti,1,0,ii,bi.K)){var ki,ra=Ti,Mi=bi,fa=1<<(8>>Mi.b),ps=Re(fa);if(ps==null)Pi=0;else{var ea=Mi.K[0],ji=Mi.w;for(ps[0]=Mi.K[0][0],ki=1;ki<1*ra;++ki)ps[ki]=Bn(ea[ji+ki],ps[ki-1]);for(;ki<4*fa;++ki)ps[ki]=0;Mi.K[0]=null,Mi.K[0]=ps,Pi=1}}vi=Pi;break;case 2:break;default:t(0)}pn=vi}}if(yn=yn[0],xn=xn[0],pn&&Mr(Tn,1)&&!(pn=1<=(Ai=Mr(Tn,4))&&11>=Ai)){qr.a=3;break e}var Ui;if(Ui=pn)t:{var Ya,na,aa,Vi=qr,ia=yn,Ea=xn,Ha=Ai,ls=Pr,As=Vi.m,es=Vi.s,ha=[null],ba=1,ts=0,Xi=vA[Ha];r:for(;;){if(ls&&Mr(As,1)){var ys=Mr(As,3)+2,Eo=$r(ia,ys),rs=$r(Ea,ys),Js=Eo*rs;if(!oa(Eo,rs,0,Vi,ha))break r;for(ha=ha[0],es.xc=ys,Ya=0;Ya<Js;++Ya){var Da=ha[Ya]>>8&65535;ha[Ya]=Da,Da>=ba&&(ba=Da+1)}}if(As.h)break r;for(na=0;5>na;++na){var cs=_o[na];!na&&0<Ha&&(cs+=1<<Ha),ts<cs&&(ts=cs)}var eo=Be(ba*Xi,or),Fs=ba,Oa=Be(Fs,Ur);if(Oa==null)var wa=null;else t(65536>=Fs),wa=Oa;var Ms=Re(ts);if(wa==null||Ms==null||eo==null){Vi.a=1;break r}var Is=eo;for(Ya=aa=0;Ya<ba;++Ya){var Pa=wa[Ya],to=Pa.G,Es=Pa.H,ml=0,Vo=1,bs=0;for(na=0;5>na;++na){cs=_o[na],to[na]=Is,Es[na]=aa,!na&&0<Ha&&(cs+=1<<Ha);i:{var bc,qc=cs,wc=Vi,qA=Ms,bh=Is,wh=aa,xc=0,kl=wc.m,Fd=Mr(kl,1);if(Te(qA,0,0,qc),Fd){var xh=Mr(kl,1)+1,Ch=Mr(kl,1),Cu=Mr(kl,Ch==0?1:8);qA[Cu]=1,xh==2&&(qA[Cu=Mr(kl,8)]=1);var zA=1}else{var Su=Re(19),Tu=Mr(kl,4)+4;if(19<Tu){wc.a=3;var Cc=0;break i}for(bc=0;bc<Tu;++bc)Su[Dl[bc]]=Mr(kl,3);var zc=void 0,GA=void 0,Sh=wc,Th=Su,Ml=qc,Sc=qA,Gc=0,Qo=Sh.m,WA=8,Ru=Be(128,or);n:for(;Ar(Ru,0,7,Th,19);){if(Mr(Qo,1)){var Rh=2+2*Mr(Qo,3);if((zc=2+Mr(Qo,Rh))>Ml)break n}else zc=Ml;for(GA=0;GA<Ml&&zc--;){Qr(Qo);var Bu=Ru[0+(127&yr(Qo))];Ir(Qo,Qo.u+Bu.g);var EA=Bu.value;if(16>EA)Sc[GA++]=EA,EA!=0&&(WA=EA);else{var Bh=EA==16,Pu=EA-16,Fu=Io[Pu],Iu=Mr(Qo,jc[Pu])+Fu;if(GA+Iu>Ml)break n;for(var Ph=Bh?WA:0;0<Iu--;)Sc[GA++]=Ph}}Gc=1;break n}Gc||(Sh.a=3),zA=Gc}(zA=zA&&!kl.h)&&(xc=Ar(bh,wh,8,qA,qc)),zA&&xc!=0?Cc=xc:(wc.a=3,Cc=0)}if(Cc==0)break r;if(Vo&&mA[na]==1&&(Vo=Is[aa].g==0),ml+=Is[aa].g,aa+=Cc,3>=na){var bA,Wc=Ms[0];for(bA=1;bA<cs;++bA)Ms[bA]>Wc&&(Wc=Ms[bA]);bs+=Wc}}if(Pa.nd=Vo,Pa.Qb=0,Vo&&(Pa.qb=(to[3][Es[3]+0].value<<24|to[1][Es[1]+0].value<<16|to[2][Es[2]+0].value)>>>0,ml==0&&256>to[0][Es[0]+0].value&&(Pa.Qb=1,Pa.qb+=to[0][Es[0]+0].value<<8)),Pa.jc=!Pa.Qb&&6>bs,Pa.jc){var Tc,jl=Pa;for(Tc=0;Tc<Ro;++Tc){var vl=Tc,Vl=jl.pd[vl],Rc=jl.G[0][jl.H[0]+vl];256<=Rc.value?(Vl.g=Rc.g+256,Vl.value=Rc.value):(Vl.g=0,Vl.value=0,vl>>=pi(Rc,8,Vl),vl>>=pi(jl.G[1][jl.H[1]+vl],16,Vl),vl>>=pi(jl.G[2][jl.H[2]+vl],0,Vl),pi(jl.G[3][jl.H[3]+vl],24,Vl))}}}es.vc=ha,es.Wb=ba,es.Ya=wa,es.yc=eo,Ui=1;break t}Ui=0}if(!(pn=Ui)){qr.a=3;break e}if(0<Ai){if(Ln.ua=1<<Ai,!Yr(Ln.Wa,Ai)){qr.a=1,pn=0;break e}}else Ln.ua=0;var Bc=qr,Du=yn,Fh=xn,Nu=Bc.s,Uu=Nu.xc;if(Bc.c=Du,Bc.i=Fh,Nu.md=$r(Du,Uu),Nu.wc=Uu==0?-1:(1<<Uu)-1,Pr){qr.xb=vh;break e}if((Gn=Re(yn*xn))==null){qr.a=1,pn=0;break e}pn=(pn=Di(qr,Gn,0,yn,xn,xn,null))&&!Tn.h;break e}return pn?(hn!=null?hn[0]=Gn:(t(Gn==null),t(Pr)),qr.$=0,Pr||Oi(Ln)):Oi(Ln),pn}function Za(ar,vr){var Pr=ar.c*ar.i,qr=Pr+vr+16*vr;return t(ar.c<=vr),ar.V=Re(qr),ar.V==null?(ar.Ta=null,ar.Ua=0,ar.a=1,0):(ar.Ta=ar.V,ar.Ua=ar.Ba+Pr+vr,1)}function ja(ar,vr){var Pr=ar.C,qr=vr-Pr,hn=ar.V,pn=ar.Ba+ar.c*Pr;for(t(vr<=ar.l.o);0<qr;){var yn=16<qr?16:qr,xn=ar.l.ma,Tn=ar.l.width,Ln=Tn*yn,Gn=xn.ca,Ai=xn.tb+Tn*Pr,Nn=ar.Ta,Zn=ar.Ua;Ni(ar,yn,hn,pn),dA(Nn,Zn,Gn,Ai,Ln),_i(xn,Pr,Pr+yn,Gn,Ai,Tn),qr-=yn,hn+=yn*ar.c,Pr+=yn}t(Pr==vr),ar.C=ar.Ma=vr}function Ga(){this.ub=this.yd=this.td=this.Rb=0}function bo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function DA(){this.Fb=this.Bb=this.Cb=0,this.Zb=Re(4),this.Lb=Re(4)}function Uo(){this.Yb=(function(){var ar=[];return(function vr(Pr,qr,hn){for(var pn=hn[qr],yn=0;yn<pn&&(Pr.push(hn.length>qr+1?[]:0),!(hn.length<qr+1));yn++)vr(Pr[yn],qr+1,hn)})(ar,0,[3,11]),ar})()}function lA(){this.jb=Re(3),this.Wc=Ue([4,8],Uo),this.Xc=Ue([4,17],Uo)}function Lo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new Re(4),this.od=new Re(4)}function is(){this.ld=this.La=this.dd=this.tc=0}function as(){this.Na=this.la=0}function Wo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Kl(){this.ad=Re(384),this.Za=0,this.Ob=Re(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wo(){this.uc=this.M=this.Nb=0,this.wa=Array(new is),this.Y=0,this.ya=Array(new Kl),this.aa=0,this.l=new Xo}function wl(){this.y=Re(16),this.f=Re(8),this.ea=Re(8)}function xl(){this.cb=this.a=0,this.sc="",this.m=new _r,this.Od=new Ga,this.Kc=new bo,this.ed=new Lo,this.Qa=new DA,this.Ic=this.$c=this.Aa=0,this.D=new wo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Be(8,_r),this.ia=0,this.pb=Be(4,Wo),this.Pa=new lA,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wl),this.Hd=0,this.rb=Array(new as),this.sb=0,this.wa=Array(new is),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Kl),this.L=this.aa=0,this.gd=Ue([4,2],is),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ql(){var ar=new xl;return ar!=null&&(ar.a=0,ar.sc="OK",ar.cb=0,ar.Xb=0,ms||(ms=ao)),ar}function va(ar,vr,Pr){return ar.a==0&&(ar.a=vr,ar.sc=Pr,ar.cb=0),0}function zl(ar,vr,Pr){return 3<=Pr&&ar[vr+0]==157&&ar[vr+1]==1&&ar[vr+2]==42}function NA(ar,vr){if(ar==null)return 0;if(ar.a=0,ar.sc="OK",vr==null)return va(ar,2,"null VP8Io passed to VP8GetHeaders()");var Pr=vr.data,qr=vr.w,hn=vr.ha;if(4>hn)return va(ar,7,"Truncated header.");var pn=Pr[qr+0]|Pr[qr+1]<<8|Pr[qr+2]<<16,yn=ar.Od;if(yn.Rb=!(1&pn),yn.td=pn>>1&7,yn.yd=pn>>4&1,yn.ub=pn>>5,3<yn.td)return va(ar,3,"Incorrect keyframe parameters.");if(!yn.yd)return va(ar,4,"Frame not displayable.");qr+=3,hn-=3;var xn=ar.Kc;if(yn.Rb){if(7>hn)return va(ar,7,"cannot parse picture header");if(!zl(Pr,qr,hn))return va(ar,3,"Bad code word");xn.c=16383&(Pr[qr+4]<<8|Pr[qr+3]),xn.Td=Pr[qr+4]>>6,xn.i=16383&(Pr[qr+6]<<8|Pr[qr+5]),xn.Ud=Pr[qr+6]>>6,qr+=7,hn-=7,ar.za=xn.c+15>>4,ar.Ub=xn.i+15>>4,vr.width=xn.c,vr.height=xn.i,vr.Da=0,vr.j=0,vr.v=0,vr.va=vr.width,vr.o=vr.height,vr.da=0,vr.ib=vr.width,vr.hb=vr.height,vr.U=vr.width,vr.T=vr.height,Te((pn=ar.Pa).jb,0,255,pn.jb.length),t((pn=ar.Qa)!=null),pn.Cb=0,pn.Bb=0,pn.Fb=1,Te(pn.Zb,0,0,pn.Zb.length),Te(pn.Lb,0,0,pn.Lb)}if(yn.ub>hn)return va(ar,7,"bad partition length");Fr(pn=ar.m,Pr,qr,yn.ub),qr+=yn.ub,hn-=yn.ub,yn.Rb&&(xn.Ld=Wr(pn),xn.Kd=Wr(pn)),xn=ar.Qa;var Tn,Ln=ar.Pa;if(t(pn!=null),t(xn!=null),xn.Cb=Wr(pn),xn.Cb){if(xn.Bb=Wr(pn),Wr(pn)){for(xn.Fb=Wr(pn),Tn=0;4>Tn;++Tn)xn.Zb[Tn]=Wr(pn)?jr(pn,7):0;for(Tn=0;4>Tn;++Tn)xn.Lb[Tn]=Wr(pn)?jr(pn,6):0}if(xn.Bb)for(Tn=0;3>Tn;++Tn)Ln.jb[Tn]=Wr(pn)?Er(pn,8):255}else xn.Bb=0;if(pn.Ka)return va(ar,3,"cannot parse segment header");if((xn=ar.ed).zd=Wr(pn),xn.Tb=Er(pn,6),xn.wb=Er(pn,3),xn.Pc=Wr(pn),xn.Pc&&Wr(pn)){for(Ln=0;4>Ln;++Ln)Wr(pn)&&(xn.vd[Ln]=jr(pn,6));for(Ln=0;4>Ln;++Ln)Wr(pn)&&(xn.od[Ln]=jr(pn,6))}if(ar.L=xn.Tb==0?0:xn.zd?1:2,pn.Ka)return va(ar,3,"cannot parse filter header");var Gn=hn;if(hn=Tn=qr,qr=Tn+Gn,xn=Gn,ar.Xb=(1<<Er(ar.m,2))-1,Gn<3*(Ln=ar.Xb))Pr=7;else{for(Tn+=3*Ln,xn-=3*Ln,Gn=0;Gn<Ln;++Gn){var Ai=Pr[hn+0]|Pr[hn+1]<<8|Pr[hn+2]<<16;Ai>xn&&(Ai=xn),Fr(ar.Jc[+Gn],Pr,Tn,Ai),Tn+=Ai,xn-=Ai,hn+=3}Fr(ar.Jc[+Ln],Pr,Tn,xn),Pr=Tn<qr?0:5}if(Pr!=0)return va(ar,Pr,"cannot parse partitions");for(Pr=Er(Tn=ar.m,7),hn=Wr(Tn)?jr(Tn,4):0,qr=Wr(Tn)?jr(Tn,4):0,xn=Wr(Tn)?jr(Tn,4):0,Ln=Wr(Tn)?jr(Tn,4):0,Tn=Wr(Tn)?jr(Tn,4):0,Gn=ar.Qa,Ai=0;4>Ai;++Ai){if(Gn.Cb){var Nn=Gn.Zb[Ai];Gn.Fb||(Nn+=Pr)}else{if(0<Ai){ar.pb[Ai]=ar.pb[0];continue}Nn=Pr}var Zn=ar.pb[Ai];Zn.Sc[0]=vc[da(Nn+hn,127)],Zn.Sc[1]=_c[da(Nn+0,127)],Zn.Eb[0]=2*vc[da(Nn+qr,127)],Zn.Eb[1]=101581*_c[da(Nn+xn,127)]>>16,8>Zn.Eb[1]&&(Zn.Eb[1]=8),Zn.Qc[0]=vc[da(Nn+Ln,117)],Zn.Qc[1]=_c[da(Nn+Tn,127)],Zn.lc=Nn+Tn}if(!yn.Rb)return va(ar,4,"Not a key frame.");for(Wr(pn),yn=ar.Pa,Pr=0;4>Pr;++Pr){for(hn=0;8>hn;++hn)for(qr=0;3>qr;++qr)for(xn=0;11>xn;++xn)Ln=mn(pn,_A[Pr][hn][qr][xn])?Er(pn,8):hl[Pr][hn][qr][xn],yn.Wc[Pr][hn].Yb[qr][xn]=Ln;for(hn=0;17>hn;++hn)yn.Xc[Pr][hn]=yn.Wc[Pr][mh[hn]]}return ar.kc=Wr(pn),ar.kc&&(ar.Bd=Er(pn,8)),ar.cb=1}function ao(ar,vr,Pr,qr,hn,pn,yn){var xn=vr[hn].Yb[Pr];for(Pr=0;16>hn;++hn){if(!mn(ar,xn[Pr+0]))return hn;for(;!mn(ar,xn[Pr+1]);)if(xn=vr[++hn].Yb[0],Pr=0,hn==16)return 16;var Tn=vr[hn+1].Yb;if(mn(ar,xn[Pr+2])){var Ln=ar,Gn=0;if(mn(Ln,(Nn=xn)[(Ai=Pr)+3]))if(mn(Ln,Nn[Ai+6])){for(xn=0,Ai=2*(Gn=mn(Ln,Nn[Ai+8]))+(Nn=mn(Ln,Nn[Ai+9+Gn])),Gn=0,Nn=Ja[Ai];Nn[xn];++xn)Gn+=Gn+mn(Ln,Nn[xn]);Gn+=3+(8<<Ai)}else mn(Ln,Nn[Ai+7])?(Gn=7+2*mn(Ln,165),Gn+=mn(Ln,145)):Gn=5+mn(Ln,159);else Gn=mn(Ln,Nn[Ai+4])?3+mn(Ln,Nn[Ai+5]):2;xn=Tn[2]}else Gn=1,xn=Tn[1];Tn=yn+Ta[hn],0>(Ln=ar).b&&Vr(Ln);var Ai,Nn=Ln.b,Zn=(Ai=Ln.Ca>>1)-(Ln.I>>Nn)>>31;--Ln.b,Ln.Ca+=Zn,Ln.Ca|=1,Ln.I-=(Ai+1&Zn)<<Nn,pn[Tn]=((Gn^Zn)-Zn)*qr[(0<hn)+0]}return 16}function Oo(ar){var vr=ar.rb[ar.sb-1];vr.la=0,vr.Na=0,Te(ar.zc,0,0,ar.zc.length),ar.ja=0}function Ts(ar,vr,Pr,qr,hn){hn=ar[vr+Pr+32*qr]+(hn>>3),ar[vr+Pr+32*qr]=-256&hn?0>hn?0:255:hn}function Cl(ar,vr,Pr,qr,hn,pn){Ts(ar,vr,0,Pr,qr+hn),Ts(ar,vr,1,Pr,qr+pn),Ts(ar,vr,2,Pr,qr-pn),Ts(ar,vr,3,Pr,qr-hn)}function sa(ar){return(20091*ar>>16)+ar}function Rs(ar,vr,Pr,qr){var hn,pn=0,yn=Re(16);for(hn=0;4>hn;++hn){var xn=ar[vr+0]+ar[vr+8],Tn=ar[vr+0]-ar[vr+8],Ln=(35468*ar[vr+4]>>16)-sa(ar[vr+12]),Gn=sa(ar[vr+4])+(35468*ar[vr+12]>>16);yn[pn+0]=xn+Gn,yn[pn+1]=Tn+Ln,yn[pn+2]=Tn-Ln,yn[pn+3]=xn-Gn,pn+=4,vr++}for(hn=pn=0;4>hn;++hn)xn=(ar=yn[pn+0]+4)+yn[pn+8],Tn=ar-yn[pn+8],Ln=(35468*yn[pn+4]>>16)-sa(yn[pn+12]),Ts(Pr,qr,0,0,xn+(Gn=sa(yn[pn+4])+(35468*yn[pn+12]>>16))),Ts(Pr,qr,1,0,Tn+Ln),Ts(Pr,qr,2,0,Tn-Ln),Ts(Pr,qr,3,0,xn-Gn),pn++,qr+=32}function Sl(ar,vr,Pr,qr){var hn=ar[vr+0]+4,pn=35468*ar[vr+4]>>16,yn=sa(ar[vr+4]),xn=35468*ar[vr+1]>>16;Cl(Pr,qr,0,hn+yn,ar=sa(ar[vr+1]),xn),Cl(Pr,qr,1,hn+pn,ar,xn),Cl(Pr,qr,2,hn-pn,ar,xn),Cl(Pr,qr,3,hn-yn,ar,xn)}function Yo(ar,vr,Pr,qr,hn){Rs(ar,vr,Pr,qr),hn&&Rs(ar,vr+16,Pr,qr+4)}function ko(ar,vr,Pr,qr){Xa(ar,vr+0,Pr,qr,1),Xa(ar,vr+32,Pr,qr+128,1)}function la(ar,vr,Pr,qr){var hn;for(ar=ar[vr+0]+4,hn=0;4>hn;++hn)for(vr=0;4>vr;++vr)Ts(Pr,qr,vr,hn,ar)}function Zo(ar,vr,Pr,qr){ar[vr+0]&&Zs(ar,vr+0,Pr,qr),ar[vr+16]&&Zs(ar,vr+16,Pr,qr+4),ar[vr+32]&&Zs(ar,vr+32,Pr,qr+128),ar[vr+48]&&Zs(ar,vr+48,Pr,qr+128+4)}function Hs(ar,vr,Pr,qr){var hn,pn=Re(16);for(hn=0;4>hn;++hn){var yn=ar[vr+0+hn]+ar[vr+12+hn],xn=ar[vr+4+hn]+ar[vr+8+hn],Tn=ar[vr+4+hn]-ar[vr+8+hn],Ln=ar[vr+0+hn]-ar[vr+12+hn];pn[0+hn]=yn+xn,pn[8+hn]=yn-xn,pn[4+hn]=Ln+Tn,pn[12+hn]=Ln-Tn}for(hn=0;4>hn;++hn)yn=(ar=pn[0+4*hn]+3)+pn[3+4*hn],xn=pn[1+4*hn]+pn[2+4*hn],Tn=pn[1+4*hn]-pn[2+4*hn],Ln=ar-pn[3+4*hn],Pr[qr+0]=yn+xn>>3,Pr[qr+16]=Ln+Tn>>3,Pr[qr+32]=yn-xn>>3,Pr[qr+48]=Ln-Tn>>3,qr+=64}function so(ar,vr,Pr){var qr,hn=vr-32,pn=Cs,yn=255-ar[hn-1];for(qr=0;qr<Pr;++qr){var xn,Tn=pn,Ln=yn+ar[vr-1];for(xn=0;xn<Pr;++xn)ar[vr+xn]=Tn[Ln+ar[hn+xn]];vr+=32}}function Gl(ar,vr){so(ar,vr,4)}function AA(ar,vr){so(ar,vr,8)}function cA(ar,vr){so(ar,vr,16)}function hc(ar,vr){var Pr;for(Pr=0;16>Pr;++Pr)Ce(ar,vr+32*Pr,ar,vr-32,16)}function uA(ar,vr){var Pr;for(Pr=16;0<Pr;--Pr)Te(ar,vr,ar[vr-1],16),vr+=32}function xo(ar,vr,Pr){var qr;for(qr=0;16>qr;++qr)Te(vr,Pr+32*qr,ar,16)}function Ns(ar,vr){var Pr,qr=16;for(Pr=0;16>Pr;++Pr)qr+=ar[vr-1+32*Pr]+ar[vr+Pr-32];xo(qr>>5,ar,vr)}function oo(ar,vr){var Pr,qr=8;for(Pr=0;16>Pr;++Pr)qr+=ar[vr-1+32*Pr];xo(qr>>4,ar,vr)}function Ks(ar,vr){var Pr,qr=8;for(Pr=0;16>Pr;++Pr)qr+=ar[vr+Pr-32];xo(qr>>4,ar,vr)}function uo(ar,vr){xo(128,ar,vr)}function Wi(ar,vr,Pr){return ar+2*vr+Pr+2>>2}function Co(ar,vr){var Pr,qr=vr-32;for(qr=new Uint8Array([Wi(ar[qr-1],ar[qr+0],ar[qr+1]),Wi(ar[qr+0],ar[qr+1],ar[qr+2]),Wi(ar[qr+1],ar[qr+2],ar[qr+3]),Wi(ar[qr+2],ar[qr+3],ar[qr+4])]),Pr=0;4>Pr;++Pr)Ce(ar,vr+32*Pr,qr,0,qr.length)}function UA(ar,vr){var Pr=ar[vr-1],qr=ar[vr-1+32],hn=ar[vr-1+64],pn=ar[vr-1+96];gn(ar,vr+0,16843009*Wi(ar[vr-1-32],Pr,qr)),gn(ar,vr+32,16843009*Wi(Pr,qr,hn)),gn(ar,vr+64,16843009*Wi(qr,hn,pn)),gn(ar,vr+96,16843009*Wi(hn,pn,pn))}function Tl(ar,vr){var Pr,qr=4;for(Pr=0;4>Pr;++Pr)qr+=ar[vr+Pr-32]+ar[vr-1+32*Pr];for(qr>>=3,Pr=0;4>Pr;++Pr)Te(ar,vr+32*Pr,qr,4)}function ho(ar,vr){var Pr=ar[vr-1+0],qr=ar[vr-1+32],hn=ar[vr-1+64],pn=ar[vr-1-32],yn=ar[vr+0-32],xn=ar[vr+1-32],Tn=ar[vr+2-32],Ln=ar[vr+3-32];ar[vr+0+96]=Wi(qr,hn,ar[vr-1+96]),ar[vr+1+96]=ar[vr+0+64]=Wi(Pr,qr,hn),ar[vr+2+96]=ar[vr+1+64]=ar[vr+0+32]=Wi(pn,Pr,qr),ar[vr+3+96]=ar[vr+2+64]=ar[vr+1+32]=ar[vr+0+0]=Wi(yn,pn,Pr),ar[vr+3+64]=ar[vr+2+32]=ar[vr+1+0]=Wi(xn,yn,pn),ar[vr+3+32]=ar[vr+2+0]=Wi(Tn,xn,yn),ar[vr+3+0]=Wi(Ln,Tn,xn)}function hs(ar,vr){var Pr=ar[vr+1-32],qr=ar[vr+2-32],hn=ar[vr+3-32],pn=ar[vr+4-32],yn=ar[vr+5-32],xn=ar[vr+6-32],Tn=ar[vr+7-32];ar[vr+0+0]=Wi(ar[vr+0-32],Pr,qr),ar[vr+1+0]=ar[vr+0+32]=Wi(Pr,qr,hn),ar[vr+2+0]=ar[vr+1+32]=ar[vr+0+64]=Wi(qr,hn,pn),ar[vr+3+0]=ar[vr+2+32]=ar[vr+1+64]=ar[vr+0+96]=Wi(hn,pn,yn),ar[vr+3+32]=ar[vr+2+64]=ar[vr+1+96]=Wi(pn,yn,xn),ar[vr+3+64]=ar[vr+2+96]=Wi(yn,xn,Tn),ar[vr+3+96]=Wi(xn,Tn,Tn)}function qs(ar,vr){var Pr=ar[vr-1+0],qr=ar[vr-1+32],hn=ar[vr-1+64],pn=ar[vr-1-32],yn=ar[vr+0-32],xn=ar[vr+1-32],Tn=ar[vr+2-32],Ln=ar[vr+3-32];ar[vr+0+0]=ar[vr+1+64]=pn+yn+1>>1,ar[vr+1+0]=ar[vr+2+64]=yn+xn+1>>1,ar[vr+2+0]=ar[vr+3+64]=xn+Tn+1>>1,ar[vr+3+0]=Tn+Ln+1>>1,ar[vr+0+96]=Wi(hn,qr,Pr),ar[vr+0+64]=Wi(qr,Pr,pn),ar[vr+0+32]=ar[vr+1+96]=Wi(Pr,pn,yn),ar[vr+1+32]=ar[vr+2+96]=Wi(pn,yn,xn),ar[vr+2+32]=ar[vr+3+96]=Wi(yn,xn,Tn),ar[vr+3+32]=Wi(xn,Tn,Ln)}function So(ar,vr){var Pr=ar[vr+0-32],qr=ar[vr+1-32],hn=ar[vr+2-32],pn=ar[vr+3-32],yn=ar[vr+4-32],xn=ar[vr+5-32],Tn=ar[vr+6-32],Ln=ar[vr+7-32];ar[vr+0+0]=Pr+qr+1>>1,ar[vr+1+0]=ar[vr+0+64]=qr+hn+1>>1,ar[vr+2+0]=ar[vr+1+64]=hn+pn+1>>1,ar[vr+3+0]=ar[vr+2+64]=pn+yn+1>>1,ar[vr+0+32]=Wi(Pr,qr,hn),ar[vr+1+32]=ar[vr+0+96]=Wi(qr,hn,pn),ar[vr+2+32]=ar[vr+1+96]=Wi(hn,pn,yn),ar[vr+3+32]=ar[vr+2+96]=Wi(pn,yn,xn),ar[vr+3+64]=Wi(yn,xn,Tn),ar[vr+3+96]=Wi(xn,Tn,Ln)}function $o(ar,vr){var Pr=ar[vr-1+0],qr=ar[vr-1+32],hn=ar[vr-1+64],pn=ar[vr-1+96];ar[vr+0+0]=Pr+qr+1>>1,ar[vr+2+0]=ar[vr+0+32]=qr+hn+1>>1,ar[vr+2+32]=ar[vr+0+64]=hn+pn+1>>1,ar[vr+1+0]=Wi(Pr,qr,hn),ar[vr+3+0]=ar[vr+1+32]=Wi(qr,hn,pn),ar[vr+3+32]=ar[vr+1+64]=Wi(hn,pn,pn),ar[vr+3+64]=ar[vr+2+64]=ar[vr+0+96]=ar[vr+1+96]=ar[vr+2+96]=ar[vr+3+96]=pn}function lo(ar,vr){var Pr=ar[vr-1+0],qr=ar[vr-1+32],hn=ar[vr-1+64],pn=ar[vr-1+96],yn=ar[vr-1-32],xn=ar[vr+0-32],Tn=ar[vr+1-32],Ln=ar[vr+2-32];ar[vr+0+0]=ar[vr+2+32]=Pr+yn+1>>1,ar[vr+0+32]=ar[vr+2+64]=qr+Pr+1>>1,ar[vr+0+64]=ar[vr+2+96]=hn+qr+1>>1,ar[vr+0+96]=pn+hn+1>>1,ar[vr+3+0]=Wi(xn,Tn,Ln),ar[vr+2+0]=Wi(yn,xn,Tn),ar[vr+1+0]=ar[vr+3+32]=Wi(Pr,yn,xn),ar[vr+1+32]=ar[vr+3+64]=Wi(qr,Pr,yn),ar[vr+1+64]=ar[vr+3+96]=Wi(hn,qr,Pr),ar[vr+1+96]=Wi(pn,hn,qr)}function Rl(ar,vr){var Pr;for(Pr=0;8>Pr;++Pr)Ce(ar,vr+32*Pr,ar,vr-32,8)}function Us(ar,vr){var Pr;for(Pr=0;8>Pr;++Pr)Te(ar,vr,ar[vr-1],8),vr+=32}function zs(ar,vr,Pr){var qr;for(qr=0;8>qr;++qr)Te(vr,Pr+32*qr,ar,8)}function Jo(ar,vr){var Pr,qr=8;for(Pr=0;8>Pr;++Pr)qr+=ar[vr+Pr-32]+ar[vr-1+32*Pr];zs(qr>>4,ar,vr)}function ds(ar,vr){var Pr,qr=4;for(Pr=0;8>Pr;++Pr)qr+=ar[vr+Pr-32];zs(qr>>3,ar,vr)}function ya(ar,vr){var Pr,qr=4;for(Pr=0;8>Pr;++Pr)qr+=ar[vr-1+32*Pr];zs(qr>>3,ar,vr)}function el(ar,vr){zs(128,ar,vr)}function fo(ar,vr,Pr){var qr=ar[vr-Pr],hn=ar[vr+0],pn=3*(hn-qr)+kc[1020+ar[vr-2*Pr]-ar[vr+Pr]],yn=pA[112+(pn+4>>3)];ar[vr-Pr]=Cs[255+qr+pA[112+(pn+3>>3)]],ar[vr+0]=Cs[255+hn-yn]}function tl(ar,vr,Pr,qr){var hn=ar[vr+0],pn=ar[vr+Pr];return Fo[255+ar[vr-2*Pr]-ar[vr-Pr]]>qr||Fo[255+pn-hn]>qr}function rl(ar,vr,Pr,qr){return 4*Fo[255+ar[vr-Pr]-ar[vr+0]]+Fo[255+ar[vr-2*Pr]-ar[vr+Pr]]<=qr}function Mo(ar,vr,Pr,qr,hn){var pn=ar[vr-3*Pr],yn=ar[vr-2*Pr],xn=ar[vr-Pr],Tn=ar[vr+0],Ln=ar[vr+Pr],Gn=ar[vr+2*Pr],Ai=ar[vr+3*Pr];return 4*Fo[255+xn-Tn]+Fo[255+yn-Ln]>qr?0:Fo[255+ar[vr-4*Pr]-pn]<=hn&&Fo[255+pn-yn]<=hn&&Fo[255+yn-xn]<=hn&&Fo[255+Ai-Gn]<=hn&&Fo[255+Gn-Ln]<=hn&&Fo[255+Ln-Tn]<=hn}function Ao(ar,vr,Pr,qr){var hn=2*qr+1;for(qr=0;16>qr;++qr)rl(ar,vr+qr,Pr,hn)&&fo(ar,vr+qr,Pr)}function po(ar,vr,Pr,qr){var hn=2*qr+1;for(qr=0;16>qr;++qr)rl(ar,vr+qr*Pr,1,hn)&&fo(ar,vr+qr*Pr,1)}function Ls(ar,vr,Pr,qr){var hn;for(hn=3;0<hn;--hn)Ao(ar,vr+=4*Pr,Pr,qr)}function Wl(ar,vr,Pr,qr){var hn;for(hn=3;0<hn;--hn)po(ar,vr+=4,Pr,qr)}function Gs(ar,vr,Pr,qr,hn,pn,yn,xn){for(pn=2*pn+1;0<hn--;){if(Mo(ar,vr,Pr,pn,yn))if(tl(ar,vr,Pr,xn))fo(ar,vr,Pr);else{var Tn=ar,Ln=vr,Gn=Pr,Ai=Tn[Ln-2*Gn],Nn=Tn[Ln-Gn],Zn=Tn[Ln+0],ii=Tn[Ln+Gn],vi=Tn[Ln+2*Gn],li=27*(Ei=kc[1020+3*(Zn-Nn)+kc[1020+Ai-ii]])+63>>7,bi=18*Ei+63>>7,Ei=9*Ei+63>>7;Tn[Ln-3*Gn]=Cs[255+Tn[Ln-3*Gn]+Ei],Tn[Ln-2*Gn]=Cs[255+Ai+bi],Tn[Ln-Gn]=Cs[255+Nn+li],Tn[Ln+0]=Cs[255+Zn-li],Tn[Ln+Gn]=Cs[255+ii-bi],Tn[Ln+2*Gn]=Cs[255+vi-Ei]}vr+=qr}}function Os(ar,vr,Pr,qr,hn,pn,yn,xn){for(pn=2*pn+1;0<hn--;){if(Mo(ar,vr,Pr,pn,yn))if(tl(ar,vr,Pr,xn))fo(ar,vr,Pr);else{var Tn=ar,Ln=vr,Gn=Pr,Ai=Tn[Ln-Gn],Nn=Tn[Ln+0],Zn=Tn[Ln+Gn],ii=pA[112+(4+(vi=3*(Nn-Ai))>>3)],vi=pA[112+(vi+3>>3)],li=ii+1>>1;Tn[Ln-2*Gn]=Cs[255+Tn[Ln-2*Gn]+li],Tn[Ln-Gn]=Cs[255+Ai+vi],Tn[Ln+0]=Cs[255+Nn-ii],Tn[Ln+Gn]=Cs[255+Zn-li]}vr+=qr}}function Sr(ar,vr,Pr,qr,hn,pn){Gs(ar,vr,Pr,1,16,qr,hn,pn)}function un(ar,vr,Pr,qr,hn,pn){Gs(ar,vr,1,Pr,16,qr,hn,pn)}function Un(ar,vr,Pr,qr,hn,pn){var yn;for(yn=3;0<yn;--yn)Os(ar,vr+=4*Pr,Pr,1,16,qr,hn,pn)}function Hn(ar,vr,Pr,qr,hn,pn){var yn;for(yn=3;0<yn;--yn)Os(ar,vr+=4,1,Pr,16,qr,hn,pn)}function ei(ar,vr,Pr,qr,hn,pn,yn,xn){Gs(ar,vr,hn,1,8,pn,yn,xn),Gs(Pr,qr,hn,1,8,pn,yn,xn)}function wi(ar,vr,Pr,qr,hn,pn,yn,xn){Gs(ar,vr,1,hn,8,pn,yn,xn),Gs(Pr,qr,1,hn,8,pn,yn,xn)}function Bi(ar,vr,Pr,qr,hn,pn,yn,xn){Os(ar,vr+4*hn,hn,1,8,pn,yn,xn),Os(Pr,qr+4*hn,hn,1,8,pn,yn,xn)}function Li(ar,vr,Pr,qr,hn,pn,yn,xn){Os(ar,vr+4,1,hn,8,pn,yn,xn),Os(Pr,qr+4,1,hn,8,pn,yn,xn)}function Qi(){this.ba=new kr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new xr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Gi(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ji(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Aa(){this.ua=0,this.Wa=new bn,this.vb=new bn,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ur,this.yc=new or}function La(){this.xb=this.a=0,this.l=new Xo,this.ca=new kr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new gr,this.Pb=0,this.wd=new gr,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Aa,this.ab=0,this.gc=Be(4,Ji),this.Oc=0}function Va(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ca(ar,vr,Pr,qr,hn,pn,yn){for(ar=ar==null?0:ar[vr+0],vr=0;vr<yn;++vr)hn[pn+vr]=ar+Pr[qr+vr]&255,ar=hn[pn+vr]}function Wa(ar,vr,Pr,qr,hn,pn,yn){var xn;if(ar==null)Ca(null,null,Pr,qr,hn,pn,yn);else for(xn=0;xn<yn;++xn)hn[pn+xn]=ar[vr+xn]+Pr[qr+xn]&255}function Fa(ar,vr,Pr,qr,hn,pn,yn){if(ar==null)Ca(null,null,Pr,qr,hn,pn,yn);else{var xn,Tn=ar[vr+0],Ln=Tn,Gn=Tn;for(xn=0;xn<yn;++xn)Ln=Gn+(Tn=ar[vr+xn])-Ln,Gn=Pr[qr+xn]+(-256&Ln?0>Ln?0:255:Ln)&255,Ln=Tn,hn[pn+xn]=Gn}}function fs(ar,vr,Pr,qr){var hn=vr.width,pn=vr.o;if(t(ar!=null&&vr!=null),0>Pr||0>=qr||Pr+qr>pn)return null;if(!ar.Cc){if(ar.ga==null){var yn;if(ar.ga=new Va,(yn=ar.ga==null)||(yn=vr.width*vr.o,t(ar.Gb.length==0),ar.Gb=Re(yn),ar.Uc=0,ar.Gb==null?yn=0:(ar.mb=ar.Gb,ar.nb=ar.Uc,ar.rc=null,yn=1),yn=!yn),!yn){yn=ar.ga;var xn=ar.Fa,Tn=ar.P,Ln=ar.qc,Gn=ar.mb,Ai=ar.nb,Nn=Tn+1,Zn=Ln-1,ii=yn.l;if(t(xn!=null&&Gn!=null&&vr!=null),dl[0]=null,dl[1]=Ca,dl[2]=Wa,dl[3]=Fa,yn.ca=Gn,yn.tb=Ai,yn.c=vr.width,yn.i=vr.height,t(0<yn.c&&0<yn.i),1>=Ln)vr=0;else if(yn.$a=3&xn[Tn+0],yn.Z=xn[Tn+0]>>2&3,yn.Lc=xn[Tn+0]>>4&3,Tn=xn[Tn+0]>>6&3,0>yn.$a||1<yn.$a||4<=yn.Z||1<yn.Lc||Tn)vr=0;else if(ii.put=dn,ii.ac=Hr,ii.bc=Qn,ii.ma=yn,ii.width=vr.width,ii.height=vr.height,ii.Da=vr.Da,ii.v=vr.v,ii.va=vr.va,ii.j=vr.j,ii.o=vr.o,yn.$a)e:{t(yn.$a==1),vr=$i();t:for(;;){if(vr==null){vr=0;break e}if(t(yn!=null),yn.mc=vr,vr.c=yn.c,vr.i=yn.i,vr.l=yn.l,vr.l.ma=yn,vr.l.width=yn.c,vr.l.height=yn.i,vr.a=0,Nr(vr.m,xn,Nn,Zn),!oa(yn.c,yn.i,1,vr,null)||(vr.ab==1&&vr.gc[0].hc==3&&yi(vr.s)?(yn.ic=1,xn=vr.c*vr.i,vr.Ta=null,vr.Ua=0,vr.V=Re(xn),vr.Ba=0,vr.V==null?(vr.a=1,vr=0):vr=1):(yn.ic=0,vr=Za(vr,yn.c)),!vr))break t;vr=1;break e}yn.mc=null,vr=0}else vr=Zn>=yn.c*yn.i;yn=!vr}if(yn)return null;ar.ga.Lc!=1?ar.Ga=0:qr=pn-Pr}t(ar.ga!=null),t(Pr+qr<=pn);e:{if(vr=(xn=ar.ga).c,pn=xn.l.o,xn.$a==0){if(Nn=ar.rc,Zn=ar.Vc,ii=ar.Fa,Tn=ar.P+1+Pr*vr,Ln=ar.mb,Gn=ar.nb+Pr*vr,t(Tn<=ar.P+ar.qc),xn.Z!=0)for(t(dl[xn.Z]!=null),yn=0;yn<qr;++yn)dl[xn.Z](Nn,Zn,ii,Tn,Ln,Gn,vr),Nn=Ln,Zn=Gn,Gn+=vr,Tn+=vr;else for(yn=0;yn<qr;++yn)Ce(Ln,Gn,ii,Tn,vr),Nn=Ln,Zn=Gn,Gn+=vr,Tn+=vr;ar.rc=Nn,ar.Vc=Zn}else{if(t(xn.mc!=null),vr=Pr+qr,t((yn=xn.mc)!=null),t(vr<=yn.i),yn.C>=vr)vr=1;else if(xn.ic||ss(),xn.ic){xn=yn.V,Nn=yn.Ba,Zn=yn.c;var vi=yn.i,li=(ii=1,Tn=yn.$/Zn,Ln=yn.$%Zn,Gn=yn.m,Ai=yn.s,yn.$),bi=Zn*vi,Ei=Zn*vr,Pi=Ai.wc,Ti=li<Ei?mi(Ai,Ln,Tn):null;t(li<=bi),t(vr<=vi),t(yi(Ai));t:for(;;){for(;!Gn.h&&li<Ei;){if(Ln&Pi||(Ti=mi(Ai,Ln,Tn)),t(Ti!=null),Qr(Gn),256>(vi=hi(Ti.G[0],Ti.H[0],Gn)))xn[Nn+li]=vi,++li,++Ln>=Zn&&(Ln=0,++Tn<=vr&&!(Tn%16)&&Fi(yn,Tn));else{if(!(280>vi)){ii=0;break t}vi=On(vi-256,Gn);var Ki,ki=hi(Ti.G[4],Ti.H[4],Gn);if(Qr(Gn),!(li>=(ki=zn(Zn,ki=On(ki,Gn)))&&bi-li>=vi)){ii=0;break t}for(Ki=0;Ki<vi;++Ki)xn[Nn+li+Ki]=xn[Nn+li+Ki-ki];for(li+=vi,Ln+=vi;Ln>=Zn;)Ln-=Zn,++Tn<=vr&&!(Tn%16)&&Fi(yn,Tn);li<Ei&&Ln&Pi&&(Ti=mi(Ai,Ln,Tn))}t(Gn.h==Rr(Gn))}Fi(yn,Tn>vr?vr:Tn);break t}!ii||Gn.h&&li<bi?(ii=0,yn.a=Gn.h?5:3):yn.$=li,vr=ii}else vr=Di(yn,yn.V,yn.Ba,yn.c,yn.i,vr,ja);if(!vr){qr=0;break e}}Pr+qr>=pn&&(ar.Cc=1),qr=1}if(!qr)return null;if(ar.Cc&&((qr=ar.ga)!=null&&(qr.mc=null),ar.ga=null,0<ar.Ga))return alert("todo:WebPDequantizeLevels"),null}return ar.nb+Pr*hn}function To(ar,vr,Pr,qr,hn,pn){for(;0<hn--;){var yn,xn=ar,Tn=vr+(Pr?1:0),Ln=ar,Gn=vr+(Pr?0:3);for(yn=0;yn<qr;++yn){var Ai=Ln[Gn+4*yn];Ai!=255&&(Ai*=32897,xn[Tn+4*yn+0]=xn[Tn+4*yn+0]*Ai>>23,xn[Tn+4*yn+1]=xn[Tn+4*yn+1]*Ai>>23,xn[Tn+4*yn+2]=xn[Tn+4*yn+2]*Ai>>23)}vr+=pn}}function jo(ar,vr,Pr,qr,hn){for(;0<qr--;){var pn;for(pn=0;pn<Pr;++pn){var yn=ar[vr+2*pn+0],xn=15&(Ln=ar[vr+2*pn+1]),Tn=4369*xn,Ln=(240&Ln|Ln>>4)*Tn>>16;ar[vr+2*pn+0]=(240&yn|yn>>4)*Tn>>16&240|(15&yn|yn<<4)*Tn>>16>>4&15,ar[vr+2*pn+1]=240&Ln|xn}vr+=hn}}function LA(ar,vr,Pr,qr,hn,pn,yn,xn){var Tn,Ln,Gn=255;for(Ln=0;Ln<hn;++Ln){for(Tn=0;Tn<qr;++Tn){var Ai=ar[vr+Tn];pn[yn+4*Tn]=Ai,Gn&=Ai}vr+=Pr,yn+=xn}return Gn!=255}function Bl(ar,vr,Pr,qr,hn){var pn;for(pn=0;pn<hn;++pn)Pr[qr+pn]=ar[vr+pn]>>8}function ss(){jA=To,mo=jo,vo=LA,dA=Bl}function co(ar,vr,Pr){ir[ar]=function(qr,hn,pn,yn,xn,Tn,Ln,Gn,Ai,Nn,Zn,ii,vi,li,bi,Ei,Pi){var Ti,Ki=Pi-1>>1,ki=xn[Tn+0]|Ln[Gn+0]<<16,ra=Ai[Nn+0]|Zn[ii+0]<<16;t(qr!=null);var Mi=3*ki+ra+131074>>2;for(vr(qr[hn+0],255&Mi,Mi>>16,vi,li),pn!=null&&(Mi=3*ra+ki+131074>>2,vr(pn[yn+0],255&Mi,Mi>>16,bi,Ei)),Ti=1;Ti<=Ki;++Ti){var fa=xn[Tn+Ti]|Ln[Gn+Ti]<<16,ps=Ai[Nn+Ti]|Zn[ii+Ti]<<16,ea=ki+fa+ra+ps+524296,ji=ea+2*(fa+ra)>>3;Mi=ji+ki>>1,ki=(ea=ea+2*(ki+ps)>>3)+fa>>1,vr(qr[hn+2*Ti-1],255&Mi,Mi>>16,vi,li+(2*Ti-1)*Pr),vr(qr[hn+2*Ti-0],255&ki,ki>>16,vi,li+(2*Ti-0)*Pr),pn!=null&&(Mi=ea+ra>>1,ki=ji+ps>>1,vr(pn[yn+2*Ti-1],255&Mi,Mi>>16,bi,Ei+(2*Ti-1)*Pr),vr(pn[yn+2*Ti+0],255&ki,ki>>16,bi,Ei+(2*Ti+0)*Pr)),ki=fa,ra=ps}1&Pi||(Mi=3*ki+ra+131074>>2,vr(qr[hn+Pi-1],255&Mi,Mi>>16,vi,li+(Pi-1)*Pr),pn!=null&&(Mi=3*ra+ki+131074>>2,vr(pn[yn+Pi-1],255&Mi,Mi>>16,bi,Ei+(Pi-1)*Pr)))}}function Xl(){Ss[ks]=Ll,Ss[VA]=pl,Ss[ul]=rA,Ss[gc]=Vc,Ss[gA]=Qc,Ss[Fl]=KA,Ss[Mc]=Hc,Ss[mc]=pl,Ss[eA]=Vc,Ss[Il]=Qc,Ss[QA]=KA}function Ws(ar){return ar&-16384?0>ar?0:255:ar>>Rd}function sr(ar,vr){return Ws((19077*ar>>8)+(26149*vr>>8)-14234)}function Dr(ar,vr,Pr){return Ws((19077*ar>>8)-(6419*vr>>8)-(13320*Pr>>8)+8708)}function Xr(ar,vr){return Ws((19077*ar>>8)+(33050*vr>>8)-17685)}function Cn(ar,vr,Pr,qr,hn){qr[hn+0]=sr(ar,Pr),qr[hn+1]=Dr(ar,vr,Pr),qr[hn+2]=Xr(ar,vr)}function ni(ar,vr,Pr,qr,hn){qr[hn+0]=Xr(ar,vr),qr[hn+1]=Dr(ar,vr,Pr),qr[hn+2]=sr(ar,Pr)}function gi(ar,vr,Pr,qr,hn){var pn=Dr(ar,vr,Pr);vr=pn<<3&224|Xr(ar,vr)>>3,qr[hn+0]=248&sr(ar,Pr)|pn>>5,qr[hn+1]=vr}function Ii(ar,vr,Pr,qr,hn){var pn=240&Xr(ar,vr)|15;qr[hn+0]=240&sr(ar,Pr)|Dr(ar,vr,Pr)>>4,qr[hn+1]=pn}function ca(ar,vr,Pr,qr,hn){qr[hn+0]=255,Cn(ar,vr,Pr,qr,hn+1)}function qa(ar,vr,Pr,qr,hn){ni(ar,vr,Pr,qr,hn),qr[hn+3]=255}function ua(ar,vr,Pr,qr,hn){Cn(ar,vr,Pr,qr,hn),qr[hn+3]=255}function da(ar,vr){return 0>ar?0:ar>vr?vr:ar}function Ra(ar,vr,Pr){ir[ar]=function(qr,hn,pn,yn,xn,Tn,Ln,Gn,Ai){for(var Nn=Gn+(-2&Ai)*Pr;Gn!=Nn;)vr(qr[hn+0],pn[yn+0],xn[Tn+0],Ln,Gn),vr(qr[hn+1],pn[yn+0],xn[Tn+0],Ln,Gn+Pr),hn+=2,++yn,++Tn,Gn+=2*Pr;1&Ai&&vr(qr[hn+0],pn[yn+0],xn[Tn+0],Ln,Gn)}}function go(ar,vr,Pr){return Pr==0?ar==0?vr==0?6:5:vr==0?4:0:Pr}function os(ar,vr,Pr,qr,hn){switch(ar>>>30){case 3:Xa(vr,Pr,qr,hn,0);break;case 2:cl(vr,Pr,qr,hn);break;case 1:Zs(vr,Pr,qr,hn)}}function Bs(ar,vr){var Pr,qr,hn=vr.M,pn=vr.Nb,yn=ar.oc,xn=ar.pc+40,Tn=ar.oc,Ln=ar.pc+584,Gn=ar.oc,Ai=ar.pc+600;for(Pr=0;16>Pr;++Pr)yn[xn+32*Pr-1]=129;for(Pr=0;8>Pr;++Pr)Tn[Ln+32*Pr-1]=129,Gn[Ai+32*Pr-1]=129;for(0<hn?yn[xn-1-32]=Tn[Ln-1-32]=Gn[Ai-1-32]=129:(Te(yn,xn-32-1,127,21),Te(Tn,Ln-32-1,127,9),Te(Gn,Ai-32-1,127,9)),qr=0;qr<ar.za;++qr){var Nn=vr.ya[vr.aa+qr];if(0<qr){for(Pr=-1;16>Pr;++Pr)Ce(yn,xn+32*Pr-4,yn,xn+32*Pr+12,4);for(Pr=-1;8>Pr;++Pr)Ce(Tn,Ln+32*Pr-4,Tn,Ln+32*Pr+4,4),Ce(Gn,Ai+32*Pr-4,Gn,Ai+32*Pr+4,4)}var Zn=ar.Gd,ii=ar.Hd+qr,vi=Nn.ad,li=Nn.Hc;if(0<hn&&(Ce(yn,xn-32,Zn[ii].y,0,16),Ce(Tn,Ln-32,Zn[ii].f,0,8),Ce(Gn,Ai-32,Zn[ii].ea,0,8)),Nn.Za){var bi=yn,Ei=xn-32+16;for(0<hn&&(qr>=ar.za-1?Te(bi,Ei,Zn[ii].y[15],4):Ce(bi,Ei,Zn[ii+1].y,0,4)),Pr=0;4>Pr;Pr++)bi[Ei+128+Pr]=bi[Ei+256+Pr]=bi[Ei+384+Pr]=bi[Ei+0+Pr];for(Pr=0;16>Pr;++Pr,li<<=2)bi=yn,Ei=xn+yA[Pr],$s[Nn.Ob[Pr]](bi,Ei),os(li,vi,16*+Pr,bi,Ei)}else if(bi=go(qr,hn,Nn.Ob[0]),Ul[bi](yn,xn),li!=0)for(Pr=0;16>Pr;++Pr,li<<=2)os(li,vi,16*+Pr,yn,xn+yA[Pr]);for(Pr=Nn.Gc,bi=go(qr,hn,Nn.Dd),yo[bi](Tn,Ln),yo[bi](Gn,Ai),li=vi,bi=Tn,Ei=Ln,255&(Nn=0|Pr)&&(170&Nn?Bo(li,256,bi,Ei):hA(li,256,bi,Ei)),Nn=Gn,li=Ai,255&(Pr>>=8)&&(170&Pr?Bo(vi,320,Nn,li):hA(vi,320,Nn,li)),hn<ar.Ub-1&&(Ce(Zn[ii].y,0,yn,xn+480,16),Ce(Zn[ii].f,0,Tn,Ln+224,8),Ce(Zn[ii].ea,0,Gn,Ai+224,8)),Pr=8*pn*ar.B,Zn=ar.sa,ii=ar.ta+16*qr+16*pn*ar.R,vi=ar.qa,Nn=ar.ra+8*qr+Pr,li=ar.Ha,bi=ar.Ia+8*qr+Pr,Pr=0;16>Pr;++Pr)Ce(Zn,ii+Pr*ar.R,yn,xn+32*Pr,16);for(Pr=0;8>Pr;++Pr)Ce(vi,Nn+Pr*ar.B,Tn,Ln+32*Pr,8),Ce(li,bi+Pr*ar.B,Gn,Ai+32*Pr,8)}}function nl(ar,vr,Pr,qr,hn,pn,yn,xn,Tn){var Ln=[0],Gn=[0],Ai=0,Nn=Tn!=null?Tn.kd:0,Zn=Tn??new Gi;if(ar==null||12>Pr)return 7;Zn.data=ar,Zn.w=vr,Zn.ha=Pr,vr=[vr],Pr=[Pr],Zn.gb=[Zn.gb];e:{var ii=vr,vi=Pr,li=Zn.gb;if(t(ar!=null),t(vi!=null),t(li!=null),li[0]=0,12<=vi[0]&&!n(ar,ii[0],"RIFF")){if(n(ar,ii[0]+8,"WEBP")){li=3;break e}var bi=wn(ar,ii[0]+4);if(12>bi||4294967286<bi){li=3;break e}if(Nn&&bi>vi[0]-8){li=7;break e}li[0]=bi,ii[0]+=12,vi[0]-=12}li=0}if(li!=0)return li;for(bi=0<Zn.gb[0],Pr=Pr[0];;){e:{var Ei=ar;vi=vr,li=Pr;var Pi=Ln,Ti=Gn,Ki=ii=[0];if((Mi=Ai=[Ai])[0]=0,8>li[0])li=7;else{if(!n(Ei,vi[0],"VP8X")){if(wn(Ei,vi[0]+4)!=10){li=3;break e}if(18>li[0]){li=7;break e}var ki=wn(Ei,vi[0]+8),ra=1+Fn(Ei,vi[0]+12);if(2147483648<=ra*(Ei=1+Fn(Ei,vi[0]+15))){li=3;break e}Ki!=null&&(Ki[0]=ki),Pi!=null&&(Pi[0]=ra),Ti!=null&&(Ti[0]=Ei),vi[0]+=18,li[0]-=18,Mi[0]=1}li=0}}if(Ai=Ai[0],ii=ii[0],li!=0)return li;if(vi=!!(2&ii),!bi&&Ai)return 3;if(pn!=null&&(pn[0]=!!(16&ii)),yn!=null&&(yn[0]=vi),xn!=null&&(xn[0]=0),yn=Ln[0],ii=Gn[0],Ai&&vi&&Tn==null){li=0;break}if(4>Pr){li=7;break}if(bi&&Ai||!bi&&!Ai&&!n(ar,vr[0],"ALPH")){Pr=[Pr],Zn.na=[Zn.na],Zn.P=[Zn.P],Zn.Sa=[Zn.Sa];e:{ki=ar,li=vr,bi=Pr;var Mi=Zn.gb;Pi=Zn.na,Ti=Zn.P,Ki=Zn.Sa,ra=22,t(ki!=null),t(bi!=null),Ei=li[0];var fa=bi[0];for(t(Pi!=null),t(Ki!=null),Pi[0]=null,Ti[0]=null,Ki[0]=0;;){if(li[0]=Ei,bi[0]=fa,8>fa){li=7;break e}var ps=wn(ki,Ei+4);if(4294967286<ps){li=3;break e}var ea=8+ps+1&-2;if(ra+=ea,0<Mi&&ra>Mi){li=3;break e}if(!n(ki,Ei,"VP8 ")||!n(ki,Ei,"VP8L")){li=0;break e}if(fa[0]<ea){li=7;break e}n(ki,Ei,"ALPH")||(Pi[0]=ki,Ti[0]=Ei+8,Ki[0]=ps),Ei+=ea,fa-=ea}}if(Pr=Pr[0],Zn.na=Zn.na[0],Zn.P=Zn.P[0],Zn.Sa=Zn.Sa[0],li!=0)break}Pr=[Pr],Zn.Ja=[Zn.Ja],Zn.xa=[Zn.xa];e:if(Mi=ar,li=vr,bi=Pr,Pi=Zn.gb[0],Ti=Zn.Ja,Ki=Zn.xa,ki=li[0],Ei=!n(Mi,ki,"VP8 "),ra=!n(Mi,ki,"VP8L"),t(Mi!=null),t(bi!=null),t(Ti!=null),t(Ki!=null),8>bi[0])li=7;else{if(Ei||ra){if(Mi=wn(Mi,ki+4),12<=Pi&&Mi>Pi-12){li=3;break e}if(Nn&&Mi>bi[0]-8){li=7;break e}Ti[0]=Mi,li[0]+=8,bi[0]-=8,Ki[0]=ra}else Ki[0]=5<=bi[0]&&Mi[ki+0]==47&&!(Mi[ki+4]>>5),Ti[0]=bi[0];li=0}if(Pr=Pr[0],Zn.Ja=Zn.Ja[0],Zn.xa=Zn.xa[0],vr=vr[0],li!=0)break;if(4294967286<Zn.Ja)return 3;if(xn==null||vi||(xn[0]=Zn.xa?2:1),yn=[yn],ii=[ii],Zn.xa){if(5>Pr){li=7;break}xn=yn,Nn=ii,vi=pn,ar==null||5>Pr?ar=0:5<=Pr&&ar[vr+0]==47&&!(ar[vr+4]>>5)?(bi=[0],Mi=[0],Pi=[0],Nr(Ti=new gr,ar,vr,Pr),kn(Ti,bi,Mi,Pi)?(xn!=null&&(xn[0]=bi[0]),Nn!=null&&(Nn[0]=Mi[0]),vi!=null&&(vi[0]=Pi[0]),ar=1):ar=0):ar=0}else{if(10>Pr){li=7;break}xn=ii,ar==null||10>Pr||!zl(ar,vr+3,Pr-3)?ar=0:(Nn=ar[vr+0]|ar[vr+1]<<8|ar[vr+2]<<16,vi=16383&(ar[vr+7]<<8|ar[vr+6]),ar=16383&(ar[vr+9]<<8|ar[vr+8]),1&Nn||3<(Nn>>1&7)||!(Nn>>4&1)||Nn>>5>=Zn.Ja||!vi||!ar?ar=0:(yn&&(yn[0]=vi),xn&&(xn[0]=ar),ar=1))}if(!ar||(yn=yn[0],ii=ii[0],Ai&&(Ln[0]!=yn||Gn[0]!=ii)))return 3;Tn!=null&&(Tn[0]=Zn,Tn.offset=vr-Tn.w,t(4294967286>vr-Tn.w),t(Tn.offset==Tn.ha-Pr));break}return li==0||li==7&&Ai&&Tn==null?(pn!=null&&(pn[0]|=Zn.na!=null&&0<Zn.na.length),qr!=null&&(qr[0]=yn),hn!=null&&(hn[0]=ii),0):li}function Ps(ar,vr,Pr){var qr=vr.width,hn=vr.height,pn=0,yn=0,xn=qr,Tn=hn;if(vr.Da=ar!=null&&0<ar.Da,vr.Da&&(xn=ar.cd,Tn=ar.bd,pn=ar.v,yn=ar.j,11>Pr||(pn&=-2,yn&=-2),0>pn||0>yn||0>=xn||0>=Tn||pn+xn>qr||yn+Tn>hn))return 0;if(vr.v=pn,vr.j=yn,vr.va=pn+xn,vr.o=yn+Tn,vr.U=xn,vr.T=Tn,vr.da=ar!=null&&0<ar.da,vr.da){if(!zr(xn,Tn,Pr=[ar.ib],pn=[ar.hb]))return 0;vr.ib=Pr[0],vr.hb=pn[0]}return vr.ob=ar!=null&&ar.ob,vr.Kb=ar==null||!ar.Sd,vr.da&&(vr.ob=vr.ib<3*qr/4&&vr.hb<3*hn/4,vr.Kb=0),1}function Xs(ar){if(ar==null)return 2;if(11>ar.S){var vr=ar.f.RGBA;vr.fb+=(ar.height-1)*vr.A,vr.A=-vr.A}else vr=ar.f.kb,ar=ar.height,vr.O+=(ar-1)*vr.fa,vr.fa=-vr.fa,vr.N+=(ar-1>>1)*vr.Ab,vr.Ab=-vr.Ab,vr.W+=(ar-1>>1)*vr.Db,vr.Db=-vr.Db,vr.F!=null&&(vr.J+=(ar-1)*vr.lb,vr.lb=-vr.lb);return 0}function Yl(ar,vr,Pr,qr){if(qr==null||0>=ar||0>=vr)return 2;if(Pr!=null){if(Pr.Da){var hn=Pr.cd,pn=Pr.bd,yn=-2&Pr.v,xn=-2&Pr.j;if(0>yn||0>xn||0>=hn||0>=pn||yn+hn>ar||xn+pn>vr)return 2;ar=hn,vr=pn}if(Pr.da){if(!zr(ar,vr,hn=[Pr.ib],pn=[Pr.hb]))return 2;ar=hn[0],vr=pn[0]}}qr.width=ar,qr.height=vr;e:{var Tn=qr.width,Ln=qr.height;if(ar=qr.S,0>=Tn||0>=Ln||!(ar>=ks&&13>ar))ar=2;else{if(0>=qr.Rd&&qr.sd==null){yn=pn=hn=vr=0;var Gn=(xn=Tn*Eh[ar])*Ln;if(11>ar||(pn=(Ln+1)/2*(vr=(Tn+1)/2),ar==12&&(yn=(hn=Tn)*Ln)),(Ln=Re(Gn+2*pn+yn))==null){ar=1;break e}qr.sd=Ln,11>ar?((Tn=qr.f.RGBA).eb=Ln,Tn.fb=0,Tn.A=xn,Tn.size=Gn):((Tn=qr.f.kb).y=Ln,Tn.O=0,Tn.fa=xn,Tn.Fd=Gn,Tn.f=Ln,Tn.N=0+Gn,Tn.Ab=vr,Tn.Cd=pn,Tn.ea=Ln,Tn.W=0+Gn+pn,Tn.Db=vr,Tn.Ed=pn,ar==12&&(Tn.F=Ln,Tn.J=0+Gn+2*pn),Tn.Tc=yn,Tn.lb=hn)}if(vr=1,hn=qr.S,pn=qr.width,yn=qr.height,hn>=ks&&13>hn)if(11>hn)ar=qr.f.RGBA,vr&=(xn=Math.abs(ar.A))*(yn-1)+pn<=ar.size,vr&=xn>=pn*Eh[hn],vr&=ar.eb!=null;else{ar=qr.f.kb,xn=(pn+1)/2,Gn=(yn+1)/2,Tn=Math.abs(ar.fa),Ln=Math.abs(ar.Ab);var Ai=Math.abs(ar.Db),Nn=Math.abs(ar.lb),Zn=Nn*(yn-1)+pn;vr&=Tn*(yn-1)+pn<=ar.Fd,vr&=Ln*(Gn-1)+xn<=ar.Cd,vr=(vr&=Ai*(Gn-1)+xn<=ar.Ed)&Tn>=pn&Ln>=xn&Ai>=xn,vr&=ar.y!=null,vr&=ar.f!=null,vr&=ar.ea!=null,hn==12&&(vr&=Nn>=pn,vr&=Zn<=ar.Tc,vr&=ar.F!=null)}else vr=0;ar=vr?0:2}}return ar!=0||Pr!=null&&Pr.fd&&(ar=Xs(qr)),ar}var Ro=64,il=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],OA=24,Pl=32,$a=8,pu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pn("Predictor0","PredictorAdd0"),ir.Predictor0=function(){return 4278190080},ir.Predictor1=function(ar){return ar},ir.Predictor2=function(ar,vr,Pr){return vr[Pr+0]},ir.Predictor3=function(ar,vr,Pr){return vr[Pr+1]},ir.Predictor4=function(ar,vr,Pr){return vr[Pr-1]},ir.Predictor5=function(ar,vr,Pr){return Kn(Kn(ar,vr[Pr+1]),vr[Pr+0])},ir.Predictor6=function(ar,vr,Pr){return Kn(ar,vr[Pr-1])},ir.Predictor7=function(ar,vr,Pr){return Kn(ar,vr[Pr+0])},ir.Predictor8=function(ar,vr,Pr){return Kn(vr[Pr-1],vr[Pr+0])},ir.Predictor9=function(ar,vr,Pr){return Kn(vr[Pr+0],vr[Pr+1])},ir.Predictor10=function(ar,vr,Pr){return Kn(Kn(ar,vr[Pr-1]),Kn(vr[Pr+0],vr[Pr+1]))},ir.Predictor11=function(ar,vr,Pr){var qr=vr[Pr+0];return 0>=$n(qr>>24&255,ar>>24&255,(vr=vr[Pr-1])>>24&255)+$n(qr>>16&255,ar>>16&255,vr>>16&255)+$n(qr>>8&255,ar>>8&255,vr>>8&255)+$n(255&qr,255&ar,255&vr)?qr:ar},ir.Predictor12=function(ar,vr,Pr){var qr=vr[Pr+0];return(Xn((ar>>24&255)+(qr>>24&255)-((vr=vr[Pr-1])>>24&255))<<24|Xn((ar>>16&255)+(qr>>16&255)-(vr>>16&255))<<16|Xn((ar>>8&255)+(qr>>8&255)-(vr>>8&255))<<8|Xn((255&ar)+(255&qr)-(255&vr)))>>>0},ir.Predictor13=function(ar,vr,Pr){var qr=vr[Pr-1];return(In((ar=Kn(ar,vr[Pr+0]))>>24&255,qr>>24&255)<<24|In(ar>>16&255,qr>>16&255)<<16|In(ar>>8&255,qr>>8&255)<<8|In(255&ar,255&qr))>>>0};var al=ir.PredictorAdd0;ir.PredictorAdd1=Yn,Pn("Predictor2","PredictorAdd2"),Pn("Predictor3","PredictorAdd3"),Pn("Predictor4","PredictorAdd4"),Pn("Predictor5","PredictorAdd5"),Pn("Predictor6","PredictorAdd6"),Pn("Predictor7","PredictorAdd7"),Pn("Predictor8","PredictorAdd8"),Pn("Predictor9","PredictorAdd9"),Pn("Predictor10","PredictorAdd10"),Pn("Predictor11","PredictorAdd11"),Pn("Predictor12","PredictorAdd12"),Pn("Predictor13","PredictorAdd13");var sl=ir.PredictorAdd2;dr("ColorIndexInverseTransform","MapARGB","32b",function(ar){return ar>>8&255},function(ar){return ar}),dr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(ar){return ar},function(ar){return ar>>8&255});var kA,dc=ir.ColorIndexInverseTransform,xs=ir.MapARGB,ol=ir.VP8LColorIndexInverseTransformAlpha,Zl=ir.MapAlpha,$l=ir.VP8LPredictorsAdd=[];$l.length=16,(ir.VP8LPredictors=[]).length=16,(ir.VP8LPredictorsAdd_C=[]).length=16,(ir.VP8LPredictors_C=[]).length=16;var ll,MA,Ys,Al,Sa,Ia,Qa,Xa,cl,Bo,Zs,hA,gu,Jl,mu,vu,_u,dh,fh,ph,yu,Eu,Uc,Po,jA,mo,vo,dA,Lc=Re(511),fc=Re(2041),pc=Re(225),Oc=Re(767),fA=0,kc=fc,pA=pc,Cs=Oc,Fo=Lc,ks=0,VA=1,ul=2,gc=3,gA=4,Fl=5,Mc=6,mc=7,eA=8,Il=9,QA=10,jc=[2,3,7],Io=[3,3,11],_o=[280,256,256,256,40],mA=[0,1,1,1,0],Dl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Nl=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],vA=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],gh=8,vc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_c=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ms=null,Ja=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ta=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],tA=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],hl=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],bu=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_A=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],mh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ul=[],$s=[],yo=[],vh=1,HA=2,dl=[],Ss=[];co("UpsampleRgbLinePair",Cn,3),co("UpsampleBgrLinePair",ni,3),co("UpsampleRgbaLinePair",ua,4),co("UpsampleBgraLinePair",qa,4),co("UpsampleArgbLinePair",ca,4),co("UpsampleRgba4444LinePair",Ii,2),co("UpsampleRgb565LinePair",gi,2);var Ll=ir.UpsampleRgbLinePair,rA=ir.UpsampleBgrLinePair,pl=ir.UpsampleRgbaLinePair,Vc=ir.UpsampleBgraLinePair,Qc=ir.UpsampleArgbLinePair,KA=ir.UpsampleRgba4444LinePair,Hc=ir.UpsampleRgb565LinePair,gl=16,vs=1<<gl-1,nA=-227,Kc=482,Rd=6,_h=0,Bd=Re(256),_s=Re(256),wu=Re(256),yc=Re(256),Ec=Re(Kc-nA),xu=Re(Kc-nA);Ra("YuvToRgbRow",Cn,3),Ra("YuvToBgrRow",ni,3),Ra("YuvToRgbaRow",ua,4),Ra("YuvToBgraRow",qa,4),Ra("YuvToArgbRow",ca,4),Ra("YuvToRgba4444Row",Ii,2),Ra("YuvToRgb565Row",gi,2);var yA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ol=[0,2,8],Pd=[8,7,6,4,4,2,2,2,1,1,1,1],yh=1;this.WebPDecodeRGBA=function(ar,vr,Pr,qr,hn){var pn=VA,yn=new Qi,xn=new kr;yn.ba=xn,xn.S=pn,xn.width=[xn.width],xn.height=[xn.height];var Tn=xn.width,Ln=xn.height,Gn=new rr;if(Gn==null||ar==null)var Ai=2;else t(Gn!=null),Ai=nl(ar,vr,Pr,Gn.width,Gn.height,Gn.Pd,Gn.Qd,Gn.format,null);if(Ai!=0?Tn=0:(Tn!=null&&(Tn[0]=Gn.width[0]),Ln!=null&&(Ln[0]=Gn.height[0]),Tn=1),Tn){xn.width=xn.width[0],xn.height=xn.height[0],qr!=null&&(qr[0]=xn.width),hn!=null&&(hn[0]=xn.height);e:{if(qr=new Xo,(hn=new Gi).data=ar,hn.w=vr,hn.ha=Pr,hn.kd=1,vr=[0],t(hn!=null),((ar=nl(hn.data,hn.w,hn.ha,null,null,null,vr,null,hn))==0||ar==7)&&vr[0]&&(ar=4),(vr=ar)==0){if(t(yn!=null),qr.data=hn.data,qr.w=hn.w+hn.offset,qr.ha=hn.ha-hn.offset,qr.put=dn,qr.ac=Hr,qr.bc=Qn,qr.ma=yn,hn.xa){if((ar=$i())==null){yn=1;break e}if((function(Nn,Zn){var ii=[0],vi=[0],li=[0];t:for(;;){if(Nn==null)return 0;if(Zn==null)return Nn.a=2,0;if(Nn.l=Zn,Nn.a=0,Nr(Nn.m,Zn.data,Zn.w,Zn.ha),!kn(Nn.m,ii,vi,li)){Nn.a=3;break t}if(Nn.xb=HA,Zn.width=ii[0],Zn.height=vi[0],!oa(ii[0],vi[0],1,Nn,null))break t;return 1}return t(Nn.a!=0),0})(ar,qr)){if(qr=(vr=Yl(qr.width,qr.height,yn.Oa,yn.ba))==0){t:{qr=ar;r:for(;;){if(qr==null){qr=0;break t}if(t(qr.s.yc!=null),t(qr.s.Ya!=null),t(0<qr.s.Wb),t((Pr=qr.l)!=null),t((hn=Pr.ma)!=null),qr.xb!=0){if(qr.ca=hn.ba,qr.tb=hn.tb,t(qr.ca!=null),!Ps(hn.Oa,Pr,gc)){qr.a=2;break r}if(!Za(qr,Pr.width)||Pr.da)break r;if((Pr.da||Mn(qr.ca.S))&&ss(),11>qr.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),qr.ca.f.kb.F!=null&&ss()),qr.Pb&&0<qr.s.ua&&qr.s.vb.X==null&&!Yr(qr.s.vb,qr.s.Wa.Xa)){qr.a=1;break r}qr.xb=0}if(!Di(qr,qr.V,qr.Ba,qr.c,qr.i,Pr.o,ui))break r;hn.Dc=qr.Ma,qr=1;break t}t(qr.a!=0),qr=0}qr=!qr}qr&&(vr=ar.a)}else vr=ar.a}else{if((ar=new ql)==null){yn=1;break e}if(ar.Fa=hn.na,ar.P=hn.P,ar.qc=hn.Sa,NA(ar,qr)){if((vr=Yl(qr.width,qr.height,yn.Oa,yn.ba))==0){if(ar.Aa=0,Pr=yn.Oa,t((hn=ar)!=null),Pr!=null){if(0<(Tn=0>(Tn=Pr.Md)?0:100<Tn?255:255*Tn/100)){for(Ln=Gn=0;4>Ln;++Ln)12>(Ai=hn.pb[Ln]).lc&&(Ai.ia=Tn*Pd[0>Ai.lc?0:Ai.lc]>>3),Gn|=Ai.ia;Gn&&(alert("todo:VP8InitRandom"),hn.ia=1)}hn.Ga=Pr.Id,100<hn.Ga?hn.Ga=100:0>hn.Ga&&(hn.Ga=0)}(function(Nn,Zn){if(Nn==null)return 0;if(Zn==null)return va(Nn,2,"NULL VP8Io parameter in VP8Decode().");if(!Nn.cb&&!NA(Nn,Zn))return 0;if(t(Nn.cb),Zn.ac==null||Zn.ac(Zn)){Zn.ob&&(Nn.L=0);var ii=Ol[Nn.L];if(Nn.L==2?(Nn.yb=0,Nn.zb=0):(Nn.yb=Zn.v-ii>>4,Nn.zb=Zn.j-ii>>4,0>Nn.yb&&(Nn.yb=0),0>Nn.zb&&(Nn.zb=0)),Nn.Va=Zn.o+15+ii>>4,Nn.Hb=Zn.va+15+ii>>4,Nn.Hb>Nn.za&&(Nn.Hb=Nn.za),Nn.Va>Nn.Ub&&(Nn.Va=Nn.Ub),0<Nn.L){var vi=Nn.ed;for(ii=0;4>ii;++ii){var li;if(Nn.Qa.Cb){var bi=Nn.Qa.Lb[ii];Nn.Qa.Fb||(bi+=vi.Tb)}else bi=vi.Tb;for(li=0;1>=li;++li){var Ei=Nn.gd[ii][li],Pi=bi;if(vi.Pc&&(Pi+=vi.vd[0],li&&(Pi+=vi.od[0])),0<(Pi=0>Pi?0:63<Pi?63:Pi)){var Ti=Pi;0<vi.wb&&(Ti=4<vi.wb?Ti>>2:Ti>>1)>9-vi.wb&&(Ti=9-vi.wb),1>Ti&&(Ti=1),Ei.dd=Ti,Ei.tc=2*Pi+Ti,Ei.ld=40<=Pi?2:15<=Pi?1:0}else Ei.tc=0;Ei.La=li}}}ii=0}else va(Nn,6,"Frame setup failed"),ii=Nn.a;if(ii=ii==0){if(ii){Nn.$c=0,0<Nn.Aa||(Nn.Ic=yh);t:{ii=Nn.Ic,vi=4*(Ti=Nn.za);var Ki=32*Ti,ki=Ti+1,ra=0<Nn.L?Ti*(0<Nn.Aa?2:1):0,Mi=(Nn.Aa==2?2:1)*Ti;if((Ei=vi+832+(li=3*(16*ii+Ol[Nn.L])/2*Ki)+(bi=Nn.Fa!=null&&0<Nn.Fa.length?Nn.Kc.c*Nn.Kc.i:0))!=Ei)ii=0;else{if(Ei>Nn.Vb){if(Nn.Vb=0,Nn.Ec=Re(Ei),Nn.Fc=0,Nn.Ec==null){ii=va(Nn,1,"no memory during frame initialization.");break t}Nn.Vb=Ei}Ei=Nn.Ec,Pi=Nn.Fc,Nn.Ac=Ei,Nn.Bc=Pi,Pi+=vi,Nn.Gd=Be(Ki,wl),Nn.Hd=0,Nn.rb=Be(ki+1,as),Nn.sb=1,Nn.wa=ra?Be(ra,is):null,Nn.Y=0,Nn.D.Nb=0,Nn.D.wa=Nn.wa,Nn.D.Y=Nn.Y,0<Nn.Aa&&(Nn.D.Y+=Ti),t(!0),Nn.oc=Ei,Nn.pc=Pi,Pi+=832,Nn.ya=Be(Mi,Kl),Nn.aa=0,Nn.D.ya=Nn.ya,Nn.D.aa=Nn.aa,Nn.Aa==2&&(Nn.D.aa+=Ti),Nn.R=16*Ti,Nn.B=8*Ti,Ti=(Ki=Ol[Nn.L])*Nn.R,Ki=Ki/2*Nn.B,Nn.sa=Ei,Nn.ta=Pi+Ti,Nn.qa=Nn.sa,Nn.ra=Nn.ta+16*ii*Nn.R+Ki,Nn.Ha=Nn.qa,Nn.Ia=Nn.ra+8*ii*Nn.B+Ki,Nn.$c=0,Pi+=li,Nn.mb=bi?Ei:null,Nn.nb=bi?Pi:null,t(Pi+bi<=Nn.Fc+Nn.Vb),Oo(Nn),Te(Nn.Ac,Nn.Bc,0,vi),ii=1}}if(ii){if(Zn.ka=0,Zn.y=Nn.sa,Zn.O=Nn.ta,Zn.f=Nn.qa,Zn.N=Nn.ra,Zn.ea=Nn.Ha,Zn.Vd=Nn.Ia,Zn.fa=Nn.R,Zn.Rc=Nn.B,Zn.F=null,Zn.J=0,!fA){for(ii=-255;255>=ii;++ii)Lc[255+ii]=0>ii?-ii:ii;for(ii=-1020;1020>=ii;++ii)fc[1020+ii]=-128>ii?-128:127<ii?127:ii;for(ii=-112;112>=ii;++ii)pc[112+ii]=-16>ii?-16:15<ii?15:ii;for(ii=-255;510>=ii;++ii)Oc[255+ii]=0>ii?0:255<ii?255:ii;fA=1}Qa=Hs,Xa=Yo,Bo=ko,Zs=la,hA=Zo,cl=Sl,gu=Sr,Jl=un,mu=ei,vu=wi,_u=Un,dh=Hn,fh=Bi,ph=Li,yu=Ao,Eu=po,Uc=Ls,Po=Wl,$s[0]=Tl,$s[1]=Gl,$s[2]=Co,$s[3]=UA,$s[4]=ho,$s[5]=qs,$s[6]=hs,$s[7]=So,$s[8]=lo,$s[9]=$o,Ul[0]=Ns,Ul[1]=cA,Ul[2]=hc,Ul[3]=uA,Ul[4]=oo,Ul[5]=Ks,Ul[6]=uo,yo[0]=Jo,yo[1]=AA,yo[2]=Rl,yo[3]=Us,yo[4]=ya,yo[5]=ds,yo[6]=el,ii=1}else ii=0}ii&&(ii=(function(fa,ps){for(fa.M=0;fa.M<fa.Va;++fa.M){var ea,ji=fa.Jc[fa.M&fa.Xb],Ui=fa.m,Ya=fa;for(ea=0;ea<Ya.za;++ea){var na=Ui,aa=Ya,Vi=aa.Ac,ia=aa.Bc+4*ea,Ea=aa.zc,Ha=aa.ya[aa.aa+ea];if(aa.Qa.Bb?Ha.$b=mn(na,aa.Pa.jb[0])?2+mn(na,aa.Pa.jb[2]):mn(na,aa.Pa.jb[1]):Ha.$b=0,aa.kc&&(Ha.Ad=mn(na,aa.Bd)),Ha.Za=!mn(na,145)+0,Ha.Za){var ls=Ha.Ob,As=0;for(aa=0;4>aa;++aa){var es,ha=Ea[0+aa];for(es=0;4>es;++es){ha=bu[Vi[ia+es]][ha];for(var ba=tA[mn(na,ha[0])];0<ba;)ba=tA[2*ba+mn(na,ha[ba])];ha=-ba,Vi[ia+es]=ha}Ce(ls,As,Vi,ia,4),As+=4,Ea[0+aa]=ha}}else ha=mn(na,156)?mn(na,128)?1:3:mn(na,163)?2:0,Ha.Ob[0]=ha,Te(Vi,ia,ha,4),Te(Ea,0,ha,4);Ha.Dd=mn(na,142)?mn(na,114)?mn(na,183)?1:3:2:0}if(Ya.m.Ka)return va(fa,7,"Premature end-of-partition0 encountered.");for(;fa.ja<fa.za;++fa.ja){if(Ya=ji,na=(Ui=fa).rb[Ui.sb-1],Vi=Ui.rb[Ui.sb+Ui.ja],ea=Ui.ya[Ui.aa+Ui.ja],ia=Ui.kc?ea.Ad:0)na.la=Vi.la=0,ea.Za||(na.Na=Vi.Na=0),ea.Hc=0,ea.Gc=0,ea.ia=0;else{var ts,Xi;if(na=Vi,Vi=Ya,ia=Ui.Pa.Xc,Ea=Ui.ya[Ui.aa+Ui.ja],Ha=Ui.pb[Ea.$b],aa=Ea.ad,ls=0,As=Ui.rb[Ui.sb-1],ha=es=0,Te(aa,ls,0,384),Ea.Za)var ys=0,Eo=ia[3];else{ba=Re(16);var rs=na.Na+As.Na;if(rs=ms(Vi,ia[1],rs,Ha.Eb,0,ba,0),na.Na=As.Na=(0<rs)+0,1<rs)Qa(ba,0,aa,ls);else{var Js=ba[0]+3>>3;for(ba=0;256>ba;ba+=16)aa[ls+ba]=Js}ys=1,Eo=ia[0]}var Da=15&na.la,cs=15&As.la;for(ba=0;4>ba;++ba){var eo=1&cs;for(Js=Xi=0;4>Js;++Js)Da=Da>>1|(eo=(rs=ms(Vi,Eo,rs=eo+(1&Da),Ha.Sc,ys,aa,ls))>ys)<<7,Xi=Xi<<2|(3<rs?3:1<rs?2:aa[ls+0]!=0),ls+=16;Da>>=4,cs=cs>>1|eo<<7,es=(es<<8|Xi)>>>0}for(Eo=Da,ys=cs>>4,ts=0;4>ts;ts+=2){for(Xi=0,Da=na.la>>4+ts,cs=As.la>>4+ts,ba=0;2>ba;++ba){for(eo=1&cs,Js=0;2>Js;++Js)rs=eo+(1&Da),Da=Da>>1|(eo=0<(rs=ms(Vi,ia[2],rs,Ha.Qc,0,aa,ls)))<<3,Xi=Xi<<2|(3<rs?3:1<rs?2:aa[ls+0]!=0),ls+=16;Da>>=2,cs=cs>>1|eo<<5}ha|=Xi<<4*ts,Eo|=Da<<4<<ts,ys|=(240&cs)<<ts}na.la=Eo,As.la=ys,Ea.Hc=es,Ea.Gc=ha,Ea.ia=43690&ha?0:Ha.ia,ia=!(es|ha)}if(0<Ui.L&&(Ui.wa[Ui.Y+Ui.ja]=Ui.gd[ea.$b][ea.Za],Ui.wa[Ui.Y+Ui.ja].La|=!ia),Ya.Ka)return va(fa,7,"Premature end-of-file encountered.")}if(Oo(fa),Ui=ps,Ya=1,ea=(ji=fa).D,na=0<ji.L&&ji.M>=ji.zb&&ji.M<=ji.Va,ji.Aa==0)t:{if(ea.M=ji.M,ea.uc=na,Bs(ji,ea),Ya=1,ea=(Xi=ji.D).Nb,na=(ha=Ol[ji.L])*ji.R,Vi=ha/2*ji.B,ba=16*ea*ji.R,Js=8*ea*ji.B,ia=ji.sa,Ea=ji.ta-na+ba,Ha=ji.qa,aa=ji.ra-Vi+Js,ls=ji.Ha,As=ji.Ia-Vi+Js,cs=(Da=Xi.M)==0,es=Da>=ji.Va-1,ji.Aa==2&&Bs(ji,Xi),Xi.uc)for(eo=(rs=ji).D.M,t(rs.D.uc),Xi=rs.yb;Xi<rs.Hb;++Xi){ys=Xi,Eo=eo;var Fs=(Oa=(bs=rs).D).Nb;ts=bs.R;var Oa=Oa.wa[Oa.Y+ys],wa=bs.sa,Ms=bs.ta+16*Fs*ts+16*ys,Is=Oa.dd,Pa=Oa.tc;if(Pa!=0)if(t(3<=Pa),bs.L==1)0<ys&&Eu(wa,Ms,ts,Pa+4),Oa.La&&Po(wa,Ms,ts,Pa),0<Eo&&yu(wa,Ms,ts,Pa+4),Oa.La&&Uc(wa,Ms,ts,Pa);else{var to=bs.B,Es=bs.qa,ml=bs.ra+8*Fs*to+8*ys,Vo=bs.Ha,bs=bs.Ia+8*Fs*to+8*ys;Fs=Oa.ld,0<ys&&(Jl(wa,Ms,ts,Pa+4,Is,Fs),vu(Es,ml,Vo,bs,to,Pa+4,Is,Fs)),Oa.La&&(dh(wa,Ms,ts,Pa,Is,Fs),ph(Es,ml,Vo,bs,to,Pa,Is,Fs)),0<Eo&&(gu(wa,Ms,ts,Pa+4,Is,Fs),mu(Es,ml,Vo,bs,to,Pa+4,Is,Fs)),Oa.La&&(_u(wa,Ms,ts,Pa,Is,Fs),fh(Es,ml,Vo,bs,to,Pa,Is,Fs))}}if(ji.ia&&alert("todo:DitherRow"),Ui.put!=null){if(Xi=16*Da,Da=16*(Da+1),cs?(Ui.y=ji.sa,Ui.O=ji.ta+ba,Ui.f=ji.qa,Ui.N=ji.ra+Js,Ui.ea=ji.Ha,Ui.W=ji.Ia+Js):(Xi-=ha,Ui.y=ia,Ui.O=Ea,Ui.f=Ha,Ui.N=aa,Ui.ea=ls,Ui.W=As),es||(Da-=ha),Da>Ui.o&&(Da=Ui.o),Ui.F=null,Ui.J=null,ji.Fa!=null&&0<ji.Fa.length&&Xi<Da&&(Ui.J=fs(ji,Ui,Xi,Da-Xi),Ui.F=ji.mb,Ui.F==null&&Ui.F.length==0)){Ya=va(ji,3,"Could not decode alpha data.");break t}Xi<Ui.j&&(ha=Ui.j-Xi,Xi=Ui.j,t(!(1&ha)),Ui.O+=ji.R*ha,Ui.N+=ji.B*(ha>>1),Ui.W+=ji.B*(ha>>1),Ui.F!=null&&(Ui.J+=Ui.width*ha)),Xi<Da&&(Ui.O+=Ui.v,Ui.N+=Ui.v>>1,Ui.W+=Ui.v>>1,Ui.F!=null&&(Ui.J+=Ui.v),Ui.ka=Xi-Ui.j,Ui.U=Ui.va-Ui.v,Ui.T=Da-Xi,Ya=Ui.put(Ui))}ea+1!=ji.Ic||es||(Ce(ji.sa,ji.ta-na,ia,Ea+16*ji.R,na),Ce(ji.qa,ji.ra-Vi,Ha,aa+8*ji.B,Vi),Ce(ji.Ha,ji.Ia-Vi,ls,As+8*ji.B,Vi))}if(!Ya)return va(fa,6,"Output aborted.")}return 1})(Nn,Zn)),Zn.bc!=null&&Zn.bc(Zn),ii&=1}return ii?(Nn.cb=0,ii):0})(ar,qr)||(vr=ar.a)}}else vr=ar.a}vr==0&&yn.Oa!=null&&yn.Oa.fd&&(vr=Xs(yn.ba))}yn=vr}pn=yn!=0?null:11>pn?xn.f.RGBA.eb:xn.f.kb.y}else pn=null;return pn};var Eh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Me(ir,mr){for(var $e="",Ar=0;Ar<4;Ar++)$e+=String.fromCharCode(ir[mr++]);return $e}function Qe(ir,mr){return ir[mr+0]|ir[mr+1]<<8}function Ke(ir,mr){return(ir[mr+0]|ir[mr+1]<<8|ir[mr+2]<<16)>>>0}function Ge(ir,mr){return(ir[mr+0]|ir[mr+1]<<8|ir[mr+2]<<16|ir[mr+3]<<24)>>>0}new Oe;var qe=[0],Xe=[0],tr=[],Je=new Oe,Ye=Ee,lr=(function(ir,mr){var $e={},Ar=0,or=!1,Tr=0,Ur=0;if($e.frames=[],!(function(_r,gr){for(var yr=0;yr<4;yr++)if(_r[gr+yr]!="RIFF".charCodeAt(yr))return!0;return!1})(ir,mr)){for(Ge(ir,mr+=4),mr+=8;mr<ir.length;){var Fr=Me(ir,mr),Er=Ge(ir,mr+=4);mr+=4;var jr=Er+(1&Er);switch(Fr){case"VP8 ":case"VP8L":$e.frames[Ar]===void 0&&($e.frames[Ar]={}),(Mr=$e.frames[Ar]).src_off=or?Ur:mr-8,Mr.src_size=Tr+Er+8,Ar++,or&&(or=!1,Tr=0,Ur=0);break;case"VP8X":(Mr=$e.header={}).feature_flags=ir[mr];var Nr=mr+4;Mr.canvas_width=1+Ke(ir,Nr),Nr+=3,Mr.canvas_height=1+Ke(ir,Nr),Nr+=3;break;case"ALPH":or=!0,Tr=jr+8,Ur=mr-8;break;case"ANIM":(Mr=$e.header).bgcolor=Ge(ir,mr),Nr=mr+4,Mr.loop_count=Qe(ir,Nr),Nr+=2;break;case"ANMF":var Br,Mr;(Mr=$e.frames[Ar]={}).offset_x=2*Ke(ir,mr),mr+=3,Mr.offset_y=2*Ke(ir,mr),mr+=3,Mr.width=1+Ke(ir,mr),mr+=3,Mr.height=1+Ke(ir,mr),mr+=3,Mr.duration=Ke(ir,mr),mr+=3,Br=ir[mr++],Mr.dispose=1&Br,Mr.blend=Br>>1&1}Fr!="ANMF"&&(mr+=jr)}return $e}})(Ye,0);lr.response=Ye,lr.rgbaoutput=!0,lr.dataurl=!1;var cr=lr.header?lr.header:null,hr=lr.frames?lr.frames:null;if(cr){cr.loop_counter=cr.loop_count,qe=[cr.canvas_height],Xe=[cr.canvas_width];for(var ur=0;ur<hr.length&&hr[ur].blend!=0;ur++);}var fr=hr[0],er=Je.WebPDecodeRGBA(Ye,fr.src_off,fr.src_size,Xe,qe);fr.rgba=er,fr.imgwidth=Xe[0],fr.imgheight=qe[0];for(var nr=0;nr<Xe[0]*qe[0]*4;nr++)tr[nr]=er[nr];return this.width=Xe,this.height=qe,this.data=tr,this}(function(Ee){var t,n,Ce,Te,Re,Be,Ue,Oe,Me,Qe=function(_r){return _r=_r||{},this.isStrokeTransparent=_r.isStrokeTransparent||!1,this.strokeOpacity=_r.strokeOpacity||1,this.strokeStyle=_r.strokeStyle||"#000000",this.fillStyle=_r.fillStyle||"#000000",this.isFillTransparent=_r.isFillTransparent||!1,this.fillOpacity=_r.fillOpacity||1,this.font=_r.font||"10px sans-serif",this.textBaseline=_r.textBaseline||"alphabetic",this.textAlign=_r.textAlign||"left",this.lineWidth=_r.lineWidth||1,this.lineJoin=_r.lineJoin||"miter",this.lineCap=_r.lineCap||"butt",this.path=_r.path||[],this.transform=_r.transform!==void 0?_r.transform.clone():new Oe,this.globalCompositeOperation=_r.globalCompositeOperation||"normal",this.globalAlpha=_r.globalAlpha||1,this.clip_path=_r.clip_path||[],this.currentPoint=_r.currentPoint||new Be,this.miterLimit=_r.miterLimit||10,this.lastPoint=_r.lastPoint||new Be,this.lineDashOffset=_r.lineDashOffset||0,this.lineDash=_r.lineDash||[],this.margin=_r.margin||[0,0,0,0],this.prevPageLastElemOffset=_r.prevPageLastElemOffset||0,this.ignoreClearRect=typeof _r.ignoreClearRect!="boolean"||_r.ignoreClearRect,this};Ee.events.push(["initialized",function(){this.context2d=new Ke(this),t=this.internal.f2,n=this.internal.getCoordinateString,Ce=this.internal.getVerticalCoordinateString,Te=this.internal.getHorizontalCoordinate,Re=this.internal.getVerticalCoordinate,Be=this.internal.Point,Ue=this.internal.Rectangle,Oe=this.internal.Matrix,Me=new Qe}]);var Ke=function(_r){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var gr=_r;Object.defineProperty(this,"pdf",{get:function(){return gr}});var yr=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return yr},set:function(wn){yr=!!wn}});var Rr=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Rr},set:function(wn){Rr=!!wn}});var Ir=0;Object.defineProperty(this,"posX",{get:function(){return Ir},set:function(wn){isNaN(wn)||(Ir=wn)}});var Qr=0;Object.defineProperty(this,"posY",{get:function(){return Qr},set:function(wn){isNaN(wn)||(Qr=wn)}}),Object.defineProperty(this,"margin",{get:function(){return Me.margin},set:function(wn){var Yr;typeof wn=="number"?Yr=[wn,wn,wn,wn]:((Yr=new Array(4))[0]=wn[0],Yr[1]=wn.length>=2?wn[1]:Yr[0],Yr[2]=wn.length>=3?wn[2]:Yr[0],Yr[3]=wn.length>=4?wn[3]:Yr[1]),Me.margin=Yr}});var Vr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Vr},set:function(wn){Vr=wn}});var Wr=0;Object.defineProperty(this,"lastBreak",{get:function(){return Wr},set:function(wn){Wr=wn}});var mn=[];Object.defineProperty(this,"pageBreaks",{get:function(){return mn},set:function(wn){mn=wn}}),Object.defineProperty(this,"ctx",{get:function(){return Me},set:function(wn){wn instanceof Qe&&(Me=wn)}}),Object.defineProperty(this,"path",{get:function(){return Me.path},set:function(wn){Me.path=wn}});var gn=[];Object.defineProperty(this,"ctxStack",{get:function(){return gn},set:function(wn){gn=wn}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(wn){var Yr;Yr=Ge(wn),this.ctx.fillStyle=Yr.style,this.ctx.isFillTransparent=Yr.a===0,this.ctx.fillOpacity=Yr.a,this.pdf.setFillColor(Yr.r,Yr.g,Yr.b,{a:Yr.a}),this.pdf.setTextColor(Yr.r,Yr.g,Yr.b,{a:Yr.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(wn){var Yr=Ge(wn);this.ctx.strokeStyle=Yr.style,this.ctx.isStrokeTransparent=Yr.a===0,this.ctx.strokeOpacity=Yr.a,Yr.a===0?this.pdf.setDrawColor(255,255,255):(Yr.a,this.pdf.setDrawColor(Yr.r,Yr.g,Yr.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(wn){["butt","round","square"].indexOf(wn)!==-1&&(this.ctx.lineCap=wn,this.pdf.setLineCap(wn))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(wn){isNaN(wn)||(this.ctx.lineWidth=wn,this.pdf.setLineWidth(wn))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(wn){["bevel","round","miter"].indexOf(wn)!==-1&&(this.ctx.lineJoin=wn,this.pdf.setLineJoin(wn))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(wn){isNaN(wn)||(this.ctx.miterLimit=wn,this.pdf.setMiterLimit(wn))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(wn){this.ctx.textBaseline=wn}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(wn){["right","end","center","left","start"].indexOf(wn)!==-1&&(this.ctx.textAlign=wn)}});var fn=null,Fn=null;Object.defineProperty(this,"fontFaces",{get:function(){return Fn},set:function(wn){fn=null,Fn=wn}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(wn){var Yr;if(this.ctx.font=wn,(Yr=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(wn))!==null){var Rn=Yr[1];Yr[2];var bn=Yr[3],zr=Yr[4];Yr[5];var $r=Yr[6],Bn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(zr)[2];zr=Math.floor(Bn==="px"?parseFloat(zr)*this.pdf.internal.scaleFactor:Bn==="em"?parseFloat(zr)*this.pdf.getFontSize():parseFloat(zr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(zr);var Pn=(function(Ci){var dr,An,vn=[],Sn=Ci.trim();if(Sn==="")return Jt;if(Sn in Mt)return[Mt[Sn]];for(;Sn!=="";){switch(An=null,dr=(Sn=Et(Sn)).charAt(0)){case'"':case"'":An=Rt(Sn.substring(1),dr);break;default:An=Dt(Sn)}if(An===null||(vn.push(An[0]),(Sn=Et(An[1]))!==""&&Sn.charAt(0)!==","))return Jt;Sn=Sn.replace(/^,/,"")}return vn})($r);if(this.fontFaces){var jn=(function(Ci,dr){if(fn===null){var An=(function(vn){var Sn=[];return Object.keys(vn).forEach(function(wr){vn[wr].forEach(function(Or){var Ze=null;switch(Or){case"bold":Ze={family:wr,weight:"bold"};break;case"italic":Ze={family:wr,style:"italic"};break;case"bolditalic":Ze={family:wr,weight:"bold",style:"italic"};break;case"":case"normal":Ze={family:wr}}Ze!==null&&(Ze.ref={name:wr,style:Or},Sn.push(Ze))})}),Sn})(Ci.getFontList());fn=(function(vn){for(var Sn={},wr=0;wr<vn.length;++wr){var Or=Ct(vn[wr]),Ze=Or.family,Jr=Or.stretch,Mn=Or.style,ze=Or.weight;Sn[Ze]=Sn[Ze]||{},Sn[Ze][Jr]=Sn[Ze][Jr]||{},Sn[Ze][Jr][Mn]=Sn[Ze][Jr][Mn]||{},Sn[Ze][Jr][Mn][ze]=Or}return Sn})(An.concat(dr))}return fn})(this.pdf,this.fontFaces),Kn=Pn.map(function(Ci){return{family:Ci,stretch:"normal",weight:bn,style:Rn}}),Xn=(function(Ci,dr,An){for(var vn=(An=An||{}).defaultFontFamily||"times",Sn=Object.assign({},Bt,An.genericFontFamilies||{}),wr=null,Or=null,Ze=0;Ze<dr.length;++Ze)if(Sn[(wr=Ct(dr[Ze])).family]&&(wr.family=Sn[wr.family]),Ci.hasOwnProperty(wr.family)){Or=Ci[wr.family];break}if(!(Or=Or||Ci[vn]))throw new Error("Could not find a font-family for the rule '"+qt(wr)+"' and default family '"+vn+"'.");if(Or=(function(Jr,Mn){if(Mn[Jr])return Mn[Jr];var ze=Ft[Jr],Cr=ze<=Ft.normal?-1:1,kr=Ot(Mn,kt,ze,Cr);if(!kr)throw new Error("Could not find a matching font-stretch value for "+Jr);return kr})(wr.stretch,Or),Or=(function(Jr,Mn){if(Mn[Jr])return Mn[Jr];for(var ze=Pt[Jr],Cr=0;Cr<ze.length;++Cr)if(Mn[ze[Cr]])return Mn[ze[Cr]];throw new Error("Could not find a matching font-style for "+Jr)})(wr.style,Or),!(Or=(function(Jr,Mn){if(Mn[Jr])return Mn[Jr];if(Jr===400&&Mn[500])return Mn[500];if(Jr===500&&Mn[400])return Mn[400];var ze=jt[Jr],Cr=Ot(Mn,It,ze,Jr<400?-1:1);if(!Cr)throw new Error("Could not find a matching font-weight for value "+Jr);return Cr})(wr.weight,Or)))throw new Error("Failed to resolve a font for the rule '"+qt(wr)+"'.");return Or})(jn,Kn);this.pdf.setFont(Xn.ref.name,Xn.ref.style)}else{var In="";(bn==="bold"||parseInt(bn,10)>=700||Rn==="bold")&&(In="bold"),Rn==="italic"&&(In+="italic"),In.length===0&&(In="normal");for(var $n="",Yn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},si=0;si<Pn.length;si++){if(this.pdf.internal.getFont(Pn[si],In,{noFallback:!0,disableWarning:!0})!==void 0){$n=Pn[si];break}if(In==="bolditalic"&&this.pdf.internal.getFont(Pn[si],"bold",{noFallback:!0,disableWarning:!0})!==void 0)$n=Pn[si],In="bold";else if(this.pdf.internal.getFont(Pn[si],"normal",{noFallback:!0,disableWarning:!0})!==void 0){$n=Pn[si],In="normal";break}}if($n===""){for(var ai=0;ai<Pn.length;ai++)if(Yn[Pn[ai]]){$n=Yn[Pn[ai]];break}}$n=$n===""?"Times":$n,this.pdf.setFont($n,In)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(wn){this.ctx.globalCompositeOperation=wn}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(wn){this.ctx.globalAlpha=wn}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(wn){this.ctx.lineDashOffset=wn,Mr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(wn){this.ctx.lineDash=wn,Mr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(wn){this.ctx.ignoreClearRect=!!wn}})};Ke.prototype.setLineDash=function(_r){this.lineDash=_r},Ke.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},Ke.prototype.fill=function(){hr.call(this,"fill",!1)},Ke.prototype.stroke=function(){hr.call(this,"stroke",!1)},Ke.prototype.beginPath=function(){this.path=[{type:"begin"}]},Ke.prototype.moveTo=function(_r,gr){if(isNaN(_r)||isNaN(gr))throw o.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var yr=this.ctx.transform.applyToPoint(new Be(_r,gr));this.path.push({type:"mt",x:yr.x,y:yr.y}),this.ctx.lastPoint=new Be(_r,gr)},Ke.prototype.closePath=function(){var _r=new Be(0,0),gr=0;for(gr=this.path.length-1;gr!==-1;gr--)if(this.path[gr].type==="begin"&&_typeof(this.path[gr+1])==="object"&&typeof this.path[gr+1].x=="number"){_r=new Be(this.path[gr+1].x,this.path[gr+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Be(_r.x,_r.y)},Ke.prototype.lineTo=function(_r,gr){if(isNaN(_r)||isNaN(gr))throw o.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var yr=this.ctx.transform.applyToPoint(new Be(_r,gr));this.path.push({type:"lt",x:yr.x,y:yr.y}),this.ctx.lastPoint=new Be(yr.x,yr.y)},Ke.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),hr.call(this,null,!0)},Ke.prototype.quadraticCurveTo=function(_r,gr,yr,Rr){if(isNaN(yr)||isNaN(Rr)||isNaN(_r)||isNaN(gr))throw o.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ir=this.ctx.transform.applyToPoint(new Be(yr,Rr)),Qr=this.ctx.transform.applyToPoint(new Be(_r,gr));this.path.push({type:"qct",x1:Qr.x,y1:Qr.y,x:Ir.x,y:Ir.y}),this.ctx.lastPoint=new Be(Ir.x,Ir.y)},Ke.prototype.bezierCurveTo=function(_r,gr,yr,Rr,Ir,Qr){if(isNaN(Ir)||isNaN(Qr)||isNaN(_r)||isNaN(gr)||isNaN(yr)||isNaN(Rr))throw o.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Vr=this.ctx.transform.applyToPoint(new Be(Ir,Qr)),Wr=this.ctx.transform.applyToPoint(new Be(_r,gr)),mn=this.ctx.transform.applyToPoint(new Be(yr,Rr));this.path.push({type:"bct",x1:Wr.x,y1:Wr.y,x2:mn.x,y2:mn.y,x:Vr.x,y:Vr.y}),this.ctx.lastPoint=new Be(Vr.x,Vr.y)},Ke.prototype.arc=function(_r,gr,yr,Rr,Ir,Qr){if(isNaN(_r)||isNaN(gr)||isNaN(yr)||isNaN(Rr)||isNaN(Ir))throw o.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Qr=!!Qr,!this.ctx.transform.isIdentity){var Vr=this.ctx.transform.applyToPoint(new Be(_r,gr));_r=Vr.x,gr=Vr.y;var Wr=this.ctx.transform.applyToPoint(new Be(0,yr)),mn=this.ctx.transform.applyToPoint(new Be(0,0));yr=Math.sqrt(Math.pow(Wr.x-mn.x,2)+Math.pow(Wr.y-mn.y,2))}Math.abs(Ir-Rr)>=2*Math.PI&&(Rr=0,Ir=2*Math.PI),this.path.push({type:"arc",x:_r,y:gr,radius:yr,startAngle:Rr,endAngle:Ir,counterclockwise:Qr})},Ke.prototype.arcTo=function(_r,gr,yr,Rr,Ir){throw new Error("arcTo not implemented.")},Ke.prototype.rect=function(_r,gr,yr,Rr){if(isNaN(_r)||isNaN(gr)||isNaN(yr)||isNaN(Rr))throw o.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(_r,gr),this.lineTo(_r+yr,gr),this.lineTo(_r+yr,gr+Rr),this.lineTo(_r,gr+Rr),this.lineTo(_r,gr),this.lineTo(_r+yr,gr),this.lineTo(_r,gr)},Ke.prototype.fillRect=function(_r,gr,yr,Rr){if(isNaN(_r)||isNaN(gr)||isNaN(yr)||isNaN(Rr))throw o.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!qe.call(this)){var Ir={};this.lineCap!=="butt"&&(Ir.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Ir.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(_r,gr,yr,Rr),this.fill(),Ir.hasOwnProperty("lineCap")&&(this.lineCap=Ir.lineCap),Ir.hasOwnProperty("lineJoin")&&(this.lineJoin=Ir.lineJoin)}},Ke.prototype.strokeRect=function(_r,gr,yr,Rr){if(isNaN(_r)||isNaN(gr)||isNaN(yr)||isNaN(Rr))throw o.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Xe.call(this)||(this.beginPath(),this.rect(_r,gr,yr,Rr),this.stroke())},Ke.prototype.clearRect=function(_r,gr,yr,Rr){if(isNaN(_r)||isNaN(gr)||isNaN(yr)||isNaN(Rr))throw o.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(_r,gr,yr,Rr))},Ke.prototype.save=function(_r){_r=typeof _r!="boolean"||_r;for(var gr=this.pdf.internal.getCurrentPageInfo().pageNumber,yr=0;yr<this.pdf.internal.getNumberOfPages();yr++)this.pdf.setPage(yr+1),this.pdf.internal.out("q");if(this.pdf.setPage(gr),_r){this.ctx.fontSize=this.pdf.internal.getFontSize();var Rr=new Qe(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Rr}},Ke.prototype.restore=function(_r){_r=typeof _r!="boolean"||_r;for(var gr=this.pdf.internal.getCurrentPageInfo().pageNumber,yr=0;yr<this.pdf.internal.getNumberOfPages();yr++)this.pdf.setPage(yr+1),this.pdf.internal.out("Q");this.pdf.setPage(gr),_r&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},Ke.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Ge=function(_r){var gr,yr,Rr,Ir;if(_r.isCanvasGradient===!0&&(_r=_r.getColor()),!_r)return{r:0,g:0,b:0,a:0,style:_r};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(_r))gr=0,yr=0,Rr=0,Ir=0;else{var Qr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(_r);if(Qr!==null)gr=parseInt(Qr[1]),yr=parseInt(Qr[2]),Rr=parseInt(Qr[3]),Ir=1;else if((Qr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(_r))!==null)gr=parseInt(Qr[1]),yr=parseInt(Qr[2]),Rr=parseInt(Qr[3]),Ir=parseFloat(Qr[4]);else{if(Ir=1,typeof _r=="string"&&_r.charAt(0)!=="#"){var Vr=new h(_r);_r=Vr.ok?Vr.toHex():"#000000"}_r.length===4?(gr=_r.substring(1,2),gr+=gr,yr=_r.substring(2,3),yr+=yr,Rr=_r.substring(3,4),Rr+=Rr):(gr=_r.substring(1,3),yr=_r.substring(3,5),Rr=_r.substring(5,7)),gr=parseInt(gr,16),yr=parseInt(yr,16),Rr=parseInt(Rr,16)}}return{r:gr,g:yr,b:Rr,a:Ir,style:_r}},qe=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},Xe=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};Ke.prototype.fillText=function(_r,gr,yr,Rr){if(isNaN(gr)||isNaN(yr)||typeof _r!="string")throw o.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Rr=isNaN(Rr)?void 0:Rr,!qe.call(this)){var Ir=jr(this.ctx.transform.rotation),Qr=this.ctx.transform.scaleX;Ar.call(this,{text:_r,x:gr,y:yr,scale:Qr,angle:Ir,align:this.textAlign,maxWidth:Rr})}},Ke.prototype.strokeText=function(_r,gr,yr,Rr){if(isNaN(gr)||isNaN(yr)||typeof _r!="string")throw o.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Xe.call(this)){Rr=isNaN(Rr)?void 0:Rr;var Ir=jr(this.ctx.transform.rotation),Qr=this.ctx.transform.scaleX;Ar.call(this,{text:_r,x:gr,y:yr,scale:Qr,renderingMode:"stroke",angle:Ir,align:this.textAlign,maxWidth:Rr})}},Ke.prototype.measureText=function(_r){if(typeof _r!="string")throw o.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var gr=this.pdf,yr=this.pdf.internal.scaleFactor,Rr=gr.internal.getFontSize(),Ir=gr.getStringUnitWidth(_r)*Rr/gr.internal.scaleFactor;return new function(Qr){var Vr=(Qr=Qr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Vr}}),this}({width:Ir*=Math.round(96*yr/72*1e4)/1e4})},Ke.prototype.scale=function(_r,gr){if(isNaN(_r)||isNaN(gr))throw o.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var yr=new Oe(_r,0,0,gr,0,0);this.ctx.transform=this.ctx.transform.multiply(yr)},Ke.prototype.rotate=function(_r){if(isNaN(_r))throw o.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var gr=new Oe(Math.cos(_r),Math.sin(_r),-Math.sin(_r),Math.cos(_r),0,0);this.ctx.transform=this.ctx.transform.multiply(gr)},Ke.prototype.translate=function(_r,gr){if(isNaN(_r)||isNaN(gr))throw o.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var yr=new Oe(1,0,0,1,_r,gr);this.ctx.transform=this.ctx.transform.multiply(yr)},Ke.prototype.transform=function(_r,gr,yr,Rr,Ir,Qr){if(isNaN(_r)||isNaN(gr)||isNaN(yr)||isNaN(Rr)||isNaN(Ir)||isNaN(Qr))throw o.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Vr=new Oe(_r,gr,yr,Rr,Ir,Qr);this.ctx.transform=this.ctx.transform.multiply(Vr)},Ke.prototype.setTransform=function(_r,gr,yr,Rr,Ir,Qr){_r=isNaN(_r)?1:_r,gr=isNaN(gr)?0:gr,yr=isNaN(yr)?0:yr,Rr=isNaN(Rr)?1:Rr,Ir=isNaN(Ir)?0:Ir,Qr=isNaN(Qr)?0:Qr,this.ctx.transform=new Oe(_r,gr,yr,Rr,Ir,Qr)};var tr=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};Ke.prototype.drawImage=function(_r,gr,yr,Rr,Ir,Qr,Vr,Wr,mn){var gn=this.pdf.getImageProperties(_r),fn=1,Fn=1,wn=1,Yr=1;Rr!==void 0&&Wr!==void 0&&(wn=Wr/Rr,Yr=mn/Ir,fn=gn.width/Rr*Wr/Rr,Fn=gn.height/Ir*mn/Ir),Qr===void 0&&(Qr=gr,Vr=yr,gr=0,yr=0),Rr!==void 0&&Wr===void 0&&(Wr=Rr,mn=Ir),Rr===void 0&&Wr===void 0&&(Wr=gn.width,mn=gn.height);for(var Rn,bn=this.ctx.transform.decompose(),zr=jr(bn.rotate.shx),$r=new Oe,Bn=($r=($r=($r=$r.multiply(bn.translate)).multiply(bn.skew)).multiply(bn.scale)).applyToRectangle(new Ue(Qr-gr*wn,Vr-yr*Yr,Rr*fn,Ir*Fn)),Pn=Je.call(this,Bn),jn=[],Kn=0;Kn<Pn.length;Kn+=1)jn.indexOf(Pn[Kn])===-1&&jn.push(Pn[Kn]);if(cr(jn),this.autoPaging)for(var Xn=jn[0],In=jn[jn.length-1],$n=Xn;$n<In+1;$n++){this.pdf.setPage($n);var Yn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],si=$n===1?this.posY+this.margin[0]:this.margin[0],ai=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ci=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dr=$n===1?0:ai+($n-2)*Ci;if(this.ctx.clip_path.length!==0){var An=this.path;Rn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=lr(Rn,this.posX+this.margin[3],-dr+si+this.ctx.prevPageLastElemOffset),ur.call(this,"fill",!0),this.path=An}var vn=JSON.parse(JSON.stringify(Bn));vn=lr([vn],this.posX+this.margin[3],-dr+si+this.ctx.prevPageLastElemOffset)[0];var Sn=($n>Xn||$n<In)&&tr.call(this);Sn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yn,Ci,null).clip().discardPath()),this.pdf.addImage(_r,"JPEG",vn.x,vn.y,vn.w,vn.h,null,null,zr),Sn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(_r,"JPEG",Bn.x,Bn.y,Bn.w,Bn.h,null,null,zr)};var Je=function(_r,gr,yr){var Rr=[];gr=gr||this.pdf.internal.pageSize.width,yr=yr||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ir=this.posY+this.ctx.prevPageLastElemOffset;switch(_r.type){default:case"mt":case"lt":Rr.push(Math.floor((_r.y+Ir)/yr)+1);break;case"arc":Rr.push(Math.floor((_r.y+Ir-_r.radius)/yr)+1),Rr.push(Math.floor((_r.y+Ir+_r.radius)/yr)+1);break;case"qct":var Qr=Nr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_r.x1,_r.y1,_r.x,_r.y);Rr.push(Math.floor((Qr.y+Ir)/yr)+1),Rr.push(Math.floor((Qr.y+Qr.h+Ir)/yr)+1);break;case"bct":var Vr=Br(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_r.x1,_r.y1,_r.x2,_r.y2,_r.x,_r.y);Rr.push(Math.floor((Vr.y+Ir)/yr)+1),Rr.push(Math.floor((Vr.y+Vr.h+Ir)/yr)+1);break;case"rect":Rr.push(Math.floor((_r.y+Ir)/yr)+1),Rr.push(Math.floor((_r.y+_r.h+Ir)/yr)+1)}for(var Wr=0;Wr<Rr.length;Wr+=1)for(;this.pdf.internal.getNumberOfPages()<Rr[Wr];)Ye.call(this);return Rr},Ye=function(){var _r=this.fillStyle,gr=this.strokeStyle,yr=this.font,Rr=this.lineCap,Ir=this.lineWidth,Qr=this.lineJoin;this.pdf.addPage(),this.fillStyle=_r,this.strokeStyle=gr,this.font=yr,this.lineCap=Rr,this.lineWidth=Ir,this.lineJoin=Qr},lr=function(_r,gr,yr){for(var Rr=0;Rr<_r.length;Rr++)switch(_r[Rr].type){case"bct":_r[Rr].x2+=gr,_r[Rr].y2+=yr;case"qct":_r[Rr].x1+=gr,_r[Rr].y1+=yr;default:_r[Rr].x+=gr,_r[Rr].y+=yr}return _r},cr=function(_r){return _r.sort(function(gr,yr){return gr-yr})},hr=function(_r,gr){for(var yr,Rr,Ir=this.fillStyle,Qr=this.strokeStyle,Vr=this.lineCap,Wr=this.lineWidth,mn=Math.abs(Wr*this.ctx.transform.scaleX),gn=this.lineJoin,fn=JSON.parse(JSON.stringify(this.path)),Fn=JSON.parse(JSON.stringify(this.path)),wn=[],Yr=0;Yr<Fn.length;Yr++)if(Fn[Yr].x!==void 0)for(var Rn=Je.call(this,Fn[Yr]),bn=0;bn<Rn.length;bn+=1)wn.indexOf(Rn[bn])===-1&&wn.push(Rn[bn]);for(var zr=0;zr<wn.length;zr++)for(;this.pdf.internal.getNumberOfPages()<wn[zr];)Ye.call(this);if(cr(wn),this.autoPaging)for(var $r=wn[0],Bn=wn[wn.length-1],Pn=$r;Pn<Bn+1;Pn++){this.pdf.setPage(Pn),this.fillStyle=Ir,this.strokeStyle=Qr,this.lineCap=Vr,this.lineWidth=mn,this.lineJoin=gn;var jn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Kn=Pn===1?this.posY+this.margin[0]:this.margin[0],Xn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],In=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$n=Pn===1?0:Xn+(Pn-2)*In;if(this.ctx.clip_path.length!==0){var Yn=this.path;yr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=lr(yr,this.posX+this.margin[3],-$n+Kn+this.ctx.prevPageLastElemOffset),ur.call(this,_r,!0),this.path=Yn}if(Rr=JSON.parse(JSON.stringify(fn)),this.path=lr(Rr,this.posX+this.margin[3],-$n+Kn+this.ctx.prevPageLastElemOffset),gr===!1||Pn===0){var si=(Pn>$r||Pn<Bn)&&tr.call(this);si&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jn,In,null).clip().discardPath()),ur.call(this,_r,gr),si&&this.pdf.restoreGraphicsState()}this.lineWidth=Wr}else this.lineWidth=mn,ur.call(this,_r,gr),this.lineWidth=Wr;this.path=fn},ur=function(_r,gr){if((_r!=="stroke"||gr||!Xe.call(this))&&(_r==="stroke"||gr||!qe.call(this))){for(var yr,Rr,Ir=[],Qr=this.path,Vr=0;Vr<Qr.length;Vr++){var Wr=Qr[Vr];switch(Wr.type){case"begin":Ir.push({begin:!0});break;case"close":Ir.push({close:!0});break;case"mt":Ir.push({start:Wr,deltas:[],abs:[]});break;case"lt":var mn=Ir.length;if(Qr[Vr-1]&&!isNaN(Qr[Vr-1].x)&&(yr=[Wr.x-Qr[Vr-1].x,Wr.y-Qr[Vr-1].y],mn>0)){for(;mn>=0;mn--)if(Ir[mn-1].close!==!0&&Ir[mn-1].begin!==!0){Ir[mn-1].deltas.push(yr),Ir[mn-1].abs.push(Wr);break}}break;case"bct":yr=[Wr.x1-Qr[Vr-1].x,Wr.y1-Qr[Vr-1].y,Wr.x2-Qr[Vr-1].x,Wr.y2-Qr[Vr-1].y,Wr.x-Qr[Vr-1].x,Wr.y-Qr[Vr-1].y],Ir[Ir.length-1].deltas.push(yr);break;case"qct":var gn=Qr[Vr-1].x+2/3*(Wr.x1-Qr[Vr-1].x),fn=Qr[Vr-1].y+2/3*(Wr.y1-Qr[Vr-1].y),Fn=Wr.x+2/3*(Wr.x1-Wr.x),wn=Wr.y+2/3*(Wr.y1-Wr.y),Yr=Wr.x,Rn=Wr.y;yr=[gn-Qr[Vr-1].x,fn-Qr[Vr-1].y,Fn-Qr[Vr-1].x,wn-Qr[Vr-1].y,Yr-Qr[Vr-1].x,Rn-Qr[Vr-1].y],Ir[Ir.length-1].deltas.push(yr);break;case"arc":Ir.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ir[Ir.length-1].abs)&&Ir[Ir.length-1].abs.push(Wr)}}Rr=gr?null:_r==="stroke"?"stroke":"fill";for(var bn=!1,zr=0;zr<Ir.length;zr++)if(Ir[zr].arc)for(var $r=Ir[zr].abs,Bn=0;Bn<$r.length;Bn++){var Pn=$r[Bn];Pn.type==="arc"?nr.call(this,Pn.x,Pn.y,Pn.radius,Pn.startAngle,Pn.endAngle,Pn.counterclockwise,void 0,gr,!bn):or.call(this,Pn.x,Pn.y),bn=!0}else if(Ir[zr].close===!0)this.pdf.internal.out("h"),bn=!1;else if(Ir[zr].begin!==!0){var jn=Ir[zr].start.x,Kn=Ir[zr].start.y;Tr.call(this,Ir[zr].deltas,jn,Kn),bn=!0}Rr&&ir.call(this,Rr),gr&&mr.call(this)}},fr=function(_r){var gr=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,yr=gr*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return _r-yr;case"top":return _r+gr-yr;case"hanging":return _r+gr-2*yr;case"middle":return _r+gr/2-yr;default:return _r}},er=function(_r){return _r+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};Ke.prototype.createLinearGradient=function(){var _r=function(){};return _r.colorStops=[],_r.addColorStop=function(gr,yr){this.colorStops.push([gr,yr])},_r.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},_r.isCanvasGradient=!0,_r},Ke.prototype.createPattern=function(){return this.createLinearGradient()},Ke.prototype.createRadialGradient=function(){return this.createLinearGradient()};var nr=function(_r,gr,yr,Rr,Ir,Qr,Vr,Wr,mn){for(var gn=Fr.call(this,yr,Rr,Ir,Qr),fn=0;fn<gn.length;fn++){var Fn=gn[fn];fn===0&&(mn?$e.call(this,Fn.x1+_r,Fn.y1+gr):or.call(this,Fn.x1+_r,Fn.y1+gr)),Ur.call(this,_r,gr,Fn.x2,Fn.y2,Fn.x3,Fn.y3,Fn.x4,Fn.y4)}Wr?mr.call(this):ir.call(this,Vr)},ir=function(_r){switch(_r){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},mr=function(){this.pdf.clip(),this.pdf.discardPath()},$e=function(_r,gr){this.pdf.internal.out(n(_r)+" "+Ce(gr)+" m")},Ar=function(_r){var gr;switch(_r.align){case"right":case"end":gr="right";break;case"center":gr="center";break;default:gr="left"}var yr=this.pdf.getTextDimensions(_r.text),Rr=fr.call(this,_r.y),Ir=er.call(this,Rr)-yr.h,Qr=this.ctx.transform.applyToPoint(new Be(_r.x,Rr)),Vr=this.ctx.transform.decompose(),Wr=new Oe;Wr=(Wr=(Wr=Wr.multiply(Vr.translate)).multiply(Vr.skew)).multiply(Vr.scale);for(var mn,gn,fn,Fn=this.ctx.transform.applyToRectangle(new Ue(_r.x,Rr,yr.w,yr.h)),wn=Wr.applyToRectangle(new Ue(_r.x,Ir,yr.w,yr.h)),Yr=Je.call(this,wn),Rn=[],bn=0;bn<Yr.length;bn+=1)Rn.indexOf(Yr[bn])===-1&&Rn.push(Yr[bn]);if(cr(Rn),this.autoPaging)for(var zr=Rn[0],$r=Rn[Rn.length-1],Bn=zr;Bn<$r+1;Bn++){this.pdf.setPage(Bn);var Pn=Bn===1?this.posY+this.margin[0]:this.margin[0],jn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kn=this.pdf.internal.pageSize.height-this.margin[2],Xn=Kn-this.margin[0],In=this.pdf.internal.pageSize.width-this.margin[1],$n=In-this.margin[3],Yn=Bn===1?0:jn+(Bn-2)*Xn;if(this.ctx.clip_path.length!==0){var si=this.path;mn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=lr(mn,this.posX+this.margin[3],-1*Yn+Pn),ur.call(this,"fill",!0),this.path=si}var ai=lr([JSON.parse(JSON.stringify(wn))],this.posX+this.margin[3],-Yn+Pn+this.ctx.prevPageLastElemOffset)[0];_r.scale>=.01&&(gn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(gn*_r.scale),fn=this.lineWidth,this.lineWidth=fn*_r.scale);var Ci=this.autoPaging!=="text";if(Ci||ai.y+ai.h<=Kn){if(Ci||ai.y>=Pn&&ai.x<=In){var dr=Ci?_r.text:this.pdf.splitTextToSize(_r.text,_r.maxWidth||In-ai.x)[0],An=lr([JSON.parse(JSON.stringify(Fn))],this.posX+this.margin[3],-Yn+Pn+this.ctx.prevPageLastElemOffset)[0],vn=Ci&&(Bn>zr||Bn<$r)&&tr.call(this);vn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$n,Xn,null).clip().discardPath()),this.pdf.text(dr,An.x,An.y,{angle:_r.angle,align:gr,renderingMode:_r.renderingMode}),vn&&this.pdf.restoreGraphicsState()}}else ai.y<Kn&&(this.ctx.prevPageLastElemOffset+=Kn-ai.y);_r.scale>=.01&&(this.pdf.setFontSize(gn),this.lineWidth=fn)}else _r.scale>=.01&&(gn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(gn*_r.scale),fn=this.lineWidth,this.lineWidth=fn*_r.scale),this.pdf.text(_r.text,Qr.x+this.posX,Qr.y+this.posY,{angle:_r.angle,align:gr,renderingMode:_r.renderingMode,maxWidth:_r.maxWidth}),_r.scale>=.01&&(this.pdf.setFontSize(gn),this.lineWidth=fn)},or=function(_r,gr,yr,Rr){yr=yr||0,Rr=Rr||0,this.pdf.internal.out(n(_r+yr)+" "+Ce(gr+Rr)+" l")},Tr=function(_r,gr,yr){return this.pdf.lines(_r,gr,yr,null,null)},Ur=function(_r,gr,yr,Rr,Ir,Qr,Vr,Wr){this.pdf.internal.out([t(Te(yr+_r)),t(Re(Rr+gr)),t(Te(Ir+_r)),t(Re(Qr+gr)),t(Te(Vr+_r)),t(Re(Wr+gr)),"c"].join(" "))},Fr=function(_r,gr,yr,Rr){for(var Ir=2*Math.PI,Qr=Math.PI/2;gr>yr;)gr-=Ir;var Vr=Math.abs(yr-gr);Vr<Ir&&Rr&&(Vr=Ir-Vr);for(var Wr=[],mn=Rr?-1:1,gn=gr;Vr>1e-5;){var fn=gn+mn*Math.min(Vr,Qr);Wr.push(Er.call(this,_r,gn,fn)),Vr-=Math.abs(fn-gn),gn=fn}return Wr},Er=function(_r,gr,yr){var Rr=(yr-gr)/2,Ir=_r*Math.cos(Rr),Qr=_r*Math.sin(Rr),Vr=Ir,Wr=-Qr,mn=Vr*Vr+Wr*Wr,gn=mn+Vr*Ir+Wr*Qr,fn=4/3*(Math.sqrt(2*mn*gn)-gn)/(Vr*Qr-Wr*Ir),Fn=Vr-fn*Wr,wn=Wr+fn*Vr,Yr=Fn,Rn=-wn,bn=Rr+gr,zr=Math.cos(bn),$r=Math.sin(bn);return{x1:_r*Math.cos(gr),y1:_r*Math.sin(gr),x2:Fn*zr-wn*$r,y2:Fn*$r+wn*zr,x3:Yr*zr-Rn*$r,y3:Yr*$r+Rn*zr,x4:_r*Math.cos(yr),y4:_r*Math.sin(yr)}},jr=function(_r){return 180*_r/Math.PI},Nr=function(_r,gr,yr,Rr,Ir,Qr){var Vr=_r+.5*(yr-_r),Wr=gr+.5*(Rr-gr),mn=Ir+.5*(yr-Ir),gn=Qr+.5*(Rr-Qr),fn=Math.min(_r,Ir,Vr,mn),Fn=Math.max(_r,Ir,Vr,mn),wn=Math.min(gr,Qr,Wr,gn),Yr=Math.max(gr,Qr,Wr,gn);return new Ue(fn,wn,Fn-fn,Yr-wn)},Br=function(_r,gr,yr,Rr,Ir,Qr,Vr,Wr){var mn,gn,fn,Fn,wn,Yr,Rn,bn,zr,$r,Bn,Pn,jn,Kn,Xn=yr-_r,In=Rr-gr,$n=Ir-yr,Yn=Qr-Rr,si=Vr-Ir,ai=Wr-Qr;for(gn=0;gn<41;gn++)zr=(Rn=(fn=_r+(mn=gn/40)*Xn)+mn*((wn=yr+mn*$n)-fn))+mn*(wn+mn*(Ir+mn*si-wn)-Rn),$r=(bn=(Fn=gr+mn*In)+mn*((Yr=Rr+mn*Yn)-Fn))+mn*(Yr+mn*(Qr+mn*ai-Yr)-bn),gn==0?(Bn=zr,Pn=$r,jn=zr,Kn=$r):(Bn=Math.min(Bn,zr),Pn=Math.min(Pn,$r),jn=Math.max(jn,zr),Kn=Math.max(Kn,$r));return new Ue(Math.round(Bn),Math.round(Pn),Math.round(jn-Bn),Math.round(Kn-Pn))},Mr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _r,gr,yr=(_r=this.ctx.lineDash,gr=this.ctx.lineDashOffset,JSON.stringify({lineDash:_r,lineDashOffset:gr}));this.prevLineDash!==yr&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=yr)}}})(E.API),(function(Ee){var t=function(Be){var Ue,Oe,Me,Qe,Ke,Ge,qe,Xe,tr,Je;for(Oe=[],Me=0,Qe=(Be+=Ue="\0\0\0\0".slice(Be.length%4||4)).length;Qe>Me;Me+=4)(Ke=(Be.charCodeAt(Me)<<24)+(Be.charCodeAt(Me+1)<<16)+(Be.charCodeAt(Me+2)<<8)+Be.charCodeAt(Me+3))!==0?(Ge=(Ke=((Ke=((Ke=((Ke=(Ke-(Je=Ke%85))/85)-(tr=Ke%85))/85)-(Xe=Ke%85))/85)-(qe=Ke%85))/85)%85,Oe.push(Ge+33,qe+33,Xe+33,tr+33,Je+33)):Oe.push(122);return(function(Ye,lr){for(var cr=lr;cr>0;cr--)Ye.pop()})(Oe,Ue.length),String.fromCharCode.apply(String,Oe)+"~>"},n=function(Be){var Ue,Oe,Me,Qe,Ke,Ge=String,qe="length",Xe=255,tr="charCodeAt",Je="slice",Ye="replace";for(Be[Je](-2),Be=Be[Je](0,-2)[Ye](/\s/g,"")[Ye]("z","!!!!!"),Me=[],Qe=0,Ke=(Be+=Ue="uuuuu"[Je](Be[qe]%5||5))[qe];Ke>Qe;Qe+=5)Oe=52200625*(Be[tr](Qe)-33)+614125*(Be[tr](Qe+1)-33)+7225*(Be[tr](Qe+2)-33)+85*(Be[tr](Qe+3)-33)+(Be[tr](Qe+4)-33),Me.push(Xe&Oe>>24,Xe&Oe>>16,Xe&Oe>>8,Xe&Oe);return(function(lr,cr){for(var hr=cr;hr>0;hr--)lr.pop()})(Me,Ue[qe]),Ge.fromCharCode.apply(Ge,Me)},Ce=function(Be){return Be.split("").map(function(Ue){return("0"+Ue.charCodeAt().toString(16)).slice(-2)}).join("")+">"},Te=function(Be){var Ue=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Be=Be.replace(/\s/g,"")).indexOf(">")!==-1&&(Be=Be.substr(0,Be.indexOf(">"))),Be.length%2&&(Be+="0"),Ue.test(Be)===!1)return"";for(var Oe="",Me=0;Me<Be.length;Me+=2)Oe+=String.fromCharCode("0x"+(Be[Me]+Be[Me+1]));return Oe},Re=function(Be){for(var Ue=new Uint8Array(Be.length),Oe=Be.length;Oe--;)Ue[Oe]=Be.charCodeAt(Oe);return(Ue=zlibSync(Ue)).reduce(function(Me,Qe){return Me+String.fromCharCode(Qe)},"")};Ee.processDataByFilters=function(Be,Ue){var Oe=0,Me=Be||"",Qe=[];for(typeof(Ue=Ue||[])=="string"&&(Ue=[Ue]),Oe=0;Oe<Ue.length;Oe+=1)switch(Ue[Oe]){case"ASCII85Decode":case"/ASCII85Decode":Me=n(Me),Qe.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Me=t(Me),Qe.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Me=Te(Me),Qe.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Me=Ce(Me),Qe.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Me=Re(Me),Qe.push("/FlateDecode");break;default:throw new Error('The filter: "'+Ue[Oe]+'" is not implemented')}return{data:Me,reverseChain:Qe.reverse().join(" ")}}})(E.API),(function(Ee){Ee.loadFile=function(t,n,Ce){return(function(Te,Re,Be){Re=Re!==!1,Be=typeof Be=="function"?Be:function(){};var Ue=void 0;try{Ue=(function(Oe,Me,Qe){var Ke=new XMLHttpRequest,Ge=0,qe=function(Xe){var tr=Xe.length,Je=[],Ye=String.fromCharCode;for(Ge=0;Ge<tr;Ge+=1)Je.push(Ye(255&Xe.charCodeAt(Ge)));return Je.join("")};if(Ke.open("GET",Oe,!Me),Ke.overrideMimeType("text/plain; charset=x-user-defined"),Me===!1&&(Ke.onload=function(){Ke.status===200?Qe(qe(this.responseText)):Qe(void 0)}),Ke.send(null),Me&&Ke.status===200)return qe(Ke.responseText)})(Te,Re,Be)}catch{}return Ue})(t,n,Ce)},Ee.loadImageFile=Ee.loadFile})(E.API),(function(Ee){function t(){return(i$2.html2canvas?Promise.resolve(i$2.html2canvas):__vitePreload(()=>Promise.resolve().then(()=>html2canvas_esm),[])).catch(function(Ue){return Promise.reject(new Error("Could not load html2canvas: "+Ue))}).then(function(Ue){return Ue.default?Ue.default:Ue})}function n(){return(i$2.DOMPurify?Promise.resolve(i$2.DOMPurify):__vitePreload(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(Ue){return Promise.reject(new Error("Could not load dompurify: "+Ue))}).then(function(Ue){return Ue.default?Ue.default:Ue})}var Ce=function(Ue){var Oe=_typeof(Ue);return Oe==="undefined"?"undefined":Oe==="string"||Ue instanceof String?"string":Oe==="number"||Ue instanceof Number?"number":Oe==="function"||Ue instanceof Function?"function":Ue&&Ue.constructor===Array?"array":Ue&&Ue.nodeType===1?"element":Oe==="object"?"object":"unknown"},Te=function(Ue,Oe){var Me=document.createElement(Ue);for(var Qe in Oe.className&&(Me.className=Oe.className),Oe.innerHTML&&Oe.dompurify&&(Me.innerHTML=Oe.dompurify.sanitize(Oe.innerHTML)),Oe.style)Me.style[Qe]=Oe.style[Qe];return Me},Re=function Ue(Oe,Me){for(var Qe=Oe.nodeType===3?document.createTextNode(Oe.nodeValue):Oe.cloneNode(!1),Ke=Oe.firstChild;Ke;Ke=Ke.nextSibling)Me!==!0&&Ke.nodeType===1&&Ke.nodeName==="SCRIPT"||Qe.appendChild(Ue(Ke,Me));return Oe.nodeType===1&&(Oe.nodeName==="CANVAS"?(Qe.width=Oe.width,Qe.height=Oe.height,Qe.getContext("2d").drawImage(Oe,0,0)):Oe.nodeName!=="TEXTAREA"&&Oe.nodeName!=="SELECT"||(Qe.value=Oe.value),Qe.addEventListener("load",function(){Qe.scrollTop=Oe.scrollTop,Qe.scrollLeft=Oe.scrollLeft},!0)),Qe},Be=function Ue(Oe){var Me=Object.assign(Ue.convert(Promise.resolve()),JSON.parse(JSON.stringify(Ue.template))),Qe=Ue.convert(Promise.resolve(),Me);return(Qe=Qe.setProgress(1,Ue,1,[Ue])).set(Oe)};(Be.prototype=Object.create(Promise.prototype)).constructor=Be,Be.convert=function(Ue,Oe){return Ue.__proto__=Oe||Be.prototype,Ue},Be.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Be.prototype.from=function(Ue,Oe){return this.then(function(){switch(Oe=Oe||(function(Me){switch(Ce(Me)){case"string":return"string";case"element":return Me.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(Ue),Oe){case"string":return this.then(n).then(function(Me){return this.set({src:Te("div",{innerHTML:Ue,dompurify:Me})})});case"element":return this.set({src:Ue});case"canvas":return this.set({canvas:Ue});case"img":return this.set({img:Ue});default:return this.error("Unknown source type.")}})},Be.prototype.to=function(Ue){switch(Ue){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Be.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var Ue={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Oe=Re(this.prop.src,this.opt.html2canvas.javascriptEnabled);Oe.tagName==="BODY"&&(Ue.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=Te("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=Te("div",{className:"html2pdf__container",style:Ue}),this.prop.container.appendChild(Oe),this.prop.container.firstChild.appendChild(Te("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Be.prototype.toCanvas=function(){var Ue=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Ue).then(t).then(function(Oe){var Me=Object.assign({},this.opt.html2canvas);return delete Me.onrendered,Oe(this.prop.container,Me)}).then(function(Oe){(this.opt.html2canvas.onrendered||function(){})(Oe),this.prop.canvas=Oe,document.body.removeChild(this.prop.overlay)})},Be.prototype.toContext2d=function(){var Ue=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Ue).then(t).then(function(Oe){var Me=this.opt.jsPDF,Qe=this.opt.fontFaces,Ke=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,Ge=Object.assign({async:!0,allowTaint:!0,scale:Ke,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete Ge.onrendered,Me.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Me.context2d.posX=this.opt.x,Me.context2d.posY=this.opt.y,Me.context2d.margin=this.opt.margin,Me.context2d.fontFaces=Qe,Qe)for(var qe=0;qe<Qe.length;++qe){var Xe=Qe[qe],tr=Xe.src.find(function(Je){return Je.format==="truetype"});tr&&Me.addFont(tr.url,Xe.ref.name,Xe.ref.style)}return Ge.windowHeight=Ge.windowHeight||0,Ge.windowHeight=Ge.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):Ge.windowHeight,Me.context2d.save(!0),Oe(this.prop.container,Ge)}).then(function(Oe){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Oe),this.prop.canvas=Oe,document.body.removeChild(this.prop.overlay)})},Be.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var Ue=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=Ue})},Be.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Be.prototype.output=function(Ue,Oe,Me){return(Me=Me||"pdf").toLowerCase()==="img"||Me.toLowerCase()==="image"?this.outputImg(Ue,Oe):this.outputPdf(Ue,Oe)},Be.prototype.outputPdf=function(Ue,Oe){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(Ue,Oe)})},Be.prototype.outputImg=function(Ue){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(Ue){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Ue+'" is not supported.'}})},Be.prototype.save=function(Ue){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(Ue?{filename:Ue}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Be.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Be.prototype.set=function(Ue){if(Ce(Ue)!=="object")return this;var Oe=Object.keys(Ue||{}).map(function(Me){if(Me in Be.template.prop)return function(){this.prop[Me]=Ue[Me]};switch(Me){case"margin":return this.setMargin.bind(this,Ue.margin);case"jsPDF":return function(){return this.opt.jsPDF=Ue.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Ue.pageSize);default:return function(){this.opt[Me]=Ue[Me]}}},this);return this.then(function(){return this.thenList(Oe)})},Be.prototype.get=function(Ue,Oe){return this.then(function(){var Me=Ue in Be.template.prop?this.prop[Ue]:this.opt[Ue];return Oe?Oe(Me):Me})},Be.prototype.setMargin=function(Ue){return this.then(function(){switch(Ce(Ue)){case"number":Ue=[Ue,Ue,Ue,Ue];case"array":if(Ue.length===2&&(Ue=[Ue[0],Ue[1],Ue[0],Ue[1]]),Ue.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=Ue}).then(this.setPageSize)},Be.prototype.setPageSize=function(Ue){function Oe(Me,Qe){return Math.floor(Me*Qe/72*96)}return this.then(function(){(Ue=Ue||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(Ue.inner={width:Ue.width-this.opt.margin[1]-this.opt.margin[3],height:Ue.height-this.opt.margin[0]-this.opt.margin[2]},Ue.inner.px={width:Oe(Ue.inner.width,Ue.k),height:Oe(Ue.inner.height,Ue.k)},Ue.inner.ratio=Ue.inner.height/Ue.inner.width),this.prop.pageSize=Ue})},Be.prototype.setProgress=function(Ue,Oe,Me,Qe){return Ue!=null&&(this.progress.val=Ue),Oe!=null&&(this.progress.state=Oe),Me!=null&&(this.progress.n=Me),Qe!=null&&(this.progress.stack=Qe),this.progress.ratio=this.progress.val/this.progress.state,this},Be.prototype.updateProgress=function(Ue,Oe,Me,Qe){return this.setProgress(Ue?this.progress.val+Ue:null,Oe||null,Me?this.progress.n+Me:null,Qe?this.progress.stack.concat(Qe):null)},Be.prototype.then=function(Ue,Oe){var Me=this;return this.thenCore(Ue,Oe,function(Qe,Ke){return Me.updateProgress(null,null,1,[Qe]),Promise.prototype.then.call(this,function(Ge){return Me.updateProgress(null,Qe),Ge}).then(Qe,Ke).then(function(Ge){return Me.updateProgress(1),Ge})})},Be.prototype.thenCore=function(Ue,Oe,Me){Me=Me||Promise.prototype.then;var Qe=this;Ue&&(Ue=Ue.bind(Qe)),Oe&&(Oe=Oe.bind(Qe));var Ke=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?Qe:Be.convert(Object.assign({},Qe),Promise.prototype),Ge=Me.call(Ke,Ue,Oe);return Be.convert(Ge,Qe.__proto__)},Be.prototype.thenExternal=function(Ue,Oe){return Promise.prototype.then.call(this,Ue,Oe)},Be.prototype.thenList=function(Ue){var Oe=this;return Ue.forEach(function(Me){Oe=Oe.thenCore(Me)}),Oe},Be.prototype.catch=function(Ue){Ue&&(Ue=Ue.bind(this));var Oe=Promise.prototype.catch.call(this,Ue);return Be.convert(Oe,this)},Be.prototype.catchExternal=function(Ue){return Promise.prototype.catch.call(this,Ue)},Be.prototype.error=function(Ue){return this.then(function(){throw new Error(Ue)})},Be.prototype.using=Be.prototype.set,Be.prototype.saveAs=Be.prototype.save,Be.prototype.export=Be.prototype.output,Be.prototype.run=Be.prototype.then,E.getPageSize=function(Ue,Oe,Me){if(_typeof(Ue)==="object"){var Qe=Ue;Ue=Qe.orientation,Oe=Qe.unit||Oe,Me=Qe.format||Me}Oe=Oe||"mm",Me=Me||"a4",Ue=(""+(Ue||"P")).toLowerCase();var Ke,Ge=(""+Me).toLowerCase(),qe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Oe){case"pt":Ke=1;break;case"mm":Ke=72/25.4;break;case"cm":Ke=72/2.54;break;case"in":Ke=72;break;case"px":Ke=.75;break;case"pc":case"em":Ke=12;break;case"ex":Ke=6;break;default:throw"Invalid unit: "+Oe}var Xe,tr=0,Je=0;if(qe.hasOwnProperty(Ge))tr=qe[Ge][1]/Ke,Je=qe[Ge][0]/Ke;else try{tr=Me[1],Je=Me[0]}catch{throw new Error("Invalid format: "+Me)}if(Ue==="p"||Ue==="portrait")Ue="p",Je>tr&&(Xe=Je,Je=tr,tr=Xe);else{if(Ue!=="l"&&Ue!=="landscape")throw"Invalid orientation: "+Ue;Ue="l",tr>Je&&(Xe=Je,Je=tr,tr=Xe)}return{width:Je,height:tr,unit:Oe,k:Ke,orientation:Ue}},Ee.html=function(Ue,Oe){(Oe=Oe||{}).callback=Oe.callback||function(){},Oe.html2canvas=Oe.html2canvas||{},Oe.html2canvas.canvas=Oe.html2canvas.canvas||this.canvas,Oe.jsPDF=Oe.jsPDF||this,Oe.fontFaces=Oe.fontFaces?Oe.fontFaces.map(Ct):null;var Me=new Be(Oe);return Oe.worker?Me:Me.from(Ue).doCallback()}})(E.API),E.API.addJS=function(Ee){return Ut=Ee,this.internal.events.subscribe("postPutResources",function(){Tt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Tt+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ut+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Tt!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Tt+" 0 R>>")}),this},(function(Ee){var t;Ee.events.push(["postPutResources",function(){var n=this,Ce=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var Te=n.outline.render().split(/\r\n/),Re=0;Re<Te.length;Re++){var Be=Te[Re],Ue=Ce.exec(Be);if(Ue!=null){var Oe=Ue[1];n.internal.newObjectDeferredBegin(Oe,!1)}n.internal.write(Be)}if(this.outline.createNamedDestinations){var Me=this.internal.pages.length,Qe=[];for(Re=0;Re<Me;Re++){var Ke=n.internal.newObject();Qe.push(Ke);var Ge=n.internal.getPageInfo(Re+1);n.internal.write("<< /D["+Ge.objId+" 0 R /XYZ null null null]>> endobj")}var qe=n.internal.newObject();for(n.internal.write("<< /Names [ "),Re=0;Re<Qe.length;Re++)n.internal.write("(page_"+(Re+1)+")"+Qe[Re]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+qe+" 0 R"),n.internal.write(">>","endobj")}}]),Ee.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),Ee.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(Ce,Te,Re){var Be={title:Te,options:Re,children:[]};return Ce==null&&(Ce=this.root),Ce.children.push(Be),Be},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(Ce){Ce.id=n.internal.newObjectDeferred();for(var Te=0;Te<Ce.children.length;Te++)this.genIds_r(Ce.children[Te])},n.outline.renderRoot=function(Ce){this.objStart(Ce),this.line("/Type /Outlines"),Ce.children.length>0&&(this.line("/First "+this.makeRef(Ce.children[0])),this.line("/Last "+this.makeRef(Ce.children[Ce.children.length-1]))),this.line("/Count "+this.count_r({count:0},Ce)),this.objEnd()},n.outline.renderItems=function(Ce){for(var Te=this.ctx.pdf.internal.getVerticalCoordinateString,Re=0;Re<Ce.children.length;Re++){var Be=Ce.children[Re];this.objStart(Be),this.line("/Title "+this.makeString(Be.title)),this.line("/Parent "+this.makeRef(Ce)),Re>0&&this.line("/Prev "+this.makeRef(Ce.children[Re-1])),Re<Ce.children.length-1&&this.line("/Next "+this.makeRef(Ce.children[Re+1])),Be.children.length>0&&(this.line("/First "+this.makeRef(Be.children[0])),this.line("/Last "+this.makeRef(Be.children[Be.children.length-1])));var Ue=this.count=this.count_r({count:0},Be);if(Ue>0&&this.line("/Count "+Ue),Be.options&&Be.options.pageNumber){var Oe=n.internal.getPageInfo(Be.options.pageNumber);this.line("/Dest ["+Oe.objId+" 0 R /XYZ 0 "+Te(0)+" 0]")}this.objEnd()}for(var Me=0;Me<Ce.children.length;Me++)this.renderItems(Ce.children[Me])},n.outline.line=function(Ce){this.ctx.val+=Ce+`\r
`},n.outline.makeRef=function(Ce){return Ce.id+" 0 R"},n.outline.makeString=function(Ce){return"("+n.internal.pdfEscape(Ce)+")"},n.outline.objStart=function(Ce){this.ctx.val+=`\r
`+Ce.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(Ce,Te){for(var Re=0;Re<Te.children.length;Re++)Ce.count++,this.count_r(Ce,Te.children[Re]);return Ce.count}}])})(E.API),(function(Ee){var t=[192,193,194,195,196,197,198,199];Ee.processJPEG=function(n,Ce,Te,Re,Be,Ue){var Oe,Me=this.decode.DCT_DECODE,Qe=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=Be||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,Oe=(function(Ke){for(var Ge,qe=256*Ke.charCodeAt(4)+Ke.charCodeAt(5),Xe=Ke.length,tr={width:0,height:0,numcomponents:1},Je=4;Je<Xe;Je+=2){if(Je+=qe,t.indexOf(Ke.charCodeAt(Je+1))!==-1){Ge=256*Ke.charCodeAt(Je+5)+Ke.charCodeAt(Je+6),tr={width:256*Ke.charCodeAt(Je+7)+Ke.charCodeAt(Je+8),height:Ge,numcomponents:Ke.charCodeAt(Je+9)};break}qe=256*Ke.charCodeAt(Je+2)+Ke.charCodeAt(Je+3)}return tr})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),Oe.numcomponents){case 1:Ue=this.color_spaces.DEVICE_GRAY;break;case 4:Ue=this.color_spaces.DEVICE_CMYK;break;case 3:Ue=this.color_spaces.DEVICE_RGB}Qe={data:n,width:Oe.width,height:Oe.height,colorSpace:Ue,bitsPerComponent:8,filter:Me,index:Ce,alias:Te}}return Qe}})(E.API),E.API.processPNG=function(Ee,t,n,Ce){if(this.__addimage__.isArrayBuffer(Ee)&&(Ee=new Uint8Array(Ee)),this.__addimage__.isArrayBufferView(Ee)){var Te,Re=decodePng(Ee,{checkCrc:!0}),Be=Re.width,Ue=Re.height,Oe=Re.channels,Me=Re.palette,Qe=Re.depth;Te=Me&&Oe===1?(function(er){for(var nr=er.width,ir=er.height,mr=er.data,$e=er.palette,Ar=er.depth,or=!1,Tr=[],Ur=[],Fr=void 0,Er=!1,jr=0,Nr=0;Nr<$e.length;Nr++){var Br=_slicedToArray($e[Nr],4),Mr=Br[0],_r=Br[1],gr=Br[2],yr=Br[3];Tr.push(Mr,_r,gr),yr!=null&&(yr===0?(jr++,Ur.length<1&&Ur.push(Nr)):yr<255&&(Er=!0))}if(Er||jr>1){or=!0,Ur=void 0;var Rr=nr*ir;Fr=new Uint8Array(Rr);for(var Ir=new DataView(mr.buffer),Qr=0;Qr<Rr;Qr++){var Vr=re(Ir,Qr,Ar),Wr=_slicedToArray($e[Vr],4)[3];Fr[Qr]=Wr}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:mr,alphaBytes:Fr,needSMask:or,palette:Tr,mask:Ur}})(Re):Oe===2||Oe===4?(function(er){for(var nr=er.data,ir=er.width,mr=er.height,$e=er.channels,Ar=er.depth,or=$e===2?"DeviceGray":"DeviceRGB",Tr=$e-1,Ur=ir*mr,Fr=Tr,Er=Ur*Fr,jr=1*Ur,Nr=Math.ceil(Er*Ar/8),Br=Math.ceil(jr*Ar/8),Mr=new Uint8Array(Nr),_r=new Uint8Array(Br),gr=new DataView(nr.buffer),yr=new DataView(Mr.buffer),Rr=new DataView(_r.buffer),Ir=!1,Qr=0;Qr<Ur;Qr++){for(var Vr=Qr*$e,Wr=0;Wr<Fr;Wr++)ie(yr,re(gr,Vr+Wr,Ar),Qr*Fr+Wr,Ar);var mn=re(gr,Vr+Fr,Ar);mn<(1<<Ar)-1&&(Ir=!0),ie(Rr,mn,1*Qr,Ar)}return{colorSpace:or,colorsPerPixel:Tr,colorBytes:Mr,alphaBytes:_r,needSMask:Ir}})(Re):(function(er){var nr=er.data,ir=er.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ir,colorsPerPixel:ir==="DeviceGray"?1:3,colorBytes:nr instanceof Uint8Array?nr:new Uint8Array(nr.buffer),needSMask:!1}})(Re);var Ke,Ge,qe,Xe=Te,tr=Xe.colorSpace,Je=Xe.colorsPerPixel,Ye=Xe.colorBytes,lr=Xe.alphaBytes,cr=Xe.needSMask,hr=Xe.palette,ur=Xe.mask,fr=null;return Ce!==E.API.image_compression.NONE&&typeof zlibSync=="function"?(fr=(function(er){var nr;switch(er){case E.API.image_compression.FAST:nr=11;break;case E.API.image_compression.MEDIUM:nr=13;break;case E.API.image_compression.SLOW:nr=14;break;default:nr=12}return nr})(Ce),Ke=this.decode.FLATE_DECODE,Ge="/Predictor ".concat(fr," "),Ee=Xt(Ye,Be*Je,Je,Ce),cr&&(qe=Xt(lr,Be,1,Ce))):(Ke=void 0,Ge="",Ee=Ye,cr&&(qe=lr)),Ge+="/Colors ".concat(Je," /BitsPerComponent ").concat(Qe," /Columns ").concat(Be),(this.__addimage__.isArrayBuffer(Ee)||this.__addimage__.isArrayBufferView(Ee))&&(Ee=this.__addimage__.arrayBufferToBinaryString(Ee)),(qe&&this.__addimage__.isArrayBuffer(qe)||this.__addimage__.isArrayBufferView(qe))&&(qe=this.__addimage__.arrayBufferToBinaryString(qe)),{alias:n,data:Ee,index:t,filter:Ke,decodeParameters:Ge,transparency:ur,palette:hr,sMask:qe,predictor:fr,width:Be,height:Ue,bitsPerComponent:Qe,colorSpace:tr}}},(function(Ee){Ee.processGIF89A=function(t,n,Ce,Te){var Re=new oe(t),Be=Re.width,Ue=Re.height,Oe=[];Re.decodeAndBlitFrameRGBA(0,Oe);var Me={data:Oe,width:Be,height:Ue},Qe=new ue(100).encode(Me,100);return Ee.processJPEG.call(this,Qe,n,Ce,Te)},Ee.processGIF87A=Ee.processGIF89A})(E.API),ce.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var Ee=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(Ee);for(var t=0;t<Ee;t++){var n=this.datav.getUint8(this.pos++,!0),Ce=this.datav.getUint8(this.pos++,!0),Te=this.datav.getUint8(this.pos++,!0),Re=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:Te,green:Ce,blue:n,quad:Re}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ce.prototype.parseBGR=function(){this.pos=this.offset;try{var Ee="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[Ee]()}catch(n){o.log("bit decode error:"+n)}},ce.prototype.bit1=function(){var Ee,t=Math.ceil(this.width/8),n=t%4;for(Ee=this.height-1;Ee>=0;Ee--){for(var Ce=this.bottom_up?Ee:this.height-1-Ee,Te=0;Te<t;Te++)for(var Re=this.datav.getUint8(this.pos++,!0),Be=Ce*this.width*4+8*Te*4,Ue=0;Ue<8&&8*Te+Ue<this.width;Ue++){var Oe=this.palette[Re>>7-Ue&1];this.data[Be+4*Ue]=Oe.blue,this.data[Be+4*Ue+1]=Oe.green,this.data[Be+4*Ue+2]=Oe.red,this.data[Be+4*Ue+3]=255}n!==0&&(this.pos+=4-n)}},ce.prototype.bit4=function(){for(var Ee=Math.ceil(this.width/2),t=Ee%4,n=this.height-1;n>=0;n--){for(var Ce=this.bottom_up?n:this.height-1-n,Te=0;Te<Ee;Te++){var Re=this.datav.getUint8(this.pos++,!0),Be=Ce*this.width*4+2*Te*4,Ue=Re>>4,Oe=15&Re,Me=this.palette[Ue];if(this.data[Be]=Me.blue,this.data[Be+1]=Me.green,this.data[Be+2]=Me.red,this.data[Be+3]=255,2*Te+1>=this.width)break;Me=this.palette[Oe],this.data[Be+4]=Me.blue,this.data[Be+4+1]=Me.green,this.data[Be+4+2]=Me.red,this.data[Be+4+3]=255}t!==0&&(this.pos+=4-t)}},ce.prototype.bit8=function(){for(var Ee=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,Ce=0;Ce<this.width;Ce++){var Te=this.datav.getUint8(this.pos++,!0),Re=n*this.width*4+4*Ce;if(Te<this.palette.length){var Be=this.palette[Te];this.data[Re]=Be.red,this.data[Re+1]=Be.green,this.data[Re+2]=Be.blue,this.data[Re+3]=255}else this.data[Re]=255,this.data[Re+1]=255,this.data[Re+2]=255,this.data[Re+3]=255}Ee!==0&&(this.pos+=4-Ee)}},ce.prototype.bit15=function(){for(var Ee=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var Ce=this.bottom_up?n:this.height-1-n,Te=0;Te<this.width;Te++){var Re=this.datav.getUint16(this.pos,!0);this.pos+=2;var Be=(Re&t)/t*255|0,Ue=(Re>>5&t)/t*255|0,Oe=(Re>>10&t)/t*255|0,Me=Re>>15?255:0,Qe=Ce*this.width*4+4*Te;this.data[Qe]=Oe,this.data[Qe+1]=Ue,this.data[Qe+2]=Be,this.data[Qe+3]=Me}this.pos+=Ee}},ce.prototype.bit16=function(){for(var Ee=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),Ce=this.height-1;Ce>=0;Ce--){for(var Te=this.bottom_up?Ce:this.height-1-Ce,Re=0;Re<this.width;Re++){var Be=this.datav.getUint16(this.pos,!0);this.pos+=2;var Ue=(Be&t)/t*255|0,Oe=(Be>>5&n)/n*255|0,Me=(Be>>11)/t*255|0,Qe=Te*this.width*4+4*Re;this.data[Qe]=Me,this.data[Qe+1]=Oe,this.data[Qe+2]=Ue,this.data[Qe+3]=255}this.pos+=Ee}},ce.prototype.bit24=function(){for(var Ee=this.height-1;Ee>=0;Ee--){for(var t=this.bottom_up?Ee:this.height-1-Ee,n=0;n<this.width;n++){var Ce=this.datav.getUint8(this.pos++,!0),Te=this.datav.getUint8(this.pos++,!0),Re=this.datav.getUint8(this.pos++,!0),Be=t*this.width*4+4*n;this.data[Be]=Re,this.data[Be+1]=Te,this.data[Be+2]=Ce,this.data[Be+3]=255}this.pos+=this.width%4}},ce.prototype.bit32=function(){for(var Ee=this.height-1;Ee>=0;Ee--)for(var t=this.bottom_up?Ee:this.height-1-Ee,n=0;n<this.width;n++){var Ce=this.datav.getUint8(this.pos++,!0),Te=this.datav.getUint8(this.pos++,!0),Re=this.datav.getUint8(this.pos++,!0),Be=this.datav.getUint8(this.pos++,!0),Ue=t*this.width*4+4*n;this.data[Ue]=Re,this.data[Ue+1]=Te,this.data[Ue+2]=Ce,this.data[Ue+3]=Be}},ce.prototype.getData=function(){return this.data},(function(Ee){Ee.processBMP=function(t,n,Ce,Te){var Re=new ce(t,!1),Be=Re.width,Ue=Re.height,Oe={data:Re.getData(),width:Be,height:Ue},Me=new ue(100).encode(Oe,100);return Ee.processJPEG.call(this,Me,n,Ce,Te)}})(E.API),le.prototype.getData=function(){return this.data},(function(Ee){Ee.processWEBP=function(t,n,Ce,Te){var Re=new le(t),Be=Re.width,Ue=Re.height,Oe={data:Re.getData(),width:Be,height:Ue},Me=new ue(100).encode(Oe,100);return Ee.processJPEG.call(this,Me,n,Ce,Te)}})(E.API),E.API.processRGBA=function(Ee,t,n){for(var Ce=Ee.data,Te=Ce.length,Re=new Uint8Array(Te/4*3),Be=new Uint8Array(Te/4),Ue=0,Oe=0,Me=0;Me<Te;Me+=4){var Qe=Ce[Me],Ke=Ce[Me+1],Ge=Ce[Me+2],qe=Ce[Me+3];Re[Ue++]=Qe,Re[Ue++]=Ke,Re[Ue++]=Ge,Be[Oe++]=qe}var Xe=this.__addimage__.arrayBufferToBinaryString(Re);return{alpha:this.__addimage__.arrayBufferToBinaryString(Be),data:Xe,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:Ee.width,height:Ee.height}},E.API.setLanguage=function(Ee){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[Ee]!==void 0&&(this.internal.languageSettings.languageCode=Ee,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ht=E.API,Wt=Ht.getCharWidthsArray=function(Ee,t){var n,Ce,Te=(t=t||{}).font||this.internal.getFont(),Re=t.fontSize||this.internal.getFontSize(),Be=t.charSpace||this.internal.getCharSpace(),Ue=t.widths?t.widths:Te.metadata.Unicode.widths,Oe=Ue.fof?Ue.fof:1,Me=t.kerning?t.kerning:Te.metadata.Unicode.kerning,Qe=Me.fof?Me.fof:1,Ke=t.doKerning!==!1,Ge=0,qe=Ee.length,Xe=0,tr=Ue[0]||Oe,Je=[];for(n=0;n<qe;n++)Ce=Ee.charCodeAt(n),typeof Te.metadata.widthOfString=="function"?Je.push((Te.metadata.widthOfGlyph(Te.metadata.characterToGlyph(Ce))+Be*(1e3/Re)||0)/1e3):(Ge=Ke&&_typeof(Me[Ce])==="object"&&!isNaN(parseInt(Me[Ce][Xe],10))?Me[Ce][Xe]/Qe:0,Je.push((Ue[Ce]||tr)/Oe+Ge)),Xe=Ce;return Je},Vt=Ht.getStringUnitWidth=function(Ee,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),Ce=t.font||this.internal.getFont(),Te=t.charSpace||this.internal.getCharSpace();return Ht.processArabic&&(Ee=Ht.processArabic(Ee)),typeof Ce.metadata.widthOfString=="function"?Ce.metadata.widthOfString(Ee,n,Te)/n:Wt.apply(this,arguments).reduce(function(Re,Be){return Re+Be},0)},Gt=function(Ee,t,n,Ce){for(var Te=[],Re=0,Be=Ee.length,Ue=0;Re!==Be&&Ue+t[Re]<n;)Ue+=t[Re],Re++;Te.push(Ee.slice(0,Re));var Oe=Re;for(Ue=0;Re!==Be;)Ue+t[Re]>Ce&&(Te.push(Ee.slice(Oe,Re)),Ue=0,Oe=Re),Ue+=t[Re],Re++;return Oe!==Re&&Te.push(Ee.slice(Oe,Re)),Te},Yt=function(Ee,t,n){n||(n={});var Ce,Te,Re,Be,Ue,Oe,Me,Qe=[],Ke=[Qe],Ge=n.textIndent||0,qe=0,Xe=0,tr=Ee.split(" "),Je=Wt.apply(this,[" ",n])[0];if(Oe=n.lineIndent===-1?tr[0].length+2:n.lineIndent||0){var Ye=Array(Oe).join(" "),lr=[];tr.map(function(hr){(hr=hr.split(/\s*\n/)).length>1?lr=lr.concat(hr.map(function(ur,fr){return(fr&&ur.length?`
`:"")+ur})):lr.push(hr[0])}),tr=lr,Oe=Vt.apply(this,[Ye,n])}for(Re=0,Be=tr.length;Re<Be;Re++){var cr=0;if(Ce=tr[Re],Oe&&Ce[0]==`
`&&(Ce=Ce.substr(1),cr=1),Ge+qe+(Xe=(Te=Wt.apply(this,[Ce,n])).reduce(function(hr,ur){return hr+ur},0))>t||cr){if(Xe>t){for(Ue=Gt.apply(this,[Ce,Te,t-(Ge+qe),t]),Qe.push(Ue.shift()),Qe=[Ue.pop()];Ue.length;)Ke.push([Ue.shift()]);Xe=Te.slice(Ce.length-(Qe[0]?Qe[0].length:0)).reduce(function(hr,ur){return hr+ur},0)}else Qe=[Ce];Ke.push(Qe),Ge=Xe+Oe,qe=Je}else Qe.push(Ce),Ge+=qe+Xe,qe=Je}return Me=Oe?function(hr,ur){return(ur?Ye:"")+hr.join(" ")}:function(hr){return hr.join(" ")},Ke.map(Me)},Ht.splitTextToSize=function(Ee,t,n){var Ce,Te=(n=n||{}).fontSize||this.internal.getFontSize(),Re=(function(Qe){if(Qe.widths&&Qe.kerning)return{widths:Qe.widths,kerning:Qe.kerning};var Ke=this.internal.getFont(Qe.fontName,Qe.fontStyle),Ge="Unicode";return Ke.metadata[Ge]?{widths:Ke.metadata[Ge].widths||{0:1},kerning:Ke.metadata[Ge].kerning||{}}:{font:Ke.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);Ce=Array.isArray(Ee)?Ee:String(Ee).split(/\r?\n/);var Be=1*this.internal.scaleFactor*t/Te;Re.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/Te:0,Re.lineIndent=n.lineIndent;var Ue,Oe,Me=[];for(Ue=0,Oe=Ce.length;Ue<Oe;Ue++)Me=Me.concat(Yt.apply(this,[Ce[Ue],Be,Re]));return Me},(function(Ee){Ee.__fontmetrics__=Ee.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",Ce={},Te={},Re=0;Re<16;Re++)Ce[n[Re]]=t[Re],Te[t[Re]]=n[Re];var Be=function(Ge){return"0x"+parseInt(Ge,10).toString(16)},Ue=Ee.__fontmetrics__.compress=function(Ge){var qe,Xe,tr,Je,Ye=["{"];for(var lr in Ge){if(qe=Ge[lr],isNaN(parseInt(lr,10))?Xe="'"+lr+"'":(lr=parseInt(lr,10),Xe=(Xe=Be(lr).slice(2)).slice(0,-1)+Te[Xe.slice(-1)]),typeof qe=="number")qe<0?(tr=Be(qe).slice(3),Je="-"):(tr=Be(qe).slice(2),Je=""),tr=Je+tr.slice(0,-1)+Te[tr.slice(-1)];else{if(_typeof(qe)!=="object")throw new Error("Don't know what to do with value type "+_typeof(qe)+".");tr=Ue(qe)}Ye.push(Xe+tr)}return Ye.push("}"),Ye.join("")},Oe=Ee.__fontmetrics__.uncompress=function(Ge){if(typeof Ge!="string")throw new Error("Invalid argument passed to uncompress.");for(var qe,Xe,tr,Je,Ye={},lr=1,cr=Ye,hr=[],ur="",fr="",er=Ge.length-1,nr=1;nr<er;nr+=1)(Je=Ge[nr])=="'"?qe?(tr=qe.join(""),qe=void 0):qe=[]:qe?qe.push(Je):Je=="{"?(hr.push([cr,tr]),cr={},tr=void 0):Je=="}"?((Xe=hr.pop())[0][Xe[1]]=cr,tr=void 0,cr=Xe[0]):Je=="-"?lr=-1:tr===void 0?Ce.hasOwnProperty(Je)?(ur+=Ce[Je],tr=parseInt(ur,16)*lr,lr=1,ur=""):ur+=Je:Ce.hasOwnProperty(Je)?(fr+=Ce[Je],cr[tr]=parseInt(fr,16)*lr,lr=1,tr=void 0,fr=""):fr+=Je;return Ye},Me={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Oe("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Qe={Unicode:{Courier:Me,"Courier-Bold":Me,"Courier-BoldOblique":Me,"Courier-Oblique":Me,Helvetica:Me,"Helvetica-Bold":Me,"Helvetica-BoldOblique":Me,"Helvetica-Oblique":Me,"Times-Roman":Me,"Times-Bold":Me,"Times-BoldItalic":Me,"Times-Italic":Me}},Ke={Unicode:{"Courier-Oblique":Oe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Oe("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Oe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Oe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Oe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Oe("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Oe("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Oe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Oe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Oe("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Oe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Oe("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Oe("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Oe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};Ee.events.push(["addFont",function(Ge){var qe=Ge.font,Xe=Ke.Unicode[qe.postScriptName];Xe&&(qe.metadata.Unicode={},qe.metadata.Unicode.widths=Xe.widths,qe.metadata.Unicode.kerning=Xe.kerning);var tr=Qe.Unicode[qe.postScriptName];tr&&(qe.metadata.Unicode.encoding=tr,qe.encoding=tr.codePages[0])}])})(E.API),(function(Ee){var t=function(n){for(var Ce=n.length,Te=new Uint8Array(Ce),Re=0;Re<Ce;Re++)Te[Re]=n.charCodeAt(Re);return Te};Ee.API.events.push(["addFont",function(n){var Ce=void 0,Te=n.font,Re=n.instance;if(!Te.isStandardFont){if(Re===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+Te.postScriptName+"').");if(typeof(Ce=Re.existsFileInVFS(Te.postScriptName)===!1?Re.loadFile(Te.postScriptName):Re.getFileFromVFS(Te.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+Te.postScriptName+"').");(function(Be,Ue){Ue=/^\x00\x01\x00\x00/.test(Ue)?t(Ue):t(f(Ue)),Be.metadata=Ee.API.TTFFont.open(Ue),Be.metadata.Unicode=Be.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Be.metadata.glyIdsUsed=[0]})(Te,Ce)}}])})(E),E.API.addSvgAsImage=function(Ee,t,n,Ce,Te,Re,Be,Ue){if(isNaN(t)||isNaN(n))throw o.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(Ce)||isNaN(Te))throw o.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Oe=document.createElement("canvas");Oe.width=Ce,Oe.height=Te;var Me=Oe.getContext("2d");Me.fillStyle="#fff",Me.fillRect(0,0,Oe.width,Oe.height);var Qe={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},Ke=this;return(i$2.canvg?Promise.resolve(i$2.canvg):__vitePreload(()=>import("./index.es-BgUgfqan.js"),[])).catch(function(Ge){return Promise.reject(new Error("Could not load canvg: "+Ge))}).then(function(Ge){return Ge.default?Ge.default:Ge}).then(function(Ge){return Ge.fromString(Me,Ee,Qe)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(Ge){return Ge.render(Qe)}).then(function(){Ke.addImage(Oe.toDataURL("image/jpeg",1),t,n,Ce,Te,Be,Ue)})},E.API.putTotalPages=function(Ee){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(Ee,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(Ee,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var Ce=1;Ce<=this.internal.getNumberOfPages();Ce++)for(var Te=0;Te<this.internal.pages[Ce].length;Te++)this.internal.pages[Ce][Te]=this.internal.pages[Ce][Te].replace(t,n);return this},E.API.viewerPreferences=function(Ee,t){var n;Ee=Ee||{},t=t||!1;var Ce,Te,Re,Be={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},Ue=Object.keys(Be),Oe=[],Me=0,Qe=0,Ke=0;function Ge(Xe,tr){var Je,Ye=!1;for(Je=0;Je<Xe.length;Je+=1)Xe[Je]===tr&&(Ye=!0);return Ye}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Be)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,Ee==="reset"||t===!0){var qe=Ue.length;for(Ke=0;Ke<qe;Ke+=1)n[Ue[Ke]].value=n[Ue[Ke]].defaultValue,n[Ue[Ke]].explicitSet=!1}if(_typeof(Ee)==="object"){for(Te in Ee)if(Re=Ee[Te],Ge(Ue,Te)&&Re!==void 0){if(n[Te].type==="boolean"&&typeof Re=="boolean")n[Te].value=Re;else if(n[Te].type==="name"&&Ge(n[Te].valueSet,Re))n[Te].value=Re;else if(n[Te].type==="integer"&&Number.isInteger(Re))n[Te].value=Re;else if(n[Te].type==="array"){for(Me=0;Me<Re.length;Me+=1)if(Ce=!0,Re[Me].length===1&&typeof Re[Me][0]=="number")Oe.push(String(Re[Me]-1));else if(Re[Me].length>1){for(Qe=0;Qe<Re[Me].length;Qe+=1)typeof Re[Me][Qe]!="number"&&(Ce=!1);Ce===!0&&Oe.push([Re[Me][0]-1,Re[Me][1]-1].join(" "))}n[Te].value="["+Oe.join(" ")+"]"}else n[Te].value=n[Te].defaultValue;n[Te].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var Xe,tr=[];for(Xe in n)n[Xe].explicitSet===!0&&(n[Xe].type==="name"?tr.push("/"+Xe+" /"+n[Xe].value):tr.push("/"+Xe+" "+n[Xe].value));tr.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+tr.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(Ee){var t=function(){var Ce='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',Te=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),Re=unescape(encodeURIComponent(Ce)),Be=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),Ue=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),Oe=unescape(encodeURIComponent("</x:xmpmeta>")),Me=Re.length+Be.length+Ue.length+Te.length+Oe.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Me+" >>"),this.internal.write("stream"),this.internal.write(Te+Re+Be+Ue+Oe),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};Ee.addMetadata=function(Ce,Te){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:Ce,namespaceuri:Te||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}})(E.API),(function(Ee){var t=Ee.API,n=t.pdfEscape16=function(Re,Be){for(var Ue,Oe=Be.metadata.Unicode.widths,Me=["","0","00","000","0000"],Qe=[""],Ke=0,Ge=Re.length;Ke<Ge;++Ke){if(Ue=Be.metadata.characterToGlyph(Re.charCodeAt(Ke)),Be.metadata.glyIdsUsed.push(Ue),Be.metadata.toUnicode[Ue]=Re.charCodeAt(Ke),Oe.indexOf(Ue)==-1&&(Oe.push(Ue),Oe.push([parseInt(Be.metadata.widthOfGlyph(Ue),10)])),Ue=="0")return Qe.join("");Ue=Ue.toString(16),Qe.push(Me[4-Ue.length],Ue)}return Qe.join("")},Ce=function(Re){var Be,Ue,Oe,Me,Qe,Ke,Ge;for(Qe=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,Oe=[],Ke=0,Ge=(Ue=Object.keys(Re).sort(function(qe,Xe){return qe-Xe})).length;Ke<Ge;Ke++)Be=Ue[Ke],Oe.length>=100&&(Qe+=`
`+Oe.length+` beginbfchar
`+Oe.join(`
`)+`
endbfchar`,Oe=[]),Re[Be]!==void 0&&Re[Be]!==null&&typeof Re[Be].toString=="function"&&(Me=("0000"+Re[Be].toString(16)).slice(-4),Be=("0000"+(+Be).toString(16)).slice(-4),Oe.push("<"+Be+"><"+Me+">"));return Oe.length&&(Qe+=`
`+Oe.length+` beginbfchar
`+Oe.join(`
`)+`
endbfchar
`),Qe+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(Re){(function(Be){var Ue=Be.font,Oe=Be.out,Me=Be.newObject,Qe=Be.putStream;if(Ue.metadata instanceof Ee.API.TTFFont&&Ue.encoding==="Identity-H"){for(var Ke=Ue.metadata.Unicode.widths,Ge=Ue.metadata.subset.encode(Ue.metadata.glyIdsUsed,1),qe="",Xe=0;Xe<Ge.length;Xe++)qe+=String.fromCharCode(Ge[Xe]);var tr=Me();Qe({data:qe,addLength1:!0,objectId:tr}),Oe("endobj");var Je=Me();Qe({data:Ce(Ue.metadata.toUnicode),addLength1:!0,objectId:Je}),Oe("endobj");var Ye=Me();Oe("<<"),Oe("/Type /FontDescriptor"),Oe("/FontName /"+j(Ue.fontName)),Oe("/FontFile2 "+tr+" 0 R"),Oe("/FontBBox "+Ee.API.PDFObject.convert(Ue.metadata.bbox)),Oe("/Flags "+Ue.metadata.flags),Oe("/StemV "+Ue.metadata.stemV),Oe("/ItalicAngle "+Ue.metadata.italicAngle),Oe("/Ascent "+Ue.metadata.ascender),Oe("/Descent "+Ue.metadata.decender),Oe("/CapHeight "+Ue.metadata.capHeight),Oe(">>"),Oe("endobj");var lr=Me();Oe("<<"),Oe("/Type /Font"),Oe("/BaseFont /"+j(Ue.fontName)),Oe("/FontDescriptor "+Ye+" 0 R"),Oe("/W "+Ee.API.PDFObject.convert(Ke)),Oe("/CIDToGIDMap /Identity"),Oe("/DW 1000"),Oe("/Subtype /CIDFontType2"),Oe("/CIDSystemInfo"),Oe("<<"),Oe("/Supplement 0"),Oe("/Registry (Adobe)"),Oe("/Ordering ("+Ue.encoding+")"),Oe(">>"),Oe(">>"),Oe("endobj"),Ue.objectNumber=Me(),Oe("<<"),Oe("/Type /Font"),Oe("/Subtype /Type0"),Oe("/ToUnicode "+Je+" 0 R"),Oe("/BaseFont /"+j(Ue.fontName)),Oe("/Encoding /"+Ue.encoding),Oe("/DescendantFonts ["+lr+" 0 R]"),Oe(">>"),Oe("endobj"),Ue.isAlreadyPutted=!0}})(Re)}]),t.events.push(["putFont",function(Re){(function(Be){var Ue=Be.font,Oe=Be.out,Me=Be.newObject,Qe=Be.putStream;if(Ue.metadata instanceof Ee.API.TTFFont&&Ue.encoding==="WinAnsiEncoding"){for(var Ke=Ue.metadata.rawData,Ge="",qe=0;qe<Ke.length;qe++)Ge+=String.fromCharCode(Ke[qe]);var Xe=Me();Qe({data:Ge,addLength1:!0,objectId:Xe}),Oe("endobj");var tr=Me();Qe({data:Ce(Ue.metadata.toUnicode),addLength1:!0,objectId:tr}),Oe("endobj");var Je=Me();Oe("<<"),Oe("/Descent "+Ue.metadata.decender),Oe("/CapHeight "+Ue.metadata.capHeight),Oe("/StemV "+Ue.metadata.stemV),Oe("/Type /FontDescriptor"),Oe("/FontFile2 "+Xe+" 0 R"),Oe("/Flags 96"),Oe("/FontBBox "+Ee.API.PDFObject.convert(Ue.metadata.bbox)),Oe("/FontName /"+j(Ue.fontName)),Oe("/ItalicAngle "+Ue.metadata.italicAngle),Oe("/Ascent "+Ue.metadata.ascender),Oe(">>"),Oe("endobj"),Ue.objectNumber=Me();for(var Ye=0;Ye<Ue.metadata.hmtx.widths.length;Ye++)Ue.metadata.hmtx.widths[Ye]=parseInt(Ue.metadata.hmtx.widths[Ye]*(1e3/Ue.metadata.head.unitsPerEm));Oe("<</Subtype/TrueType/Type/Font/ToUnicode "+tr+" 0 R/BaseFont/"+j(Ue.fontName)+"/FontDescriptor "+Je+" 0 R/Encoding/"+Ue.encoding+" /FirstChar 29 /LastChar 255 /Widths "+Ee.API.PDFObject.convert(Ue.metadata.hmtx.widths)+">>"),Oe("endobj"),Ue.isAlreadyPutted=!0}})(Re)}]);var Te=function(Re){var Be,Ue=Re.text||"",Oe=Re.x,Me=Re.y,Qe=Re.options||{},Ke=Re.mutex||{},Ge=Ke.pdfEscape,qe=Ke.activeFontKey,Xe=Ke.fonts,tr=qe,Je="",Ye=0,lr="",cr=Xe[tr].encoding;if(Xe[tr].encoding!=="Identity-H")return{text:Ue,x:Oe,y:Me,options:Qe,mutex:Ke};for(lr=Ue,tr=qe,Array.isArray(Ue)&&(lr=Ue[0]),Ye=0;Ye<lr.length;Ye+=1)Xe[tr].metadata.hasOwnProperty("cmap")&&(Be=Xe[tr].metadata.cmap.unicode.codeMap[lr[Ye].charCodeAt(0)]),Be||lr[Ye].charCodeAt(0)<256&&Xe[tr].metadata.hasOwnProperty("Unicode")?Je+=lr[Ye]:Je+="";var hr="";return parseInt(tr.slice(1))<14||cr==="WinAnsiEncoding"?hr=Ge(Je,tr).split("").map(function(ur){return ur.charCodeAt(0).toString(16)}).join(""):cr==="Identity-H"&&(hr=n(Je,Xe[tr])),Ke.isHex=!0,{text:hr,x:Oe,y:Me,options:Qe,mutex:Ke}};t.events.push(["postProcessText",function(Re){var Be=Re.text||"",Ue=[],Oe={text:Be,x:Re.x,y:Re.y,options:Re.options,mutex:Re.mutex};if(Array.isArray(Be)){var Me=0;for(Me=0;Me<Be.length;Me+=1)Array.isArray(Be[Me])&&Be[Me].length===3?Ue.push([Te(Object.assign({},Oe,{text:Be[Me][0]})).text,Be[Me][1],Be[Me][2]]):Ue.push(Te(Object.assign({},Oe,{text:Be[Me]})).text);Re.text=Ue}else Re.text=Te(Object.assign({},Oe,{text:Be})).text}])})(E),(function(Ee){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};Ee.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},Ee.addFileToVFS=function(n,Ce){return t.call(this),this.internal.vFS[n]=Ce,this},Ee.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(E.API),(function(Ee){Ee.__bidiEngine__=Ee.prototype.__bidiEngine__=function(Ce){var Te,Re,Be,Ue,Oe,Me,Qe,Ke=t,Ge=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],qe=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Xe={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},tr={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Je=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Ye=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),lr=!1,cr=0;this.__bidiEngine__={};var hr=function($e){var Ar=$e.charCodeAt(),or=Ar>>8,Tr=tr[or];return Tr!==void 0?Ke[256*Tr+(255&Ar)]:or===252||or===253?"AL":Ye.test(or)?"L":or===8?"R":"N"},ur=function($e){for(var Ar,or=0;or<$e.length;or++){if((Ar=hr($e.charAt(or)))==="L")return!1;if(Ar==="R")return!0}return!1},fr=function($e,Ar,or,Tr){var Ur,Fr,Er,jr,Nr=Ar[Tr];switch(Nr){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":lr=!1;break;case"N":case"AN":break;case"EN":lr&&(Nr="AN");break;case"AL":lr=!0,Nr="R";break;case"WS":case"BN":Nr="N";break;case"CS":Tr<1||Tr+1>=Ar.length||(Ur=or[Tr-1])!=="EN"&&Ur!=="AN"||(Fr=Ar[Tr+1])!=="EN"&&Fr!=="AN"?Nr="N":lr&&(Fr="AN"),Nr=Fr===Ur?Fr:"N";break;case"ES":Nr=(Ur=Tr>0?or[Tr-1]:"B")==="EN"&&Tr+1<Ar.length&&Ar[Tr+1]==="EN"?"EN":"N";break;case"ET":if(Tr>0&&or[Tr-1]==="EN"){Nr="EN";break}if(lr){Nr="N";break}for(Er=Tr+1,jr=Ar.length;Er<jr&&Ar[Er]==="ET";)Er++;Nr=Er<jr&&Ar[Er]==="EN"?"EN":"N";break;case"NSM":if(Be&&!Ue){for(jr=Ar.length,Er=Tr+1;Er<jr&&Ar[Er]==="NSM";)Er++;if(Er<jr){var Br=$e[Tr],Mr=Br>=1425&&Br<=2303||Br===64286;if(Ur=Ar[Er],Mr&&(Ur==="R"||Ur==="AL")){Nr="R";break}}}Nr=Tr<1||(Ur=Ar[Tr-1])==="B"?"N":or[Tr-1];break;case"B":lr=!1,Te=!0,Nr=cr;break;case"S":Re=!0,Nr="N"}return Nr},er=function($e,Ar,or){var Tr=$e.split("");return or&&nr(Tr,or,{hiLevel:cr}),Tr.reverse(),Ar&&Ar.reverse(),Tr.join("")},nr=function($e,Ar,or){var Tr,Ur,Fr,Er,jr,Nr=-1,Br=$e.length,Mr=0,_r=[],gr=cr?qe:Ge,yr=[];for(lr=!1,Te=!1,Re=!1,Ur=0;Ur<Br;Ur++)yr[Ur]=hr($e[Ur]);for(Fr=0;Fr<Br;Fr++){if(jr=Mr,_r[Fr]=fr($e,yr,_r,Fr),Tr=240&(Mr=gr[jr][Xe[_r[Fr]]]),Mr&=15,Ar[Fr]=Er=gr[Mr][5],Tr>0)if(Tr===16){for(Ur=Nr;Ur<Fr;Ur++)Ar[Ur]=1;Nr=-1}else Nr=-1;if(gr[Mr][6])Nr===-1&&(Nr=Fr);else if(Nr>-1){for(Ur=Nr;Ur<Fr;Ur++)Ar[Ur]=Er;Nr=-1}yr[Fr]==="B"&&(Ar[Fr]=0),or.hiLevel|=Er}Re&&(function(Rr,Ir,Qr){for(var Vr=0;Vr<Qr;Vr++)if(Rr[Vr]==="S"){Ir[Vr]=cr;for(var Wr=Vr-1;Wr>=0&&Rr[Wr]==="WS";Wr--)Ir[Wr]=cr}})(yr,Ar,Br)},ir=function($e,Ar,or,Tr,Ur){if(!(Ur.hiLevel<$e)){if($e===1&&cr===1&&!Te)return Ar.reverse(),void(or&&or.reverse());for(var Fr,Er,jr,Nr,Br=Ar.length,Mr=0;Mr<Br;){if(Tr[Mr]>=$e){for(jr=Mr+1;jr<Br&&Tr[jr]>=$e;)jr++;for(Nr=Mr,Er=jr-1;Nr<Er;Nr++,Er--)Fr=Ar[Nr],Ar[Nr]=Ar[Er],Ar[Er]=Fr,or&&(Fr=or[Nr],or[Nr]=or[Er],or[Er]=Fr);Mr=jr}Mr++}}},mr=function($e,Ar,or){var Tr=$e.split(""),Ur={hiLevel:cr};return or||(or=[]),nr(Tr,or,Ur),(function(Fr,Er,jr){if(jr.hiLevel!==0&&Qe)for(var Nr,Br=0;Br<Fr.length;Br++)Er[Br]===1&&(Nr=Je.indexOf(Fr[Br]))>=0&&(Fr[Br]=Je[Nr+1])})(Tr,or,Ur),ir(2,Tr,Ar,or,Ur),ir(1,Tr,Ar,or,Ur),Tr.join("")};return this.__bidiEngine__.doBidiReorder=function($e,Ar,or){if((function(Ur,Fr){if(Fr)for(var Er=0;Er<Ur.length;Er++)Fr[Er]=Er;Ue===void 0&&(Ue=ur(Ur)),Me===void 0&&(Me=ur(Ur))})($e,Ar),Be||!Oe||Me)if(Be&&Oe&&Ue^Me)cr=Ue?1:0,$e=er($e,Ar,or);else if(!Be&&Oe&&Me)cr=Ue?1:0,$e=mr($e,Ar,or),$e=er($e,Ar);else if(!Be||Ue||Oe||Me){if(Be&&!Oe&&Ue^Me)$e=er($e,Ar),Ue?(cr=0,$e=mr($e,Ar,or)):(cr=1,$e=mr($e,Ar,or),$e=er($e,Ar));else if(Be&&Ue&&!Oe&&Me)cr=1,$e=mr($e,Ar,or),$e=er($e,Ar);else if(!Be&&!Oe&&Ue^Me){var Tr=Qe;Ue?(cr=1,$e=mr($e,Ar,or),cr=0,Qe=!1,$e=mr($e,Ar,or),Qe=Tr):(cr=0,$e=mr($e,Ar,or),$e=er($e,Ar),cr=1,Qe=!1,$e=mr($e,Ar,or),Qe=Tr,$e=er($e,Ar))}}else cr=0,$e=mr($e,Ar,or);else cr=Ue?1:0,$e=mr($e,Ar,or);return $e},this.__bidiEngine__.setOptions=function($e){$e&&(Be=$e.isInputVisual,Oe=$e.isOutputVisual,Ue=$e.isInputRtl,Me=$e.isOutputRtl,Qe=$e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(Ce),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new Ee.__bidiEngine__({isInputVisual:!0});Ee.API.events.push(["postProcessText",function(Ce){var Te=Ce.text;Ce.x,Ce.y;var Re=Ce.options||{};Ce.mutex,Re.lang;var Be=[];if(Re.isInputVisual=typeof Re.isInputVisual!="boolean"||Re.isInputVisual,n.setOptions(Re),Object.prototype.toString.call(Te)==="[object Array]"){var Ue=0;for(Be=[],Ue=0;Ue<Te.length;Ue+=1)Object.prototype.toString.call(Te[Ue])==="[object Array]"?Be.push([n.doBidiReorder(Te[Ue][0]),Te[Ue][1],Te[Ue][2]]):Be.push([n.doBidiReorder(Te[Ue])]);Ce.text=Be}else Ce.text=n.doBidiReorder(Te);n.setOptions({isInputVisual:!0})}])})(E),E.API.TTFFont=(function(){function Ee(t){var n;if(this.rawData=t,n=this.contents=new fe(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new je(this),this.registerTTF()}return Ee.open=function(t){return new Ee(t)},Ee.prototype.parse=function(){return this.directory=new de(this.contents),this.head=new me(this),this.name=new xe(this),this.cmap=new be(this),this.toUnicode={},this.hhea=new ye(this),this.maxp=new Ae(this),this.hmtx=new Se(this),this.post=new Ne(this),this.os2=new we(this),this.loca=new Ie(this),this.glyf=new Pe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},Ee.prototype.registerTTF=function(){var t,n,Ce,Te,Re;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var Be,Ue,Oe,Me;for(Me=[],Be=0,Ue=(Oe=this.bbox).length;Be<Ue;Be++)t=Oe[Be],Me.push(Math.round(t*this.scaleFactor));return Me}).call(this),this.stemV=0,this.post.exists?(Ce=255&(Te=this.post.italic_angle),32768&(n=Te>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+Ce)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(Re=this.familyClass)===1||Re===2||Re===3||Re===4||Re===5||Re===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},Ee.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},Ee.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},Ee.prototype.widthOfString=function(t,n,Ce){var Te,Re,Be,Ue;for(Be=0,Re=0,Ue=(t=""+t).length;0<=Ue?Re<Ue:Re>Ue;Re=0<=Ue?++Re:--Re)Te=t.charCodeAt(Re),Be+=this.widthOfGlyph(this.characterToGlyph(Te))+Ce*(1e3/n)||0;return Be*(n/1e3)},Ee.prototype.lineHeight=function(t,n){var Ce;return n==null&&(n=!1),Ce=n?this.lineGap:0,(this.ascender+Ce-this.decender)/1e3*t},Ee})();var he,fe=(function(){function Ee(t){this.data=t??[],this.pos=0,this.length=this.data.length}return Ee.prototype.readByte=function(){return this.data[this.pos++]},Ee.prototype.writeByte=function(t){return this.data[this.pos++]=t},Ee.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},Ee.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},Ee.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},Ee.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},Ee.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},Ee.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},Ee.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},Ee.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},Ee.prototype.readString=function(t){var n,Ce;for(Ce=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)Ce[n]=String.fromCharCode(this.readByte());return Ce.join("")},Ee.prototype.writeString=function(t){var n,Ce,Te;for(Te=[],n=0,Ce=t.length;0<=Ce?n<Ce:n>Ce;n=0<=Ce?++n:--n)Te.push(this.writeByte(t.charCodeAt(n)));return Te},Ee.prototype.readShort=function(){return this.readInt16()},Ee.prototype.writeShort=function(t){return this.writeInt16(t)},Ee.prototype.readLongLong=function(){var t,n,Ce,Te,Re,Be,Ue,Oe;return t=this.readByte(),n=this.readByte(),Ce=this.readByte(),Te=this.readByte(),Re=this.readByte(),Be=this.readByte(),Ue=this.readByte(),Oe=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^Ce)+4294967296*(255^Te)+16777216*(255^Re)+65536*(255^Be)+256*(255^Ue)+(255^Oe)+1):72057594037927940*t+281474976710656*n+1099511627776*Ce+4294967296*Te+16777216*Re+65536*Be+256*Ue+Oe},Ee.prototype.writeLongLong=function(t){var n,Ce;return n=Math.floor(t/4294967296),Ce=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(Ce>>24&255),this.writeByte(Ce>>16&255),this.writeByte(Ce>>8&255),this.writeByte(255&Ce)},Ee.prototype.readInt=function(){return this.readInt32()},Ee.prototype.writeInt=function(t){return this.writeInt32(t)},Ee.prototype.read=function(t){var n,Ce;for(n=[],Ce=0;0<=t?Ce<t:Ce>t;Ce=0<=t?++Ce:--Ce)n.push(this.readByte());return n},Ee.prototype.write=function(t){var n,Ce,Te,Re;for(Re=[],Ce=0,Te=t.length;Ce<Te;Ce++)n=t[Ce],Re.push(this.writeByte(n));return Re},Ee})(),de=(function(){var Ee;function t(n){var Ce,Te,Re;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},Te=0,Re=this.tableCount;0<=Re?Te<Re:Te>Re;Te=0<=Re?++Te:--Te)Ce={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[Ce.tag]=Ce}return t.prototype.encode=function(n){var Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke,Ge,qe,Xe,tr;for(tr in qe=Object.keys(n).length,Oe=Math.log(2),Ke=16*Math.floor(Math.log(qe)/Oe),Be=Math.floor(Ke/Oe),Qe=16*qe-Ke,(Te=new fe).writeInt(this.scalarType),Te.writeShort(qe),Te.writeShort(Ke),Te.writeShort(Be),Te.writeShort(Qe),Re=16*qe,Me=Te.pos+Re,Ue=null,Xe=[],n)for(Ge=n[tr],Te.writeString(tr),Te.writeInt(Ee(Ge)),Te.writeInt(Me),Te.writeInt(Ge.length),Xe=Xe.concat(Ge),tr==="head"&&(Ue=Me),Me+=Ge.length;Me%4;)Xe.push(0),Me++;return Te.write(Xe),Ce=2981146554-Ee(Te.data),Te.pos=Ue+8,Te.writeUInt32(Ce),Te.data},Ee=function(n){var Ce,Te,Re,Be;for(n=_e.call(n);n.length%4;)n.push(0);for(Re=new fe(n),Te=0,Ce=0,Be=n.length;Ce<Be;Ce=Ce+=4)Te+=Re.readUInt32();return 4294967295&Te},t})(),pe={}.hasOwnProperty,ge=function(Ee,t){for(var n in t)pe.call(t,n)&&(Ee[n]=t[n]);function Ce(){this.constructor=Ee}return Ce.prototype=t.prototype,Ee.prototype=new Ce,Ee.__super__=t.prototype,Ee};he=(function(){function Ee(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return Ee.prototype.parse=function(){},Ee.prototype.encode=function(){},Ee.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},Ee})();var me=(function(){function Ee(){return Ee.__super__.constructor.apply(this,arguments)}return ge(Ee,he),Ee.prototype.tag="head",Ee.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},Ee.prototype.encode=function(t){var n;return(n=new fe).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},Ee})(),ve=(function(){function Ee(t,n){var Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke,Ge,qe,Xe,tr,Je,Ye,lr,cr;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),Ke=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(Oe=0;Oe<256;++Oe)this.codeMap[Oe]=t.readByte();break;case 4:for(qe=t.readUInt16(),Ge=qe/2,t.pos+=6,Re=(function(){var hr,ur;for(ur=[],Oe=hr=0;0<=Ge?hr<Ge:hr>Ge;Oe=0<=Ge?++hr:--hr)ur.push(t.readUInt16());return ur})(),t.pos+=2,tr=(function(){var hr,ur;for(ur=[],Oe=hr=0;0<=Ge?hr<Ge:hr>Ge;Oe=0<=Ge?++hr:--hr)ur.push(t.readUInt16());return ur})(),Me=(function(){var hr,ur;for(ur=[],Oe=hr=0;0<=Ge?hr<Ge:hr>Ge;Oe=0<=Ge?++hr:--hr)ur.push(t.readUInt16());return ur})(),Qe=(function(){var hr,ur;for(ur=[],Oe=hr=0;0<=Ge?hr<Ge:hr>Ge;Oe=0<=Ge?++hr:--hr)ur.push(t.readUInt16());return ur})(),Te=(this.length-t.pos+this.offset)/2,Ue=(function(){var hr,ur;for(ur=[],Oe=hr=0;0<=Te?hr<Te:hr>Te;Oe=0<=Te?++hr:--hr)ur.push(t.readUInt16());return ur})(),Oe=Ye=0,cr=Re.length;Ye<cr;Oe=++Ye)for(Je=Re[Oe],Ce=lr=Xe=tr[Oe];Xe<=Je?lr<=Je:lr>=Je;Ce=Xe<=Je?++lr:--lr)Qe[Oe]===0?Be=Ce+Me[Oe]:(Be=Ue[Qe[Oe]/2+(Ce-Xe)-(Ge-Oe)]||0)!==0&&(Be+=Me[Oe]),this.codeMap[Ce]=65535&Be}t.pos=Ke}return Ee.encode=function(t,n){var Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke,Ge,qe,Xe,tr,Je,Ye,lr,cr,hr,ur,fr,er,nr,ir,mr,$e,Ar,or,Tr,Ur,Fr,Er,jr,Nr,Br,Mr,_r,gr,yr,Rr,Ir,Qr,Vr,Wr,mn,gn,fn;switch(Tr=new fe,Be=Object.keys(t).sort(function(Fn,wn){return Fn-wn}),n){case"macroman":for(tr=0,Je=(function(){var Fn=[];for(Xe=0;Xe<256;++Xe)Fn.push(0);return Fn})(),lr={0:0},Re={},Ur=0,Nr=Be.length;Ur<Nr;Ur++)lr[Wr=t[Te=Be[Ur]]]==null&&(lr[Wr]=++tr),Re[Te]={old:t[Te],new:lr[t[Te]]},Je[Te]=lr[t[Te]];return Tr.writeUInt16(1),Tr.writeUInt16(0),Tr.writeUInt32(12),Tr.writeUInt16(0),Tr.writeUInt16(262),Tr.writeUInt16(0),Tr.write(Je),{charMap:Re,subtable:Tr.data,maxGlyphID:tr+1};case"unicode":for(Ar=[],Ke=[],cr=0,lr={},Ce={},Ye=Me=null,Fr=0,Br=Be.length;Fr<Br;Fr++)lr[ur=t[Te=Be[Fr]]]==null&&(lr[ur]=++cr),Ce[Te]={old:ur,new:lr[ur]},Ue=lr[ur]-Te,Ye!=null&&Ue===Me||(Ye&&Ke.push(Ye),Ar.push(Te),Me=Ue),Ye=Te;for(Ye&&Ke.push(Ye),Ke.push(65535),Ar.push(65535),mr=2*(ir=Ar.length),nr=2*Math.pow(Math.log(ir)/Math.LN2,2),Ge=Math.log(nr/2)/Math.LN2,er=2*ir-nr,Oe=[],fr=[],qe=[],Xe=Er=0,Mr=Ar.length;Er<Mr;Xe=++Er){if($e=Ar[Xe],Qe=Ke[Xe],$e===65535){Oe.push(0),fr.push(0);break}if($e-(or=Ce[$e].new)>=32768)for(Oe.push(0),fr.push(2*(qe.length+ir-Xe)),Te=jr=$e;$e<=Qe?jr<=Qe:jr>=Qe;Te=$e<=Qe?++jr:--jr)qe.push(Ce[Te].new);else Oe.push(or-$e),fr.push(0)}for(Tr.writeUInt16(3),Tr.writeUInt16(1),Tr.writeUInt32(12),Tr.writeUInt16(4),Tr.writeUInt16(16+8*ir+2*qe.length),Tr.writeUInt16(0),Tr.writeUInt16(mr),Tr.writeUInt16(nr),Tr.writeUInt16(Ge),Tr.writeUInt16(er),Qr=0,_r=Ke.length;Qr<_r;Qr++)Te=Ke[Qr],Tr.writeUInt16(Te);for(Tr.writeUInt16(0),Vr=0,gr=Ar.length;Vr<gr;Vr++)Te=Ar[Vr],Tr.writeUInt16(Te);for(mn=0,yr=Oe.length;mn<yr;mn++)Ue=Oe[mn],Tr.writeUInt16(Ue);for(gn=0,Rr=fr.length;gn<Rr;gn++)hr=fr[gn],Tr.writeUInt16(hr);for(fn=0,Ir=qe.length;fn<Ir;fn++)tr=qe[fn],Tr.writeUInt16(tr);return{charMap:Ce,subtable:Tr.data,maxGlyphID:cr+1}}},Ee})(),be=(function(){function Ee(){return Ee.__super__.constructor.apply(this,arguments)}return ge(Ee,he),Ee.prototype.tag="cmap",Ee.prototype.parse=function(t){var n,Ce,Te;for(t.pos=this.offset,this.version=t.readUInt16(),Te=t.readUInt16(),this.tables=[],this.unicode=null,Ce=0;0<=Te?Ce<Te:Ce>Te;Ce=0<=Te?++Ce:--Ce)n=new ve(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},Ee.encode=function(t,n){var Ce,Te;return n==null&&(n="macroman"),Ce=ve.encode(t,n),(Te=new fe).writeUInt16(0),Te.writeUInt16(1),Ce.table=Te.data.concat(Ce.subtable),Ce},Ee})(),ye=(function(){function Ee(){return Ee.__super__.constructor.apply(this,arguments)}return ge(Ee,he),Ee.prototype.tag="hhea",Ee.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},Ee})(),we=(function(){function Ee(){return Ee.__super__.constructor.apply(this,arguments)}return ge(Ee,he),Ee.prototype.tag="OS/2",Ee.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var n,Ce;for(Ce=[],n=0;n<10;++n)Ce.push(t.readByte());return Ce})(),this.charRange=(function(){var n,Ce;for(Ce=[],n=0;n<4;++n)Ce.push(t.readInt());return Ce})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var n,Ce;for(Ce=[],n=0;n<2;n=++n)Ce.push(t.readInt());return Ce})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},Ee})(),Ne=(function(){function Ee(){return Ee.__super__.constructor.apply(this,arguments)}return ge(Ee,he),Ee.prototype.tag="post",Ee.prototype.parse=function(t){var n,Ce,Te;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var Re;for(Ce=t.readUInt16(),this.glyphNameIndex=[],Re=0;0<=Ce?Re<Ce:Re>Ce;Re=0<=Ce?++Re:--Re)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],Te=[];t.pos<this.offset+this.length;)n=t.readByte(),Te.push(this.names.push(t.readString(n)));return Te;case 151552:return Ce=t.readUInt16(),this.offsets=t.read(Ce);case 262144:return this.map=(function(){var Be,Ue,Oe;for(Oe=[],Re=Be=0,Ue=this.file.maxp.numGlyphs;0<=Ue?Be<Ue:Be>Ue;Re=0<=Ue?++Be:--Be)Oe.push(t.readUInt32());return Oe}).call(this)}},Ee})(),Le=function(Ee,t){this.raw=Ee,this.length=Ee.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},xe=(function(){function Ee(){return Ee.__super__.constructor.apply(this,arguments)}return ge(Ee,he),Ee.prototype.tag="name",Ee.prototype.parse=function(t){var n,Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke,Ge;for(t.pos=this.offset,t.readShort(),n=t.readShort(),Ue=t.readShort(),Ce=[],Re=0;0<=n?Re<n:Re>n;Re=0<=n?++Re:--Re)Ce.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+Ue+t.readShort()});for(Oe={},Re=Qe=0,Ke=Ce.length;Qe<Ke;Re=++Qe)Te=Ce[Re],t.pos=Te.offset,Me=t.readString(Te.length),Be=new Le(Me,Te),Oe[Ge=Te.nameID]==null&&(Oe[Ge]=[]),Oe[Te.nameID].push(Be);this.strings=Oe,this.copyright=Oe[0],this.fontFamily=Oe[1],this.fontSubfamily=Oe[2],this.uniqueSubfamily=Oe[3],this.fontName=Oe[4],this.version=Oe[5];try{this.postscriptName=Oe[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=Oe[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Oe[7],this.manufacturer=Oe[8],this.designer=Oe[9],this.description=Oe[10],this.vendorUrl=Oe[11],this.designerUrl=Oe[12],this.license=Oe[13],this.licenseUrl=Oe[14],this.preferredFamily=Oe[15],this.preferredSubfamily=Oe[17],this.compatibleFull=Oe[18],this.sampleText=Oe[19]},Ee})(),Ae=(function(){function Ee(){return Ee.__super__.constructor.apply(this,arguments)}return ge(Ee,he),Ee.prototype.tag="maxp",Ee.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},Ee})(),Se=(function(){function Ee(){return Ee.__super__.constructor.apply(this,arguments)}return ge(Ee,he),Ee.prototype.tag="hmtx",Ee.prototype.parse=function(t){var n,Ce,Te,Re,Be,Ue,Oe;for(t.pos=this.offset,this.metrics=[],n=0,Ue=this.file.hhea.numberOfMetrics;0<=Ue?n<Ue:n>Ue;n=0<=Ue?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(Te=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var Me,Qe;for(Qe=[],n=Me=0;0<=Te?Me<Te:Me>Te;n=0<=Te?++Me:--Me)Qe.push(t.readInt16());return Qe})(),this.widths=(function(){var Me,Qe,Ke,Ge;for(Ge=[],Me=0,Qe=(Ke=this.metrics).length;Me<Qe;Me++)Re=Ke[Me],Ge.push(Re.advance);return Ge}).call(this),Ce=this.widths[this.widths.length-1],Oe=[],n=Be=0;0<=Te?Be<Te:Be>Te;n=0<=Te?++Be:--Be)Oe.push(this.widths.push(Ce));return Oe},Ee.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},Ee})(),_e=[].slice,Pe=(function(){function Ee(){return Ee.__super__.constructor.apply(this,arguments)}return ge(Ee,he),Ee.prototype.tag="glyf",Ee.prototype.parse=function(){return this.cache={}},Ee.prototype.glyphFor=function(t){var n,Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke;return t in this.cache?this.cache[t]:(Re=this.file.loca,n=this.file.contents,Ce=Re.indexOf(t),(Te=Re.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+Ce,Be=(Ue=new fe(n.read(Te))).readShort(),Me=Ue.readShort(),Ke=Ue.readShort(),Oe=Ue.readShort(),Qe=Ue.readShort(),this.cache[t]=Be===-1?new Fe(Ue,Me,Ke,Oe,Qe):new ke(Ue,Be,Me,Ke,Oe,Qe),this.cache[t]))},Ee.prototype.encode=function(t,n,Ce){var Te,Re,Be,Ue,Oe;for(Be=[],Re=[],Ue=0,Oe=n.length;Ue<Oe;Ue++)Te=t[n[Ue]],Re.push(Be.length),Te&&(Be=Be.concat(Te.encode(Ce)));return Re.push(Be.length),{table:Be,offsets:Re}},Ee})(),ke=(function(){function Ee(t,n,Ce,Te,Re,Be){this.raw=t,this.numberOfContours=n,this.xMin=Ce,this.yMin=Te,this.xMax=Re,this.yMax=Be,this.compound=!1}return Ee.prototype.encode=function(){return this.raw.data},Ee})(),Fe=(function(){function Ee(t,n,Ce,Te,Re){var Be,Ue;for(this.raw=t,this.xMin=n,this.yMin=Ce,this.xMax=Te,this.yMax=Re,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Be=this.raw;Ue=Be.readShort(),this.glyphOffsets.push(Be.pos),this.glyphIDs.push(Be.readUInt16()),32&Ue;)Be.pos+=1&Ue?4:2,128&Ue?Be.pos+=8:64&Ue?Be.pos+=4:8&Ue&&(Be.pos+=2)}return Ee.prototype.encode=function(){var t,n,Ce;for(n=new fe(_e.call(this.raw.data)),t=0,Ce=this.glyphIDs.length;t<Ce;++t)n.pos=this.glyphOffsets[t];return n.data},Ee})(),Ie=(function(){function Ee(){return Ee.__super__.constructor.apply(this,arguments)}return ge(Ee,he),Ee.prototype.tag="loca",Ee.prototype.parse=function(t){var n,Ce;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var Te,Re;for(Re=[],Ce=0,Te=this.length;Ce<Te;Ce+=2)Re.push(2*t.readUInt16());return Re}).call(this):(function(){var Te,Re;for(Re=[],Ce=0,Te=this.length;Ce<Te;Ce+=4)Re.push(t.readUInt32());return Re}).call(this)},Ee.prototype.indexOf=function(t){return this.offsets[t]},Ee.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},Ee.prototype.encode=function(t,n){for(var Ce=new Uint32Array(this.offsets.length),Te=0,Re=0,Be=0;Be<Ce.length;++Be)if(Ce[Be]=Te,Re<n.length&&n[Re]==Be){++Re,Ce[Be]=Te;var Ue=this.offsets[Be],Oe=this.offsets[Be+1]-Ue;Oe>0&&(Te+=Oe)}for(var Me=new Array(4*Ce.length),Qe=0;Qe<Ce.length;++Qe)Me[4*Qe+3]=255&Ce[Qe],Me[4*Qe+2]=(65280&Ce[Qe])>>8,Me[4*Qe+1]=(16711680&Ce[Qe])>>16,Me[4*Qe]=(4278190080&Ce[Qe])>>24;return Me},Ee})(),je=(function(){function Ee(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return Ee.prototype.generateCmap=function(){var t,n,Ce,Te,Re;for(n in Te=this.font.cmap.tables[0].codeMap,t={},Re=this.subset)Ce=Re[n],t[n]=Te[Ce];return t},Ee.prototype.glyphsFor=function(t){var n,Ce,Te,Re,Be,Ue,Oe;for(Te={},Be=0,Ue=t.length;Be<Ue;Be++)Te[Re=t[Be]]=this.font.glyf.glyphFor(Re);for(Re in n=[],Te)(Ce=Te[Re])!=null&&Ce.compound&&n.push.apply(n,Ce.glyphIDs);if(n.length>0)for(Re in Oe=this.glyphsFor(n))Ce=Oe[Re],Te[Re]=Ce;return Te},Ee.prototype.encode=function(t,n){var Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke,Ge,qe,Xe,tr,Je,Ye;for(Te in Ce=be.encode(this.generateCmap(),"unicode"),Be=this.glyphsFor(t),qe={0:0},Ye=Ce.charMap)qe[(Oe=Ye[Te]).old]=Oe.new;for(Xe in Ge=Ce.maxGlyphID,Be)Xe in qe||(qe[Xe]=Ge++);return Qe=(function(lr){var cr,hr;for(cr in hr={},lr)hr[lr[cr]]=cr;return hr})(qe),Ke=Object.keys(Qe).sort(function(lr,cr){return lr-cr}),tr=(function(){var lr,cr,hr;for(hr=[],lr=0,cr=Ke.length;lr<cr;lr++)Ue=Ke[lr],hr.push(Qe[Ue]);return hr})(),Re=this.font.glyf.encode(Be,tr,qe),Me=this.font.loca.encode(Re.offsets,tr),Je={cmap:this.font.cmap.raw(),glyf:Re.table,loca:Me,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(Je["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Je)},Ee})();E.API.PDFObject=(function(){var Ee;function t(){}return Ee=function(n,Ce){return(Array(Ce+1).join("0")+n).slice(-Ce)},t.convert=function(n){var Ce,Te,Re,Be;if(Array.isArray(n))return"["+(function(){var Ue,Oe,Me;for(Me=[],Ue=0,Oe=n.length;Ue<Oe;Ue++)Ce=n[Ue],Me.push(t.convert(Ce));return Me})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+Ee(n.getUTCFullYear(),4)+Ee(n.getUTCMonth(),2)+Ee(n.getUTCDate(),2)+Ee(n.getUTCHours(),2)+Ee(n.getUTCMinutes(),2)+Ee(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(Te in Re=["<<"],n)Be=n[Te],Re.push("/"+Te+" "+t.convert(Be));return Re.push(">>"),Re.join(`
`)}return""+n},t})();function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(Ee){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var Ce in n)({}).hasOwnProperty.call(n,Ce)&&(Ee[Ce]=n[Ce])}return Ee},_extends$1.apply(null,arguments)}function _objectWithoutPropertiesLoose$1(Ee,t){if(Ee==null)return{};var n={};for(var Ce in Ee)if({}.hasOwnProperty.call(Ee,Ce)){if(t.indexOf(Ce)!==-1)continue;n[Ce]=Ee[Ce]}return n}function _objectWithoutProperties$1(Ee,t){if(Ee==null)return{};var n,Ce,Te=_objectWithoutPropertiesLoose$1(Ee,t);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(Ee);for(Ce=0;Ce<Re.length;Ce++)n=Re[Ce],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(Ee,n)&&(Te[n]=Ee[n])}return Te}function _createClass(Ee,t,n){return Object.defineProperty(Ee,"prototype",{writable:!1}),Ee}function _classCallCheck(Ee,t){if(!(Ee instanceof t))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(Ee,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,Ce){return n.__proto__=Ce,n},_setPrototypeOf(Ee,t)}function _inherits(Ee,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(t&&t.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),Object.defineProperty(Ee,"prototype",{writable:!1}),t&&_setPrototypeOf(Ee,t)}function _getPrototypeOf(Ee){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(Ee)}function _isNativeReflectConstruct(){try{var Ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!Ee})()}function _assertThisInitialized(Ee){if(Ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}function _possibleConstructorReturn(Ee,t){if(t&&(_typeof(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(Ee)}function _createSuper(Ee){var t=_isNativeReflectConstruct();return function(){var n,Ce=_getPrototypeOf(Ee);if(t){var Te=_getPrototypeOf(this).constructor;n=Reflect.construct(Ce,arguments,Te)}else n=Ce.apply(this,arguments);return _possibleConstructorReturn(this,n)}}var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var Ee="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=Ee,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var Ee=requireReactPropTypesSecret();function t(){}function n(){}return n.resetWarningCache=t,factoryWithThrowingShims=function(){function Ce(Be,Ue,Oe,Me,Qe,Ke){if(Ke!==Ee){var Ge=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Ge.name="Invariant Violation",Ge}}Ce.isRequired=Ce;function Te(){return Ce}var Re={array:Ce,bigint:Ce,bool:Ce,func:Ce,number:Ce,object:Ce,string:Ce,symbol:Ce,any:Ce,arrayOf:Te,element:Ce,elementType:Ce,instanceOf:Te,node:Ce,objectOf:Te,oneOf:Te,oneOfType:Te,shape:Te,exact:Te,checkPropTypes:n,resetWarningCache:t};return Re.PropTypes=Re,Re},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports);/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bzier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bzier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function Point(Ee,t,n){this.x=Ee,this.y=t,this.time=n||new Date().getTime()}Point.prototype.velocityFrom=function(Ee){return this.time!==Ee.time?this.distanceTo(Ee)/(this.time-Ee.time):1};Point.prototype.distanceTo=function(Ee){return Math.sqrt(Math.pow(this.x-Ee.x,2)+Math.pow(this.y-Ee.y,2))};Point.prototype.equals=function(Ee){return this.x===Ee.x&&this.y===Ee.y&&this.time===Ee.time};function Bezier(Ee,t,n,Ce){this.startPoint=Ee,this.control1=t,this.control2=n,this.endPoint=Ce}Bezier.prototype.length=function(){for(var Ee=10,t=0,n=void 0,Ce=void 0,Te=0;Te<=Ee;Te+=1){var Re=Te/Ee,Be=this._point(Re,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),Ue=this._point(Re,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(Te>0){var Oe=Be-n,Me=Ue-Ce;t+=Math.sqrt(Oe*Oe+Me*Me)}n=Be,Ce=Ue}return t};Bezier.prototype._point=function(Ee,t,n,Ce,Te){return t*(1-Ee)*(1-Ee)*(1-Ee)+3*n*(1-Ee)*(1-Ee)*Ee+3*Ce*(1-Ee)*Ee*Ee+Te*Ee*Ee*Ee};function throttle(Ee,t,n){var Ce,Te,Re,Be=null,Ue=0;n||(n={});var Oe=function(){Ue=n.leading===!1?0:Date.now(),Be=null,Re=Ee.apply(Ce,Te),Be||(Ce=Te=null)};return function(){var Me=Date.now();!Ue&&n.leading===!1&&(Ue=Me);var Qe=t-(Me-Ue);return Ce=this,Te=arguments,Qe<=0||Qe>t?(Be&&(clearTimeout(Be),Be=null),Ue=Me,Re=Ee.apply(Ce,Te),Be||(Ce=Te=null)):!Be&&n.trailing!==!1&&(Be=setTimeout(Oe,Qe)),Re}}function SignaturePad(Ee,t){var n=this,Ce=t||{};this.velocityFilterWeight=Ce.velocityFilterWeight||.7,this.minWidth=Ce.minWidth||.5,this.maxWidth=Ce.maxWidth||2.5,this.throttle="throttle"in Ce?Ce.throttle:16,this.minDistance="minDistance"in Ce?Ce.minDistance:5,this.throttle?this._strokeMoveUpdate=throttle(SignaturePad.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=SignaturePad.prototype._strokeUpdate,this.dotSize=Ce.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=Ce.penColor||"black",this.backgroundColor=Ce.backgroundColor||"rgba(0,0,0,0)",this.onBegin=Ce.onBegin,this.onEnd=Ce.onEnd,this._canvas=Ee,this._ctx=Ee.getContext("2d"),this.clear(),this._handleMouseDown=function(Te){Te.which===1&&(n._mouseButtonDown=!0,n._strokeBegin(Te))},this._handleMouseMove=function(Te){n._mouseButtonDown&&n._strokeMoveUpdate(Te)},this._handleMouseUp=function(Te){Te.which===1&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(Te))},this._handleTouchStart=function(Te){if(Te.targetTouches.length===1){var Re=Te.changedTouches[0];n._strokeBegin(Re)}},this._handleTouchMove=function(Te){Te.preventDefault();var Re=Te.targetTouches[0];n._strokeMoveUpdate(Re)},this._handleTouchEnd=function(Te){var Re=Te.target===n._canvas;Re&&(Te.preventDefault(),n._strokeEnd(Te))},this.on()}SignaturePad.prototype.clear=function(){var Ee=this._ctx,t=this._canvas;Ee.fillStyle=this.backgroundColor,Ee.clearRect(0,0,t.width,t.height),Ee.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0};SignaturePad.prototype.fromDataURL=function(Ee){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ce=new Image,Te=n.ratio||window.devicePixelRatio||1,Re=n.width||this._canvas.width/Te,Be=n.height||this._canvas.height/Te;this._reset(),Ce.src=Ee,Ce.onload=function(){t._ctx.drawImage(Ce,0,0,Re,Be)},this._isEmpty=!1};SignaturePad.prototype.toDataURL=function(Ee){var t;switch(Ee){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,Ce=Array(n>1?n-1:0),Te=1;Te<n;Te++)Ce[Te-1]=arguments[Te];return(t=this._canvas).toDataURL.apply(t,[Ee].concat(Ce))}};SignaturePad.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};SignaturePad.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};SignaturePad.prototype.isEmpty=function(){return this._isEmpty};SignaturePad.prototype._strokeBegin=function(Ee){this._data.push([]),this._reset(),this._strokeUpdate(Ee),typeof this.onBegin=="function"&&this.onBegin(Ee)};SignaturePad.prototype._strokeUpdate=function(Ee){var t=Ee.clientX,n=Ee.clientY,Ce=this._createPoint(t,n),Te=this._data[this._data.length-1],Re=Te&&Te[Te.length-1],Be=Re&&Ce.distanceTo(Re)<this.minDistance;if(!(Re&&Be)){var Ue=this._addPoint(Ce),Oe=Ue.curve,Me=Ue.widths;Oe&&Me&&this._drawCurve(Oe,Me.start,Me.end),this._data[this._data.length-1].push({x:Ce.x,y:Ce.y,time:Ce.time,color:this.penColor})}};SignaturePad.prototype._strokeEnd=function(Ee){var t=this.points.length>2,n=this.points[0];if(!t&&n&&this._drawDot(n),n){var Ce=this._data[this._data.length-1],Te=Ce[Ce.length-1];n.equals(Te)||Ce.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(Ee)};SignaturePad.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};SignaturePad.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};SignaturePad.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};SignaturePad.prototype._createPoint=function(Ee,t,n){var Ce=this._canvas.getBoundingClientRect();return new Point(Ee-Ce.left,t-Ce.top,n||new Date().getTime())};SignaturePad.prototype._addPoint=function(Ee){var t=this.points,n=void 0;if(t.push(Ee),t.length>2){t.length===3&&t.unshift(t[0]),n=this._calculateCurveControlPoints(t[0],t[1],t[2]);var Ce=n.c2;n=this._calculateCurveControlPoints(t[1],t[2],t[3]);var Te=n.c1,Re=new Bezier(t[1],Ce,Te,t[2]),Be=this._calculateCurveWidths(Re);return t.shift(),{curve:Re,widths:Be}}return{}};SignaturePad.prototype._calculateCurveControlPoints=function(Ee,t,n){var Ce=Ee.x-t.x,Te=Ee.y-t.y,Re=t.x-n.x,Be=t.y-n.y,Ue={x:(Ee.x+t.x)/2,y:(Ee.y+t.y)/2},Oe={x:(t.x+n.x)/2,y:(t.y+n.y)/2},Me=Math.sqrt(Ce*Ce+Te*Te),Qe=Math.sqrt(Re*Re+Be*Be),Ke=Ue.x-Oe.x,Ge=Ue.y-Oe.y,qe=Qe/(Me+Qe),Xe={x:Oe.x+Ke*qe,y:Oe.y+Ge*qe},tr=t.x-Xe.x,Je=t.y-Xe.y;return{c1:new Point(Ue.x+tr,Ue.y+Je),c2:new Point(Oe.x+tr,Oe.y+Je)}};SignaturePad.prototype._calculateCurveWidths=function(Ee){var t=Ee.startPoint,n=Ee.endPoint,Ce={start:null,end:null},Te=this.velocityFilterWeight*n.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,Re=this._strokeWidth(Te);return Ce.start=this._lastWidth,Ce.end=Re,this._lastVelocity=Te,this._lastWidth=Re,Ce};SignaturePad.prototype._strokeWidth=function(Ee){return Math.max(this.maxWidth/(Ee+1),this.minWidth)};SignaturePad.prototype._drawPoint=function(Ee,t,n){var Ce=this._ctx;Ce.moveTo(Ee,t),Ce.arc(Ee,t,n,0,2*Math.PI,!1),this._isEmpty=!1};SignaturePad.prototype._drawCurve=function(Ee,t,n){var Ce=this._ctx,Te=n-t,Re=Math.floor(Ee.length());Ce.beginPath();for(var Be=0;Be<Re;Be+=1){var Ue=Be/Re,Oe=Ue*Ue,Me=Oe*Ue,Qe=1-Ue,Ke=Qe*Qe,Ge=Ke*Qe,qe=Ge*Ee.startPoint.x;qe+=3*Ke*Ue*Ee.control1.x,qe+=3*Qe*Oe*Ee.control2.x,qe+=Me*Ee.endPoint.x;var Xe=Ge*Ee.startPoint.y;Xe+=3*Ke*Ue*Ee.control1.y,Xe+=3*Qe*Oe*Ee.control2.y,Xe+=Me*Ee.endPoint.y;var tr=t+Me*Te;this._drawPoint(qe,Xe,tr)}Ce.closePath(),Ce.fill()};SignaturePad.prototype._drawDot=function(Ee){var t=this._ctx,n=typeof this.dotSize=="function"?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(Ee.x,Ee.y,n),t.closePath(),t.fill()};SignaturePad.prototype._fromData=function(Ee,t,n){for(var Ce=0;Ce<Ee.length;Ce+=1){var Te=Ee[Ce];if(Te.length>1)for(var Re=0;Re<Te.length;Re+=1){var Be=Te[Re],Ue=new Point(Be.x,Be.y,Be.time),Oe=Be.color;if(Re===0)this.penColor=Oe,this._reset(),this._addPoint(Ue);else if(Re!==Te.length-1){var Me=this._addPoint(Ue),Qe=Me.curve,Ke=Me.widths;Qe&&Ke&&t(Qe,Ke,Oe)}}else{this._reset();var Ge=Te[0];n(Ge)}}};SignaturePad.prototype._toSVG=function(){var Ee=this,t=this._data,n=this._canvas,Ce=Math.max(window.devicePixelRatio||1,1),Te=0,Re=0,Be=n.width/Ce,Ue=n.height/Ce,Oe=document.createElementNS("http://www.w3.org/2000/svg","svg");Oe.setAttributeNS(null,"width",n.width),Oe.setAttributeNS(null,"height",n.height),this._fromData(t,function(Ye,lr,cr){var hr=document.createElement("path");if(!isNaN(Ye.control1.x)&&!isNaN(Ye.control1.y)&&!isNaN(Ye.control2.x)&&!isNaN(Ye.control2.y)){var ur="M "+Ye.startPoint.x.toFixed(3)+","+Ye.startPoint.y.toFixed(3)+" "+("C "+Ye.control1.x.toFixed(3)+","+Ye.control1.y.toFixed(3)+" ")+(Ye.control2.x.toFixed(3)+","+Ye.control2.y.toFixed(3)+" ")+(Ye.endPoint.x.toFixed(3)+","+Ye.endPoint.y.toFixed(3));hr.setAttribute("d",ur),hr.setAttribute("stroke-width",(lr.end*2.25).toFixed(3)),hr.setAttribute("stroke",cr),hr.setAttribute("fill","none"),hr.setAttribute("stroke-linecap","round"),Oe.appendChild(hr)}},function(Ye){var lr=document.createElement("circle"),cr=typeof Ee.dotSize=="function"?Ee.dotSize():Ee.dotSize;lr.setAttribute("r",cr),lr.setAttribute("cx",Ye.x),lr.setAttribute("cy",Ye.y),lr.setAttribute("fill",Ye.color),Oe.appendChild(lr)});var Me="data:image/svg+xml;base64,",Qe='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+Te+" "+Re+" "+Be+" "+Ue+'"')+(' width="'+Be+'"')+(' height="'+Ue+'"')+">",Ke=Oe.innerHTML;if(Ke===void 0){var Ge=document.createElement("dummy"),qe=Oe.childNodes;Ge.innerHTML="";for(var Xe=0;Xe<qe.length;Xe+=1)Ge.appendChild(qe[Xe].cloneNode(!0));Ke=Ge.innerHTML}var tr="</svg>",Je=Qe+Ke+tr;return Me+btoa(Je)};SignaturePad.prototype.fromData=function(Ee){var t=this;this.clear(),this._fromData(Ee,function(n,Ce){return t._drawCurve(n,Ce.start,Ce.end)},function(n){return t._drawDot(n)}),this._data=Ee};SignaturePad.prototype.toData=function(){return this._data};var build$1={exports:{}},build=build$1.exports,hasRequiredBuild;function requireBuild(){return hasRequiredBuild||(hasRequiredBuild=1,(function(Ee,t){(function(n,Ce){Ee.exports=Ce()})(build,function(){return(function(n){function Ce(Re){if(Te[Re])return Te[Re].exports;var Be=Te[Re]={exports:{},id:Re,loaded:!1};return n[Re].call(Be.exports,Be,Be.exports,Ce),Be.loaded=!0,Be.exports}var Te={};return Ce.m=n,Ce.c=Te,Ce.p="",Ce(0)})([function(n,Ce){function Te(Me){var Qe=Me.getContext("2d"),Ke=Me.width,Ge=Me.height,qe=Qe.getImageData(0,0,Ke,Ge).data,Xe=Ue(!0,Ke,Ge,qe),tr=Ue(!1,Ke,Ge,qe),Je=Oe(!0,Ke,Ge,qe),Ye=Oe(!1,Ke,Ge,qe),lr=Ye-Je+1,cr=tr-Xe+1,hr=Qe.getImageData(Je,Xe,lr,cr);return Me.width=lr,Me.height=cr,Qe.clearRect(0,0,lr,cr),Qe.putImageData(hr,0,0),Me}function Re(Me,Qe,Ke,Ge){return{red:Ge[4*(Ke*Qe+Me)],green:Ge[4*(Ke*Qe+Me)+1],blue:Ge[4*(Ke*Qe+Me)+2],alpha:Ge[4*(Ke*Qe+Me)+3]}}function Be(Me,Qe,Ke,Ge){return Re(Me,Qe,Ke,Ge).alpha}function Ue(Me,Qe,Ke,Ge){for(var qe=Me?1:-1,Xe=Me?0:Ke-1,tr=Xe;Me?tr<Ke:tr>-1;tr+=qe)for(var Je=0;Je<Qe;Je++)if(Be(Je,tr,Qe,Ge))return tr;return null}function Oe(Me,Qe,Ke,Ge){for(var qe=Me?1:-1,Xe=Me?0:Qe-1,tr=Xe;Me?tr<Qe:tr>-1;tr+=qe)for(var Je=0;Je<Ke;Je++)if(Be(tr,Je,Qe,Ge))return tr;return null}Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.default=Te}])})})(build$1)),build$1.exports}var buildExports=requireBuild();const trimCanvas=getDefaultExportFromCjs(buildExports);var _excluded$1=["canvasProps","clearOnResize"],SignatureCanvas=(function(Ee){_inherits(n,Ee);var t=_createSuper(n);function n(){var Ce;_classCallCheck(this,n);for(var Te=arguments.length,Re=new Array(Te),Be=0;Be<Te;Be++)Re[Be]=arguments[Be];return Ce=t.call.apply(t,[this].concat(Re)),Ce.staticThis=Ce.constructor,Ce._sigPad=null,Ce._canvas=null,Ce.setRef=function(Ue){Ce._canvas=Ue,Ce._canvas===null&&(Ce._sigPad=null)},Ce._excludeOurProps=function(){var Ue=Ce.props;Ue.canvasProps,Ue.clearOnResize;var Oe=_objectWithoutProperties$1(Ue,_excluded$1);return Oe},Ce.componentDidMount=function(){var Ue=Ce.getCanvas();Ce._sigPad=new SignaturePad(Ue,Ce._excludeOurProps()),Ce._resizeCanvas(),Ce.on()},Ce.componentWillUnmount=function(){Ce.off()},Ce.componentDidUpdate=function(){Object.assign(Ce._sigPad,Ce._excludeOurProps())},Ce.getCanvas=function(){if(Ce._canvas===null)throw Ce.staticThis.refNullError;return Ce._canvas},Ce.getTrimmedCanvas=function(){var Ue=Ce.getCanvas(),Oe=document.createElement("canvas");return Oe.width=Ue.width,Oe.height=Ue.height,Oe.getContext("2d").drawImage(Ue,0,0),trimCanvas(Oe)},Ce.getSignaturePad=function(){if(Ce._sigPad===null)throw Ce.staticThis.refNullError;return Ce._sigPad},Ce._checkClearOnResize=function(){Ce.props.clearOnResize&&Ce._resizeCanvas()},Ce._resizeCanvas=function(){var Ue,Oe,Me=(Ue=Ce.props.canvasProps)!==null&&Ue!==void 0?Ue:{},Qe=Me.width,Ke=Me.height;if(!(typeof Qe<"u"&&typeof Ke<"u")){var Ge=Ce.getCanvas(),qe=Math.max((Oe=window.devicePixelRatio)!==null&&Oe!==void 0?Oe:1,1);typeof Qe>"u"&&(Ge.width=Ge.offsetWidth*qe),typeof Ke>"u"&&(Ge.height=Ge.offsetHeight*qe),Ge.getContext("2d").scale(qe,qe),Ce.clear()}},Ce.render=function(){var Ue=Ce.props.canvasProps;return React.createElement("canvas",_extends$1({ref:Ce.setRef},Ue))},Ce.on=function(){return window.addEventListener("resize",Ce._checkClearOnResize),Ce.getSignaturePad().on()},Ce.off=function(){return window.removeEventListener("resize",Ce._checkClearOnResize),Ce.getSignaturePad().off()},Ce.clear=function(){return Ce.getSignaturePad().clear()},Ce.isEmpty=function(){return Ce.getSignaturePad().isEmpty()},Ce.fromDataURL=function(Ue,Oe){return Ce.getSignaturePad().fromDataURL(Ue,Oe)},Ce.toDataURL=function(Ue,Oe){return Ce.getSignaturePad().toDataURL(Ue,Oe)},Ce.fromData=function(Ue){return Ce.getSignaturePad().fromData(Ue)},Ce.toData=function(){return Ce.getSignaturePad().toData()},Ce}return _createClass(n)})(reactExports.Component);SignatureCanvas.propTypes={velocityFilterWeight:PropTypes.number,minWidth:PropTypes.number,maxWidth:PropTypes.number,minDistance:PropTypes.number,dotSize:PropTypes.oneOfType([PropTypes.number,PropTypes.func]),penColor:PropTypes.string,throttle:PropTypes.number,onEnd:PropTypes.func,onBegin:PropTypes.func,canvasProps:PropTypes.object,clearOnResize:PropTypes.bool};SignatureCanvas.defaultProps={clearOnResize:!0};SignatureCanvas.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");const PartsDeliveryModal=({isOpen:Ee,onClose:t,ticket:n})=>{var Xe;const[Ce,Te]=reactExports.useState(!1),[Re,Be]=reactExports.useState(null),Ue=reactExports.useRef(null);reactExports.useRef();const Oe=reactExports.useRef(null),[Me,Qe]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{if(!(n!=null&&n.partDeliveryNote))return;const Je=doc(db,"partsDeliveryNotes",n.partDeliveryNote),Ye=await getDoc(Je);Ye.exists()&&Qe(Ye.data())})()},[n]);const Ke=()=>{Ue.current.clear(),Te(!1)},Ge=()=>{Ue.current.isEmpty()||Te(!0)},qe=async()=>{try{setTimeout(async()=>{const tr=Oe.current;if(!tr){alert("PDF content not found");return}tr.classList.add("no-print-mode");const Je=await html2canvas(tr,{scale:2}),Ye=Je.toDataURL("image/jpeg"),lr=new E("p","mm","a4"),cr=lr.internal.pageSize.getWidth(),hr=lr.internal.pageSize.getHeight(),ur=Je.width,fr=Je.height,er=Math.min(cr/ur,hr/fr),nr=ur*er,ir=fr*er,mr=(cr-nr)/2;lr.addImage(Ye,"JPEG",mr,0,nr,ir,void 0,"FAST");const Ar=lr.output("blob"),or=getStorage(),Tr=`testDeliveryNotes/DN_${n.id}.pdf`,Ur=ref(or,Tr);await uploadBytes(Ur,Ar);const Fr=await getDownloadURL(Ur);await updateDoc(doc(db,"tickets",n.id),{partsDeliveryNoteURL:Tr}),alert("Parts Delivery note saved successfully!"),t()},200)}catch(tr){console.error("Failed to save PDF:",tr),alert("An error occurred while saving.")}};return!Ee||!Me?null:jsxRuntimeExports.jsx("div",{className:"parts-modal-overlay",children:jsxRuntimeExports.jsxs("div",{className:"parts-modal",ref:Oe,children:[jsxRuntimeExports.jsx("h2",{className:"modal-title",children:"Delivery Note"}),jsxRuntimeExports.jsxs("div",{className:"info-row",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivery Date:"})," ",new Date().toLocaleDateString("en-GB"),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Customer Name:"})," ",n.customerName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Invoice #:"})," ",n.ticketNum,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Product Type:"})," ",n.machineType,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Repair ID:"})]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Serial Number:"})," ",n.serialNum,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Device Issue:"})," ",n.deviceIssue||"-",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Warranty Status:"})," ",n.warrantyStatus||"-",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Technician:"})," ",n.technician||"Unknown Technician",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Tech ID:"})]})})]}),jsxRuntimeExports.jsxs("table",{className:"parts-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Part Description"}),jsxRuntimeExports.jsx("th",{children:"Part #"}),jsxRuntimeExports.jsx("th",{children:"Old Serial#"}),jsxRuntimeExports.jsx("th",{children:"New Serial#"}),jsxRuntimeExports.jsx("th",{children:"Quantity"}),jsxRuntimeExports.jsx("th",{children:"Warranty Status"})]})}),jsxRuntimeExports.jsx("tbody",{children:(Xe=Me.parts)==null?void 0:Xe.map((tr,Je)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:tr.description}),jsxRuntimeExports.jsx("td",{children:tr.partNumber}),jsxRuntimeExports.jsx("td",{children:tr.oldSerial}),jsxRuntimeExports.jsx("td",{children:tr.newSerial}),jsxRuntimeExports.jsx("td",{children:tr.quantity}),jsxRuntimeExports.jsx("td",{children:tr.warranty})]},Je))})]}),jsxRuntimeExports.jsxs("div",{className:"notes-section",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Service Notes:"})," ",Me.serviceNotes||"-"]}),jsxRuntimeExports.jsxs("ol",{children:[jsxRuntimeExports.jsx("li",{children:"Warranty for any replaced part is valid for 90 days"}),jsxRuntimeExports.jsx("li",{children:"Refund for any paid services is within 3 days if the same issue occurred again"}),jsxRuntimeExports.jsx("li",{children:"Receipt should be provided upon refund"})]})]}),jsxRuntimeExports.jsxs("div",{className:"signatures",children:[jsxRuntimeExports.jsxs("div",{className:"signature-block",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Issued by:"})," ",n.technician||"Unknown Technician"]}),jsxRuntimeExports.jsx("label",{children:"Signature:"}),jsxRuntimeExports.jsx("div",{className:"signature-box",children:jsxRuntimeExports.jsx(SignatureCanvas,{penColor:"black",canvasProps:{width:200,height:100,className:"sig-canvas"},ref:Ue,onEnd:Ge})})]}),jsxRuntimeExports.jsxs("div",{className:"signature-block",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Received by:"})," ",n.customerName]}),jsxRuntimeExports.jsx("label",{children:"Signature:"}),jsxRuntimeExports.jsx("div",{className:"signature-box",children:jsxRuntimeExports.jsx(SignatureCanvas,{penColor:"black",canvasProps:{width:200,height:100,className:"sig-canvas"},ref:Ue,onEnd:Ge})})]})]}),jsxRuntimeExports.jsxs("div",{className:"action-buttons no-print",children:[jsxRuntimeExports.jsx("button",{className:"clear-button",onClick:Ke,children:"Clear"}),jsxRuntimeExports.jsx("button",{className:"save-button",onClick:qe,disabled:!Ce,children:"Save"})]})]})})},DeliveryModal=({isOpen:Ee,onClose:t,ticket:n})=>{const Ce=reactExports.useRef(null),Te=reactExports.useRef(),[Re,Be]=reactExports.useState(!1),[Ue,Oe]=reactExports.useState(!1);if(!Ee||!n)return null;const Me=new Date().toLocaleDateString("en-GB"),Qe=async()=>{var Ge;if(!(!n||!n.id))try{setTimeout(async()=>{const qe=Te.current;if(!qe){alert("PDF content not found");return}qe.classList.add("no-print-mode");const Xe=await html2canvas(qe,{scale:2}),tr=Xe.toDataURL("image/jpeg"),Je=new E("p","mm","a4"),Ye=Je.internal.pageSize.getWidth(),lr=Je.internal.pageSize.getHeight(),cr=Xe.width,hr=Xe.height,ur=Math.min(Ye/cr,lr/hr),fr=cr*ur,er=hr*ur,nr=(Ye-fr)/2;Je.addImage(tr,"JPEG",nr,0,fr,er,void 0,"FAST");const mr=Je.output("blob"),$e=getStorage(),Ar=`testDeliveryNotes/Delivery_${n.id}.pdf`,or=ref($e,Ar);await uploadBytes(or,mr);const Tr=await getDownloadURL(or);await updateDoc(doc(db,"tickets",n.id),{deliveryNoteURL:Ar}),t()},200)}catch(qe){console.error("Error saving delivery note:",qe),alert("Failed to save PDF.")}finally{(Ge=Te.current)==null||Ge.classList.remove("no-print-mode"),Be(!1),n.partDeliveryNote?Oe(!0):t()}},Ke=()=>{Ce.current.clear(),Be(!1)};return jsxRuntimeExports.jsxs("div",{className:"delivery-modal-overlay",children:[jsxRuntimeExports.jsxs("div",{className:"delivery-modal",ref:Te,children:[jsxRuntimeExports.jsx("button",{className:"modal-close-button",onClick:t,children:""}),jsxRuntimeExports.jsxs("div",{style:{display:"flex"},children:[jsxRuntimeExports.jsxs("div",{className:"modal-contents",children:[jsxRuntimeExports.jsx("img",{src:"/logo.png",alt:"Company Logo",className:"logo"}),jsxRuntimeExports.jsx("h2",{className:"modal-title",children:"  "}),jsxRuntimeExports.jsx("h2",{children:"OKKKKKKK"}),jsxRuntimeExports.jsxs("p",{className:"arabic-text",children:["  ",jsxRuntimeExports.jsx("strong",{children:n.customerName}),"    "," ",jsxRuntimeExports.jsx("strong",{children:n.machineType}),jsxRuntimeExports.jsx("br",{}),"     ",jsxRuntimeExports.jsx("strong",{children:n.date}),"    ",jsxRuntimeExports.jsx("strong",{children:n.serialNum}),jsxRuntimeExports.jsx("br",{}),"   ",jsxRuntimeExports.jsx("strong",{children:n.ticketNum}),"         ",jsxRuntimeExports.jsx("br",{}),"                 ",jsxRuntimeExports.jsx("br",{}),"   ."]}),jsxRuntimeExports.jsxs("div",{className:"form-section",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:":"}),jsxRuntimeExports.jsx("span",{children:n.customerName})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:":"}),jsxRuntimeExports.jsx("div",{className:"signature-box",children:jsxRuntimeExports.jsx(SignatureCanvas,{penColor:"black",minWidth:.5,maxWidth:1.5,canvasProps:{width:100,height:100,className:"sig-canvas"},ref:Ce,onEnd:()=>Be(!Ce.current.isEmpty())})})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:":"}),jsxRuntimeExports.jsx("span",{children:Me})]})]}),jsxRuntimeExports.jsxs("div",{className:"image-upload-section",children:[jsxRuntimeExports.jsx("p",{children:"*     "}),jsxRuntimeExports.jsxs("label",{className:"upload-label",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*"}),jsxRuntimeExports.jsx("div",{className:"upload-icon",children:""})]})]}),jsxRuntimeExports.jsxs("div",{className:"footer-info",children:[jsxRuntimeExports.jsxs("p",{children:["Mecca St, Building 221, Amman, Jordan",jsxRuntimeExports.jsx("br",{}),"Mob: +962 7 96181819",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("a",{href:"mailto:help@365solutionsjo.com",children:"help@365solutionsjo.com"})]}),jsxRuntimeExports.jsx("img",{src:"/apple-authorised.png",alt:"Apple Authorised Logo",className:"apple-logo"})]})]}),jsxRuntimeExports.jsx("div",{className:"button-row no-print",children:jsxRuntimeExports.jsxs("div",{className:"button-row",children:[jsxRuntimeExports.jsx("button",{onClick:Ke,className:"clear-button",children:"Clear"}),jsxRuntimeExports.jsx("button",{onClick:Qe,className:"save-button",disabled:!Re,children:"Save"})]})})]})]}),jsxRuntimeExports.jsx(PartsDeliveryModal,{isOpen:Ue,onClose:()=>{Oe(!1),t()},ticket:n})]})},statusMap$2={0:"Start",1:"VMI Troubleshooting",2:"Repair Released from Processing",3:"Awaiting Parts",4:"Parts Allocated",5:"In Repair",6:"Ready For Pickup",7:"Repair Marked Complete"},PrintableTicket=React.forwardRef(({ticket:Ee},t)=>{var n;return jsxRuntimeExports.jsxs("div",{ref:t,className:"printable-ticket",children:[jsxRuntimeExports.jsxs("h1",{children:["Ticket #",Ee.location,Ee.ticketNum]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Date:"})," ",new Date(Ee.date).toLocaleString()]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Ticket ID:"})," ",Ee.id]}),jsxRuntimeExports.jsxs("div",{className:"print-section",children:[jsxRuntimeExports.jsx("h2",{children:"Customer Info"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Name:"})," ",Ee.customerName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Email:"})," ",Ee.emailAddress]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Mobile:"})," ",Ee.mobileNumber]})]}),jsxRuntimeExports.jsxs("div",{className:"print-section",children:[jsxRuntimeExports.jsx("h2",{children:"Device Info"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Type:"})," ",Ee.machineType]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Description:"})," ",Ee.deviceDescription]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Serial Number:"})," ",Ee.serialNum]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Warranty Status:"})," ",Ee.warrantyStatus]})]}),jsxRuntimeExports.jsxs("div",{className:"print-section",children:[jsxRuntimeExports.jsx("h2",{children:"Repair Info"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Symptom:"})," ",Ee.symptom]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Repair ID:"})," ",Ee.repairID]})]}),((n=Ee.ticketStates)==null?void 0:n.length)>0&&jsxRuntimeExports.jsxs("div",{className:"print-section",children:[jsxRuntimeExports.jsx("h2",{children:"Status Timeline"}),jsxRuntimeExports.jsx("ol",{children:Ee.ticketStates.map((Ce,Te)=>jsxRuntimeExports.jsx("li",{children:statusMap$2[Ce]||`Unknown (${Ce})`},Te))})]})]})});var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(Ee,t){if(Ee==null)return{};var n=_objectWithoutPropertiesLoose(Ee,t),Ce,Te;if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(Ee);for(Te=0;Te<Re.length;Te++)Ce=Re[Te],!(t.indexOf(Ce)>=0)&&Object.prototype.propertyIsEnumerable.call(Ee,Ce)&&(n[Ce]=Ee[Ce])}return n}function _objectWithoutPropertiesLoose(Ee,t){if(Ee==null)return{};var n={};for(var Ce in Ee)if(Object.prototype.hasOwnProperty.call(Ee,Ce)){if(t.indexOf(Ce)>=0)continue;n[Ce]=Ee[Ce]}return n}function _extends(){return _extends=Object.assign?Object.assign.bind():function(Ee){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var Ce in n)Object.prototype.hasOwnProperty.call(n,Ce)&&(Ee[Ce]=n[Ce])}return Ee},_extends.apply(this,arguments)}function ownKeys(Ee,t){var n=Object.keys(Ee);if(Object.getOwnPropertySymbols){var Ce=Object.getOwnPropertySymbols(Ee);t&&(Ce=Ce.filter(function(Te){return Object.getOwnPropertyDescriptor(Ee,Te).enumerable})),n.push.apply(n,Ce)}return n}function _objectSpread(Ee){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(Ce){_defineProperty(Ee,Ce,n[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(Ce){Object.defineProperty(Ee,Ce,Object.getOwnPropertyDescriptor(n,Ce))})}return Ee}function _defineProperty(Ee,t,n){return t=_toPropertyKey(t),t in Ee?Object.defineProperty(Ee,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):Ee[t]=n,Ee}function _toPropertyKey(Ee){var t=_toPrimitive(Ee,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive(Ee,t){if(typeof Ee!="object"||!Ee)return Ee;var n=Ee[Symbol.toPrimitive];if(n!==void 0){var Ce=n.call(Ee,t);if(typeof Ce!="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(Ee)}function Tree2Element(Ee){return Ee&&Ee.map((t,n)=>React.createElement(t.tag,_objectSpread({key:n},t.attr),Tree2Element(t.child)))}function GenIcon(Ee){return t=>React.createElement(IconBase,_extends({attr:_objectSpread({},Ee.attr)},t),Tree2Element(Ee.child))}function IconBase(Ee){var t=n=>{var{attr:Ce,size:Te,title:Re}=Ee,Be=_objectWithoutProperties(Ee,_excluded),Ue=Te||n.size||"1em",Oe;return n.className&&(Oe=n.className),Ee.className&&(Oe=(Oe?Oe+" ":"")+Ee.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,Ce,Be,{className:Oe,style:_objectSpread(_objectSpread({color:Ee.color||n.color},n.style),Ee.style),height:Ue,width:Ue,xmlns:"http://www.w3.org/2000/svg"}),Re&&React.createElement("title",null,Re),Ee.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,n=>t(n)):t(DefaultContext)}function FaArrowRight(Ee){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(Ee)}function FaCogs(Ee){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M512.1 191l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0L552 6.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zm-10.5-58.8c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.7-82.4 14.3-52.8 52.8zM386.3 286.1l33.7 16.8c10.1 5.8 14.5 18.1 10.5 29.1-8.9 24.2-26.4 46.4-42.6 65.8-7.4 8.9-20.2 11.1-30.3 5.3l-29.1-16.8c-16 13.7-34.6 24.6-54.9 31.7v33.6c0 11.6-8.3 21.6-19.7 23.6-24.6 4.2-50.4 4.4-75.9 0-11.5-2-20-11.9-20-23.6V418c-20.3-7.2-38.9-18-54.9-31.7L74 403c-10 5.8-22.9 3.6-30.3-5.3-16.2-19.4-33.3-41.6-42.2-65.7-4-10.9.4-23.2 10.5-29.1l33.3-16.8c-3.9-20.9-3.9-42.4 0-63.4L12 205.8c-10.1-5.8-14.6-18.1-10.5-29 8.9-24.2 26-46.4 42.2-65.8 7.4-8.9 20.2-11.1 30.3-5.3l29.1 16.8c16-13.7 34.6-24.6 54.9-31.7V57.1c0-11.5 8.2-21.5 19.6-23.5 24.6-4.2 50.5-4.4 76-.1 11.5 2 20 11.9 20 23.6v33.6c20.3 7.2 38.9 18 54.9 31.7l29.1-16.8c10-5.8 22.9-3.6 30.3 5.3 16.2 19.4 33.2 41.6 42.1 65.8 4 10.9.1 23.2-10 29.1l-33.7 16.8c3.9 21 3.9 42.5 0 63.5zm-117.6 21.1c59.2-77-28.7-164.9-105.7-105.7-59.2 77 28.7 164.9 105.7 105.7zm243.4 182.7l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0l8.2-14.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zM501.6 431c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.6-82.4 14.3-52.8 52.8z"},child:[]}]})(Ee)}function FaEdit(Ee){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(Ee)}function FaEnvelope(Ee){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(Ee)}function FaFolderOpen(Ee){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(Ee)}function FaPenAlt(Ee){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.94 74.17l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.75 18.75-49.15 0-67.91zm-246.8-20.53c-15.62-15.62-40.94-15.62-56.56 0L75.8 172.43c-6.25 6.25-6.25 16.38 0 22.62l22.63 22.63c6.25 6.25 16.38 6.25 22.63 0l101.82-101.82 22.63 22.62L93.95 290.03A327.038 327.038 0 0 0 .17 485.11l-.03.23c-1.7 15.28 11.21 28.2 26.49 26.51a327.02 327.02 0 0 0 195.34-93.8l196.79-196.79-82.77-82.77-84.85-84.85z"},child:[]}]})(Ee)}function FaPrint(Ee){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(Ee)}function FaSave(Ee){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(Ee)}function FaTimes(Ee){return GenIcon({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(Ee)}function FaTruck(Ee){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(Ee)}function FaUndo(Ee){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(Ee)}var lib$2={exports:{}},lib$1=lib$2.exports,hasRequiredLib$1;function requireLib$1(){return hasRequiredLib$1||(hasRequiredLib$1=1,(function(Ee,t){(function(n,Ce){Ee.exports=Ce(requireReact())})(typeof self<"u"?self:lib$1,function(n){return(function(){var Ce={155:function(Ye){Ye.exports=n}},Te={};function Re(Ye){var lr=Te[Ye];if(lr!==void 0)return lr.exports;var cr=Te[Ye]={exports:{}};return Ce[Ye](cr,cr.exports,Re),cr.exports}Re.d=function(Ye,lr){for(var cr in lr)Re.o(lr,cr)&&!Re.o(Ye,cr)&&Object.defineProperty(Ye,cr,{enumerable:!0,get:lr[cr]})},Re.o=function(Ye,lr){return Object.prototype.hasOwnProperty.call(Ye,lr)},Re.r=function(Ye){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Ye,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ye,"__esModule",{value:!0})};var Be={};Re.r(Be),Re.d(Be,{useReactToPrint:function(){return Je}});var Ue=Re(155);function Oe({level:Ye="error",messages:lr,suppressErrors:cr=!1}){cr||(Ye==="error"?console.error(lr):Ye==="warning"?console.warn(lr):console.debug(lr))}function Me(Ye,lr){if(lr||!Ye){const cr=document.getElementById("printWindow");cr&&document.body.removeChild(cr)}}function Qe(Ye){return Ye instanceof Error?Ye:new Error("Unknown Error")}function Ke(Ye,lr){const{documentTitle:cr,onAfterPrint:hr,onPrintError:ur,preserveAfterPrint:fr,print:er,suppressErrors:nr}=lr;setTimeout(()=>{var ir,mr;if(Ye.contentWindow){let $e=function(){hr==null||hr(),Me(fr)};if(Ye.contentWindow.focus(),er)er(Ye).then($e).catch(Ar=>{ur?ur("print",Qe(Ar)):Oe({messages:["An error was thrown by the specified `print` function"],suppressErrors:nr})});else{if(Ye.contentWindow.print){const Ar=(mr=(ir=Ye.contentDocument)===null||ir===void 0?void 0:ir.title)!==null&&mr!==void 0?mr:"",or=Ye.ownerDocument.title;cr&&(Ye.ownerDocument.title=cr,Ye.contentDocument&&(Ye.contentDocument.title=cr)),Ye.contentWindow.print(),cr&&(Ye.ownerDocument.title=or,Ye.contentDocument&&(Ye.contentDocument.title=Ar))}else Oe({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:nr});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(Ar=>{var or,Tr;return((Tr=(or=navigator.userAgent)!==null&&or!==void 0?or:navigator.vendor)!==null&&Tr!==void 0?Tr:"opera"in window&&window.opera).match(Ar)})?setTimeout($e,500):$e()}}else Oe({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:nr})},500)}function Ge(Ye){const lr=[],cr=document.createTreeWalker(Ye,NodeFilter.SHOW_ELEMENT,null);let hr=cr.nextNode();for(;hr;)lr.push(hr),hr=cr.nextNode();return lr}function qe(Ye,lr,cr){const hr=Ge(Ye),ur=Ge(lr);if(hr.length===ur.length)for(let fr=0;fr<hr.length;fr++){const er=hr[fr],nr=ur[fr],ir=er.shadowRoot;if(ir!==null){const mr=nr.attachShadow({mode:ir.mode});mr.innerHTML=ir.innerHTML,qe(ir,mr,cr)}}else Oe({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",Ye,lr],suppressErrors:cr})}const Xe=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function tr(Ye,lr,cr,hr){var ur,fr,er,nr,ir;const{contentNode:mr,clonedContentNode:$e,clonedImgNodes:Ar,clonedVideoNodes:or,numResourcesToLoad:Tr,originalCanvasNodes:Ur}=cr,{bodyClass:Fr,fonts:Er,ignoreGlobalStyles:jr,pageStyle:Nr,nonce:Br,suppressErrors:Mr,copyShadowRoots:_r}=hr;Ye.onload=null;const gr=(ur=Ye.contentDocument)!==null&&ur!==void 0?ur:(fr=Ye.contentWindow)===null||fr===void 0?void 0:fr.document;if(gr){const yr=gr.body.appendChild($e);_r&&qe(mr,yr,!!Mr),Er&&(!((er=Ye.contentDocument)===null||er===void 0)&&er.fonts&&(!((nr=Ye.contentWindow)===null||nr===void 0)&&nr.FontFace)?Er.forEach(gn=>{const fn=new FontFace(gn.family,gn.source,{weight:gn.weight,style:gn.style});Ye.contentDocument.fonts.add(fn),fn.loaded.then(()=>{lr(fn)}).catch(Fn=>{lr(fn,["Failed loading the font:",fn,"Load error:",Qe(Fn)])})}):(Er.forEach(gn=>{lr(gn)}),Oe({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:Mr})));const Rr=Nr??Xe,Ir=gr.createElement("style");Br&&(Ir.setAttribute("nonce",Br),gr.head.setAttribute("nonce",Br)),Ir.appendChild(gr.createTextNode(Rr)),gr.head.appendChild(Ir),Fr&&gr.body.classList.add(...Fr.split(" "));const Qr=gr.querySelectorAll("canvas");for(let gn=0;gn<Ur.length;++gn){const fn=Ur[gn],Fn=Qr[gn];if(Fn===void 0){Oe({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",fn],suppressErrors:Mr});continue}const wn=Fn.getContext("2d");wn&&wn.drawImage(fn,0,0)}for(let gn=0;gn<Ar.length;gn++){const fn=Ar[gn],Fn=fn.getAttribute("src");if(Fn){const wn=new Image;wn.onload=()=>{lr(fn)},wn.onerror=(Yr,Rn,bn,zr,$r)=>{lr(fn,["Error loading <img>",fn,"Error",$r])},wn.src=Fn}else lr(fn,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',fn])}for(let gn=0;gn<or.length;gn++){const fn=or[gn];fn.preload="auto";const Fn=fn.getAttribute("poster");if(Fn){const wn=new Image;wn.onload=()=>{lr(fn)},wn.onerror=(Yr,Rn,bn,zr,$r)=>{lr(fn,["Error loading video poster",Fn,"for video",fn,"Error:",$r])},wn.src=Fn}else fn.readyState>=2?lr(fn):fn.src?(fn.onloadeddata=()=>{lr(fn)},fn.onerror=(wn,Yr,Rn,bn,zr)=>{lr(fn,["Error loading video",fn,"Error",zr])},fn.onstalled=()=>{lr(fn,["Loading video stalled, skipping",fn])}):lr(fn,["Error loading video, `src` is empty",fn])}const Vr="select",Wr=mr.querySelectorAll(Vr),mn=gr.querySelectorAll(Vr);for(let gn=0;gn<Wr.length;gn++)mn[gn].value=Wr[gn].value;if(!jr){const gn=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let fn=0,Fn=gn.length;fn<Fn;++fn){const wn=gn[fn];if(wn.tagName.toLowerCase()==="style"){const Yr=gr.createElement(wn.tagName),Rn=wn.sheet;if(Rn){let bn="";try{const zr=Rn.cssRules.length;for(let $r=0;$r<zr;++$r)typeof Rn.cssRules[$r].cssText=="string"&&(bn+=`${Rn.cssRules[$r].cssText}\r
`)}catch(zr){Oe({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",wn,`Original error: ${Qe(zr).message}`],level:"warning"})}Yr.setAttribute("id",`react-to-print-${fn}`),Br&&Yr.setAttribute("nonce",Br),Yr.appendChild(gr.createTextNode(bn)),gr.head.appendChild(Yr)}}else if(wn.getAttribute("href"))if(wn.hasAttribute("disabled"))Oe({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",wn],level:"warning"}),lr(wn);else{const Yr=gr.createElement(wn.tagName);for(let Rn=0,bn=wn.attributes.length;Rn<bn;++Rn){const zr=wn.attributes[Rn];zr&&Yr.setAttribute(zr.nodeName,(ir=zr.nodeValue)!==null&&ir!==void 0?ir:"")}Yr.onload=()=>{lr(Yr)},Yr.onerror=(Rn,bn,zr,$r,Bn)=>{lr(Yr,["Failed to load",Yr,"Error:",Bn])},Br&&Yr.setAttribute("nonce",Br),gr.head.appendChild(Yr)}else Oe({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",wn],level:"warning"}),lr(wn)}}}Tr===0&&Ke(Ye,hr)}function Je({bodyClass:Ye,contentRef:lr,copyShadowRoots:cr,documentTitle:hr,fonts:ur,ignoreGlobalStyles:fr,nonce:er,onAfterPrint:nr,onBeforePrint:ir,onPrintError:mr,pageStyle:$e,preserveAfterPrint:Ar,print:or,suppressErrors:Tr}){return(0,Ue.useCallback)(Ur=>{function Fr(){const Er={bodyClass:Ye,contentRef:lr,copyShadowRoots:cr,documentTitle:hr,fonts:ur,ignoreGlobalStyles:fr,nonce:er,onAfterPrint:nr,onPrintError:mr,pageStyle:$e,preserveAfterPrint:Ar,print:or,suppressErrors:Tr},jr=(function(){const Mr=document.createElement("iframe");return Mr.width=`${document.documentElement.clientWidth}px`,Mr.height=`${document.documentElement.clientHeight}px`,Mr.style.position="absolute",Mr.style.top=`-${document.documentElement.clientHeight+100}px`,Mr.style.left=`-${document.documentElement.clientWidth+100}px`,Mr.id="printWindow",Mr.srcdoc="<!DOCTYPE html>",Mr})(),Nr=(function(Mr,_r){const{contentRef:gr,fonts:yr,ignoreGlobalStyles:Rr,suppressErrors:Ir}=_r,Qr=(function({contentRef:Fn,optionalContent:wn,suppressErrors:Yr}){return wn&&typeof wn=="function"?(Fn&&Oe({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),wn()):Fn?Fn.current:void Oe({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Yr})})({contentRef:gr,optionalContent:Mr,suppressErrors:Ir});if(!Qr)return;const Vr=Qr.cloneNode(!0),Wr=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),mn=Vr.querySelectorAll("img"),gn=Vr.querySelectorAll("video"),fn=yr?yr.length:0;return{contentNode:Qr,clonedContentNode:Vr,clonedImgNodes:mn,clonedVideoNodes:gn,numResourcesToLoad:(Rr?0:Wr.length)+mn.length+gn.length+fn,originalCanvasNodes:Qr.querySelectorAll("canvas")}})(Ur,Er);if(!Nr)return void Oe({messages:["There is nothing to print"],suppressErrors:Tr});const Br=(function(Mr,_r,gr){const{suppressErrors:yr}=Mr,Rr=[],Ir=[];return function(Qr,Vr){Rr.includes(Qr)?Oe({level:"debug",messages:["Tried to mark a resource that has already been handled",Qr],suppressErrors:yr}):(Vr?(Oe({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...Vr],suppressErrors:yr}),Ir.push(Qr)):Rr.push(Qr),Rr.length+Ir.length===_r&&Ke(gr,Mr))}})(Er,Nr.numResourcesToLoad,jr);(function(Mr,_r,gr,yr){Mr.onload=()=>{tr(Mr,_r,gr,yr)},document.body.appendChild(Mr)})(jr,Br,Nr,Er)}Me(Ar,!0),ir?ir().then(()=>{Fr()}).catch(Er=>{mr==null||mr("onBeforePrint",Qe(Er))}):Fr()},[Ye,lr,cr,hr,ur,fr,er,nr,ir,mr,$e,Ar,or,Tr])}return Be})()})})(lib$2)),lib$2.exports}var libExports$1=requireLib$1();const API_BASE_URL="https://your-server-domain.com",API_ENDPOINTS={SEND_EMAIL:`${API_BASE_URL}/api/sendEmail`,CREATE_USER:`${API_BASE_URL}/api/createUser`},EmailModal=({isOpen:Ee,onClose:t,onSend:n,ticket:Ce})=>{const[Te,Re]=reactExports.useState(!1),[Be,Ue]=reactExports.useState(!0),[Oe,Me]=reactExports.useState(""),[Qe,Ke]=reactExports.useState([]),Ge=Be?Ce.emailAddress:Oe,qe=async(Ye,lr,cr,hr,ur,fr)=>{Re(!0);try{const er=`
        <p>You can always shop for any Apple product at <a href="https://estorejo.com"> Smart Cloud - eStore</a></p>
        
        <div style="margin-top: 40px; border-top: 1px solid #eee; padding-top: 20px; font-size: 13px; color: #999; text-align: center;">
          ${lr?`<div style="margin-bottom: 15px;">
            <img src="${lr}" alt="365 Solutions Email Logo" style="max-height: 40px; height: auto;" />
          </div>`:""}
          <p> 2025 365 Solutions. All rights reserved.</p>
          <p>Mecca Street, Building No. 221, Amman, Jordan  help@365solutionsjo.com, Tel: +962 796818189</p>
          <p>Wasfi AlTal Street, Irbid, Jordan  irbid@365solutionsjo.com, Tel: +962 796818189</p>
        </div>
      </div>`,nr=`
        <div style="font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto;">
          <div style="display: flex; align-items: center; margin-bottom: 20px; border-bottom: 2px solid #094549; padding-bottom: 15px;">
            ${Ye?`<img src="${Ye}" alt="365 Solutions Logo" style="max-height: 60px; height: auto; margin-right: 20px;" />`:""}
            <h2 style="color: #094549; margin: 0; flex-grow: 1;">Document Download - Ticket #${Ce.location}${Ce.ticketNum}</h2>
          </div>
          
          <p>Dear ${Ce.customerName},</p>
          <p>Please find below the download links for your requested documents related to Ticket #${Ce.location}${Ce.ticketNum} for device ${Ce.machineType} with serial number ${Ce.serialNum}.</p>
          
          ${cr}
          ${ur}
          ${fr}
          ${hr}
          ${er}
      `,ir=await fetch(API_ENDPOINTS.SEND_EMAIL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:Ge,subject:`Documents - Ticket #${Ce.location}${Ce.ticketNum}`,html:nr,location:Ce.location})});if(ir.ok)alert(`Documents sent successfully to ${Ge}`),Re(!1),Ue(!0),Me(""),Ke([]),t();else{const mr=await ir.json().catch(()=>({error:"Unknown error"}));throw new Error(mr.error||`Server returned ${ir.status}: ${ir.statusText}`)}}catch(er){console.error("Error sending email:",er),alert(`Failed to send email: ${er.message}`),Re(!1)}},Xe=Ye=>{const{value:lr,checked:cr}=Ye.target;Ke(hr=>cr?[...hr,lr]:hr.filter(ur=>ur!==lr))},tr=async()=>{var Ye="",lr="",cr="",hr="";try{const ur=getStorage(),fr="/src/assets/logo_new.png",er="/src/assets/email_logo.png";let nr="",ir="";try{const $e=await(await fetch(fr)).blob();nr=await new Promise(Ar=>{const or=new FileReader;or.onloadend=()=>Ar(or.result),or.readAsDataURL($e)})}catch(mr){console.warn("Could not load header logo for email:",mr)}try{const $e=await(await fetch(er)).blob();ir=await new Promise(Ar=>{const or=new FileReader;or.onloadend=()=>Ar(or.result),or.readAsDataURL($e)})}catch(mr){console.warn("Could not load footer logo for email:",mr)}if(Qe.includes("contract")&&Ce.contractURL){const mr=ref(ur,Ce.contractURL);Ye=`<p><strong>Service Agreement:</strong> <a href="${await getDownloadURL(mr)}" style="color: #094549; text-decoration: none;">Click here to download</a></p>`}if(Qe.includes("parts delivery note")&&Ce.partsDeliveryNoteURL){const mr=ref(ur,Ce.partsDeliveryNoteURL);cr=`<p><strong>Parts Delivery Note:</strong> <a href="${await getDownloadURL(mr)}" style="color: #094549; text-decoration: none;">Click here to download</a></p>`}if(Qe.includes("invoice")&&Ce.invoiceURL){const mr=ref(ur,Ce.invoiceURL);hr=`<p><strong>Invoice:</strong> <a href="${await getDownloadURL(mr)}" style="color: #094549; text-decoration: none;">Click here to download</a></p>`}if(Qe.includes("delivery note")&&Ce.deliveryNoteURL){const mr=ref(ur,Ce.deliveryNoteURL);lr=`<p><strong>Delivery Note:</strong> <a href="${await getDownloadURL(mr)}" style="color: #094549; text-decoration: none;">Click here to download</a></p>`}await qe(nr,ir,Ye,lr,cr,hr)}catch(ur){console.error("Failed to get download URLs or send email:",ur),alert("Could not fetch document URLs or send email. Please try again."),Re(!1)}},Je=()=>{if(!Ge||Qe.length===0){alert("Please enter an email address and select at least one document.");return}if(!Be&&!Oe){alert("Please enter a custom email address.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Ge)){alert("Please enter a valid email address.");return}tr()};return Ee?jsxRuntimeExports.jsx("div",{className:"email-modal-overlay",children:jsxRuntimeExports.jsxs("div",{className:"email-modal",children:[jsxRuntimeExports.jsx("button",{className:"email-modal-close",onClick:t,children:""}),jsxRuntimeExports.jsx("h2",{children:"Send Documents by Email"}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"1rem"},children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"radio",checked:Be,onChange:()=>Ue(!0)}),"Send to customer email: ",jsxRuntimeExports.jsx("strong",{children:Ce.emailAddress})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"radio",checked:!Be,onChange:()=>Ue(!1)}),"Send to another email:"]}),!Be&&jsxRuntimeExports.jsx("input",{type:"email",placeholder:"Enter custom email",value:Oe,onChange:Ye=>Me(Ye.target.value),style:{display:"block",marginTop:"0.5rem",width:"100%"}})]}),jsxRuntimeExports.jsx("label",{children:"Select Documents to Send:"}),jsxRuntimeExports.jsxs("div",{className:"doc-options",children:[Ce.contractURL&&jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"contract",checked:Qe.includes("contract"),onChange:Xe}),"contract"]}),Ce.partsDeliveryNoteURL&&jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"parts delivery note",checked:Qe.includes("parts delivery note"),onChange:Xe}),"parts delivery note"]}),Ce.invoiceURL&&jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"invoice",checked:Qe.includes("invoice"),onChange:Xe}),"invoice"]}),Ce.deliveryNoteURL&&jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"delivery note",checked:Qe.includes("delivery note"),onChange:Xe}),"delivery note"]})]}),Te?jsxRuntimeExports.jsx("div",{className:"spinner"}):jsxRuntimeExports.jsx("button",{className:"send-button",onClick:Je,children:"Send Email"})]})}):null},statusMap$1={0:"Start",1:"VMI Troubleshooting",2:"Repair Released from Processing",3:"Awaiting Parts",4:"Parts Allocated",5:"In Repair",6:"Ready For Pickup",7:"Repair Marked Complete"};function TicketDetail({ticket:Ee,onClose:t}){var Ir,Qr,Vr;const[n,Ce]=reactExports.useState([]),[Te,Re]=reactExports.useState(!1),[Be,Ue]=reactExports.useState(!1),[Oe,Me]=reactExports.useState(!1),[Qe,Ke]=reactExports.useState({}),[Ge,qe]=reactExports.useState(""),[Xe,tr]=reactExports.useState(!1),Je=getStorage();reactExports.useEffect(()=>{nr(!1),Ce([]),Ee&&(Ke({customerName:Ee.customerName||"",emailAddress:Ee.emailAddress||"",mobileNumber:Ee.mobileNumber||"",machineType:Ee.machineType||"",deviceDescription:Ee.deviceDescription||"",serialNum:Ee.serialNum||"",warrantyStatus:Ee.warrantyStatus||"",symptom:Ee.symptom||"",repairID:Ee.repairID||""}),qe(Ee.notes||"")),(async()=>{if(!(!(Ee!=null&&Ee.mediaURLs)||Ee.mediaURLs.length===0))try{const mn=await Promise.all(Ee.mediaURLs.map(async gn=>{const fn=ref(Je,gn);return await getDownloadURL(fn)}));Ce(mn)}catch(mn){console.error("Failed to fetch media URLs:",mn)}})()},[Ee]);const Ye=reactExports.useRef(null),lr=libExports$1.useReactToPrint({content:()=>Ye.current}),[cr,hr]=reactExports.useState(null),[ur,fr]=reactExports.useState(!1),[er,nr]=reactExports.useState(!1),[ir,mr]=reactExports.useState([]),[$e,Ar]=reactExports.useState(""),[or,Tr]=reactExports.useState(!1),[Ur,Fr]=reactExports.useState(""),Er=useNavigate(),jr=()=>{Er(`/tickets/${Ee.id}/process`)},Nr=()=>{mr([]),Ee.contractURL,Ee.contractURL&&mr(Wr=>[...Wr,"View Contract"]),Ee.deliveryNoteURL&&mr(Wr=>[...Wr,"View Delivery Note"]),Ee.deviceDeliveryNoteURL&&mr(Wr=>[...Wr,"View Device Delivery Note"]),Ee.partsDeliveryNoteURL&&mr(Wr=>[...Wr,"View Parts Delivery Note"]),Ee.noResponsibilityURL&&mr(Wr=>[...Wr,"View No Responsibility Note"]),Ee.invoiceURL&&mr(Wr=>[...Wr,"View Invoice"]),Ee.priceQuotationURL&&mr(Wr=>[...Wr,"View Price Quotation"]),ir.length>0&&nr(Wr=>!Wr)},Br=async({link:Wr})=>{const mn=getStorage();var gn="";Wr==="View Contract"&&(gn=Ee.contractURL),Wr==="View Delivery Note"&&(gn=Ee.deliveryNoteURL),Wr==="View Device Delivery Note"&&(gn=Ee.deviceDeliveryNoteURL),Wr==="View Parts Delivery Note"&&(gn=Ee.partsDeliveryNoteURL),Wr==="View No Responsibility Note"&&(gn=Ee.noResponsibilityURL),Wr==="View Invoice"&&(gn=Ee.invoiceURL),Wr==="View Invoice"&&(gn=Ee.invoiceURL),Wr==="View Price Quotation"&&(gn=Ee.priceQuotationURL);const fn=ref(mn,gn);try{const Fn=await getDownloadURL(fn),wn=`https://docs.google.com/gview?embedded=true&url=${encodeURIComponent(Fn)}`;window.open(wn,"_blank")}catch(Fn){console.error("Error opening contract PDF:",Fn),alert("Failed to open contract.")}},Mr=()=>{Ee.deliveryNoteURL?Er(`/tickets/${Ee.id}/part-delivery`):Er(`/tickets/${Ee.id}/deliver`)},_r=()=>{!Ee.partsDeliveryNoteURL&&Ee.partDeliveryNote?Er(`/tickets/${Ee.id}/part-delivery`):!Ee.invoiceURL&&Ee.hasAnInvoice?Er(`/tickets/${Ee.id}/receipt-page`):alert("No other documents to sign.")},gr=()=>{Oe&&Ee&&(Ke({customerName:Ee.customerName||"",emailAddress:Ee.emailAddress||"",mobileNumber:Ee.mobileNumber||"",machineType:Ee.machineType||"",deviceDescription:Ee.deviceDescription||"",serialNum:Ee.serialNum||"",warrantyStatus:Ee.warrantyStatus||"",symptom:Ee.symptom||"",repairID:Ee.caseID||""}),qe(Ee.notes||"")),Me(!Oe)},yr=(Wr,mn)=>{Ke(gn=>({...gn,[Wr]:mn}))},Rr=async()=>{if(window.confirm("Are you sure you want to save these changes? This will update the ticket information permanently.")){tr(!0);try{const mn=doc(db,"tickets",Ee.id),gn={...Qe,notes:Ge,lastModified:new Date().toISOString()};await updateDoc(mn,gn),alert("Ticket information updated successfully!"),Me(!1)}catch(mn){console.error("Error updating ticket:",mn),alert("Failed to update ticket. Please try again.")}finally{tr(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"ticket-detail-container",children:[jsxRuntimeExports.jsxs("div",{className:"ticket-detail-header",children:[jsxRuntimeExports.jsxs("h2",{children:["Ticket #",Ee.location,Ee.ticketNum]}),jsxRuntimeExports.jsx("button",{className:"close-button",onClick:t,title:"Close",children:jsxRuntimeExports.jsx(FaTimes,{})}),jsxRuntimeExports.jsx("p",{className:"ticket-date",children:Ee.date}),jsxRuntimeExports.jsxs("p",{className:"ticket-id",children:["ID: ",Ee.id]})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-detail-sticky-bar",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",width:"100%",gap:"12px"},children:[jsxRuntimeExports.jsxs("button",{className:"ticket-action-button",onClick:lr,children:[jsxRuntimeExports.jsx(FaPrint,{})," Print"]}),jsxRuntimeExports.jsxs("button",{className:"ticket-action-button",onClick:Nr,children:[jsxRuntimeExports.jsx(FaFolderOpen,{})," Documents"]}),jsxRuntimeExports.jsxs("button",{className:"ticket-action-button",onClick:jr,children:[jsxRuntimeExports.jsx(FaCogs,{})," Process"]}),jsxRuntimeExports.jsxs("button",{className:"ticket-action-button",onClick:()=>Tr(!0),children:[jsxRuntimeExports.jsx(FaEnvelope,{})," Email"]}),jsxRuntimeExports.jsx("button",{className:"ticket-action-button",onClick:()=>Re(!0),children:" Media"}),jsxRuntimeExports.jsxs("button",{className:`ticket-action-button ${Oe?"edit-active":""}`,onClick:gr,children:[Oe?jsxRuntimeExports.jsx(FaUndo,{}):jsxRuntimeExports.jsx(FaEdit,{})," ",Oe?"Cancel":"Edit"]}),Oe&&jsxRuntimeExports.jsxs("button",{className:"ticket-action-button save-button",onClick:Rr,disabled:Xe,children:[jsxRuntimeExports.jsx(FaSave,{})," ",Xe?"Saving...":"Save"]})]}),((Ir=Ee.ticketStates)==null?void 0:Ir.slice(-1)[0])===6&&jsxRuntimeExports.jsx("div",{className:"deliver-button-wrapper",children:jsxRuntimeExports.jsxs("button",{className:"deliver-button",onClick:Mr,children:[jsxRuntimeExports.jsx(FaTruck,{})," Deliver to Customer"]})}),((Qr=Ee.ticketStates)==null?void 0:Qr.slice(-1)[0])===7&&jsxRuntimeExports.jsx("div",{className:"deliver-button-wrapper",children:jsxRuntimeExports.jsxs("button",{className:"deliver-button",onClick:_r,style:{backgroundColor:"#a72828ff",borderColor:"#28a745"},children:[jsxRuntimeExports.jsx(FaPenAlt,{})," Sign Other Documents"]})})]}),er&&jsxRuntimeExports.jsxs("div",{className:"contract-link-box",children:[" ",ir.map(Wr=>jsxRuntimeExports.jsxs("h4",{className:"contract-link-box",onClick:()=>Br({link:Wr}),children:[" ",Wr]}))]}),er&&!Ee.contractURL&&jsxRuntimeExports.jsx("p",{style:{color:"red"},children:"No contract URL available for this ticket."}),jsxRuntimeExports.jsx("div",{style:{visibility:"hidden",position:"absolute",top:0,left:0,zIndex:-1},children:jsxRuntimeExports.jsx(PrintableTicket,{ref:Ye,ticket:Ee})}),jsxRuntimeExports.jsxs("div",{className:"ticket-detail-body",children:[jsxRuntimeExports.jsxs("div",{className:"ticket-detail-group",children:[jsxRuntimeExports.jsx("h3",{children:" Customer Info"}),Oe?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Name:"})}),jsxRuntimeExports.jsx("input",{type:"text",value:Qe.customerName,onChange:Wr=>yr("customerName",Wr.target.value),className:"edit-input"})]}),jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Email:"})}),jsxRuntimeExports.jsx("input",{type:"email",value:Qe.emailAddress,onChange:Wr=>yr("emailAddress",Wr.target.value),className:"edit-input"})]}),jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Mobile:"})}),jsxRuntimeExports.jsx("input",{type:"text",value:Qe.mobileNumber,onChange:Wr=>yr("mobileNumber",Wr.target.value),className:"edit-input"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Name:"})," ",Ee.customerName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Email:"})," ",Ee.emailAddress]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Mobile:"})," ",Ee.mobileNumber]})]})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-detail-group",children:[jsxRuntimeExports.jsx("h3",{children:" Device Info"}),Oe?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Type:"})}),jsxRuntimeExports.jsx("input",{type:"text",value:Qe.machineType,onChange:Wr=>yr("machineType",Wr.target.value),className:"edit-input"})]}),jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Description:"})}),jsxRuntimeExports.jsx("textarea",{value:Qe.deviceDescription,onChange:Wr=>yr("deviceDescription",Wr.target.value),className:"edit-textarea",rows:"3"})]}),jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Serial Number:"})}),jsxRuntimeExports.jsx("input",{type:"text",value:Qe.serialNum,onChange:Wr=>yr("serialNum",Wr.target.value),className:"edit-input"})]}),jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Warranty Status:"})}),jsxRuntimeExports.jsxs("select",{value:Qe.warrantyStatus,onChange:Wr=>yr("warrantyStatus",Wr.target.value),className:"edit-select",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Status"}),jsxRuntimeExports.jsx("option",{value:"In Warranty",children:"In Warranty"}),jsxRuntimeExports.jsx("option",{value:"Out of Warranty",children:"Out of Warranty"}),jsxRuntimeExports.jsx("option",{value:"Unknown",children:"Unknown"})]})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Type:"})," ",Ee.machineType]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Description:"})," ",Ee.deviceDescription]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Serial Number:"})," ",Ee.serialNum]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Warranty Status:"})," ",Ee.warrantyStatus]})]})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-detail-group",children:[jsxRuntimeExports.jsx("h3",{children:" Repair Info"}),Oe?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Symptom:"})}),jsxRuntimeExports.jsx("textarea",{value:Qe.symptom,onChange:Wr=>yr("symptom",Wr.target.value),className:"edit-textarea",rows:"3"})]}),jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Repair ID:"})}),jsxRuntimeExports.jsx("input",{type:"text",value:Qe.caseID,onChange:Wr=>yr("repairID",Wr.target.value),className:"edit-input"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Symptom:"})," ",Ee.symptom]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Repair ID:"})," ",Ee.caseID]})]})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-detail-group",children:[jsxRuntimeExports.jsx("h3",{children:" Notes"}),Oe?jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Add/Edit Notes:"})}),jsxRuntimeExports.jsx("textarea",{value:Ge,onChange:Wr=>qe(Wr.target.value),className:"edit-textarea",rows:"4",placeholder:"Add notes about this ticket..."})]}):jsxRuntimeExports.jsx("p",{children:Ee.notes?Ee.notes:jsxRuntimeExports.jsx("em",{children:"No notes added yet."})})]}),((Vr=Ee.ticketStates)==null?void 0:Vr.length)>0&&jsxRuntimeExports.jsxs("div",{className:"ticket-detail-group",children:[jsxRuntimeExports.jsx("h3",{children:" Status Timeline"}),jsxRuntimeExports.jsx("ol",{className:"status-timeline",children:Ee.ticketStates.map((Wr,mn)=>jsxRuntimeExports.jsx("li",{className:"status-step",children:jsxRuntimeExports.jsx("span",{children:statusMap$1[Wr]||`Unknown (${Wr})`})},mn))})]})]}),jsxRuntimeExports.jsx(EmailModal,{isOpen:or,onClose:()=>Tr(!1),ticket:Ee}),jsxRuntimeExports.jsx(MediaModal,{isOpen:Te,onClose:()=>Re(!1),mediaURLs:n,setMediaURLs:Ce,ticket:Ee}),jsxRuntimeExports.jsx(DeliveryModal,{isOpen:Be,onClose:()=>Ue(!1),ticket:Ee})]})}const TICKETS_PER_PAGE=50,Tickets=()=>{const[Ee,t]=reactExports.useState([]),[n,Ce]=reactExports.useState([]),[Te,Re]=reactExports.useState(!0),[Be,Ue]=reactExports.useState("All"),[Oe,Me]=reactExports.useState(1),[Qe,Ke]=reactExports.useState(""),[Ge,qe]=reactExports.useState("all"),{technician:Xe}=useUser(),tr=useNavigate(),{id:Je}=useParams(),Ye=n.find(fr=>fr.id===Je);reactExports.useEffect(()=>{(async()=>{try{const ir=(await getDocs(collection(db,"tickets"))).docs.map(mr=>({id:mr.id,...mr.data()})).sort((mr,$e)=>$e.ticketNum-mr.ticketNum);t(ir),Ce(ir),Re(!1)}catch(er){console.error("Error fetching tickets:",er)}})()},[]),reactExports.useEffect(()=>{let fr=Ee;if(Be==="Amman"?fr=fr.filter(er=>er.location==="M"):Be==="Irbid"&&(fr=fr.filter(er=>er.location==="I")),Qe.trim()){const er=Qe.toLowerCase().trim();fr=fr.filter(nr=>{switch(Ge){case"ticketNumber":return`${nr.location}${nr.ticketNum}`.toLowerCase().includes(er);case"date":return nr.date&&nr.date.toLowerCase().includes(er);case"machineType":return nr.machineType&&nr.machineType.toLowerCase().includes(er);case"customerName":return nr.customerName&&nr.customerName.toLowerCase().includes(er);case"all":default:return`${nr.location}${nr.ticketNum}`.toLowerCase().includes(er)||nr.date&&nr.date.toLowerCase().includes(er)||nr.machineType&&nr.machineType.toLowerCase().includes(er)||nr.customerName&&nr.customerName.toLowerCase().includes(er)||nr.symptom&&nr.symptom.toLowerCase().includes(er)||nr.emailAddress&&nr.emailAddress.toLowerCase().includes(er)||nr.mobileNumber&&nr.mobileNumber.toLowerCase().includes(er)}})}Ce(fr),Me(1)},[Be,Ee,Qe,Ge]);const lr=Math.ceil(n.length/TICKETS_PER_PAGE),cr=n.slice((Oe-1)*TICKETS_PER_PAGE,Oe*TICKETS_PER_PAGE),hr=fr=>{tr(`/tickets/${fr.id}`)},ur=()=>{tr("/tickets/new")};return Te?jsxRuntimeExports.jsx("p",{children:"Loading..."}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"tickets-header",children:jsxRuntimeExports.jsxs("div",{className:"tickets-header-content",children:[jsxRuntimeExports.jsxs("div",{className:"left-section",children:[jsxRuntimeExports.jsxs("div",{className:"tickets-new",children:[jsxRuntimeExports.jsx("h1",{children:" Tickets"}),jsxRuntimeExports.jsx("button",{className:"new-ticket-button",onClick:ur,children:"+ New Ticket"})]}),jsxRuntimeExports.jsxs("div",{className:"search-controls",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search tickets...",value:Qe,onChange:fr=>Ke(fr.target.value),className:"search-input"}),jsxRuntimeExports.jsxs("select",{value:Ge,onChange:fr=>qe(fr.target.value),className:"search-type-select",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Fields"}),jsxRuntimeExports.jsx("option",{value:"ticketNumber",children:"Ticket Number"}),jsxRuntimeExports.jsx("option",{value:"date",children:"Date"}),jsxRuntimeExports.jsx("option",{value:"machineType",children:"Machine Type"}),jsxRuntimeExports.jsx("option",{value:"customerName",children:"Customer Name"})]}),Qe&&jsxRuntimeExports.jsx("button",{onClick:()=>Ke(""),className:"clear-search-button",title:"Clear search",children:""})]}),jsxRuntimeExports.jsx("div",{className:"filter-menu",children:["All","Amman","Irbid"].map(fr=>jsxRuntimeExports.jsx("button",{onClick:()=>Ue(fr),style:{marginRight:"10px",padding:"8px 16px",backgroundColor:Be===fr?"#1ccad4":"#f0f0f0",border:"none",borderRadius:"6px",fontWeight:"bold",cursor:"pointer"},children:fr},fr))})]}),lr>1&&jsxRuntimeExports.jsxs("div",{className:"pagination-controls",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Me(fr=>Math.max(fr-1,1)),disabled:Oe===1,children:""}),jsxRuntimeExports.jsxs("span",{style:{margin:"0 10px"},children:["Page ",Oe," of ",lr]}),jsxRuntimeExports.jsx("button",{onClick:()=>Me(fr=>Math.min(fr+1,lr)),disabled:Oe===lr,children:""})]})]})}),Qe&&jsxRuntimeExports.jsxs("div",{className:"search-results-info",children:["Found ",n.length," ticket",n.length!==1?"s":"",Ge!=="all"&&` in ${Ge.replace(/([A-Z])/g," $1").toLowerCase()}`,Qe&&` for "${Qe}"`]}),jsxRuntimeExports.jsxs("div",{className:"tickets-page-wrapper",children:[jsxRuntimeExports.jsx("div",{className:`ticket-list-panel ${Ye?"shrink":"full-width"}`,children:cr.length===0?jsxRuntimeExports.jsx("p",{children:"No tickets found."}):cr.map(fr=>jsxRuntimeExports.jsx(TicketCard,{ticket:fr,isSelected:fr.id===Je,onClick:()=>hr(fr)},fr.id))}),Ye&&jsxRuntimeExports.jsx("div",{className:"ticket-detail-panel",children:jsxRuntimeExports.jsx(TicketDetail,{ticket:Ye,onClose:()=>{tr("/tickets")}})})]})]})};function Customers(){return jsxRuntimeExports.jsx("div",{children:"Customers"})}function Devices(){return jsxRuntimeExports.jsx("div",{children:"Devices"})}function Archived(){return jsxRuntimeExports.jsx("div",{children:"Archived"})}const LoginPage=()=>{const Ee=useNavigate(),[t,n]=reactExports.useState(""),[Ce,Te]=reactExports.useState(""),[Re,Be]=reactExports.useState(""),[Ue,Oe]=reactExports.useState(!1),{setTechnician:Me}=useUser(),Qe=async Ke=>{Ke.preventDefault(),Oe(!0),Be("");try{const qe=(await signInWithEmailAndPassword(auth,t,Ce)).user,Xe=query(collection(db,"technicions"),where("email","==",qe.email)),tr=await getDocs(Xe);if(tr.empty)console.log("No technician record found for this email.");else{const Je=tr.docs[0].data();Me(tr.docs[0].data())}Ee("/tickets")}catch(Ge){console.log(Ge.message),Be("Invalid email or password")}finally{Oe(!1)}};return jsxRuntimeExports.jsx("div",{className:"login-page",children:jsxRuntimeExports.jsxs("form",{className:"login-form",onSubmit:Qe,children:[jsxRuntimeExports.jsx("h2",{children:"Login"}),Re&&jsxRuntimeExports.jsx("p",{className:"error-msg",children:Re}),jsxRuntimeExports.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:Ke=>n(Ke.target.value),required:!0}),jsxRuntimeExports.jsx("input",{type:"password",placeholder:"Password",value:Ce,onChange:Ke=>Te(Ke.target.value),required:!0}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:Ue,children:Ue?"Logging in...":"Login"})]})})},firebaseConfig={apiKey:"AIzaSyCWSayCLeyr_6aBSNjb4nCY--Lw-DB_4S4",authDomain:"solutionssystemmain.firebaseapp.com",projectId:"solutionssystemmain",storageBucket:"solutionssystemmain.appspot.com",messagingSenderId:"961697855820",appId:"1:961697855820:web:a83ed62b1fdacee11f77e9"},secondaryApp=initializeApp(firebaseConfig,"secondary"),secondaryAuth=getAuth(secondaryApp),createUserWithoutSessionConflict=async(Ee,t)=>{try{const n=await createUserWithEmailAndPassword(secondaryAuth,Ee,t);return await signOut(secondaryAuth),{success:!0,uid:n.user.uid,user:n.user}}catch(n){return console.error("Error creating user:",n),{success:!1,error:n.message}}},UserManagement=()=>{const{technician:Ee}=useUser(),[t,n]=reactExports.useState([]),[Ce,Te]=reactExports.useState(!0),[Re,Be]=reactExports.useState(!1),[Ue,Oe]=reactExports.useState(!1),[Me,Qe]=reactExports.useState(null),[Ke,Ge]=reactExports.useState(null),[qe,Xe]=reactExports.useState({name:"",email:"",password:"",location:"M",permission:"User",isAccountant:!1}),[tr,Je]=reactExports.useState({email:"",password:""}),[Ye,lr]=reactExports.useState(""),[cr,hr]=reactExports.useState(""),[ur,fr]=reactExports.useState(""),[er,nr]=reactExports.useState(""),ir=(Ee==null?void 0:Ee.name)==="System Admin"||(Ee==null?void 0:Ee.permission)==="SystemAdmin"||(Ee==null?void 0:Ee.permission)==="Admin";reactExports.useEffect(()=>{if(!ir){lr("Access denied. Only System Admin can manage users."),Te(!1);return}mr()},[ir]);const mr=async()=>{try{const _r=(await getDocs(collection(db,"technicions"))).docs.map(gr=>({id:gr.id,...gr.data()}));n(_r)}catch(Mr){console.error("Error fetching users:",Mr),lr("Failed to fetch users")}finally{Te(!1)}},$e=Mr=>{const{name:_r,value:gr,type:yr,checked:Rr}=Mr.target;Xe(Ir=>({...Ir,[_r]:yr==="checkbox"?Rr:gr}))},Ar=Mr=>{const{name:_r,value:gr}=Mr.target;Je(yr=>({...yr,[_r]:gr}))},or=()=>{Xe({name:"",email:"",password:"",location:"M",permission:"User",isAccountant:!1}),Qe(null),lr(""),hr("")},Tr=()=>{Je({email:"",password:""}),Ge(null),fr(""),nr("")},Ur=async Mr=>{if(Mr.preventDefault(),lr(""),hr(""),!qe.name||!qe.email){lr("Name and email are required");return}if(!Me&&!qe.password){lr("Password is required for new users");return}try{if(Me){const _r=doc(db,"technicions",Me.id),gr={name:qe.name,email:qe.email,location:qe.location,permission:qe.permission,isAccountant:qe.isAccountant};await updateDoc(_r,gr),hr("User updated successfully")}else{const _r=await createUserWithoutSessionConflict(qe.email,qe.password);if(_r.success)await addDoc(collection(db,"technicions"),{name:qe.name,email:qe.email,location:qe.location,permission:qe.permission,isAccountant:qe.isAccountant,uid:_r.uid,createdAt:new Date,createdBy:Ee.name}),hr("User created successfully!");else throw new Error(_r.error||"Failed to create user")}await mr(),Be(!1),or()}catch(_r){console.error("Error saving user:",_r),lr(_r.message||"Failed to save user")}},Fr=Mr=>{Qe(Mr),Xe({name:Mr.name,email:Mr.email,password:"",location:Mr.location||"M",permission:Mr.permission||"User",isAccountant:Mr.isAccountant||!1}),Be(!0)},Er=async Mr=>{if(window.confirm("Are you sure you want to delete this user?"))try{await deleteDoc(doc(db,"technicions",Mr)),hr("User deleted successfully"),await mr()}catch(_r){console.error("Error deleting user:",_r),lr("Failed to delete user")}},jr=Mr=>{Ge(Mr),Je({email:"",password:""}),Oe(!0)},Nr=async Mr=>{if(Mr.preventDefault(),fr(""),nr(""),!tr.email||!tr.password){fr("Both email and password are required");return}try{const _r=await createUserWithoutSessionConflict(tr.email,tr.password);if(_r.success){const gr=doc(db,"technicions",Ke.id);await updateDoc(gr,{email:tr.email,uid:_r.uid}),nr("Login credentials assigned successfully!"),await mr(),setTimeout(()=>{Oe(!1),Tr()},2e3)}else throw new Error(_r.error||"Failed to create authentication account")}catch(_r){console.error("Error assigning credentials:",_r),fr(_r.message||"Failed to assign credentials")}},Br=Mr=>{let _r="permission-badge ",gr="";return Mr.permission==="Admin"?(_r+="admin",gr="Admin"):(_r+="user",gr="User"),Mr.isAccountant&&(gr+=" + Accountant",_r+=" accountant"),jsxRuntimeExports.jsx("span",{className:_r,children:gr})};return Ce?jsxRuntimeExports.jsx("div",{className:"loading",children:"Loading users..."}):ir?jsxRuntimeExports.jsxs("div",{className:"user-management",children:[jsxRuntimeExports.jsxs("div",{className:"page-header",children:[jsxRuntimeExports.jsx("h1",{children:" User Management"}),jsxRuntimeExports.jsx("button",{className:"btn-primary",onClick:()=>Be(!0),children:" Add New User"})]}),Ye&&jsxRuntimeExports.jsx("div",{className:"alert alert-error",children:Ye}),cr&&jsxRuntimeExports.jsx("div",{className:"alert alert-success",children:cr}),jsxRuntimeExports.jsx("div",{className:"users-grid",children:t.map(Mr=>jsxRuntimeExports.jsxs("div",{className:"user-card",children:[jsxRuntimeExports.jsxs("div",{className:"user-info",children:[jsxRuntimeExports.jsx("h3",{children:Mr.name}),Mr.email?jsxRuntimeExports.jsxs("p",{className:"user-email",children:[" ",Mr.email]}):jsxRuntimeExports.jsx("p",{className:"user-email no-email",children:" No login credentials"}),jsxRuntimeExports.jsxs("p",{className:"user-location",children:[""," ",Mr.location==="M"?"Main Office (Amman)":"Irbid Branch"]}),Br(Mr)]}),jsxRuntimeExports.jsx("div",{className:"user-actions",children:Mr.email?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:"btn-secondary",onClick:()=>Fr(Mr),children:" Edit"}),jsxRuntimeExports.jsx("button",{className:"btn-danger",onClick:()=>Er(Mr.id),disabled:Mr.name==="System Admin",children:" Delete"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:"btn-primary assign-credentials",onClick:()=>jr(Mr),children:" Assign Login"}),jsxRuntimeExports.jsx("button",{className:"btn-secondary",onClick:()=>Fr(Mr),children:" Edit Info"}),jsxRuntimeExports.jsx("button",{className:"btn-danger",onClick:()=>Er(Mr.id),disabled:Mr.name==="System Admin",children:" Delete"})]})})]},Mr.id))}),Re&&jsxRuntimeExports.jsx("div",{className:"modal-overlay",children:jsxRuntimeExports.jsxs("div",{className:"modal",children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsx("h2",{children:Me?"Edit User":"Add New User"}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:()=>{Be(!1),or()},children:""})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Ur,className:"user-form",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",children:"Name *"}),jsxRuntimeExports.jsx("input",{type:"text",id:"name",name:"name",value:qe.name,onChange:$e,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",children:"Email *"}),jsxRuntimeExports.jsx("input",{type:"email",id:"email",name:"email",value:qe.email,onChange:$e,required:!0,disabled:Me})]}),!Me&&jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",children:"Password *"}),jsxRuntimeExports.jsx("input",{type:"password",id:"password",name:"password",value:qe.password,onChange:$e,required:!0,minLength:"6"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"location",children:"Location *"}),jsxRuntimeExports.jsxs("select",{id:"location",name:"location",value:qe.location,onChange:$e,required:!0,children:[jsxRuntimeExports.jsx("option",{value:"M",children:"Main Office (Amman)"}),jsxRuntimeExports.jsx("option",{value:"I",children:"Irbid Branch"})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"permission",children:"Permission Level *"}),jsxRuntimeExports.jsxs("select",{id:"permission",name:"permission",value:qe.permission,onChange:$e,required:!0,children:[jsxRuntimeExports.jsx("option",{value:"User",children:"User"}),jsxRuntimeExports.jsx("option",{value:"Admin",children:"Admin"})]})]}),jsxRuntimeExports.jsx("div",{className:"form-group checkbox-group",children:jsxRuntimeExports.jsxs("label",{className:"checkbox-label",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isAccountant",checked:qe.isAccountant,onChange:$e}),jsxRuntimeExports.jsx("span",{className:"checkmark"}),"Also assign as Accountant"]})}),jsxRuntimeExports.jsxs("div",{className:"form-actions",children:[jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:Me?"Update User":"Create User"}),jsxRuntimeExports.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{Be(!1),or()},children:"Cancel"})]})]})]})}),Ue&&Ke&&jsxRuntimeExports.jsx("div",{className:"modal-overlay",children:jsxRuntimeExports.jsxs("div",{className:"modal",children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsx("h2",{children:" Assign Login Credentials"}),jsxRuntimeExports.jsxs("p",{className:"modal-subtitle",children:["Assign email and password for:"," ",jsxRuntimeExports.jsx("strong",{children:Ke.name})]}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:()=>{Oe(!1),Tr()},children:""})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Nr,className:"user-form",children:[ur&&jsxRuntimeExports.jsxs("div",{className:"error-message",children:[" ",ur]}),er&&jsxRuntimeExports.jsxs("div",{className:"success-message",children:[" ",er]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"credentials-email",children:"Email Address *"}),jsxRuntimeExports.jsx("input",{type:"email",id:"credentials-email",name:"email",value:tr.email,onChange:Ar,placeholder:"Enter email for login",required:!0}),jsxRuntimeExports.jsx("small",{className:"form-help",children:"This email will be used to log into the system"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"credentials-password",children:"Password *"}),jsxRuntimeExports.jsx("input",{type:"password",id:"credentials-password",name:"password",value:tr.password,onChange:Ar,placeholder:"Enter password (min 6 characters)",required:!0,minLength:"6"}),jsxRuntimeExports.jsx("small",{className:"form-help",children:"Password must be at least 6 characters long"})]}),jsxRuntimeExports.jsxs("div",{className:"credentials-info",children:[jsxRuntimeExports.jsx("h4",{children:" Current User Info:"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Name:"})," ",Ke.name]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Location:"})," ",Ke.location==="M"?"Main Office (Amman)":"Irbid Branch"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Permission:"})," ",Ke.permission||"User"]}),Ke.isAccountant&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Additional Role:"})," Accountant"]})]}),jsxRuntimeExports.jsxs("div",{className:"form-actions",children:[jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:" Assign Credentials"}),jsxRuntimeExports.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{Oe(!1),Tr()},children:"Cancel"})]})]})]})})]}):jsxRuntimeExports.jsxs("div",{className:"access-denied",children:[jsxRuntimeExports.jsx("h2",{children:"Access Denied"}),jsxRuntimeExports.jsx("p",{children:"Only System Admin can access user management."})]})};var lib={exports:{}},Modal$1={},ModalPortal={exports:{}},focusManager={},tabbable={exports:{}},hasRequiredTabbable;function requireTabbable(){return hasRequiredTabbable||(hasRequiredTabbable=1,(function(Ee,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Qe;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",Ce="contents",Te=/^(input|select|textarea|button|object|iframe)$/;function Re(Ke,Ge){return Ge.getPropertyValue("overflow")!=="visible"||Ke.scrollWidth<=0&&Ke.scrollHeight<=0}function Be(Ke){var Ge=Ke.offsetWidth<=0&&Ke.offsetHeight<=0;if(Ge&&!Ke.innerHTML)return!0;try{var qe=window.getComputedStyle(Ke),Xe=qe.getPropertyValue("display");return Ge?Xe!==Ce&&Re(Ke,qe):Xe===n}catch{return console.warn("Failed to inspect element style"),!1}}function Ue(Ke){for(var Ge=Ke,qe=Ke.getRootNode&&Ke.getRootNode();Ge&&Ge!==document.body;){if(qe&&Ge===qe&&(Ge=qe.host.parentNode),Be(Ge))return!1;Ge=Ge.parentNode}return!0}function Oe(Ke,Ge){var qe=Ke.nodeName.toLowerCase(),Xe=Te.test(qe)&&!Ke.disabled||qe==="a"&&Ke.href||Ge;return Xe&&Ue(Ke)}function Me(Ke){var Ge=Ke.getAttribute("tabindex");Ge===null&&(Ge=void 0);var qe=isNaN(Ge);return(qe||Ge>=0)&&Oe(Ke,!qe)}function Qe(Ke){var Ge=[].slice.call(Ke.querySelectorAll("*"),0).reduce(function(qe,Xe){return qe.concat(Xe.shadowRoot?Qe(Xe.shadowRoot):[Xe])},[]);return Ge.filter(Me)}Ee.exports=t.default})(tabbable,tabbable.exports)),tabbable.exports}var hasRequiredFocusManager;function requireFocusManager(){if(hasRequiredFocusManager)return focusManager;hasRequiredFocusManager=1,Object.defineProperty(focusManager,"__esModule",{value:!0}),focusManager.resetState=Be,focusManager.log=Ue,focusManager.handleBlur=Oe,focusManager.handleFocus=Me,focusManager.markForFocusLater=Qe,focusManager.returnFocus=Ke,focusManager.popWithoutFocus=Ge,focusManager.setupScopedFocus=qe,focusManager.teardownScopedFocus=Xe;var Ee=requireTabbable(),t=n(Ee);function n(tr){return tr&&tr.__esModule?tr:{default:tr}}var Ce=[],Te=null,Re=!1;function Be(){Ce=[]}function Ue(){}function Oe(){Re=!0}function Me(){if(Re){if(Re=!1,!Te)return;setTimeout(function(){if(!Te.contains(document.activeElement)){var tr=(0,t.default)(Te)[0]||Te;tr.focus()}},0)}}function Qe(){Ce.push(document.activeElement)}function Ke(){var tr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Je=null;try{Ce.length!==0&&(Je=Ce.pop(),Je.focus({preventScroll:tr}));return}catch{console.warn(["You tried to return focus to",Je,"but it is not in the DOM anymore"].join(" "))}}function Ge(){Ce.length>0&&Ce.pop()}function qe(tr){Te=tr,window.addEventListener?(window.addEventListener("blur",Oe,!1),document.addEventListener("focus",Me,!0)):(window.attachEvent("onBlur",Oe),document.attachEvent("onFocus",Me))}function Xe(){Te=null,window.addEventListener?(window.removeEventListener("blur",Oe),document.removeEventListener("focus",Me)):(window.detachEvent("onBlur",Oe),document.detachEvent("onFocus",Me))}return focusManager}var scopeTab={exports:{}},hasRequiredScopeTab;function requireScopeTab(){return hasRequiredScopeTab||(hasRequiredScopeTab=1,(function(Ee,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Be;var n=requireTabbable(),Ce=Te(n);function Te(Ue){return Ue&&Ue.__esModule?Ue:{default:Ue}}function Re(){var Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return Ue.activeElement.shadowRoot?Re(Ue.activeElement.shadowRoot):Ue.activeElement}function Be(Ue,Oe){var Me=(0,Ce.default)(Ue);if(!Me.length){Oe.preventDefault();return}var Qe=void 0,Ke=Oe.shiftKey,Ge=Me[0],qe=Me[Me.length-1],Xe=Re();if(Ue===Xe){if(!Ke)return;Qe=qe}if(qe===Xe&&!Ke&&(Qe=Ge),Ge===Xe&&Ke&&(Qe=qe),Qe){Oe.preventDefault(),Qe.focus();return}var tr=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),Je=tr!=null&&tr[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(Je){var Ye=Me.indexOf(Xe);if(Ye>-1&&(Ye+=Ke?-1:1),Qe=Me[Ye],typeof Qe>"u"){Oe.preventDefault(),Qe=Ke?qe:Ge,Qe.focus();return}Oe.preventDefault(),Qe.focus()}}Ee.exports=t.default})(scopeTab,scopeTab.exports)),scopeTab.exports}var ariaAppHider={},warning_1,hasRequiredWarning;function requireWarning(){if(hasRequiredWarning)return warning_1;hasRequiredWarning=1;var Ee=function(){};return warning_1=Ee,warning_1}var safeHTMLElement={},exenv={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var hasRequiredExenv;function requireExenv(){return hasRequiredExenv||(hasRequiredExenv=1,(function(Ee){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};Ee.exports?Ee.exports=n:window.ExecutionEnvironment=n})()})(exenv)),exenv.exports}var hasRequiredSafeHTMLElement;function requireSafeHTMLElement(){if(hasRequiredSafeHTMLElement)return safeHTMLElement;hasRequiredSafeHTMLElement=1,Object.defineProperty(safeHTMLElement,"__esModule",{value:!0}),safeHTMLElement.canUseDOM=safeHTMLElement.SafeNodeList=safeHTMLElement.SafeHTMLCollection=void 0;var Ee=requireExenv(),t=n(Ee);function n(Re){return Re&&Re.__esModule?Re:{default:Re}}var Ce=t.default,Te=Ce.canUseDOM?window.HTMLElement:{};return safeHTMLElement.SafeHTMLCollection=Ce.canUseDOM?window.HTMLCollection:{},safeHTMLElement.SafeNodeList=Ce.canUseDOM?window.NodeList:{},safeHTMLElement.canUseDOM=Ce.canUseDOM,safeHTMLElement.default=Te,safeHTMLElement}var hasRequiredAriaAppHider;function requireAriaAppHider(){if(hasRequiredAriaAppHider)return ariaAppHider;hasRequiredAriaAppHider=1,Object.defineProperty(ariaAppHider,"__esModule",{value:!0}),ariaAppHider.resetState=Re,ariaAppHider.log=Be,ariaAppHider.assertNodeList=Ue,ariaAppHider.setElement=Oe,ariaAppHider.validateElement=Me,ariaAppHider.hide=Qe,ariaAppHider.show=Ke,ariaAppHider.documentNotReadyOrSSRTesting=Ge;var Ee=requireWarning(),t=Ce(Ee),n=requireSafeHTMLElement();function Ce(qe){return qe&&qe.__esModule?qe:{default:qe}}var Te=null;function Re(){Te&&(Te.removeAttribute?Te.removeAttribute("aria-hidden"):Te.length!=null?Te.forEach(function(qe){return qe.removeAttribute("aria-hidden")}):document.querySelectorAll(Te).forEach(function(qe){return qe.removeAttribute("aria-hidden")})),Te=null}function Be(){}function Ue(qe,Xe){if(!qe||!qe.length)throw new Error("react-modal: No elements were found for selector "+Xe+".")}function Oe(qe){var Xe=qe;if(typeof Xe=="string"&&n.canUseDOM){var tr=document.querySelectorAll(Xe);Ue(tr,Xe),Xe=tr}return Te=Xe||Te,Te}function Me(qe){var Xe=qe||Te;return Xe?Array.isArray(Xe)||Xe instanceof HTMLCollection||Xe instanceof NodeList?Xe:[Xe]:((0,t.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Qe(qe){var Xe=!0,tr=!1,Je=void 0;try{for(var Ye=Me(qe)[Symbol.iterator](),lr;!(Xe=(lr=Ye.next()).done);Xe=!0){var cr=lr.value;cr.setAttribute("aria-hidden","true")}}catch(hr){tr=!0,Je=hr}finally{try{!Xe&&Ye.return&&Ye.return()}finally{if(tr)throw Je}}}function Ke(qe){var Xe=!0,tr=!1,Je=void 0;try{for(var Ye=Me(qe)[Symbol.iterator](),lr;!(Xe=(lr=Ye.next()).done);Xe=!0){var cr=lr.value;cr.removeAttribute("aria-hidden")}}catch(hr){tr=!0,Je=hr}finally{try{!Xe&&Ye.return&&Ye.return()}finally{if(tr)throw Je}}}function Ge(){Te=null}return ariaAppHider}var classList={},hasRequiredClassList;function requireClassList(){if(hasRequiredClassList)return classList;hasRequiredClassList=1,Object.defineProperty(classList,"__esModule",{value:!0}),classList.resetState=Ce,classList.log=Te;var Ee={},t={};function n(Me,Qe){Me.classList.remove(Qe)}function Ce(){var Me=document.getElementsByTagName("html")[0];for(var Qe in Ee)n(Me,Ee[Qe]);var Ke=document.body;for(var Ge in t)n(Ke,t[Ge]);Ee={},t={}}function Te(){}var Re=function(Qe,Ke){return Qe[Ke]||(Qe[Ke]=0),Qe[Ke]+=1,Ke},Be=function(Qe,Ke){return Qe[Ke]&&(Qe[Ke]-=1),Ke},Ue=function(Qe,Ke,Ge){Ge.forEach(function(qe){Re(Ke,qe),Qe.add(qe)})},Oe=function(Qe,Ke,Ge){Ge.forEach(function(qe){Be(Ke,qe),Ke[qe]===0&&Qe.remove(qe)})};return classList.add=function(Qe,Ke){return Ue(Qe.classList,Qe.nodeName.toLowerCase()=="html"?Ee:t,Ke.split(" "))},classList.remove=function(Qe,Ke){return Oe(Qe.classList,Qe.nodeName.toLowerCase()=="html"?Ee:t,Ke.split(" "))},classList}var portalOpenInstances={},hasRequiredPortalOpenInstances;function requirePortalOpenInstances(){if(hasRequiredPortalOpenInstances)return portalOpenInstances;hasRequiredPortalOpenInstances=1,Object.defineProperty(portalOpenInstances,"__esModule",{value:!0}),portalOpenInstances.log=Ce,portalOpenInstances.resetState=Te;function Ee(Re,Be){if(!(Re instanceof Be))throw new TypeError("Cannot call a class as a function")}var t=function Re(){var Be=this;Ee(this,Re),this.register=function(Ue){Be.openInstances.indexOf(Ue)===-1&&(Be.openInstances.push(Ue),Be.emit("register"))},this.deregister=function(Ue){var Oe=Be.openInstances.indexOf(Ue);Oe!==-1&&(Be.openInstances.splice(Oe,1),Be.emit("deregister"))},this.subscribe=function(Ue){Be.subscribers.push(Ue)},this.emit=function(Ue){Be.subscribers.forEach(function(Oe){return Oe(Ue,Be.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new t;function Ce(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(Re){return console.log(Re)}),console.log("end portalOpenInstances ----------")}function Te(){n=new t}return portalOpenInstances.default=n,portalOpenInstances}var bodyTrap={},hasRequiredBodyTrap;function requireBodyTrap(){if(hasRequiredBodyTrap)return bodyTrap;hasRequiredBodyTrap=1,Object.defineProperty(bodyTrap,"__esModule",{value:!0}),bodyTrap.resetState=Be,bodyTrap.log=Ue;var Ee=requirePortalOpenInstances(),t=n(Ee);function n(Qe){return Qe&&Qe.__esModule?Qe:{default:Qe}}var Ce=void 0,Te=void 0,Re=[];function Be(){for(var Qe=[Ce,Te],Ke=0;Ke<Qe.length;Ke++){var Ge=Qe[Ke];Ge&&Ge.parentNode&&Ge.parentNode.removeChild(Ge)}Ce=Te=null,Re=[]}function Ue(){console.log("bodyTrap ----------"),console.log(Re.length);for(var Qe=[Ce,Te],Ke=0;Ke<Qe.length;Ke++){var Ge=Qe[Ke],qe=Ge||{};console.log(qe.nodeName,qe.className,qe.id)}console.log("edn bodyTrap ----------")}function Oe(){Re.length!==0&&Re[Re.length-1].focusContent()}function Me(Qe,Ke){!Ce&&!Te&&(Ce=document.createElement("div"),Ce.setAttribute("data-react-modal-body-trap",""),Ce.style.position="absolute",Ce.style.opacity="0",Ce.setAttribute("tabindex","0"),Ce.addEventListener("focus",Oe),Te=Ce.cloneNode(),Te.addEventListener("focus",Oe)),Re=Ke,Re.length>0?(document.body.firstChild!==Ce&&document.body.insertBefore(Ce,document.body.firstChild),document.body.lastChild!==Te&&document.body.appendChild(Te)):(Ce.parentElement&&Ce.parentElement.removeChild(Ce),Te.parentElement&&Te.parentElement.removeChild(Te))}return t.default.subscribe(Me),bodyTrap}var hasRequiredModalPortal;function requireModalPortal(){return hasRequiredModalPortal||(hasRequiredModalPortal=1,(function(Ee,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(Tr){for(var Ur=1;Ur<arguments.length;Ur++){var Fr=arguments[Ur];for(var Er in Fr)Object.prototype.hasOwnProperty.call(Fr,Er)&&(Tr[Er]=Fr[Er])}return Tr},Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Tr){return typeof Tr}:function(Tr){return Tr&&typeof Symbol=="function"&&Tr.constructor===Symbol&&Tr!==Symbol.prototype?"symbol":typeof Tr},Te=(function(){function Tr(Ur,Fr){for(var Er=0;Er<Fr.length;Er++){var jr=Fr[Er];jr.enumerable=jr.enumerable||!1,jr.configurable=!0,"value"in jr&&(jr.writable=!0),Object.defineProperty(Ur,jr.key,jr)}}return function(Ur,Fr,Er){return Fr&&Tr(Ur.prototype,Fr),Er&&Tr(Ur,Er),Ur}})(),Re=requireReact(),Be=requirePropTypes(),Ue=ur(Be),Oe=requireFocusManager(),Me=hr(Oe),Qe=requireScopeTab(),Ke=ur(Qe),Ge=requireAriaAppHider(),qe=hr(Ge),Xe=requireClassList(),tr=hr(Xe),Je=requireSafeHTMLElement(),Ye=ur(Je),lr=requirePortalOpenInstances(),cr=ur(lr);requireBodyTrap();function hr(Tr){if(Tr&&Tr.__esModule)return Tr;var Ur={};if(Tr!=null)for(var Fr in Tr)Object.prototype.hasOwnProperty.call(Tr,Fr)&&(Ur[Fr]=Tr[Fr]);return Ur.default=Tr,Ur}function ur(Tr){return Tr&&Tr.__esModule?Tr:{default:Tr}}function fr(Tr,Ur){if(!(Tr instanceof Ur))throw new TypeError("Cannot call a class as a function")}function er(Tr,Ur){if(!Tr)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ur&&(typeof Ur=="object"||typeof Ur=="function")?Ur:Tr}function nr(Tr,Ur){if(typeof Ur!="function"&&Ur!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ur);Tr.prototype=Object.create(Ur&&Ur.prototype,{constructor:{value:Tr,enumerable:!1,writable:!0,configurable:!0}}),Ur&&(Object.setPrototypeOf?Object.setPrototypeOf(Tr,Ur):Tr.__proto__=Ur)}var ir={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},mr=function(Ur){return Ur.code==="Tab"||Ur.keyCode===9},$e=function(Ur){return Ur.code==="Escape"||Ur.keyCode===27},Ar=0,or=(function(Tr){nr(Ur,Tr);function Ur(Fr){fr(this,Ur);var Er=er(this,(Ur.__proto__||Object.getPrototypeOf(Ur)).call(this,Fr));return Er.setOverlayRef=function(jr){Er.overlay=jr,Er.props.overlayRef&&Er.props.overlayRef(jr)},Er.setContentRef=function(jr){Er.content=jr,Er.props.contentRef&&Er.props.contentRef(jr)},Er.afterClose=function(){var jr=Er.props,Nr=jr.appElement,Br=jr.ariaHideApp,Mr=jr.htmlOpenClassName,_r=jr.bodyOpenClassName,gr=jr.parentSelector,yr=gr&&gr().ownerDocument||document;_r&&tr.remove(yr.body,_r),Mr&&tr.remove(yr.getElementsByTagName("html")[0],Mr),Br&&Ar>0&&(Ar-=1,Ar===0&&qe.show(Nr)),Er.props.shouldFocusAfterRender&&(Er.props.shouldReturnFocusAfterClose?(Me.returnFocus(Er.props.preventScroll),Me.teardownScopedFocus()):Me.popWithoutFocus()),Er.props.onAfterClose&&Er.props.onAfterClose(),cr.default.deregister(Er)},Er.open=function(){Er.beforeOpen(),Er.state.afterOpen&&Er.state.beforeClose?(clearTimeout(Er.closeTimer),Er.setState({beforeClose:!1})):(Er.props.shouldFocusAfterRender&&(Me.setupScopedFocus(Er.node),Me.markForFocusLater()),Er.setState({isOpen:!0},function(){Er.openAnimationFrame=requestAnimationFrame(function(){Er.setState({afterOpen:!0}),Er.props.isOpen&&Er.props.onAfterOpen&&Er.props.onAfterOpen({overlayEl:Er.overlay,contentEl:Er.content})})}))},Er.close=function(){Er.props.closeTimeoutMS>0?Er.closeWithTimeout():Er.closeWithoutTimeout()},Er.focusContent=function(){return Er.content&&!Er.contentHasFocus()&&Er.content.focus({preventScroll:!0})},Er.closeWithTimeout=function(){var jr=Date.now()+Er.props.closeTimeoutMS;Er.setState({beforeClose:!0,closesAt:jr},function(){Er.closeTimer=setTimeout(Er.closeWithoutTimeout,Er.state.closesAt-Date.now())})},Er.closeWithoutTimeout=function(){Er.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},Er.afterClose)},Er.handleKeyDown=function(jr){mr(jr)&&(0,Ke.default)(Er.content,jr),Er.props.shouldCloseOnEsc&&$e(jr)&&(jr.stopPropagation(),Er.requestClose(jr))},Er.handleOverlayOnClick=function(jr){Er.shouldClose===null&&(Er.shouldClose=!0),Er.shouldClose&&Er.props.shouldCloseOnOverlayClick&&(Er.ownerHandlesClose()?Er.requestClose(jr):Er.focusContent()),Er.shouldClose=null},Er.handleContentOnMouseUp=function(){Er.shouldClose=!1},Er.handleOverlayOnMouseDown=function(jr){!Er.props.shouldCloseOnOverlayClick&&jr.target==Er.overlay&&jr.preventDefault()},Er.handleContentOnClick=function(){Er.shouldClose=!1},Er.handleContentOnMouseDown=function(){Er.shouldClose=!1},Er.requestClose=function(jr){return Er.ownerHandlesClose()&&Er.props.onRequestClose(jr)},Er.ownerHandlesClose=function(){return Er.props.onRequestClose},Er.shouldBeClosed=function(){return!Er.state.isOpen&&!Er.state.beforeClose},Er.contentHasFocus=function(){return document.activeElement===Er.content||Er.content.contains(document.activeElement)},Er.buildClassName=function(jr,Nr){var Br=(typeof Nr>"u"?"undefined":Ce(Nr))==="object"?Nr:{base:ir[jr],afterOpen:ir[jr]+"--after-open",beforeClose:ir[jr]+"--before-close"},Mr=Br.base;return Er.state.afterOpen&&(Mr=Mr+" "+Br.afterOpen),Er.state.beforeClose&&(Mr=Mr+" "+Br.beforeClose),typeof Nr=="string"&&Nr?Mr+" "+Nr:Mr},Er.attributesFromObject=function(jr,Nr){return Object.keys(Nr).reduce(function(Br,Mr){return Br[jr+"-"+Mr]=Nr[Mr],Br},{})},Er.state={afterOpen:!1,beforeClose:!1},Er.shouldClose=null,Er.moveFromContentToOverlay=null,Er}return Te(Ur,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(Er,jr){this.props.isOpen&&!Er.isOpen?this.open():!this.props.isOpen&&Er.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!jr.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var Er=this.props,jr=Er.appElement,Nr=Er.ariaHideApp,Br=Er.htmlOpenClassName,Mr=Er.bodyOpenClassName,_r=Er.parentSelector,gr=_r&&_r().ownerDocument||document;Mr&&tr.add(gr.body,Mr),Br&&tr.add(gr.getElementsByTagName("html")[0],Br),Nr&&(Ar+=1,qe.hide(jr)),cr.default.register(this)}},{key:"render",value:function(){var Er=this.props,jr=Er.id,Nr=Er.className,Br=Er.overlayClassName,Mr=Er.defaultStyles,_r=Er.children,gr=Nr?{}:Mr.content,yr=Br?{}:Mr.overlay;if(this.shouldBeClosed())return null;var Rr={ref:this.setOverlayRef,className:this.buildClassName("overlay",Br),style:n({},yr,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Ir=n({id:jr,ref:this.setContentRef,style:n({},gr,this.props.style.content),className:this.buildClassName("content",Nr),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Qr=this.props.contentElement(Ir,_r);return this.props.overlayElement(Rr,Qr)}}]),Ur})(Re.Component);or.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},or.propTypes={isOpen:Ue.default.bool.isRequired,defaultStyles:Ue.default.shape({content:Ue.default.object,overlay:Ue.default.object}),style:Ue.default.shape({content:Ue.default.object,overlay:Ue.default.object}),className:Ue.default.oneOfType([Ue.default.string,Ue.default.object]),overlayClassName:Ue.default.oneOfType([Ue.default.string,Ue.default.object]),parentSelector:Ue.default.func,bodyOpenClassName:Ue.default.string,htmlOpenClassName:Ue.default.string,ariaHideApp:Ue.default.bool,appElement:Ue.default.oneOfType([Ue.default.instanceOf(Ye.default),Ue.default.instanceOf(Je.SafeHTMLCollection),Ue.default.instanceOf(Je.SafeNodeList),Ue.default.arrayOf(Ue.default.instanceOf(Ye.default))]),onAfterOpen:Ue.default.func,onAfterClose:Ue.default.func,onRequestClose:Ue.default.func,closeTimeoutMS:Ue.default.number,shouldFocusAfterRender:Ue.default.bool,shouldCloseOnOverlayClick:Ue.default.bool,shouldReturnFocusAfterClose:Ue.default.bool,preventScroll:Ue.default.bool,role:Ue.default.string,contentLabel:Ue.default.string,aria:Ue.default.object,data:Ue.default.object,children:Ue.default.node,shouldCloseOnEsc:Ue.default.bool,overlayRef:Ue.default.func,contentRef:Ue.default.func,id:Ue.default.string,overlayElement:Ue.default.func,contentElement:Ue.default.func,testId:Ue.default.string},t.default=or,Ee.exports=t.default})(ModalPortal,ModalPortal.exports)),ModalPortal.exports}function componentWillMount(){var Ee=this.constructor.getDerivedStateFromProps(this.props,this.state);Ee!=null&&this.setState(Ee)}function componentWillReceiveProps(Ee){function t(n){var Ce=this.constructor.getDerivedStateFromProps(Ee,n);return Ce??null}this.setState(t.bind(this))}function componentWillUpdate(Ee,t){try{var n=this.props,Ce=this.state;this.props=Ee,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,Ce)}finally{this.props=n,this.state=Ce}}componentWillMount.__suppressDeprecationWarning=!0;componentWillReceiveProps.__suppressDeprecationWarning=!0;componentWillUpdate.__suppressDeprecationWarning=!0;function polyfill(Ee){var t=Ee.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof Ee.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return Ee;var n=null,Ce=null,Te=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?Ce="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(Ce="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?Te="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(Te="UNSAFE_componentWillUpdate"),n!==null||Ce!==null||Te!==null){var Re=Ee.displayName||Ee.name,Be=typeof Ee.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+Re+" uses "+Be+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(Ce!==null?`
  `+Ce:"")+(Te!==null?`
  `+Te:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof Ee.getDerivedStateFromProps=="function"&&(t.componentWillMount=componentWillMount,t.componentWillReceiveProps=componentWillReceiveProps),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=componentWillUpdate;var Ue=t.componentDidUpdate;t.componentDidUpdate=function(Me,Qe,Ke){var Ge=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:Ke;Ue.call(this,Me,Qe,Ge)}}return Ee}const reactLifecyclesCompat_es=Object.freeze(Object.defineProperty({__proto__:null,polyfill},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(reactLifecyclesCompat_es);var hasRequiredModal;function requireModal(){if(hasRequiredModal)return Modal$1;hasRequiredModal=1,Object.defineProperty(Modal$1,"__esModule",{value:!0}),Modal$1.bodyOpenClassName=Modal$1.portalClassName=void 0;var Ee=Object.assign||function($e){for(var Ar=1;Ar<arguments.length;Ar++){var or=arguments[Ar];for(var Tr in or)Object.prototype.hasOwnProperty.call(or,Tr)&&($e[Tr]=or[Tr])}return $e},t=(function(){function $e(Ar,or){for(var Tr=0;Tr<or.length;Tr++){var Ur=or[Tr];Ur.enumerable=Ur.enumerable||!1,Ur.configurable=!0,"value"in Ur&&(Ur.writable=!0),Object.defineProperty(Ar,Ur.key,Ur)}}return function(Ar,or,Tr){return or&&$e(Ar.prototype,or),Tr&&$e(Ar,Tr),Ar}})(),n=requireReact(),Ce=Je(n),Te=requireReactDom(),Re=Je(Te),Be=requirePropTypes(),Ue=Je(Be),Oe=requireModalPortal(),Me=Je(Oe),Qe=requireAriaAppHider(),Ke=tr(Qe),Ge=requireSafeHTMLElement(),qe=Je(Ge),Xe=require$$6;function tr($e){if($e&&$e.__esModule)return $e;var Ar={};if($e!=null)for(var or in $e)Object.prototype.hasOwnProperty.call($e,or)&&(Ar[or]=$e[or]);return Ar.default=$e,Ar}function Je($e){return $e&&$e.__esModule?$e:{default:$e}}function Ye($e,Ar){if(!($e instanceof Ar))throw new TypeError("Cannot call a class as a function")}function lr($e,Ar){if(!$e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ar&&(typeof Ar=="object"||typeof Ar=="function")?Ar:$e}function cr($e,Ar){if(typeof Ar!="function"&&Ar!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ar);$e.prototype=Object.create(Ar&&Ar.prototype,{constructor:{value:$e,enumerable:!1,writable:!0,configurable:!0}}),Ar&&(Object.setPrototypeOf?Object.setPrototypeOf($e,Ar):$e.__proto__=Ar)}var hr=Modal$1.portalClassName="ReactModalPortal",ur=Modal$1.bodyOpenClassName="ReactModal__Body--open",fr=Ge.canUseDOM&&Re.default.createPortal!==void 0,er=function(Ar){return document.createElement(Ar)},nr=function(){return fr?Re.default.createPortal:Re.default.unstable_renderSubtreeIntoContainer};function ir($e){return $e()}var mr=(function($e){cr(Ar,$e);function Ar(){var or,Tr,Ur,Fr;Ye(this,Ar);for(var Er=arguments.length,jr=Array(Er),Nr=0;Nr<Er;Nr++)jr[Nr]=arguments[Nr];return Fr=(Tr=(Ur=lr(this,(or=Ar.__proto__||Object.getPrototypeOf(Ar)).call.apply(or,[this].concat(jr))),Ur),Ur.removePortal=function(){!fr&&Re.default.unmountComponentAtNode(Ur.node);var Br=ir(Ur.props.parentSelector);Br&&Br.contains(Ur.node)?Br.removeChild(Ur.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},Ur.portalRef=function(Br){Ur.portal=Br},Ur.renderPortal=function(Br){var Mr=nr(),_r=Mr(Ur,Ce.default.createElement(Me.default,Ee({defaultStyles:Ar.defaultStyles},Br)),Ur.node);Ur.portalRef(_r)},Tr),lr(Ur,Fr)}return t(Ar,[{key:"componentDidMount",value:function(){if(Ge.canUseDOM){fr||(this.node=er("div")),this.node.className=this.props.portalClassName;var Tr=ir(this.props.parentSelector);Tr.appendChild(this.node),!fr&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(Tr){var Ur=ir(Tr.parentSelector),Fr=ir(this.props.parentSelector);return{prevParent:Ur,nextParent:Fr}}},{key:"componentDidUpdate",value:function(Tr,Ur,Fr){if(Ge.canUseDOM){var Er=this.props,jr=Er.isOpen,Nr=Er.portalClassName;Tr.portalClassName!==Nr&&(this.node.className=Nr);var Br=Fr.prevParent,Mr=Fr.nextParent;Mr!==Br&&(Br.removeChild(this.node),Mr.appendChild(this.node)),!(!Tr.isOpen&&!jr)&&!fr&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Ge.canUseDOM||!this.node||!this.portal)){var Tr=this.portal.state,Ur=Date.now(),Fr=Tr.isOpen&&this.props.closeTimeoutMS&&(Tr.closesAt||Ur+this.props.closeTimeoutMS);Fr?(Tr.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,Fr-Ur)):this.removePortal()}}},{key:"render",value:function(){if(!Ge.canUseDOM||!fr)return null;!this.node&&fr&&(this.node=er("div"));var Tr=nr();return Tr(Ce.default.createElement(Me.default,Ee({ref:this.portalRef,defaultStyles:Ar.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(Tr){Ke.setElement(Tr)}}]),Ar})(n.Component);return mr.propTypes={isOpen:Ue.default.bool.isRequired,style:Ue.default.shape({content:Ue.default.object,overlay:Ue.default.object}),portalClassName:Ue.default.string,bodyOpenClassName:Ue.default.string,htmlOpenClassName:Ue.default.string,className:Ue.default.oneOfType([Ue.default.string,Ue.default.shape({base:Ue.default.string.isRequired,afterOpen:Ue.default.string.isRequired,beforeClose:Ue.default.string.isRequired})]),overlayClassName:Ue.default.oneOfType([Ue.default.string,Ue.default.shape({base:Ue.default.string.isRequired,afterOpen:Ue.default.string.isRequired,beforeClose:Ue.default.string.isRequired})]),appElement:Ue.default.oneOfType([Ue.default.instanceOf(qe.default),Ue.default.instanceOf(Ge.SafeHTMLCollection),Ue.default.instanceOf(Ge.SafeNodeList),Ue.default.arrayOf(Ue.default.instanceOf(qe.default))]),onAfterOpen:Ue.default.func,onRequestClose:Ue.default.func,closeTimeoutMS:Ue.default.number,ariaHideApp:Ue.default.bool,shouldFocusAfterRender:Ue.default.bool,shouldCloseOnOverlayClick:Ue.default.bool,shouldReturnFocusAfterClose:Ue.default.bool,preventScroll:Ue.default.bool,parentSelector:Ue.default.func,aria:Ue.default.object,data:Ue.default.object,role:Ue.default.string,contentLabel:Ue.default.string,shouldCloseOnEsc:Ue.default.bool,overlayRef:Ue.default.func,contentRef:Ue.default.func,id:Ue.default.string,overlayElement:Ue.default.func,contentElement:Ue.default.func},mr.defaultProps={isOpen:!1,portalClassName:hr,bodyOpenClassName:ur,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(Ar,or){return Ce.default.createElement("div",Ar,or)},contentElement:function(Ar,or){return Ce.default.createElement("div",Ar,or)}},mr.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,Xe.polyfill)(mr),Modal$1.default=mr,Modal$1}var hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,(function(Ee,t){Object.defineProperty(t,"__esModule",{value:!0});var n=requireModal(),Ce=Te(n);function Te(Re){return Re&&Re.__esModule?Re:{default:Re}}t.default=Ce.default,Ee.exports=t.default})(lib,lib.exports)),lib.exports}var libExports=requireLib();const Modal=getDefaultExportFromCjs(libExports);Modal.setAppElement("#root");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(Ee,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,Ce){n.__proto__=Ce}||function(n,Ce){for(var Te in Ce)Ce.hasOwnProperty(Te)&&(n[Te]=Ce[Te])},extendStatics(Ee,t)};function __extends(Ee,t){extendStatics(Ee,t);function n(){this.constructor=Ee}Ee.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var __assign=function(){return __assign=Object.assign||function(t){for(var n,Ce=1,Te=arguments.length;Ce<Te;Ce++){n=arguments[Ce];for(var Re in n)Object.prototype.hasOwnProperty.call(n,Re)&&(t[Re]=n[Re])}return t},__assign.apply(this,arguments)};function __rest$2(Ee,t){var n={};for(var Ce in Ee)Object.prototype.hasOwnProperty.call(Ee,Ce)&&t.indexOf(Ce)<0&&(n[Ce]=Ee[Ce]);if(Ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Te=0,Ce=Object.getOwnPropertySymbols(Ee);Te<Ce.length;Te++)t.indexOf(Ce[Te])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Ce[Te])&&(n[Ce[Te]]=Ee[Ce[Te]]);return n}function __awaiter$1(Ee,t,n,Ce){function Te(Re){return Re instanceof n?Re:new n(function(Be){Be(Re)})}return new(n||(n=Promise))(function(Re,Be){function Ue(Qe){try{Me(Ce.next(Qe))}catch(Ke){Be(Ke)}}function Oe(Qe){try{Me(Ce.throw(Qe))}catch(Ke){Be(Ke)}}function Me(Qe){Qe.done?Re(Qe.value):Te(Qe.value).then(Ue,Oe)}Me((Ce=Ce.apply(Ee,[])).next())})}function __generator(Ee,t){var n={label:0,sent:function(){if(Re[0]&1)throw Re[1];return Re[1]},trys:[],ops:[]},Ce,Te,Re,Be;return Be={next:Ue(0),throw:Ue(1),return:Ue(2)},typeof Symbol=="function"&&(Be[Symbol.iterator]=function(){return this}),Be;function Ue(Me){return function(Qe){return Oe([Me,Qe])}}function Oe(Me){if(Ce)throw new TypeError("Generator is already executing.");for(;n;)try{if(Ce=1,Te&&(Re=Me[0]&2?Te.return:Me[0]?Te.throw||((Re=Te.return)&&Re.call(Te),0):Te.next)&&!(Re=Re.call(Te,Me[1])).done)return Re;switch(Te=0,Re&&(Me=[Me[0]&2,Re.value]),Me[0]){case 0:case 1:Re=Me;break;case 4:return n.label++,{value:Me[1],done:!1};case 5:n.label++,Te=Me[1],Me=[0];continue;case 7:Me=n.ops.pop(),n.trys.pop();continue;default:if(Re=n.trys,!(Re=Re.length>0&&Re[Re.length-1])&&(Me[0]===6||Me[0]===2)){n=0;continue}if(Me[0]===3&&(!Re||Me[1]>Re[0]&&Me[1]<Re[3])){n.label=Me[1];break}if(Me[0]===6&&n.label<Re[1]){n.label=Re[1],Re=Me;break}if(Re&&n.label<Re[2]){n.label=Re[2],n.ops.push(Me);break}Re[2]&&n.ops.pop(),n.trys.pop();continue}Me=t.call(Ee,n)}catch(Qe){Me=[6,Qe],Te=0}finally{Ce=Re=0}if(Me[0]&5)throw Me[1];return{value:Me[0]?Me[1]:void 0,done:!0}}}function __spreadArrays(){for(var Ee=0,t=0,n=arguments.length;t<n;t++)Ee+=arguments[t].length;for(var Ce=Array(Ee),Te=0,t=0;t<n;t++)for(var Re=arguments[t],Be=0,Ue=Re.length;Be<Ue;Be++,Te++)Ce[Te]=Re[Be];return Ce}var chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=new Uint8Array(256);for(var i$1=0;i$1<chars$1.length;i$1++)lookup$1[chars$1.charCodeAt(i$1)]=i$1;var encodeToBase64=function(Ee){for(var t="",n=Ee.length,Ce=0;Ce<n;Ce+=3)t+=chars$1[Ee[Ce]>>2],t+=chars$1[(Ee[Ce]&3)<<4|Ee[Ce+1]>>4],t+=chars$1[(Ee[Ce+1]&15)<<2|Ee[Ce+2]>>6],t+=chars$1[Ee[Ce+2]&63];return n%3===2?t=t.substring(0,t.length-1)+"=":n%3===1&&(t=t.substring(0,t.length-2)+"=="),t},decodeFromBase64$1=function(Ee){var t=Ee.length*.75,n=Ee.length,Ce,Te=0,Re,Be,Ue,Oe;Ee[Ee.length-1]==="="&&(t--,Ee[Ee.length-2]==="="&&t--);var Me=new Uint8Array(t);for(Ce=0;Ce<n;Ce+=4)Re=lookup$1[Ee.charCodeAt(Ce)],Be=lookup$1[Ee.charCodeAt(Ce+1)],Ue=lookup$1[Ee.charCodeAt(Ce+2)],Oe=lookup$1[Ee.charCodeAt(Ce+3)],Me[Te++]=Re<<2|Be>>4,Me[Te++]=(Be&15)<<4|Ue>>2,Me[Te++]=(Ue&3)<<6|Oe&63;return Me},DATA_URI_PREFIX_REGEX=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,decodeFromBase64DataUri=function(Ee){var t=Ee.trim(),n=t.substring(0,100),Ce=n.match(DATA_URI_PREFIX_REGEX);if(!Ce)return decodeFromBase64$1(t);var Te=Ce[0],Re=t.substring(Te.length);return decodeFromBase64$1(Re)},toCharCode=function(Ee){return Ee.charCodeAt(0)},toCodePoint=function(Ee){return Ee.codePointAt(0)},toHexStringOfMinLength=function(Ee,t){return padStart$1(Ee.toString(16),t,"0").toUpperCase()},toHexString=function(Ee){return toHexStringOfMinLength(Ee,2)},charFromCode=function(Ee){return String.fromCharCode(Ee)},charFromHexCode=function(Ee){return charFromCode(parseInt(Ee,16))},padStart$1=function(Ee,t,n){for(var Ce="",Te=0,Re=t-Ee.length;Te<Re;Te++)Ce+=n;return Ce+Ee},copyStringIntoBuffer=function(Ee,t,n){for(var Ce=Ee.length,Te=0;Te<Ce;Te++)t[n++]=Ee.charCodeAt(Te);return Ce},escapeRegExp=function(Ee){return Ee.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},cleanText=function(Ee){return Ee.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},escapedNewlineChars=["\\n","\\f","\\r","\\u000B"],isNewlineChar=function(Ee){return/^[\n\f\r\u000B]$/.test(Ee)},lineSplit=function(Ee){return Ee.split(/[\n\f\r\u000B]/)},mergeLines=function(Ee){return Ee.replace(/[\n\f\r\u000B]/g," ")},charAtIndex=function(Ee,t){var n=Ee.charCodeAt(t),Ce,Te=t+1,Re=1;return n>=55296&&n<=56319&&Ee.length>Te&&(Ce=Ee.charCodeAt(Te),Ce>=56320&&Ce<=57343&&(Re=2)),[Ee.slice(t,t+Re),Re]},charSplit=function(Ee){for(var t=[],n=0,Ce=Ee.length;n<Ce;){var Te=charAtIndex(Ee,n),Re=Te[0],Be=Te[1];t.push(Re),n+=Be}return t},buildWordBreakRegex=function(Ee){for(var t=escapedNewlineChars.join("|"),n=["$"],Ce=0,Te=Ee.length;Ce<Te;Ce++){var Re=Ee[Ce];if(isNewlineChar(Re))throw new TypeError("`wordBreak` must not include "+t);n.push(Re===""?".":escapeRegExp(Re))}var Be=n.join("|");return new RegExp("("+t+")|((.*?)("+Be+"))","gm")},breakTextIntoLines=function(Ee,t,n,Ce){for(var Te=buildWordBreakRegex(t),Re=cleanText(Ee).match(Te),Be="",Ue=0,Oe=[],Me=function(){Be!==""&&Oe.push(Be),Be="",Ue=0},Qe=0,Ke=Re.length;Qe<Ke;Qe++){var Ge=Re[Qe];if(isNewlineChar(Ge))Me();else{var qe=Ce(Ge);Ue+qe>n&&Me(),Be+=Ge,Ue+=qe}}return Me(),Oe},dateRegex=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,parseDate=function(Ee){var t=Ee.match(dateRegex);if(t){var n=t[1],Ce=t[2],Te=Ce===void 0?"01":Ce,Re=t[3],Be=Re===void 0?"01":Re,Ue=t[4],Oe=Ue===void 0?"00":Ue,Me=t[5],Qe=Me===void 0?"00":Me,Ke=t[6],Ge=Ke===void 0?"00":Ke,qe=t[7],Xe=qe===void 0?"Z":qe,tr=t[8],Je=tr===void 0?"00":tr,Ye=t[9],lr=Ye===void 0?"00":Ye,cr=Xe==="Z"?"Z":""+Xe+Je+":"+lr,hr=new Date(n+"-"+Te+"-"+Be+"T"+Oe+":"+Qe+":"+Ge+cr);return hr}},findLastMatch=function(Ee,t){for(var n,Ce=0,Te;Ce<Ee.length;){var Re=Ee.substring(Ce).match(t);if(!Re)return{match:Te,pos:Ce};Te=Re,Ce+=((n=Re.index)!==null&&n!==void 0?n:0)+Re[0].length}return{match:Te,pos:Ce}},last=function(Ee){return Ee[Ee.length-1]},typedArrayFor=function(Ee){if(Ee instanceof Uint8Array)return Ee;for(var t=Ee.length,n=new Uint8Array(t),Ce=0;Ce<t;Ce++)n[Ce]=Ee.charCodeAt(Ce);return n},mergeIntoTypedArray=function(){for(var Ee=[],t=0;t<arguments.length;t++)Ee[t]=arguments[t];for(var n=Ee.length,Ce=[],Te=0;Te<n;Te++){var Re=Ee[Te];Ce[Te]=Re instanceof Uint8Array?Re:typedArrayFor(Re)}for(var Be=0,Te=0;Te<n;Te++)Be+=Ee[Te].length;for(var Ue=new Uint8Array(Be),Oe=0,Me=0;Me<n;Me++)for(var Qe=Ce[Me],Ke=0,Ge=Qe.length;Ke<Ge;Ke++)Ue[Oe++]=Qe[Ke];return Ue},mergeUint8Arrays=function(Ee){for(var t=0,n=0,Ce=Ee.length;n<Ce;n++)t+=Ee[n].length;for(var Te=new Uint8Array(t),Re=0,n=0,Ce=Ee.length;n<Ce;n++){var Be=Ee[n];Te.set(Be,Re),Re+=Be.length}return Te},arrayAsString=function(Ee){for(var t="",n=0,Ce=Ee.length;n<Ce;n++)t+=charFromCode(Ee[n]);return t},byAscendingId=function(Ee,t){return Ee.id-t.id},sortedUniq=function(Ee,t){for(var n=[],Ce=0,Te=Ee.length;Ce<Te;Ce++){var Re=Ee[Ce],Be=Ee[Ce-1];(Ce===0||t(Re)!==t(Be))&&n.push(Re)}return n},reverseArray=function(Ee){for(var t=Ee.length,n=0,Ce=Math.floor(t/2);n<Ce;n++){var Te=n,Re=t-n-1,Be=Ee[n];Ee[Te]=Ee[Re],Ee[Re]=Be}return Ee},sum=function(Ee){for(var t=0,n=0,Ce=Ee.length;n<Ce;n++)t+=Ee[n];return t},range=function(Ee,t){for(var n=new Array(t-Ee),Ce=0,Te=n.length;Ce<Te;Ce++)n[Ce]=Ee+Ce;return n},pluckIndices=function(Ee,t){for(var n=new Array(t.length),Ce=0,Te=t.length;Ce<Te;Ce++)n[Ce]=Ee[t[Ce]];return n},canBeConvertedToUint8Array=function(Ee){return Ee instanceof Uint8Array||Ee instanceof ArrayBuffer||typeof Ee=="string"},toUint8Array=function(Ee){if(typeof Ee=="string")return decodeFromBase64DataUri(Ee);if(Ee instanceof ArrayBuffer)return new Uint8Array(Ee);if(Ee instanceof Uint8Array)return Ee;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},waitForTick=function(){return new Promise(function(Ee){setTimeout(function(){return Ee()},0)})},utf16Encode=function(Ee,t){t===void 0&&(t=!0);var n=[];t&&n.push(65279);for(var Ce=0,Te=Ee.length;Ce<Te;){var Re=Ee.codePointAt(Ce);if(Re<65536)n.push(Re),Ce+=1;else if(Re<1114112)n.push(highSurrogate(Re),lowSurrogate(Re)),Ce+=2;else throw new Error("Invalid code point: 0x"+toHexString(Re))}return new Uint16Array(n)},isWithinBMP=function(Ee){return Ee>=0&&Ee<=65535},hasSurrogates=function(Ee){return Ee>=65536&&Ee<=1114111},highSurrogate=function(Ee){return Math.floor((Ee-65536)/1024)+55296},lowSurrogate=function(Ee){return(Ee-65536)%1024+56320},ByteOrder;(function(Ee){Ee.BigEndian="BigEndian",Ee.LittleEndian="LittleEndian"})(ByteOrder||(ByteOrder={}));var REPLACEMENT="".codePointAt(0),utf16Decode=function(Ee,t){if(t===void 0&&(t=!0),Ee.length<=1)return String.fromCodePoint(REPLACEMENT);for(var n=t?readBOM(Ee):ByteOrder.BigEndian,Ce=t?2:0,Te=[];Ee.length-Ce>=2;){var Re=decodeValues(Ee[Ce++],Ee[Ce++],n);if(isHighSurrogate(Re))if(Ee.length-Ce<2)Te.push(REPLACEMENT);else{var Be=decodeValues(Ee[Ce++],Ee[Ce++],n);isLowSurrogate(Be)?Te.push(Re,Be):Te.push(REPLACEMENT)}else isLowSurrogate(Re)?(Ce+=2,Te.push(REPLACEMENT)):Te.push(Re)}return Ce<Ee.length&&Te.push(REPLACEMENT),String.fromCodePoint.apply(String,Te)},isHighSurrogate=function(Ee){return Ee>=55296&&Ee<=56319},isLowSurrogate=function(Ee){return Ee>=56320&&Ee<=57343},decodeValues=function(Ee,t,n){if(n===ByteOrder.LittleEndian)return t<<8|Ee;if(n===ByteOrder.BigEndian)return Ee<<8|t;throw new Error("Invalid byteOrder: "+n)},readBOM=function(Ee){return hasUtf16BigEndianBOM(Ee)?ByteOrder.BigEndian:hasUtf16LittleEndianBOM(Ee)?ByteOrder.LittleEndian:ByteOrder.BigEndian},hasUtf16BigEndianBOM=function(Ee){return Ee[0]===254&&Ee[1]===255},hasUtf16LittleEndianBOM=function(Ee){return Ee[0]===255&&Ee[1]===254},hasUtf16BOM=function(Ee){return hasUtf16BigEndianBOM(Ee)||hasUtf16LittleEndianBOM(Ee)},numberToString=function(Ee){var t=String(Ee);if(Math.abs(Ee)<1){var n=parseInt(Ee.toString().split("e-")[1]);if(n){var Ce=Ee<0;Ce&&(Ee*=-1),Ee*=Math.pow(10,n-1),t="0."+new Array(n).join("0")+Ee.toString().substring(2),Ce&&(t="-"+t)}}else{var n=parseInt(Ee.toString().split("+")[1]);n>20&&(n-=20,Ee/=Math.pow(10,n),t=Ee.toString()+new Array(n+1).join("0"))}return t},sizeInBytes=function(Ee){return Math.ceil(Ee.toString(2).length/8)},bytesFor=function(Ee){for(var t=new Uint8Array(sizeInBytes(Ee)),n=1;n<=t.length;n++)t[n-1]=Ee>>(t.length-n)*8;return t},error=function(Ee){throw new Error(Ee)},common$2={},hasRequiredCommon$2;function requireCommon$2(){return hasRequiredCommon$2||(hasRequiredCommon$2=1,(function(Ee){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(Re,Be){return Object.prototype.hasOwnProperty.call(Re,Be)}Ee.assign=function(Re){for(var Be=Array.prototype.slice.call(arguments,1);Be.length;){var Ue=Be.shift();if(Ue){if(typeof Ue!="object")throw new TypeError(Ue+"must be non-object");for(var Oe in Ue)n(Ue,Oe)&&(Re[Oe]=Ue[Oe])}}return Re},Ee.shrinkBuf=function(Re,Be){return Re.length===Be?Re:Re.subarray?Re.subarray(0,Be):(Re.length=Be,Re)};var Ce={arraySet:function(Re,Be,Ue,Oe,Me){if(Be.subarray&&Re.subarray){Re.set(Be.subarray(Ue,Ue+Oe),Me);return}for(var Qe=0;Qe<Oe;Qe++)Re[Me+Qe]=Be[Ue+Qe]},flattenChunks:function(Re){var Be,Ue,Oe,Me,Qe,Ke;for(Oe=0,Be=0,Ue=Re.length;Be<Ue;Be++)Oe+=Re[Be].length;for(Ke=new Uint8Array(Oe),Me=0,Be=0,Ue=Re.length;Be<Ue;Be++)Qe=Re[Be],Ke.set(Qe,Me),Me+=Qe.length;return Ke}},Te={arraySet:function(Re,Be,Ue,Oe,Me){for(var Qe=0;Qe<Oe;Qe++)Re[Me+Qe]=Be[Ue+Qe]},flattenChunks:function(Re){return[].concat.apply([],Re)}};Ee.setTyped=function(Re){Re?(Ee.Buf8=Uint8Array,Ee.Buf16=Uint16Array,Ee.Buf32=Int32Array,Ee.assign(Ee,Ce)):(Ee.Buf8=Array,Ee.Buf16=Array,Ee.Buf32=Array,Ee.assign(Ee,Te))},Ee.setTyped(t)})(common$2)),common$2}var deflate$5={},deflate$4={},trees$2={},hasRequiredTrees$2;function requireTrees$2(){if(hasRequiredTrees$2)return trees$2;hasRequiredTrees$2=1;var Ee=requireCommon$2(),t=4,n=0,Ce=1,Te=2;function Re(dr){for(var An=dr.length;--An>=0;)dr[An]=0}var Be=0,Ue=1,Oe=2,Me=3,Qe=258,Ke=29,Ge=256,qe=Ge+1+Ke,Xe=30,tr=19,Je=2*qe+1,Ye=15,lr=16,cr=7,hr=256,ur=16,fr=17,er=18,nr=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ir=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],mr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ar=512,or=new Array((qe+2)*2);Re(or);var Tr=new Array(Xe*2);Re(Tr);var Ur=new Array(Ar);Re(Ur);var Fr=new Array(Qe-Me+1);Re(Fr);var Er=new Array(Ke);Re(Er);var jr=new Array(Xe);Re(jr);function Nr(dr,An,vn,Sn,wr){this.static_tree=dr,this.extra_bits=An,this.extra_base=vn,this.elems=Sn,this.max_length=wr,this.has_stree=dr&&dr.length}var Br,Mr,_r;function gr(dr,An){this.dyn_tree=dr,this.max_code=0,this.stat_desc=An}function yr(dr){return dr<256?Ur[dr]:Ur[256+(dr>>>7)]}function Rr(dr,An){dr.pending_buf[dr.pending++]=An&255,dr.pending_buf[dr.pending++]=An>>>8&255}function Ir(dr,An,vn){dr.bi_valid>lr-vn?(dr.bi_buf|=An<<dr.bi_valid&65535,Rr(dr,dr.bi_buf),dr.bi_buf=An>>lr-dr.bi_valid,dr.bi_valid+=vn-lr):(dr.bi_buf|=An<<dr.bi_valid&65535,dr.bi_valid+=vn)}function Qr(dr,An,vn){Ir(dr,vn[An*2],vn[An*2+1])}function Vr(dr,An){var vn=0;do vn|=dr&1,dr>>>=1,vn<<=1;while(--An>0);return vn>>>1}function Wr(dr){dr.bi_valid===16?(Rr(dr,dr.bi_buf),dr.bi_buf=0,dr.bi_valid=0):dr.bi_valid>=8&&(dr.pending_buf[dr.pending++]=dr.bi_buf&255,dr.bi_buf>>=8,dr.bi_valid-=8)}function mn(dr,An){var vn=An.dyn_tree,Sn=An.max_code,wr=An.stat_desc.static_tree,Or=An.stat_desc.has_stree,Ze=An.stat_desc.extra_bits,Jr=An.stat_desc.extra_base,Mn=An.stat_desc.max_length,ze,Cr,kr,rr,xr,Kr,Dn=0;for(rr=0;rr<=Ye;rr++)dr.bl_count[rr]=0;for(vn[dr.heap[dr.heap_max]*2+1]=0,ze=dr.heap_max+1;ze<Je;ze++)Cr=dr.heap[ze],rr=vn[vn[Cr*2+1]*2+1]+1,rr>Mn&&(rr=Mn,Dn++),vn[Cr*2+1]=rr,!(Cr>Sn)&&(dr.bl_count[rr]++,xr=0,Cr>=Jr&&(xr=Ze[Cr-Jr]),Kr=vn[Cr*2],dr.opt_len+=Kr*(rr+xr),Or&&(dr.static_len+=Kr*(wr[Cr*2+1]+xr)));if(Dn!==0){do{for(rr=Mn-1;dr.bl_count[rr]===0;)rr--;dr.bl_count[rr]--,dr.bl_count[rr+1]+=2,dr.bl_count[Mn]--,Dn-=2}while(Dn>0);for(rr=Mn;rr!==0;rr--)for(Cr=dr.bl_count[rr];Cr!==0;)kr=dr.heap[--ze],!(kr>Sn)&&(vn[kr*2+1]!==rr&&(dr.opt_len+=(rr-vn[kr*2+1])*vn[kr*2],vn[kr*2+1]=rr),Cr--)}}function gn(dr,An,vn){var Sn=new Array(Ye+1),wr=0,Or,Ze;for(Or=1;Or<=Ye;Or++)Sn[Or]=wr=wr+vn[Or-1]<<1;for(Ze=0;Ze<=An;Ze++){var Jr=dr[Ze*2+1];Jr!==0&&(dr[Ze*2]=Vr(Sn[Jr]++,Jr))}}function fn(){var dr,An,vn,Sn,wr,Or=new Array(Ye+1);for(vn=0,Sn=0;Sn<Ke-1;Sn++)for(Er[Sn]=vn,dr=0;dr<1<<nr[Sn];dr++)Fr[vn++]=Sn;for(Fr[vn-1]=Sn,wr=0,Sn=0;Sn<16;Sn++)for(jr[Sn]=wr,dr=0;dr<1<<ir[Sn];dr++)Ur[wr++]=Sn;for(wr>>=7;Sn<Xe;Sn++)for(jr[Sn]=wr<<7,dr=0;dr<1<<ir[Sn]-7;dr++)Ur[256+wr++]=Sn;for(An=0;An<=Ye;An++)Or[An]=0;for(dr=0;dr<=143;)or[dr*2+1]=8,dr++,Or[8]++;for(;dr<=255;)or[dr*2+1]=9,dr++,Or[9]++;for(;dr<=279;)or[dr*2+1]=7,dr++,Or[7]++;for(;dr<=287;)or[dr*2+1]=8,dr++,Or[8]++;for(gn(or,qe+1,Or),dr=0;dr<Xe;dr++)Tr[dr*2+1]=5,Tr[dr*2]=Vr(dr,5);Br=new Nr(or,nr,Ge+1,qe,Ye),Mr=new Nr(Tr,ir,0,Xe,Ye),_r=new Nr(new Array(0),mr,0,tr,cr)}function Fn(dr){var An;for(An=0;An<qe;An++)dr.dyn_ltree[An*2]=0;for(An=0;An<Xe;An++)dr.dyn_dtree[An*2]=0;for(An=0;An<tr;An++)dr.bl_tree[An*2]=0;dr.dyn_ltree[hr*2]=1,dr.opt_len=dr.static_len=0,dr.last_lit=dr.matches=0}function wn(dr){dr.bi_valid>8?Rr(dr,dr.bi_buf):dr.bi_valid>0&&(dr.pending_buf[dr.pending++]=dr.bi_buf),dr.bi_buf=0,dr.bi_valid=0}function Yr(dr,An,vn,Sn){wn(dr),Rr(dr,vn),Rr(dr,~vn),Ee.arraySet(dr.pending_buf,dr.window,An,vn,dr.pending),dr.pending+=vn}function Rn(dr,An,vn,Sn){var wr=An*2,Or=vn*2;return dr[wr]<dr[Or]||dr[wr]===dr[Or]&&Sn[An]<=Sn[vn]}function bn(dr,An,vn){for(var Sn=dr.heap[vn],wr=vn<<1;wr<=dr.heap_len&&(wr<dr.heap_len&&Rn(An,dr.heap[wr+1],dr.heap[wr],dr.depth)&&wr++,!Rn(An,Sn,dr.heap[wr],dr.depth));)dr.heap[vn]=dr.heap[wr],vn=wr,wr<<=1;dr.heap[vn]=Sn}function zr(dr,An,vn){var Sn,wr,Or=0,Ze,Jr;if(dr.last_lit!==0)do Sn=dr.pending_buf[dr.d_buf+Or*2]<<8|dr.pending_buf[dr.d_buf+Or*2+1],wr=dr.pending_buf[dr.l_buf+Or],Or++,Sn===0?Qr(dr,wr,An):(Ze=Fr[wr],Qr(dr,Ze+Ge+1,An),Jr=nr[Ze],Jr!==0&&(wr-=Er[Ze],Ir(dr,wr,Jr)),Sn--,Ze=yr(Sn),Qr(dr,Ze,vn),Jr=ir[Ze],Jr!==0&&(Sn-=jr[Ze],Ir(dr,Sn,Jr)));while(Or<dr.last_lit);Qr(dr,hr,An)}function $r(dr,An){var vn=An.dyn_tree,Sn=An.stat_desc.static_tree,wr=An.stat_desc.has_stree,Or=An.stat_desc.elems,Ze,Jr,Mn=-1,ze;for(dr.heap_len=0,dr.heap_max=Je,Ze=0;Ze<Or;Ze++)vn[Ze*2]!==0?(dr.heap[++dr.heap_len]=Mn=Ze,dr.depth[Ze]=0):vn[Ze*2+1]=0;for(;dr.heap_len<2;)ze=dr.heap[++dr.heap_len]=Mn<2?++Mn:0,vn[ze*2]=1,dr.depth[ze]=0,dr.opt_len--,wr&&(dr.static_len-=Sn[ze*2+1]);for(An.max_code=Mn,Ze=dr.heap_len>>1;Ze>=1;Ze--)bn(dr,vn,Ze);ze=Or;do Ze=dr.heap[1],dr.heap[1]=dr.heap[dr.heap_len--],bn(dr,vn,1),Jr=dr.heap[1],dr.heap[--dr.heap_max]=Ze,dr.heap[--dr.heap_max]=Jr,vn[ze*2]=vn[Ze*2]+vn[Jr*2],dr.depth[ze]=(dr.depth[Ze]>=dr.depth[Jr]?dr.depth[Ze]:dr.depth[Jr])+1,vn[Ze*2+1]=vn[Jr*2+1]=ze,dr.heap[1]=ze++,bn(dr,vn,1);while(dr.heap_len>=2);dr.heap[--dr.heap_max]=dr.heap[1],mn(dr,An),gn(vn,Mn,dr.bl_count)}function Bn(dr,An,vn){var Sn,wr=-1,Or,Ze=An[1],Jr=0,Mn=7,ze=4;for(Ze===0&&(Mn=138,ze=3),An[(vn+1)*2+1]=65535,Sn=0;Sn<=vn;Sn++)Or=Ze,Ze=An[(Sn+1)*2+1],!(++Jr<Mn&&Or===Ze)&&(Jr<ze?dr.bl_tree[Or*2]+=Jr:Or!==0?(Or!==wr&&dr.bl_tree[Or*2]++,dr.bl_tree[ur*2]++):Jr<=10?dr.bl_tree[fr*2]++:dr.bl_tree[er*2]++,Jr=0,wr=Or,Ze===0?(Mn=138,ze=3):Or===Ze?(Mn=6,ze=3):(Mn=7,ze=4))}function Pn(dr,An,vn){var Sn,wr=-1,Or,Ze=An[1],Jr=0,Mn=7,ze=4;for(Ze===0&&(Mn=138,ze=3),Sn=0;Sn<=vn;Sn++)if(Or=Ze,Ze=An[(Sn+1)*2+1],!(++Jr<Mn&&Or===Ze)){if(Jr<ze)do Qr(dr,Or,dr.bl_tree);while(--Jr!==0);else Or!==0?(Or!==wr&&(Qr(dr,Or,dr.bl_tree),Jr--),Qr(dr,ur,dr.bl_tree),Ir(dr,Jr-3,2)):Jr<=10?(Qr(dr,fr,dr.bl_tree),Ir(dr,Jr-3,3)):(Qr(dr,er,dr.bl_tree),Ir(dr,Jr-11,7));Jr=0,wr=Or,Ze===0?(Mn=138,ze=3):Or===Ze?(Mn=6,ze=3):(Mn=7,ze=4)}}function jn(dr){var An;for(Bn(dr,dr.dyn_ltree,dr.l_desc.max_code),Bn(dr,dr.dyn_dtree,dr.d_desc.max_code),$r(dr,dr.bl_desc),An=tr-1;An>=3&&dr.bl_tree[$e[An]*2+1]===0;An--);return dr.opt_len+=3*(An+1)+5+5+4,An}function Kn(dr,An,vn,Sn){var wr;for(Ir(dr,An-257,5),Ir(dr,vn-1,5),Ir(dr,Sn-4,4),wr=0;wr<Sn;wr++)Ir(dr,dr.bl_tree[$e[wr]*2+1],3);Pn(dr,dr.dyn_ltree,An-1),Pn(dr,dr.dyn_dtree,vn-1)}function Xn(dr){var An=4093624447,vn;for(vn=0;vn<=31;vn++,An>>>=1)if(An&1&&dr.dyn_ltree[vn*2]!==0)return n;if(dr.dyn_ltree[18]!==0||dr.dyn_ltree[20]!==0||dr.dyn_ltree[26]!==0)return Ce;for(vn=32;vn<Ge;vn++)if(dr.dyn_ltree[vn*2]!==0)return Ce;return n}var In=!1;function $n(dr){In||(fn(),In=!0),dr.l_desc=new gr(dr.dyn_ltree,Br),dr.d_desc=new gr(dr.dyn_dtree,Mr),dr.bl_desc=new gr(dr.bl_tree,_r),dr.bi_buf=0,dr.bi_valid=0,Fn(dr)}function Yn(dr,An,vn,Sn){Ir(dr,(Be<<1)+(Sn?1:0),3),Yr(dr,An,vn)}function si(dr){Ir(dr,Ue<<1,3),Qr(dr,hr,or),Wr(dr)}function ai(dr,An,vn,Sn){var wr,Or,Ze=0;dr.level>0?(dr.strm.data_type===Te&&(dr.strm.data_type=Xn(dr)),$r(dr,dr.l_desc),$r(dr,dr.d_desc),Ze=jn(dr),wr=dr.opt_len+3+7>>>3,Or=dr.static_len+3+7>>>3,Or<=wr&&(wr=Or)):wr=Or=vn+5,vn+4<=wr&&An!==-1?Yn(dr,An,vn,Sn):dr.strategy===t||Or===wr?(Ir(dr,(Ue<<1)+(Sn?1:0),3),zr(dr,or,Tr)):(Ir(dr,(Oe<<1)+(Sn?1:0),3),Kn(dr,dr.l_desc.max_code+1,dr.d_desc.max_code+1,Ze+1),zr(dr,dr.dyn_ltree,dr.dyn_dtree)),Fn(dr),Sn&&wn(dr)}function Ci(dr,An,vn){return dr.pending_buf[dr.d_buf+dr.last_lit*2]=An>>>8&255,dr.pending_buf[dr.d_buf+dr.last_lit*2+1]=An&255,dr.pending_buf[dr.l_buf+dr.last_lit]=vn&255,dr.last_lit++,An===0?dr.dyn_ltree[vn*2]++:(dr.matches++,An--,dr.dyn_ltree[(Fr[vn]+Ge+1)*2]++,dr.dyn_dtree[yr(An)*2]++),dr.last_lit===dr.lit_bufsize-1}return trees$2._tr_init=$n,trees$2._tr_stored_block=Yn,trees$2._tr_flush_block=ai,trees$2._tr_tally=Ci,trees$2._tr_align=si,trees$2}var adler32_1$2,hasRequiredAdler32$2;function requireAdler32$2(){if(hasRequiredAdler32$2)return adler32_1$2;hasRequiredAdler32$2=1;function Ee(t,n,Ce,Te){for(var Re=t&65535|0,Be=t>>>16&65535|0,Ue=0;Ce!==0;){Ue=Ce>2e3?2e3:Ce,Ce-=Ue;do Re=Re+n[Te++]|0,Be=Be+Re|0;while(--Ue);Re%=65521,Be%=65521}return Re|Be<<16|0}return adler32_1$2=Ee,adler32_1$2}var crc32_1$2,hasRequiredCrc32$2;function requireCrc32$2(){if(hasRequiredCrc32$2)return crc32_1$2;hasRequiredCrc32$2=1;function Ee(){for(var Ce,Te=[],Re=0;Re<256;Re++){Ce=Re;for(var Be=0;Be<8;Be++)Ce=Ce&1?3988292384^Ce>>>1:Ce>>>1;Te[Re]=Ce}return Te}var t=Ee();function n(Ce,Te,Re,Be){var Ue=t,Oe=Be+Re;Ce^=-1;for(var Me=Be;Me<Oe;Me++)Ce=Ce>>>8^Ue[(Ce^Te[Me])&255];return Ce^-1}return crc32_1$2=n,crc32_1$2}var messages$2,hasRequiredMessages$2;function requireMessages$2(){return hasRequiredMessages$2||(hasRequiredMessages$2=1,messages$2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),messages$2}var hasRequiredDeflate$5;function requireDeflate$5(){if(hasRequiredDeflate$5)return deflate$4;hasRequiredDeflate$5=1;var Ee=requireCommon$2(),t=requireTrees$2(),n=requireAdler32$2(),Ce=requireCrc32$2(),Te=requireMessages$2(),Re=0,Be=1,Ue=3,Oe=4,Me=5,Qe=0,Ke=1,Ge=-2,qe=-3,Xe=-5,tr=-1,Je=1,Ye=2,lr=3,cr=4,hr=0,ur=2,fr=8,er=9,nr=15,ir=8,mr=29,$e=256,Ar=$e+1+mr,or=30,Tr=19,Ur=2*Ar+1,Fr=15,Er=3,jr=258,Nr=jr+Er+1,Br=32,Mr=42,_r=69,gr=73,yr=91,Rr=103,Ir=113,Qr=666,Vr=1,Wr=2,mn=3,gn=4,fn=3;function Fn(ze,Cr){return ze.msg=Te[Cr],Cr}function wn(ze){return(ze<<1)-(ze>4?9:0)}function Yr(ze){for(var Cr=ze.length;--Cr>=0;)ze[Cr]=0}function Rn(ze){var Cr=ze.state,kr=Cr.pending;kr>ze.avail_out&&(kr=ze.avail_out),kr!==0&&(Ee.arraySet(ze.output,Cr.pending_buf,Cr.pending_out,kr,ze.next_out),ze.next_out+=kr,Cr.pending_out+=kr,ze.total_out+=kr,ze.avail_out-=kr,Cr.pending-=kr,Cr.pending===0&&(Cr.pending_out=0))}function bn(ze,Cr){t._tr_flush_block(ze,ze.block_start>=0?ze.block_start:-1,ze.strstart-ze.block_start,Cr),ze.block_start=ze.strstart,Rn(ze.strm)}function zr(ze,Cr){ze.pending_buf[ze.pending++]=Cr}function $r(ze,Cr){ze.pending_buf[ze.pending++]=Cr>>>8&255,ze.pending_buf[ze.pending++]=Cr&255}function Bn(ze,Cr,kr,rr){var xr=ze.avail_in;return xr>rr&&(xr=rr),xr===0?0:(ze.avail_in-=xr,Ee.arraySet(Cr,ze.input,ze.next_in,xr,kr),ze.state.wrap===1?ze.adler=n(ze.adler,Cr,xr,kr):ze.state.wrap===2&&(ze.adler=Ce(ze.adler,Cr,xr,kr)),ze.next_in+=xr,ze.total_in+=xr,xr)}function Pn(ze,Cr){var kr=ze.max_chain_length,rr=ze.strstart,xr,Kr,Dn=ze.prev_length,Gr=ze.nice_match,Hr=ze.strstart>ze.w_size-Nr?ze.strstart-(ze.w_size-Nr):0,dn=ze.window,Qn=ze.w_mask,kn=ze.prev,On=ze.strstart+jr,zn=dn[rr+Dn-1],hi=dn[rr+Dn];ze.prev_length>=ze.good_match&&(kr>>=2),Gr>ze.lookahead&&(Gr=ze.lookahead);do if(xr=Cr,!(dn[xr+Dn]!==hi||dn[xr+Dn-1]!==zn||dn[xr]!==dn[rr]||dn[++xr]!==dn[rr+1])){rr+=2,xr++;do;while(dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&rr<On);if(Kr=jr-(On-rr),rr=On-jr,Kr>Dn){if(ze.match_start=Cr,Dn=Kr,Kr>=Gr)break;zn=dn[rr+Dn-1],hi=dn[rr+Dn]}}while((Cr=kn[Cr&Qn])>Hr&&--kr!==0);return Dn<=ze.lookahead?Dn:ze.lookahead}function jn(ze){var Cr=ze.w_size,kr,rr,xr,Kr,Dn;do{if(Kr=ze.window_size-ze.lookahead-ze.strstart,ze.strstart>=Cr+(Cr-Nr)){Ee.arraySet(ze.window,ze.window,Cr,Cr,0),ze.match_start-=Cr,ze.strstart-=Cr,ze.block_start-=Cr,rr=ze.hash_size,kr=rr;do xr=ze.head[--kr],ze.head[kr]=xr>=Cr?xr-Cr:0;while(--rr);rr=Cr,kr=rr;do xr=ze.prev[--kr],ze.prev[kr]=xr>=Cr?xr-Cr:0;while(--rr);Kr+=Cr}if(ze.strm.avail_in===0)break;if(rr=Bn(ze.strm,ze.window,ze.strstart+ze.lookahead,Kr),ze.lookahead+=rr,ze.lookahead+ze.insert>=Er)for(Dn=ze.strstart-ze.insert,ze.ins_h=ze.window[Dn],ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[Dn+1])&ze.hash_mask;ze.insert&&(ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[Dn+Er-1])&ze.hash_mask,ze.prev[Dn&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=Dn,Dn++,ze.insert--,!(ze.lookahead+ze.insert<Er)););}while(ze.lookahead<Nr&&ze.strm.avail_in!==0)}function Kn(ze,Cr){var kr=65535;for(kr>ze.pending_buf_size-5&&(kr=ze.pending_buf_size-5);;){if(ze.lookahead<=1){if(jn(ze),ze.lookahead===0&&Cr===Re)return Vr;if(ze.lookahead===0)break}ze.strstart+=ze.lookahead,ze.lookahead=0;var rr=ze.block_start+kr;if((ze.strstart===0||ze.strstart>=rr)&&(ze.lookahead=ze.strstart-rr,ze.strstart=rr,bn(ze,!1),ze.strm.avail_out===0)||ze.strstart-ze.block_start>=ze.w_size-Nr&&(bn(ze,!1),ze.strm.avail_out===0))return Vr}return ze.insert=0,Cr===Oe?(bn(ze,!0),ze.strm.avail_out===0?mn:gn):(ze.strstart>ze.block_start&&(bn(ze,!1),ze.strm.avail_out===0),Vr)}function Xn(ze,Cr){for(var kr,rr;;){if(ze.lookahead<Nr){if(jn(ze),ze.lookahead<Nr&&Cr===Re)return Vr;if(ze.lookahead===0)break}if(kr=0,ze.lookahead>=Er&&(ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[ze.strstart+Er-1])&ze.hash_mask,kr=ze.prev[ze.strstart&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=ze.strstart),kr!==0&&ze.strstart-kr<=ze.w_size-Nr&&(ze.match_length=Pn(ze,kr)),ze.match_length>=Er)if(rr=t._tr_tally(ze,ze.strstart-ze.match_start,ze.match_length-Er),ze.lookahead-=ze.match_length,ze.match_length<=ze.max_lazy_match&&ze.lookahead>=Er){ze.match_length--;do ze.strstart++,ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[ze.strstart+Er-1])&ze.hash_mask,kr=ze.prev[ze.strstart&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=ze.strstart;while(--ze.match_length!==0);ze.strstart++}else ze.strstart+=ze.match_length,ze.match_length=0,ze.ins_h=ze.window[ze.strstart],ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[ze.strstart+1])&ze.hash_mask;else rr=t._tr_tally(ze,0,ze.window[ze.strstart]),ze.lookahead--,ze.strstart++;if(rr&&(bn(ze,!1),ze.strm.avail_out===0))return Vr}return ze.insert=ze.strstart<Er-1?ze.strstart:Er-1,Cr===Oe?(bn(ze,!0),ze.strm.avail_out===0?mn:gn):ze.last_lit&&(bn(ze,!1),ze.strm.avail_out===0)?Vr:Wr}function In(ze,Cr){for(var kr,rr,xr;;){if(ze.lookahead<Nr){if(jn(ze),ze.lookahead<Nr&&Cr===Re)return Vr;if(ze.lookahead===0)break}if(kr=0,ze.lookahead>=Er&&(ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[ze.strstart+Er-1])&ze.hash_mask,kr=ze.prev[ze.strstart&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=ze.strstart),ze.prev_length=ze.match_length,ze.prev_match=ze.match_start,ze.match_length=Er-1,kr!==0&&ze.prev_length<ze.max_lazy_match&&ze.strstart-kr<=ze.w_size-Nr&&(ze.match_length=Pn(ze,kr),ze.match_length<=5&&(ze.strategy===Je||ze.match_length===Er&&ze.strstart-ze.match_start>4096)&&(ze.match_length=Er-1)),ze.prev_length>=Er&&ze.match_length<=ze.prev_length){xr=ze.strstart+ze.lookahead-Er,rr=t._tr_tally(ze,ze.strstart-1-ze.prev_match,ze.prev_length-Er),ze.lookahead-=ze.prev_length-1,ze.prev_length-=2;do++ze.strstart<=xr&&(ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[ze.strstart+Er-1])&ze.hash_mask,kr=ze.prev[ze.strstart&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=ze.strstart);while(--ze.prev_length!==0);if(ze.match_available=0,ze.match_length=Er-1,ze.strstart++,rr&&(bn(ze,!1),ze.strm.avail_out===0))return Vr}else if(ze.match_available){if(rr=t._tr_tally(ze,0,ze.window[ze.strstart-1]),rr&&bn(ze,!1),ze.strstart++,ze.lookahead--,ze.strm.avail_out===0)return Vr}else ze.match_available=1,ze.strstart++,ze.lookahead--}return ze.match_available&&(rr=t._tr_tally(ze,0,ze.window[ze.strstart-1]),ze.match_available=0),ze.insert=ze.strstart<Er-1?ze.strstart:Er-1,Cr===Oe?(bn(ze,!0),ze.strm.avail_out===0?mn:gn):ze.last_lit&&(bn(ze,!1),ze.strm.avail_out===0)?Vr:Wr}function $n(ze,Cr){for(var kr,rr,xr,Kr,Dn=ze.window;;){if(ze.lookahead<=jr){if(jn(ze),ze.lookahead<=jr&&Cr===Re)return Vr;if(ze.lookahead===0)break}if(ze.match_length=0,ze.lookahead>=Er&&ze.strstart>0&&(xr=ze.strstart-1,rr=Dn[xr],rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr])){Kr=ze.strstart+jr;do;while(rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr]&&xr<Kr);ze.match_length=jr-(Kr-xr),ze.match_length>ze.lookahead&&(ze.match_length=ze.lookahead)}if(ze.match_length>=Er?(kr=t._tr_tally(ze,1,ze.match_length-Er),ze.lookahead-=ze.match_length,ze.strstart+=ze.match_length,ze.match_length=0):(kr=t._tr_tally(ze,0,ze.window[ze.strstart]),ze.lookahead--,ze.strstart++),kr&&(bn(ze,!1),ze.strm.avail_out===0))return Vr}return ze.insert=0,Cr===Oe?(bn(ze,!0),ze.strm.avail_out===0?mn:gn):ze.last_lit&&(bn(ze,!1),ze.strm.avail_out===0)?Vr:Wr}function Yn(ze,Cr){for(var kr;;){if(ze.lookahead===0&&(jn(ze),ze.lookahead===0)){if(Cr===Re)return Vr;break}if(ze.match_length=0,kr=t._tr_tally(ze,0,ze.window[ze.strstart]),ze.lookahead--,ze.strstart++,kr&&(bn(ze,!1),ze.strm.avail_out===0))return Vr}return ze.insert=0,Cr===Oe?(bn(ze,!0),ze.strm.avail_out===0?mn:gn):ze.last_lit&&(bn(ze,!1),ze.strm.avail_out===0)?Vr:Wr}function si(ze,Cr,kr,rr,xr){this.good_length=ze,this.max_lazy=Cr,this.nice_length=kr,this.max_chain=rr,this.func=xr}var ai;ai=[new si(0,0,0,0,Kn),new si(4,4,8,4,Xn),new si(4,5,16,8,Xn),new si(4,6,32,32,Xn),new si(4,4,16,16,In),new si(8,16,32,32,In),new si(8,16,128,128,In),new si(8,32,128,256,In),new si(32,128,258,1024,In),new si(32,258,258,4096,In)];function Ci(ze){ze.window_size=2*ze.w_size,Yr(ze.head),ze.max_lazy_match=ai[ze.level].max_lazy,ze.good_match=ai[ze.level].good_length,ze.nice_match=ai[ze.level].nice_length,ze.max_chain_length=ai[ze.level].max_chain,ze.strstart=0,ze.block_start=0,ze.lookahead=0,ze.insert=0,ze.match_length=ze.prev_length=Er-1,ze.match_available=0,ze.ins_h=0}function dr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=fr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Ee.Buf16(Ur*2),this.dyn_dtree=new Ee.Buf16((2*or+1)*2),this.bl_tree=new Ee.Buf16((2*Tr+1)*2),Yr(this.dyn_ltree),Yr(this.dyn_dtree),Yr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Ee.Buf16(Fr+1),this.heap=new Ee.Buf16(2*Ar+1),Yr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Ee.Buf16(2*Ar+1),Yr(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function An(ze){var Cr;return!ze||!ze.state?Fn(ze,Ge):(ze.total_in=ze.total_out=0,ze.data_type=ur,Cr=ze.state,Cr.pending=0,Cr.pending_out=0,Cr.wrap<0&&(Cr.wrap=-Cr.wrap),Cr.status=Cr.wrap?Mr:Ir,ze.adler=Cr.wrap===2?0:1,Cr.last_flush=Re,t._tr_init(Cr),Qe)}function vn(ze){var Cr=An(ze);return Cr===Qe&&Ci(ze.state),Cr}function Sn(ze,Cr){return!ze||!ze.state||ze.state.wrap!==2?Ge:(ze.state.gzhead=Cr,Qe)}function wr(ze,Cr,kr,rr,xr,Kr){if(!ze)return Ge;var Dn=1;if(Cr===tr&&(Cr=6),rr<0?(Dn=0,rr=-rr):rr>15&&(Dn=2,rr-=16),xr<1||xr>er||kr!==fr||rr<8||rr>15||Cr<0||Cr>9||Kr<0||Kr>cr)return Fn(ze,Ge);rr===8&&(rr=9);var Gr=new dr;return ze.state=Gr,Gr.strm=ze,Gr.wrap=Dn,Gr.gzhead=null,Gr.w_bits=rr,Gr.w_size=1<<Gr.w_bits,Gr.w_mask=Gr.w_size-1,Gr.hash_bits=xr+7,Gr.hash_size=1<<Gr.hash_bits,Gr.hash_mask=Gr.hash_size-1,Gr.hash_shift=~~((Gr.hash_bits+Er-1)/Er),Gr.window=new Ee.Buf8(Gr.w_size*2),Gr.head=new Ee.Buf16(Gr.hash_size),Gr.prev=new Ee.Buf16(Gr.w_size),Gr.lit_bufsize=1<<xr+6,Gr.pending_buf_size=Gr.lit_bufsize*4,Gr.pending_buf=new Ee.Buf8(Gr.pending_buf_size),Gr.d_buf=1*Gr.lit_bufsize,Gr.l_buf=3*Gr.lit_bufsize,Gr.level=Cr,Gr.strategy=Kr,Gr.method=kr,vn(ze)}function Or(ze,Cr){return wr(ze,Cr,fr,nr,ir,hr)}function Ze(ze,Cr){var kr,rr,xr,Kr;if(!ze||!ze.state||Cr>Me||Cr<0)return ze?Fn(ze,Ge):Ge;if(rr=ze.state,!ze.output||!ze.input&&ze.avail_in!==0||rr.status===Qr&&Cr!==Oe)return Fn(ze,ze.avail_out===0?Xe:Ge);if(rr.strm=ze,kr=rr.last_flush,rr.last_flush=Cr,rr.status===Mr)if(rr.wrap===2)ze.adler=0,zr(rr,31),zr(rr,139),zr(rr,8),rr.gzhead?(zr(rr,(rr.gzhead.text?1:0)+(rr.gzhead.hcrc?2:0)+(rr.gzhead.extra?4:0)+(rr.gzhead.name?8:0)+(rr.gzhead.comment?16:0)),zr(rr,rr.gzhead.time&255),zr(rr,rr.gzhead.time>>8&255),zr(rr,rr.gzhead.time>>16&255),zr(rr,rr.gzhead.time>>24&255),zr(rr,rr.level===9?2:rr.strategy>=Ye||rr.level<2?4:0),zr(rr,rr.gzhead.os&255),rr.gzhead.extra&&rr.gzhead.extra.length&&(zr(rr,rr.gzhead.extra.length&255),zr(rr,rr.gzhead.extra.length>>8&255)),rr.gzhead.hcrc&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending,0)),rr.gzindex=0,rr.status=_r):(zr(rr,0),zr(rr,0),zr(rr,0),zr(rr,0),zr(rr,0),zr(rr,rr.level===9?2:rr.strategy>=Ye||rr.level<2?4:0),zr(rr,fn),rr.status=Ir);else{var Dn=fr+(rr.w_bits-8<<4)<<8,Gr=-1;rr.strategy>=Ye||rr.level<2?Gr=0:rr.level<6?Gr=1:rr.level===6?Gr=2:Gr=3,Dn|=Gr<<6,rr.strstart!==0&&(Dn|=Br),Dn+=31-Dn%31,rr.status=Ir,$r(rr,Dn),rr.strstart!==0&&($r(rr,ze.adler>>>16),$r(rr,ze.adler&65535)),ze.adler=1}if(rr.status===_r)if(rr.gzhead.extra){for(xr=rr.pending;rr.gzindex<(rr.gzhead.extra.length&65535)&&!(rr.pending===rr.pending_buf_size&&(rr.gzhead.hcrc&&rr.pending>xr&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending-xr,xr)),Rn(ze),xr=rr.pending,rr.pending===rr.pending_buf_size));)zr(rr,rr.gzhead.extra[rr.gzindex]&255),rr.gzindex++;rr.gzhead.hcrc&&rr.pending>xr&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending-xr,xr)),rr.gzindex===rr.gzhead.extra.length&&(rr.gzindex=0,rr.status=gr)}else rr.status=gr;if(rr.status===gr)if(rr.gzhead.name){xr=rr.pending;do{if(rr.pending===rr.pending_buf_size&&(rr.gzhead.hcrc&&rr.pending>xr&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending-xr,xr)),Rn(ze),xr=rr.pending,rr.pending===rr.pending_buf_size)){Kr=1;break}rr.gzindex<rr.gzhead.name.length?Kr=rr.gzhead.name.charCodeAt(rr.gzindex++)&255:Kr=0,zr(rr,Kr)}while(Kr!==0);rr.gzhead.hcrc&&rr.pending>xr&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending-xr,xr)),Kr===0&&(rr.gzindex=0,rr.status=yr)}else rr.status=yr;if(rr.status===yr)if(rr.gzhead.comment){xr=rr.pending;do{if(rr.pending===rr.pending_buf_size&&(rr.gzhead.hcrc&&rr.pending>xr&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending-xr,xr)),Rn(ze),xr=rr.pending,rr.pending===rr.pending_buf_size)){Kr=1;break}rr.gzindex<rr.gzhead.comment.length?Kr=rr.gzhead.comment.charCodeAt(rr.gzindex++)&255:Kr=0,zr(rr,Kr)}while(Kr!==0);rr.gzhead.hcrc&&rr.pending>xr&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending-xr,xr)),Kr===0&&(rr.status=Rr)}else rr.status=Rr;if(rr.status===Rr&&(rr.gzhead.hcrc?(rr.pending+2>rr.pending_buf_size&&Rn(ze),rr.pending+2<=rr.pending_buf_size&&(zr(rr,ze.adler&255),zr(rr,ze.adler>>8&255),ze.adler=0,rr.status=Ir)):rr.status=Ir),rr.pending!==0){if(Rn(ze),ze.avail_out===0)return rr.last_flush=-1,Qe}else if(ze.avail_in===0&&wn(Cr)<=wn(kr)&&Cr!==Oe)return Fn(ze,Xe);if(rr.status===Qr&&ze.avail_in!==0)return Fn(ze,Xe);if(ze.avail_in!==0||rr.lookahead!==0||Cr!==Re&&rr.status!==Qr){var Hr=rr.strategy===Ye?Yn(rr,Cr):rr.strategy===lr?$n(rr,Cr):ai[rr.level].func(rr,Cr);if((Hr===mn||Hr===gn)&&(rr.status=Qr),Hr===Vr||Hr===mn)return ze.avail_out===0&&(rr.last_flush=-1),Qe;if(Hr===Wr&&(Cr===Be?t._tr_align(rr):Cr!==Me&&(t._tr_stored_block(rr,0,0,!1),Cr===Ue&&(Yr(rr.head),rr.lookahead===0&&(rr.strstart=0,rr.block_start=0,rr.insert=0))),Rn(ze),ze.avail_out===0))return rr.last_flush=-1,Qe}return Cr!==Oe?Qe:rr.wrap<=0?Ke:(rr.wrap===2?(zr(rr,ze.adler&255),zr(rr,ze.adler>>8&255),zr(rr,ze.adler>>16&255),zr(rr,ze.adler>>24&255),zr(rr,ze.total_in&255),zr(rr,ze.total_in>>8&255),zr(rr,ze.total_in>>16&255),zr(rr,ze.total_in>>24&255)):($r(rr,ze.adler>>>16),$r(rr,ze.adler&65535)),Rn(ze),rr.wrap>0&&(rr.wrap=-rr.wrap),rr.pending!==0?Qe:Ke)}function Jr(ze){var Cr;return!ze||!ze.state?Ge:(Cr=ze.state.status,Cr!==Mr&&Cr!==_r&&Cr!==gr&&Cr!==yr&&Cr!==Rr&&Cr!==Ir&&Cr!==Qr?Fn(ze,Ge):(ze.state=null,Cr===Ir?Fn(ze,qe):Qe))}function Mn(ze,Cr){var kr=Cr.length,rr,xr,Kr,Dn,Gr,Hr,dn,Qn;if(!ze||!ze.state||(rr=ze.state,Dn=rr.wrap,Dn===2||Dn===1&&rr.status!==Mr||rr.lookahead))return Ge;for(Dn===1&&(ze.adler=n(ze.adler,Cr,kr,0)),rr.wrap=0,kr>=rr.w_size&&(Dn===0&&(Yr(rr.head),rr.strstart=0,rr.block_start=0,rr.insert=0),Qn=new Ee.Buf8(rr.w_size),Ee.arraySet(Qn,Cr,kr-rr.w_size,rr.w_size,0),Cr=Qn,kr=rr.w_size),Gr=ze.avail_in,Hr=ze.next_in,dn=ze.input,ze.avail_in=kr,ze.next_in=0,ze.input=Cr,jn(rr);rr.lookahead>=Er;){xr=rr.strstart,Kr=rr.lookahead-(Er-1);do rr.ins_h=(rr.ins_h<<rr.hash_shift^rr.window[xr+Er-1])&rr.hash_mask,rr.prev[xr&rr.w_mask]=rr.head[rr.ins_h],rr.head[rr.ins_h]=xr,xr++;while(--Kr);rr.strstart=xr,rr.lookahead=Er-1,jn(rr)}return rr.strstart+=rr.lookahead,rr.block_start=rr.strstart,rr.insert=rr.lookahead,rr.lookahead=0,rr.match_length=rr.prev_length=Er-1,rr.match_available=0,ze.next_in=Hr,ze.input=dn,ze.avail_in=Gr,rr.wrap=Dn,Qe}return deflate$4.deflateInit=Or,deflate$4.deflateInit2=wr,deflate$4.deflateReset=vn,deflate$4.deflateResetKeep=An,deflate$4.deflateSetHeader=Sn,deflate$4.deflate=Ze,deflate$4.deflateEnd=Jr,deflate$4.deflateSetDictionary=Mn,deflate$4.deflateInfo="pako deflate (from Nodeca project)",deflate$4}var strings$2={},hasRequiredStrings$2;function requireStrings$2(){if(hasRequiredStrings$2)return strings$2;hasRequiredStrings$2=1;var Ee=requireCommon$2(),t=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch{t=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}for(var Ce=new Ee.Buf8(256),Te=0;Te<256;Te++)Ce[Te]=Te>=252?6:Te>=248?5:Te>=240?4:Te>=224?3:Te>=192?2:1;Ce[254]=Ce[254]=1,strings$2.string2buf=function(Be){var Ue,Oe,Me,Qe,Ke,Ge=Be.length,qe=0;for(Qe=0;Qe<Ge;Qe++)Oe=Be.charCodeAt(Qe),(Oe&64512)===55296&&Qe+1<Ge&&(Me=Be.charCodeAt(Qe+1),(Me&64512)===56320&&(Oe=65536+(Oe-55296<<10)+(Me-56320),Qe++)),qe+=Oe<128?1:Oe<2048?2:Oe<65536?3:4;for(Ue=new Ee.Buf8(qe),Ke=0,Qe=0;Ke<qe;Qe++)Oe=Be.charCodeAt(Qe),(Oe&64512)===55296&&Qe+1<Ge&&(Me=Be.charCodeAt(Qe+1),(Me&64512)===56320&&(Oe=65536+(Oe-55296<<10)+(Me-56320),Qe++)),Oe<128?Ue[Ke++]=Oe:Oe<2048?(Ue[Ke++]=192|Oe>>>6,Ue[Ke++]=128|Oe&63):Oe<65536?(Ue[Ke++]=224|Oe>>>12,Ue[Ke++]=128|Oe>>>6&63,Ue[Ke++]=128|Oe&63):(Ue[Ke++]=240|Oe>>>18,Ue[Ke++]=128|Oe>>>12&63,Ue[Ke++]=128|Oe>>>6&63,Ue[Ke++]=128|Oe&63);return Ue};function Re(Be,Ue){if(Ue<65534&&(Be.subarray&&n||!Be.subarray&&t))return String.fromCharCode.apply(null,Ee.shrinkBuf(Be,Ue));for(var Oe="",Me=0;Me<Ue;Me++)Oe+=String.fromCharCode(Be[Me]);return Oe}return strings$2.buf2binstring=function(Be){return Re(Be,Be.length)},strings$2.binstring2buf=function(Be){for(var Ue=new Ee.Buf8(Be.length),Oe=0,Me=Ue.length;Oe<Me;Oe++)Ue[Oe]=Be.charCodeAt(Oe);return Ue},strings$2.buf2string=function(Be,Ue){var Oe,Me,Qe,Ke,Ge=Ue||Be.length,qe=new Array(Ge*2);for(Me=0,Oe=0;Oe<Ge;){if(Qe=Be[Oe++],Qe<128){qe[Me++]=Qe;continue}if(Ke=Ce[Qe],Ke>4){qe[Me++]=65533,Oe+=Ke-1;continue}for(Qe&=Ke===2?31:Ke===3?15:7;Ke>1&&Oe<Ge;)Qe=Qe<<6|Be[Oe++]&63,Ke--;if(Ke>1){qe[Me++]=65533;continue}Qe<65536?qe[Me++]=Qe:(Qe-=65536,qe[Me++]=55296|Qe>>10&1023,qe[Me++]=56320|Qe&1023)}return Re(qe,Me)},strings$2.utf8border=function(Be,Ue){var Oe;for(Ue=Ue||Be.length,Ue>Be.length&&(Ue=Be.length),Oe=Ue-1;Oe>=0&&(Be[Oe]&192)===128;)Oe--;return Oe<0||Oe===0?Ue:Oe+Ce[Be[Oe]]>Ue?Oe:Ue},strings$2}var zstream$2,hasRequiredZstream$2;function requireZstream$2(){if(hasRequiredZstream$2)return zstream$2;hasRequiredZstream$2=1;function Ee(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return zstream$2=Ee,zstream$2}var hasRequiredDeflate$4;function requireDeflate$4(){if(hasRequiredDeflate$4)return deflate$5;hasRequiredDeflate$4=1;var Ee=requireDeflate$5(),t=requireCommon$2(),n=requireStrings$2(),Ce=requireMessages$2(),Te=requireZstream$2(),Re=Object.prototype.toString,Be=0,Ue=4,Oe=0,Me=1,Qe=2,Ke=-1,Ge=0,qe=8;function Xe(lr){if(!(this instanceof Xe))return new Xe(lr);this.options=t.assign({level:Ke,method:qe,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ge,to:""},lr||{});var cr=this.options;cr.raw&&cr.windowBits>0?cr.windowBits=-cr.windowBits:cr.gzip&&cr.windowBits>0&&cr.windowBits<16&&(cr.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Te,this.strm.avail_out=0;var hr=Ee.deflateInit2(this.strm,cr.level,cr.method,cr.windowBits,cr.memLevel,cr.strategy);if(hr!==Oe)throw new Error(Ce[hr]);if(cr.header&&Ee.deflateSetHeader(this.strm,cr.header),cr.dictionary){var ur;if(typeof cr.dictionary=="string"?ur=n.string2buf(cr.dictionary):Re.call(cr.dictionary)==="[object ArrayBuffer]"?ur=new Uint8Array(cr.dictionary):ur=cr.dictionary,hr=Ee.deflateSetDictionary(this.strm,ur),hr!==Oe)throw new Error(Ce[hr]);this._dict_set=!0}}Xe.prototype.push=function(lr,cr){var hr=this.strm,ur=this.options.chunkSize,fr,er;if(this.ended)return!1;er=cr===~~cr?cr:cr===!0?Ue:Be,typeof lr=="string"?hr.input=n.string2buf(lr):Re.call(lr)==="[object ArrayBuffer]"?hr.input=new Uint8Array(lr):hr.input=lr,hr.next_in=0,hr.avail_in=hr.input.length;do{if(hr.avail_out===0&&(hr.output=new t.Buf8(ur),hr.next_out=0,hr.avail_out=ur),fr=Ee.deflate(hr,er),fr!==Me&&fr!==Oe)return this.onEnd(fr),this.ended=!0,!1;(hr.avail_out===0||hr.avail_in===0&&(er===Ue||er===Qe))&&(this.options.to==="string"?this.onData(n.buf2binstring(t.shrinkBuf(hr.output,hr.next_out))):this.onData(t.shrinkBuf(hr.output,hr.next_out)))}while((hr.avail_in>0||hr.avail_out===0)&&fr!==Me);return er===Ue?(fr=Ee.deflateEnd(this.strm),this.onEnd(fr),this.ended=!0,fr===Oe):(er===Qe&&(this.onEnd(Oe),hr.avail_out=0),!0)},Xe.prototype.onData=function(lr){this.chunks.push(lr)},Xe.prototype.onEnd=function(lr){lr===Oe&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=lr,this.msg=this.strm.msg};function tr(lr,cr){var hr=new Xe(cr);if(hr.push(lr,!0),hr.err)throw hr.msg||Ce[hr.err];return hr.result}function Je(lr,cr){return cr=cr||{},cr.raw=!0,tr(lr,cr)}function Ye(lr,cr){return cr=cr||{},cr.gzip=!0,tr(lr,cr)}return deflate$5.Deflate=Xe,deflate$5.deflate=tr,deflate$5.deflateRaw=Je,deflate$5.gzip=Ye,deflate$5}var inflate$5={},inflate$4={},inffast$2,hasRequiredInffast$2;function requireInffast$2(){if(hasRequiredInffast$2)return inffast$2;hasRequiredInffast$2=1;var Ee=30,t=12;return inffast$2=function(Ce,Te){var Re,Be,Ue,Oe,Me,Qe,Ke,Ge,qe,Xe,tr,Je,Ye,lr,cr,hr,ur,fr,er,nr,ir,mr,$e,Ar,or;Re=Ce.state,Be=Ce.next_in,Ar=Ce.input,Ue=Be+(Ce.avail_in-5),Oe=Ce.next_out,or=Ce.output,Me=Oe-(Te-Ce.avail_out),Qe=Oe+(Ce.avail_out-257),Ke=Re.dmax,Ge=Re.wsize,qe=Re.whave,Xe=Re.wnext,tr=Re.window,Je=Re.hold,Ye=Re.bits,lr=Re.lencode,cr=Re.distcode,hr=(1<<Re.lenbits)-1,ur=(1<<Re.distbits)-1;e:do{Ye<15&&(Je+=Ar[Be++]<<Ye,Ye+=8,Je+=Ar[Be++]<<Ye,Ye+=8),fr=lr[Je&hr];t:for(;;){if(er=fr>>>24,Je>>>=er,Ye-=er,er=fr>>>16&255,er===0)or[Oe++]=fr&65535;else if(er&16){nr=fr&65535,er&=15,er&&(Ye<er&&(Je+=Ar[Be++]<<Ye,Ye+=8),nr+=Je&(1<<er)-1,Je>>>=er,Ye-=er),Ye<15&&(Je+=Ar[Be++]<<Ye,Ye+=8,Je+=Ar[Be++]<<Ye,Ye+=8),fr=cr[Je&ur];r:for(;;){if(er=fr>>>24,Je>>>=er,Ye-=er,er=fr>>>16&255,er&16){if(ir=fr&65535,er&=15,Ye<er&&(Je+=Ar[Be++]<<Ye,Ye+=8,Ye<er&&(Je+=Ar[Be++]<<Ye,Ye+=8)),ir+=Je&(1<<er)-1,ir>Ke){Ce.msg="invalid distance too far back",Re.mode=Ee;break e}if(Je>>>=er,Ye-=er,er=Oe-Me,ir>er){if(er=ir-er,er>qe&&Re.sane){Ce.msg="invalid distance too far back",Re.mode=Ee;break e}if(mr=0,$e=tr,Xe===0){if(mr+=Ge-er,er<nr){nr-=er;do or[Oe++]=tr[mr++];while(--er);mr=Oe-ir,$e=or}}else if(Xe<er){if(mr+=Ge+Xe-er,er-=Xe,er<nr){nr-=er;do or[Oe++]=tr[mr++];while(--er);if(mr=0,Xe<nr){er=Xe,nr-=er;do or[Oe++]=tr[mr++];while(--er);mr=Oe-ir,$e=or}}}else if(mr+=Xe-er,er<nr){nr-=er;do or[Oe++]=tr[mr++];while(--er);mr=Oe-ir,$e=or}for(;nr>2;)or[Oe++]=$e[mr++],or[Oe++]=$e[mr++],or[Oe++]=$e[mr++],nr-=3;nr&&(or[Oe++]=$e[mr++],nr>1&&(or[Oe++]=$e[mr++]))}else{mr=Oe-ir;do or[Oe++]=or[mr++],or[Oe++]=or[mr++],or[Oe++]=or[mr++],nr-=3;while(nr>2);nr&&(or[Oe++]=or[mr++],nr>1&&(or[Oe++]=or[mr++]))}}else if((er&64)===0){fr=cr[(fr&65535)+(Je&(1<<er)-1)];continue r}else{Ce.msg="invalid distance code",Re.mode=Ee;break e}break}}else if((er&64)===0){fr=lr[(fr&65535)+(Je&(1<<er)-1)];continue t}else if(er&32){Re.mode=t;break e}else{Ce.msg="invalid literal/length code",Re.mode=Ee;break e}break}}while(Be<Ue&&Oe<Qe);nr=Ye>>3,Be-=nr,Ye-=nr<<3,Je&=(1<<Ye)-1,Ce.next_in=Be,Ce.next_out=Oe,Ce.avail_in=Be<Ue?5+(Ue-Be):5-(Be-Ue),Ce.avail_out=Oe<Qe?257+(Qe-Oe):257-(Oe-Qe),Re.hold=Je,Re.bits=Ye},inffast$2}var inftrees$2,hasRequiredInftrees$2;function requireInftrees$2(){if(hasRequiredInftrees$2)return inftrees$2;hasRequiredInftrees$2=1;var Ee=requireCommon$2(),t=15,n=852,Ce=592,Te=0,Re=1,Be=2,Ue=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Oe=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Me=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Qe=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return inftrees$2=function(Ge,qe,Xe,tr,Je,Ye,lr,cr){var hr=cr.bits,ur=0,fr=0,er=0,nr=0,ir=0,mr=0,$e=0,Ar=0,or=0,Tr=0,Ur,Fr,Er,jr,Nr,Br=null,Mr=0,_r,gr=new Ee.Buf16(t+1),yr=new Ee.Buf16(t+1),Rr=null,Ir=0,Qr,Vr,Wr;for(ur=0;ur<=t;ur++)gr[ur]=0;for(fr=0;fr<tr;fr++)gr[qe[Xe+fr]]++;for(ir=hr,nr=t;nr>=1&&gr[nr]===0;nr--);if(ir>nr&&(ir=nr),nr===0)return Je[Ye++]=1<<24|64<<16|0,Je[Ye++]=1<<24|64<<16|0,cr.bits=1,0;for(er=1;er<nr&&gr[er]===0;er++);for(ir<er&&(ir=er),Ar=1,ur=1;ur<=t;ur++)if(Ar<<=1,Ar-=gr[ur],Ar<0)return-1;if(Ar>0&&(Ge===Te||nr!==1))return-1;for(yr[1]=0,ur=1;ur<t;ur++)yr[ur+1]=yr[ur]+gr[ur];for(fr=0;fr<tr;fr++)qe[Xe+fr]!==0&&(lr[yr[qe[Xe+fr]]++]=fr);if(Ge===Te?(Br=Rr=lr,_r=19):Ge===Re?(Br=Ue,Mr-=257,Rr=Oe,Ir-=257,_r=256):(Br=Me,Rr=Qe,_r=-1),Tr=0,fr=0,ur=er,Nr=Ye,mr=ir,$e=0,Er=-1,or=1<<ir,jr=or-1,Ge===Re&&or>n||Ge===Be&&or>Ce)return 1;for(;;){Qr=ur-$e,lr[fr]<_r?(Vr=0,Wr=lr[fr]):lr[fr]>_r?(Vr=Rr[Ir+lr[fr]],Wr=Br[Mr+lr[fr]]):(Vr=96,Wr=0),Ur=1<<ur-$e,Fr=1<<mr,er=Fr;do Fr-=Ur,Je[Nr+(Tr>>$e)+Fr]=Qr<<24|Vr<<16|Wr|0;while(Fr!==0);for(Ur=1<<ur-1;Tr&Ur;)Ur>>=1;if(Ur!==0?(Tr&=Ur-1,Tr+=Ur):Tr=0,fr++,--gr[ur]===0){if(ur===nr)break;ur=qe[Xe+lr[fr]]}if(ur>ir&&(Tr&jr)!==Er){for($e===0&&($e=ir),Nr+=er,mr=ur-$e,Ar=1<<mr;mr+$e<nr&&(Ar-=gr[mr+$e],!(Ar<=0));)mr++,Ar<<=1;if(or+=1<<mr,Ge===Re&&or>n||Ge===Be&&or>Ce)return 1;Er=Tr&jr,Je[Er]=ir<<24|mr<<16|Nr-Ye|0}}return Tr!==0&&(Je[Nr+Tr]=ur-$e<<24|64<<16|0),cr.bits=ir,0},inftrees$2}var hasRequiredInflate$5;function requireInflate$5(){if(hasRequiredInflate$5)return inflate$4;hasRequiredInflate$5=1;var Ee=requireCommon$2(),t=requireAdler32$2(),n=requireCrc32$2(),Ce=requireInffast$2(),Te=requireInftrees$2(),Re=0,Be=1,Ue=2,Oe=4,Me=5,Qe=6,Ke=0,Ge=1,qe=2,Xe=-2,tr=-3,Je=-4,Ye=-5,lr=8,cr=1,hr=2,ur=3,fr=4,er=5,nr=6,ir=7,mr=8,$e=9,Ar=10,or=11,Tr=12,Ur=13,Fr=14,Er=15,jr=16,Nr=17,Br=18,Mr=19,_r=20,gr=21,yr=22,Rr=23,Ir=24,Qr=25,Vr=26,Wr=27,mn=28,gn=29,fn=30,Fn=31,wn=32,Yr=852,Rn=592,bn=15,zr=bn;function $r(wr){return(wr>>>24&255)+(wr>>>8&65280)+((wr&65280)<<8)+((wr&255)<<24)}function Bn(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ee.Buf16(320),this.work=new Ee.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Pn(wr){var Or;return!wr||!wr.state?Xe:(Or=wr.state,wr.total_in=wr.total_out=Or.total=0,wr.msg="",Or.wrap&&(wr.adler=Or.wrap&1),Or.mode=cr,Or.last=0,Or.havedict=0,Or.dmax=32768,Or.head=null,Or.hold=0,Or.bits=0,Or.lencode=Or.lendyn=new Ee.Buf32(Yr),Or.distcode=Or.distdyn=new Ee.Buf32(Rn),Or.sane=1,Or.back=-1,Ke)}function jn(wr){var Or;return!wr||!wr.state?Xe:(Or=wr.state,Or.wsize=0,Or.whave=0,Or.wnext=0,Pn(wr))}function Kn(wr,Or){var Ze,Jr;return!wr||!wr.state||(Jr=wr.state,Or<0?(Ze=0,Or=-Or):(Ze=(Or>>4)+1,Or<48&&(Or&=15)),Or&&(Or<8||Or>15))?Xe:(Jr.window!==null&&Jr.wbits!==Or&&(Jr.window=null),Jr.wrap=Ze,Jr.wbits=Or,jn(wr))}function Xn(wr,Or){var Ze,Jr;return wr?(Jr=new Bn,wr.state=Jr,Jr.window=null,Ze=Kn(wr,Or),Ze!==Ke&&(wr.state=null),Ze):Xe}function In(wr){return Xn(wr,zr)}var $n=!0,Yn,si;function ai(wr){if($n){var Or;for(Yn=new Ee.Buf32(512),si=new Ee.Buf32(32),Or=0;Or<144;)wr.lens[Or++]=8;for(;Or<256;)wr.lens[Or++]=9;for(;Or<280;)wr.lens[Or++]=7;for(;Or<288;)wr.lens[Or++]=8;for(Te(Be,wr.lens,0,288,Yn,0,wr.work,{bits:9}),Or=0;Or<32;)wr.lens[Or++]=5;Te(Ue,wr.lens,0,32,si,0,wr.work,{bits:5}),$n=!1}wr.lencode=Yn,wr.lenbits=9,wr.distcode=si,wr.distbits=5}function Ci(wr,Or,Ze,Jr){var Mn,ze=wr.state;return ze.window===null&&(ze.wsize=1<<ze.wbits,ze.wnext=0,ze.whave=0,ze.window=new Ee.Buf8(ze.wsize)),Jr>=ze.wsize?(Ee.arraySet(ze.window,Or,Ze-ze.wsize,ze.wsize,0),ze.wnext=0,ze.whave=ze.wsize):(Mn=ze.wsize-ze.wnext,Mn>Jr&&(Mn=Jr),Ee.arraySet(ze.window,Or,Ze-Jr,Mn,ze.wnext),Jr-=Mn,Jr?(Ee.arraySet(ze.window,Or,Ze-Jr,Jr,0),ze.wnext=Jr,ze.whave=ze.wsize):(ze.wnext+=Mn,ze.wnext===ze.wsize&&(ze.wnext=0),ze.whave<ze.wsize&&(ze.whave+=Mn))),0}function dr(wr,Or){var Ze,Jr,Mn,ze,Cr,kr,rr,xr,Kr,Dn,Gr,Hr,dn,Qn,kn=0,On,zn,hi,pi,mi,Ni,ui,yi,_i=new Ee.Buf8(4),Fi,Di,Oi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!wr||!wr.state||!wr.output||!wr.input&&wr.avail_in!==0)return Xe;Ze=wr.state,Ze.mode===Tr&&(Ze.mode=Ur),Cr=wr.next_out,Mn=wr.output,rr=wr.avail_out,ze=wr.next_in,Jr=wr.input,kr=wr.avail_in,xr=Ze.hold,Kr=Ze.bits,Dn=kr,Gr=rr,yi=Ke;e:for(;;)switch(Ze.mode){case cr:if(Ze.wrap===0){Ze.mode=Ur;break}for(;Kr<16;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(Ze.wrap&2&&xr===35615){Ze.check=0,_i[0]=xr&255,_i[1]=xr>>>8&255,Ze.check=n(Ze.check,_i,2,0),xr=0,Kr=0,Ze.mode=hr;break}if(Ze.flags=0,Ze.head&&(Ze.head.done=!1),!(Ze.wrap&1)||(((xr&255)<<8)+(xr>>8))%31){wr.msg="incorrect header check",Ze.mode=fn;break}if((xr&15)!==lr){wr.msg="unknown compression method",Ze.mode=fn;break}if(xr>>>=4,Kr-=4,ui=(xr&15)+8,Ze.wbits===0)Ze.wbits=ui;else if(ui>Ze.wbits){wr.msg="invalid window size",Ze.mode=fn;break}Ze.dmax=1<<ui,wr.adler=Ze.check=1,Ze.mode=xr&512?Ar:Tr,xr=0,Kr=0;break;case hr:for(;Kr<16;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(Ze.flags=xr,(Ze.flags&255)!==lr){wr.msg="unknown compression method",Ze.mode=fn;break}if(Ze.flags&57344){wr.msg="unknown header flags set",Ze.mode=fn;break}Ze.head&&(Ze.head.text=xr>>8&1),Ze.flags&512&&(_i[0]=xr&255,_i[1]=xr>>>8&255,Ze.check=n(Ze.check,_i,2,0)),xr=0,Kr=0,Ze.mode=ur;case ur:for(;Kr<32;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}Ze.head&&(Ze.head.time=xr),Ze.flags&512&&(_i[0]=xr&255,_i[1]=xr>>>8&255,_i[2]=xr>>>16&255,_i[3]=xr>>>24&255,Ze.check=n(Ze.check,_i,4,0)),xr=0,Kr=0,Ze.mode=fr;case fr:for(;Kr<16;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}Ze.head&&(Ze.head.xflags=xr&255,Ze.head.os=xr>>8),Ze.flags&512&&(_i[0]=xr&255,_i[1]=xr>>>8&255,Ze.check=n(Ze.check,_i,2,0)),xr=0,Kr=0,Ze.mode=er;case er:if(Ze.flags&1024){for(;Kr<16;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}Ze.length=xr,Ze.head&&(Ze.head.extra_len=xr),Ze.flags&512&&(_i[0]=xr&255,_i[1]=xr>>>8&255,Ze.check=n(Ze.check,_i,2,0)),xr=0,Kr=0}else Ze.head&&(Ze.head.extra=null);Ze.mode=nr;case nr:if(Ze.flags&1024&&(Hr=Ze.length,Hr>kr&&(Hr=kr),Hr&&(Ze.head&&(ui=Ze.head.extra_len-Ze.length,Ze.head.extra||(Ze.head.extra=new Array(Ze.head.extra_len)),Ee.arraySet(Ze.head.extra,Jr,ze,Hr,ui)),Ze.flags&512&&(Ze.check=n(Ze.check,Jr,Hr,ze)),kr-=Hr,ze+=Hr,Ze.length-=Hr),Ze.length))break e;Ze.length=0,Ze.mode=ir;case ir:if(Ze.flags&2048){if(kr===0)break e;Hr=0;do ui=Jr[ze+Hr++],Ze.head&&ui&&Ze.length<65536&&(Ze.head.name+=String.fromCharCode(ui));while(ui&&Hr<kr);if(Ze.flags&512&&(Ze.check=n(Ze.check,Jr,Hr,ze)),kr-=Hr,ze+=Hr,ui)break e}else Ze.head&&(Ze.head.name=null);Ze.length=0,Ze.mode=mr;case mr:if(Ze.flags&4096){if(kr===0)break e;Hr=0;do ui=Jr[ze+Hr++],Ze.head&&ui&&Ze.length<65536&&(Ze.head.comment+=String.fromCharCode(ui));while(ui&&Hr<kr);if(Ze.flags&512&&(Ze.check=n(Ze.check,Jr,Hr,ze)),kr-=Hr,ze+=Hr,ui)break e}else Ze.head&&(Ze.head.comment=null);Ze.mode=$e;case $e:if(Ze.flags&512){for(;Kr<16;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(xr!==(Ze.check&65535)){wr.msg="header crc mismatch",Ze.mode=fn;break}xr=0,Kr=0}Ze.head&&(Ze.head.hcrc=Ze.flags>>9&1,Ze.head.done=!0),wr.adler=Ze.check=0,Ze.mode=Tr;break;case Ar:for(;Kr<32;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}wr.adler=Ze.check=$r(xr),xr=0,Kr=0,Ze.mode=or;case or:if(Ze.havedict===0)return wr.next_out=Cr,wr.avail_out=rr,wr.next_in=ze,wr.avail_in=kr,Ze.hold=xr,Ze.bits=Kr,qe;wr.adler=Ze.check=1,Ze.mode=Tr;case Tr:if(Or===Me||Or===Qe)break e;case Ur:if(Ze.last){xr>>>=Kr&7,Kr-=Kr&7,Ze.mode=Wr;break}for(;Kr<3;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}switch(Ze.last=xr&1,xr>>>=1,Kr-=1,xr&3){case 0:Ze.mode=Fr;break;case 1:if(ai(Ze),Ze.mode=_r,Or===Qe){xr>>>=2,Kr-=2;break e}break;case 2:Ze.mode=Nr;break;case 3:wr.msg="invalid block type",Ze.mode=fn}xr>>>=2,Kr-=2;break;case Fr:for(xr>>>=Kr&7,Kr-=Kr&7;Kr<32;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if((xr&65535)!==(xr>>>16^65535)){wr.msg="invalid stored block lengths",Ze.mode=fn;break}if(Ze.length=xr&65535,xr=0,Kr=0,Ze.mode=Er,Or===Qe)break e;case Er:Ze.mode=jr;case jr:if(Hr=Ze.length,Hr){if(Hr>kr&&(Hr=kr),Hr>rr&&(Hr=rr),Hr===0)break e;Ee.arraySet(Mn,Jr,ze,Hr,Cr),kr-=Hr,ze+=Hr,rr-=Hr,Cr+=Hr,Ze.length-=Hr;break}Ze.mode=Tr;break;case Nr:for(;Kr<14;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(Ze.nlen=(xr&31)+257,xr>>>=5,Kr-=5,Ze.ndist=(xr&31)+1,xr>>>=5,Kr-=5,Ze.ncode=(xr&15)+4,xr>>>=4,Kr-=4,Ze.nlen>286||Ze.ndist>30){wr.msg="too many length or distance symbols",Ze.mode=fn;break}Ze.have=0,Ze.mode=Br;case Br:for(;Ze.have<Ze.ncode;){for(;Kr<3;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}Ze.lens[Oi[Ze.have++]]=xr&7,xr>>>=3,Kr-=3}for(;Ze.have<19;)Ze.lens[Oi[Ze.have++]]=0;if(Ze.lencode=Ze.lendyn,Ze.lenbits=7,Fi={bits:Ze.lenbits},yi=Te(Re,Ze.lens,0,19,Ze.lencode,0,Ze.work,Fi),Ze.lenbits=Fi.bits,yi){wr.msg="invalid code lengths set",Ze.mode=fn;break}Ze.have=0,Ze.mode=Mr;case Mr:for(;Ze.have<Ze.nlen+Ze.ndist;){for(;kn=Ze.lencode[xr&(1<<Ze.lenbits)-1],On=kn>>>24,zn=kn>>>16&255,hi=kn&65535,!(On<=Kr);){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(hi<16)xr>>>=On,Kr-=On,Ze.lens[Ze.have++]=hi;else{if(hi===16){for(Di=On+2;Kr<Di;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(xr>>>=On,Kr-=On,Ze.have===0){wr.msg="invalid bit length repeat",Ze.mode=fn;break}ui=Ze.lens[Ze.have-1],Hr=3+(xr&3),xr>>>=2,Kr-=2}else if(hi===17){for(Di=On+3;Kr<Di;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}xr>>>=On,Kr-=On,ui=0,Hr=3+(xr&7),xr>>>=3,Kr-=3}else{for(Di=On+7;Kr<Di;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}xr>>>=On,Kr-=On,ui=0,Hr=11+(xr&127),xr>>>=7,Kr-=7}if(Ze.have+Hr>Ze.nlen+Ze.ndist){wr.msg="invalid bit length repeat",Ze.mode=fn;break}for(;Hr--;)Ze.lens[Ze.have++]=ui}}if(Ze.mode===fn)break;if(Ze.lens[256]===0){wr.msg="invalid code -- missing end-of-block",Ze.mode=fn;break}if(Ze.lenbits=9,Fi={bits:Ze.lenbits},yi=Te(Be,Ze.lens,0,Ze.nlen,Ze.lencode,0,Ze.work,Fi),Ze.lenbits=Fi.bits,yi){wr.msg="invalid literal/lengths set",Ze.mode=fn;break}if(Ze.distbits=6,Ze.distcode=Ze.distdyn,Fi={bits:Ze.distbits},yi=Te(Ue,Ze.lens,Ze.nlen,Ze.ndist,Ze.distcode,0,Ze.work,Fi),Ze.distbits=Fi.bits,yi){wr.msg="invalid distances set",Ze.mode=fn;break}if(Ze.mode=_r,Or===Qe)break e;case _r:Ze.mode=gr;case gr:if(kr>=6&&rr>=258){wr.next_out=Cr,wr.avail_out=rr,wr.next_in=ze,wr.avail_in=kr,Ze.hold=xr,Ze.bits=Kr,Ce(wr,Gr),Cr=wr.next_out,Mn=wr.output,rr=wr.avail_out,ze=wr.next_in,Jr=wr.input,kr=wr.avail_in,xr=Ze.hold,Kr=Ze.bits,Ze.mode===Tr&&(Ze.back=-1);break}for(Ze.back=0;kn=Ze.lencode[xr&(1<<Ze.lenbits)-1],On=kn>>>24,zn=kn>>>16&255,hi=kn&65535,!(On<=Kr);){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(zn&&(zn&240)===0){for(pi=On,mi=zn,Ni=hi;kn=Ze.lencode[Ni+((xr&(1<<pi+mi)-1)>>pi)],On=kn>>>24,zn=kn>>>16&255,hi=kn&65535,!(pi+On<=Kr);){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}xr>>>=pi,Kr-=pi,Ze.back+=pi}if(xr>>>=On,Kr-=On,Ze.back+=On,Ze.length=hi,zn===0){Ze.mode=Vr;break}if(zn&32){Ze.back=-1,Ze.mode=Tr;break}if(zn&64){wr.msg="invalid literal/length code",Ze.mode=fn;break}Ze.extra=zn&15,Ze.mode=yr;case yr:if(Ze.extra){for(Di=Ze.extra;Kr<Di;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}Ze.length+=xr&(1<<Ze.extra)-1,xr>>>=Ze.extra,Kr-=Ze.extra,Ze.back+=Ze.extra}Ze.was=Ze.length,Ze.mode=Rr;case Rr:for(;kn=Ze.distcode[xr&(1<<Ze.distbits)-1],On=kn>>>24,zn=kn>>>16&255,hi=kn&65535,!(On<=Kr);){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if((zn&240)===0){for(pi=On,mi=zn,Ni=hi;kn=Ze.distcode[Ni+((xr&(1<<pi+mi)-1)>>pi)],On=kn>>>24,zn=kn>>>16&255,hi=kn&65535,!(pi+On<=Kr);){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}xr>>>=pi,Kr-=pi,Ze.back+=pi}if(xr>>>=On,Kr-=On,Ze.back+=On,zn&64){wr.msg="invalid distance code",Ze.mode=fn;break}Ze.offset=hi,Ze.extra=zn&15,Ze.mode=Ir;case Ir:if(Ze.extra){for(Di=Ze.extra;Kr<Di;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}Ze.offset+=xr&(1<<Ze.extra)-1,xr>>>=Ze.extra,Kr-=Ze.extra,Ze.back+=Ze.extra}if(Ze.offset>Ze.dmax){wr.msg="invalid distance too far back",Ze.mode=fn;break}Ze.mode=Qr;case Qr:if(rr===0)break e;if(Hr=Gr-rr,Ze.offset>Hr){if(Hr=Ze.offset-Hr,Hr>Ze.whave&&Ze.sane){wr.msg="invalid distance too far back",Ze.mode=fn;break}Hr>Ze.wnext?(Hr-=Ze.wnext,dn=Ze.wsize-Hr):dn=Ze.wnext-Hr,Hr>Ze.length&&(Hr=Ze.length),Qn=Ze.window}else Qn=Mn,dn=Cr-Ze.offset,Hr=Ze.length;Hr>rr&&(Hr=rr),rr-=Hr,Ze.length-=Hr;do Mn[Cr++]=Qn[dn++];while(--Hr);Ze.length===0&&(Ze.mode=gr);break;case Vr:if(rr===0)break e;Mn[Cr++]=Ze.length,rr--,Ze.mode=gr;break;case Wr:if(Ze.wrap){for(;Kr<32;){if(kr===0)break e;kr--,xr|=Jr[ze++]<<Kr,Kr+=8}if(Gr-=rr,wr.total_out+=Gr,Ze.total+=Gr,Gr&&(wr.adler=Ze.check=Ze.flags?n(Ze.check,Mn,Gr,Cr-Gr):t(Ze.check,Mn,Gr,Cr-Gr)),Gr=rr,(Ze.flags?xr:$r(xr))!==Ze.check){wr.msg="incorrect data check",Ze.mode=fn;break}xr=0,Kr=0}Ze.mode=mn;case mn:if(Ze.wrap&&Ze.flags){for(;Kr<32;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(xr!==(Ze.total&4294967295)){wr.msg="incorrect length check",Ze.mode=fn;break}xr=0,Kr=0}Ze.mode=gn;case gn:yi=Ge;break e;case fn:yi=tr;break e;case Fn:return Je;case wn:default:return Xe}return wr.next_out=Cr,wr.avail_out=rr,wr.next_in=ze,wr.avail_in=kr,Ze.hold=xr,Ze.bits=Kr,(Ze.wsize||Gr!==wr.avail_out&&Ze.mode<fn&&(Ze.mode<Wr||Or!==Oe))&&Ci(wr,wr.output,wr.next_out,Gr-wr.avail_out),Dn-=wr.avail_in,Gr-=wr.avail_out,wr.total_in+=Dn,wr.total_out+=Gr,Ze.total+=Gr,Ze.wrap&&Gr&&(wr.adler=Ze.check=Ze.flags?n(Ze.check,Mn,Gr,wr.next_out-Gr):t(Ze.check,Mn,Gr,wr.next_out-Gr)),wr.data_type=Ze.bits+(Ze.last?64:0)+(Ze.mode===Tr?128:0)+(Ze.mode===_r||Ze.mode===Er?256:0),(Dn===0&&Gr===0||Or===Oe)&&yi===Ke&&(yi=Ye),yi}function An(wr){if(!wr||!wr.state)return Xe;var Or=wr.state;return Or.window&&(Or.window=null),wr.state=null,Ke}function vn(wr,Or){var Ze;return!wr||!wr.state||(Ze=wr.state,(Ze.wrap&2)===0)?Xe:(Ze.head=Or,Or.done=!1,Ke)}function Sn(wr,Or){var Ze=Or.length,Jr,Mn,ze;return!wr||!wr.state||(Jr=wr.state,Jr.wrap!==0&&Jr.mode!==or)?Xe:Jr.mode===or&&(Mn=1,Mn=t(Mn,Or,Ze,0),Mn!==Jr.check)?tr:(ze=Ci(wr,Or,Ze,Ze),ze?(Jr.mode=Fn,Je):(Jr.havedict=1,Ke))}return inflate$4.inflateReset=jn,inflate$4.inflateReset2=Kn,inflate$4.inflateResetKeep=Pn,inflate$4.inflateInit=In,inflate$4.inflateInit2=Xn,inflate$4.inflate=dr,inflate$4.inflateEnd=An,inflate$4.inflateGetHeader=vn,inflate$4.inflateSetDictionary=Sn,inflate$4.inflateInfo="pako inflate (from Nodeca project)",inflate$4}var constants$2,hasRequiredConstants$2;function requireConstants$2(){return hasRequiredConstants$2||(hasRequiredConstants$2=1,constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),constants$2}var gzheader$2,hasRequiredGzheader$2;function requireGzheader$2(){if(hasRequiredGzheader$2)return gzheader$2;hasRequiredGzheader$2=1;function Ee(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return gzheader$2=Ee,gzheader$2}var hasRequiredInflate$4;function requireInflate$4(){if(hasRequiredInflate$4)return inflate$5;hasRequiredInflate$4=1;var Ee=requireInflate$5(),t=requireCommon$2(),n=requireStrings$2(),Ce=requireConstants$2(),Te=requireMessages$2(),Re=requireZstream$2(),Be=requireGzheader$2(),Ue=Object.prototype.toString;function Oe(Ke){if(!(this instanceof Oe))return new Oe(Ke);this.options=t.assign({chunkSize:16384,windowBits:0,to:""},Ke||{});var Ge=this.options;Ge.raw&&Ge.windowBits>=0&&Ge.windowBits<16&&(Ge.windowBits=-Ge.windowBits,Ge.windowBits===0&&(Ge.windowBits=-15)),Ge.windowBits>=0&&Ge.windowBits<16&&!(Ke&&Ke.windowBits)&&(Ge.windowBits+=32),Ge.windowBits>15&&Ge.windowBits<48&&(Ge.windowBits&15)===0&&(Ge.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Re,this.strm.avail_out=0;var qe=Ee.inflateInit2(this.strm,Ge.windowBits);if(qe!==Ce.Z_OK)throw new Error(Te[qe]);if(this.header=new Be,Ee.inflateGetHeader(this.strm,this.header),Ge.dictionary&&(typeof Ge.dictionary=="string"?Ge.dictionary=n.string2buf(Ge.dictionary):Ue.call(Ge.dictionary)==="[object ArrayBuffer]"&&(Ge.dictionary=new Uint8Array(Ge.dictionary)),Ge.raw&&(qe=Ee.inflateSetDictionary(this.strm,Ge.dictionary),qe!==Ce.Z_OK)))throw new Error(Te[qe])}Oe.prototype.push=function(Ke,Ge){var qe=this.strm,Xe=this.options.chunkSize,tr=this.options.dictionary,Je,Ye,lr,cr,hr,ur=!1;if(this.ended)return!1;Ye=Ge===~~Ge?Ge:Ge===!0?Ce.Z_FINISH:Ce.Z_NO_FLUSH,typeof Ke=="string"?qe.input=n.binstring2buf(Ke):Ue.call(Ke)==="[object ArrayBuffer]"?qe.input=new Uint8Array(Ke):qe.input=Ke,qe.next_in=0,qe.avail_in=qe.input.length;do{if(qe.avail_out===0&&(qe.output=new t.Buf8(Xe),qe.next_out=0,qe.avail_out=Xe),Je=Ee.inflate(qe,Ce.Z_NO_FLUSH),Je===Ce.Z_NEED_DICT&&tr&&(Je=Ee.inflateSetDictionary(this.strm,tr)),Je===Ce.Z_BUF_ERROR&&ur===!0&&(Je=Ce.Z_OK,ur=!1),Je!==Ce.Z_STREAM_END&&Je!==Ce.Z_OK)return this.onEnd(Je),this.ended=!0,!1;qe.next_out&&(qe.avail_out===0||Je===Ce.Z_STREAM_END||qe.avail_in===0&&(Ye===Ce.Z_FINISH||Ye===Ce.Z_SYNC_FLUSH))&&(this.options.to==="string"?(lr=n.utf8border(qe.output,qe.next_out),cr=qe.next_out-lr,hr=n.buf2string(qe.output,lr),qe.next_out=cr,qe.avail_out=Xe-cr,cr&&t.arraySet(qe.output,qe.output,lr,cr,0),this.onData(hr)):this.onData(t.shrinkBuf(qe.output,qe.next_out))),qe.avail_in===0&&qe.avail_out===0&&(ur=!0)}while((qe.avail_in>0||qe.avail_out===0)&&Je!==Ce.Z_STREAM_END);return Je===Ce.Z_STREAM_END&&(Ye=Ce.Z_FINISH),Ye===Ce.Z_FINISH?(Je=Ee.inflateEnd(this.strm),this.onEnd(Je),this.ended=!0,Je===Ce.Z_OK):(Ye===Ce.Z_SYNC_FLUSH&&(this.onEnd(Ce.Z_OK),qe.avail_out=0),!0)},Oe.prototype.onData=function(Ke){this.chunks.push(Ke)},Oe.prototype.onEnd=function(Ke){Ke===Ce.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=Ke,this.msg=this.strm.msg};function Me(Ke,Ge){var qe=new Oe(Ge);if(qe.push(Ke,!0),qe.err)throw qe.msg||Te[qe.err];return qe.result}function Qe(Ke,Ge){return Ge=Ge||{},Ge.raw=!0,Me(Ke,Ge)}return inflate$5.Inflate=Oe,inflate$5.inflate=Me,inflate$5.inflateRaw=Qe,inflate$5.ungzip=Me,inflate$5}var pako_1$2,hasRequiredPako$2;function requirePako$2(){if(hasRequiredPako$2)return pako_1$2;hasRequiredPako$2=1;var Ee=requireCommon$2().assign,t=requireDeflate$4(),n=requireInflate$4(),Ce=requireConstants$2(),Te={};return Ee(Te,t,n,Ce),pako_1$2=Te,pako_1$2}var pakoExports$2=requirePako$2();const pako$2=getDefaultExportFromCjs(pakoExports$2);var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256);for(var i=0;i<chars.length;i++)lookup[chars.charCodeAt(i)]=i;var decodeFromBase64=function(Ee){var t=Ee.length*.75,n=Ee.length,Ce,Te=0,Re,Be,Ue,Oe;Ee[Ee.length-1]==="="&&(t--,Ee[Ee.length-2]==="="&&t--);var Me=new Uint8Array(t);for(Ce=0;Ce<n;Ce+=4)Re=lookup[Ee.charCodeAt(Ce)],Be=lookup[Ee.charCodeAt(Ce+1)],Ue=lookup[Ee.charCodeAt(Ce+2)],Oe=lookup[Ee.charCodeAt(Ce+3)],Me[Te++]=Re<<2|Be>>4,Me[Te++]=(Be&15)<<4|Ue>>2,Me[Te++]=(Ue&3)<<6|Oe&63;return Me},arrayToString=function(Ee){for(var t="",n=0;n<Ee.length;n++)t+=String.fromCharCode(Ee[n]);return t},decompressJson=function(Ee){return arrayToString(pako$2.inflate(decodeFromBase64(Ee)))},padStart=function(Ee,t,n){for(var Ce="",Te=0,Re=t-Ee.length;Te<Re;Te++)Ce+=n;return Ce+Ee};const CourierBoldCompressed="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",CourierBoldObliqueCompressed="eJyFWdtyGjkQ/RVqnnarcAo7vuE3jEnCxgEvGDtxKg9iRgxaa0ZEF9s4lX/fnrGdTVZ9lBcKTmvU96PW8C0bmqqStc9OsqsPwYlSdnaPDvb6naP+3v5+1s3emNpPRCVpwdAEq6TdOTW6mC61+hpksyBo/euCTrOg89MKUSm9/XUNwddSletGcbOcfo+90Cof1KWmdTu7e4S4N+pBFhfK5+vsxNsgu9lwLazIvbRz2Tw7evCyLmQxM5Won809PTUP2cnnnYOj7s7eQa97fNjvHvd2v3SzBS21WtXywjjllakbRb3eT4LLtcpva+lcdkJPZlfSunZZ1uu9ftXr9UjFxHiVP7my2drGh84f+Z+d3f5xv0uf/V77udt+vm4/jzqDwixlZ751XlauM65zYzfGCi+LV53OQOvOrNnHdWbSSXtHKOkZ0apC1eU8X8s2dO0mcy/qQtjiRUoLh2Lz7jmWB4cUto8vv/Zf97vZwOVNhGx2crhHP8/kj987uxShbO6Ld9fZyfF++/WKvu72Dp/i/EF6q3IKxedv2fVH2qAJ1YQscRtBEfje/R8sH3Itqhj/Ggx5utSxpA7VsglxWceywmgtbIxvpM2bio0EoiKRo/AAC9pcMfsJK2stV0gEHhOu2dHdMk/p4GI0p0YTMbzebtaS8Z5cUYbxxGnh1jH8KK2JUVMzWfL3zEq/tpJZu6JuZVB1x6x16oEB5R3nneRjWivO4Nxow+zhZKWASDcNHCv9GgRTg6WV1IiMm8ReriWJOPeM7YMYOo2hYQydxdAoht7E0NsYehdD4xj6K4bex9B5DH2IoUkMTWPoIob+jqFZDM1j6DKGFjF0FUPXMfQxhj7F0E0MLekQupWep40lyUCfPj8HOSVXKlc2DwyLhoa1HZ0cTIu0/MYbw3DOkukxhn+ZDmK4gGkohuViSMXQPzHE0CvTwky0mK5laG/DhDKGGG5g6IWJfYihuxi6jyGGSbcM6fP1BQphyR2m7fpUNXqlC3jUF+aeiTN/OjfHpW4GlriEmoGO5dktd3astLGKPQ/ALnmwdIznTADbtnGqHTnh1MJHswyKJJUBFNCI241/IwahXzHdsWIKnyY5lmYKUZbckfaEs6PY08DR5E5ayfQ+zUKitGLDkRpdASTjxX/hXQqXiHBaCkL0IwFALrVWG6eYRiVP/doENCk+Hfp8aVMAuNFH5MFzg0vL5CstmXYGfVWJ3HI1vLSSU1wYL3K+3wq6ZUnWf8t2YS4LCig3oYa6FDZUWgRGjSlpyGRYOhesH7LiC3bAjDzGFiua8fih8BwcsFOE8woqIrmgWQ2Cj3czWzLdqYFeg3Bmd2pNusVSyTNJG+N8SlB+AhRNSGdUgtR9whYU6k5x1fwJWDZIdYYADy1SD23BQ669dqEekaktF3yfLHAYBGqGBbAuoAdGWMkZEQR3/0g6mr+8qmBUIcrJQR0IPi6TpAEa1Shg1MvkbkO0G2DVUYInHXDTQUJUQLs2j7IuGcEMqHibdDIkmyQlHKCUWmBIDn29SUTucm0ss9kUaZ+BuM0BXgBrF0hB4CuzfbfhQjvgMDPRFJTgAOGAVqugvdpoZswMwMFL4CCNWl4JXagVc7vaYmqYAD0qVSyjZJklTh0syoEdNaJBlNAJCNAYbNS8eaOBgXv9trTmVtbsHcjKUjkw9b4FyR6nGCVQV/NXkRGoKQscMigyN+CBGxCx55dc4BXYyDMTyhCSgk7ylkejHzwdkWCAxodEVYIAP6LWQLqnKCPo6EGZckgzdmKaHEuAh2dSeyZXnidpf28SjIhNq5hXGgpYZNJz5giFvgATTsvjVMCWCpkxbZ6oV74i3yfr+BwkzltRyEpYxnKZYIUxiNIYFc45sJqCthaaORmamwlocJOqqBpMTYvf5A/ERyKHSsCl5NBzVrmk8kGYJ1M3TVteEEtw/3YYkKIhMCJANi9UzqXhDGxkk95MQH4MwGfpsk5KB2DPAeRofuaagn0eEx0yQqc90n2bdAUMAuNkKwATfPpyY8om37Xh3o9gLg1YRFuhf6vSF1ruIH8ETtXJrSjk+IRQqMdHofkf8ks3ey9tfSGUbf49/vL9XxrnGMA=",CourierObliqueCompressed="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",CourierCompressed="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",HelveticaBoldCompressed=JSON.parse('"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"'),HelveticaBoldObliqueCompressed=JSON.parse('"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"'),HelveticaObliqueCompressed=JSON.parse('"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"'),HelveticaCompressed=JSON.parse('"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"'),TimesBoldCompressed=JSON.parse('"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"'),TimesBoldItalicCompressed=JSON.parse('"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"'),TimesItalicCompressed=JSON.parse('"eJyNnV1320aWtf+KF6/mXcvpsWTJsnPnTtLdsdNx7ESGMb36gpZgmSNKcEhRCjNr/vsLgqhz9tlnFz03XsaziwDqVNWuDxSg/5l919/cdLd3s29n7/+5Wc+vukcnZ2fHZ49On5+dHs8ez/7W3979PL/phgS/LW669Tc/3s2Xi4udslkuUXnkyvxmsdyiNsCmW1x93l3nn93lYnMzkH36l7dXyyHdN0enfzkd2Ppviz+6y18WdxefZ9/erTbd49l3n+er+cVdt/q12/3+hz/uutvL7vJdfzO/ne7wr3/t/5h9+69vjp69ePzN8dHZ46MnR08eP3/+9N+PZ+dD4tVycdv90q8Xd4v+dnexJ09A+O3z4uL6tluvZ9+eDvx9t1qPyWZPnhz/5cmTJ8NFfu7vFhe77HzXf9mudjl59B8X/+/R0Yvnp493/56N/77Y/fviyfjv0/Hfs0cvL/uP3aNft+u77maI0e1Fv/rSr+Z33eVfHj16uVw+erc72/rRu27dre4Hug/mYv1o/uhuNb/sbuar60f9p0c/LW77u+2X7pt/dMOvXv790fz28j/71aPF8OP15uN6cbmYrxbd+i/D7f4wXOZycXv168XnbiyF8S5+vRt+Ml9dFnVI+N38yz+mgnl2+vTx7EM5Ojk5ejx7ub7YhXo1iM8H8fvOjscgz369u/xHM/v26fH43/fDf8+e7cvrn93danExBPRf/zNrPsy+Pd4F9ufhRtZf5kMc//fxHj99+nSPuz8ulvMb4yfHU/LfN/0QqY9LU06fTMrt5ubjrqCubrN22S+X85Xx5+UqX7rVxa6yF+Hs7PlemN8M0nqITr6z8Q7GEs/al/mqu112n2pS/Jnd3ny9O+P62pRnZ6fTr5abtVGL2cXQRuf5Ep+3Xz53tzn5kJVF7zk5LplcL+frz/lu/uxWfab9bZfh3YNIefd51Ym0n/rNStDFvUi7XvwhYHffibLtdExvF7eiWl30y/4243V3s4iSlcByZwOJdr9v5suMr1bd0JBFNn/fdOvRaoryolToud/7s6OjPXuZ0V8dPTvbo++82h4f79H3+Yc/ZPS3/MO/Z/SPHKYfvT2enOzRq3xfrz37p8/26Kfc9P6Zf/hzvok3+e5/yane5lTvchn8mu/rt3yu83yu9/num5zqQz59m9F/eVSH3mFEH4fO7Lq7C7ZhbfTjoMV2yr+LnnJS8jFfXywWF4vVxeYmh2KzM+310POIJjL6W7gZ96mMPuYqcSH8N6fqcl4/5R9eZfQ5/3CR0X/nK17nVMtc/iJawnSE7X0RrT4X2iqjdb4vEftNztB9bkIPOdUfGW3zTfzpqaxoh/rVUa08LbVyVUlPPdzJEdTGu8XyssuX3nf1l/2DiHPonb0nuBvHaV45jkr+P+0Ghuiz9put6js+LfvVQvB1VznLxWY1dOMXHsDjoxNoNuvFOHhNrb6MWnSzutosBuWmv9Mjh508nvgrcmVw8Wmh8i360WEoqIYDl/OrK9Wl7TkOxWjAsSu7btV52z899rHQ/Go1/wKmVn76cZhEdCKXHt6P8/WBCB9WKyGyAoj6c6uhy+Xiy3rhDXWYLnhW7z73mzBUTL1+qNtecKv5vfDf+cXmTo1cRiv/tOz+yBo1rIJv5hcrNdr5uOrUhS/7u/lFaHAuLYaCxACYssJm6Dc7TOmGEbcYom5ur+arzc1yvhGX6a+GUea1ON0c8+HFchNqrPGXPuY5PptqQL+6/DQM8sKo0IcnsYf10UfkL4p/vvELPD16Yhe4GVxus8QrmC/PRXd3uWvw67XovJaVkXkfuZ29F0PooW0O0+GhzotC+zGVp3fLsfp51x8rjXdLskT9dLHofGSU7sDG0JeL+8WlKKQ23pkPlkXL8NuOP/JRnviRd4/UBK2jHudd1EYgq/mUfr3QThynMPidU2Pw31RKaEM/8BlAuojPFwaDgAlInGBSRs+emTiteIhLkeX4mJDqgeUyxMVnAuoGvHnU6mh0VB/lq7P5NKp2tuiqEM7sk15DQjaBkyH60DVe/eRsusqy/7O7vRKXfxcv4TM4lUmvHAcbiRC9eXEvYiPZeCNQ1JRXn/vkyNllfvvcr0Su3tDVPQyVUvuVeLmry0rYzukCHrHYs4XFjfVmHOGsxP3GKuhRrPFoq2aCN5vl3eLLcivuizLolTwWR+n4hrHW3WK+vFx8+pTLaptt2JpgvI5X2EOV5YeD1exAr1OXLioFfVuzQa4x7ilzORr6kfoVXHobBgy4/mbTn1V/3d3iJMjMcdVdLdZx2OtNtDLw+lG0C5uJbIZWHeYiHmwaQFrDrESm56pu7bJSpf6LTPvkRRm4jqtccQ3McvnDnRihfFc1wKXyLW9uFZPpqr1jrRd8WRs+HKiVlQD/WWsatZt6UyuRWtdT89x17cr1Lv7NwWEJ21IZF3TLO7HYcxdM2gvpoT/giPUhzs1G5IT6cAuVHGd6W6DQ+yw1jnDOTtHHhwq8GiqyuLVf0wymKMtYI33VU/a/NsOIBffiebmN8kBHeWJ9PvZjZe74Y627/Im6vxKGIWif50tYeCttfDcziQ3ci+KQyd/GUZPXtK+UHw2DLAi17vkqeilmaCpVVah6EPqrHO5aBdYzHKtgg0uoxx09NS13Qn0Tm5j+5LRMsIdu80L57PeVsebq4Gj351g+fruV0e67w9VaXsustXLOl1WP1rOkN5WFwz8PjCd/qPX2dG1fHZZZsfFYGAj42Q42hXgLvrh78ErL/mpX3re9GMX3dS/dZKk05eFUlZZ8dXDO0N2Jhw5/Vqrv7cFufAh56iHc8mtt/IfN7kHkvx/PXner21/mi9Xu8fG/Zi93j6lnj795+uTfj6ejvXsEtL/PiCZPR/j33dGpHe1dJSDMGApvhqMTO8+bcguAoHIEbkUV6L79BxScJyhTyALbLw4FtG84iN6Go992OTqzI4sZoJh7E86Ho1M7z3nJPaCQe+CQe6Al94Ao96BY7oFN7Tqw0U6QvB+Ojp5YETbD4Qs7andJ/ciy5Ahv3SjsB8AAbYajY7vwppwNUAgQcLgK0BIgQBQgUCxAwCxAwKYAObkPWXsIR9t4lOOzzfGZEmF7NUSN1ji1XOfcfIsCbdgQNWTjsjUXFZq0IWrXxlXjNjG3cJOomRvXbd1kbvAmUKs3Tk2/8LcZgQkYIidwruygqOAJhsgYjCt3MDFbhEnkE8a1WZjMjmEC24YJ0TsKRgMpDFykoDa3APYT4/VGo5ylaGAvhshjjCujMTG7jUlkOca175jM5mMCO5AJ0YYKvs8RechoK1Al1MKfJptAfzJE/mSc/Mk5+1NRwJ8MkT8Zl/5UVPAnQ+RPxpU/mZj9ySTyJ+Pan0xmfzKB/Mk4+VPhbzMCfzJE/uRc+VNRwZ8MkT8ZV/5kYvYnk8ifjGt/Mpn9yQT2JxOiPxWM/lQY+FNBbW4B7E/G641G+VPRwJ8MkT8ZV/5kYvYnk8ifjGt/Mpn9yQT2JxOiPxV8nyPykNFWoEqohT9haNCkIieniiLZFYnsWUEG44qc3CuK0sJCEvCxyMnMoqgcLabIthZ18rYoaoOLadjlokpWF0XyuyC+rXBwvsjJ/khUHhiSgBFGTm4YRWWJMUX2xaiTOUZRO2RMwzYZVfbKqEbDDBq6ZhDAOgNvKy2UTTSKX2neyk5DAvDUyMlYo6jcNabIFht18tkoarONadhxo8q2G9XovUG7rwTyocK3NX6o1IQpO0FLRkqGjBLZcZDYjEEEK0ZKRoyStGFIACaMlCwYJWXAqGf7RZXMFyVtvZiCjRc1sl2UyHRBeispGC5SstsgKbOFBGC1SMloUVI2i3o2WVTJYlHSBosp2F5RY3NFLVorKGisgMFWgbayhbGlonSwaSo7BRnMFClZKUrKSFHPNooqmShK2kIxBRsoamyfqEXzBOVehuxB0q2m9XIRljnlHv3SEJmlcXJK52yTRQGPNEQGaVy6Y1HBGg2RLxpXpmhidkSTyA6Nay80mY3QBHJB42SBhb/NCMzPEDmfc2V7RQXPM0SGZ1y5nYnZ6kwinzOuTc5kdjgT2N5MiN5WMBpbYeBqBbW5BbCfGa83GuVkRQMbM0QeZlwZmInZvUwi6zKufctkNi0T2LFMiHZV8H2OyENGW4EqoRb+VO4VDcoZOZQLZFEgsEeZBCbljFzKBWlTJoNPOSOjckE5lavZqlwjr3JBm5Xr7FaukF25QH5lwlvBwLGckWWBoDzLZDAtZ+RaLijbcjX7lmtkXC5o53KdrcsV9i5XonkZR/cyCPZlrBUthA3MhQPNSlmYieBhzsjEXFAu5mq2MdfIx1zQRuY6O5krbGWuRC8zfi+C8yDYVrFa5IWhlRtDQ3NGhuYCGRoIbGgmgaE5I0NzQRqayWBozsjQXFCG5mo2NNfI0FzQhuY6G5orZGgukKGZ8FYwMDRnZGggKEMzGQzNGRmaC8rQXM2G5hoZmgva0FxnQ3OFDc2VaGjG0dAMgqEZa0ULYUNz4UCzUoZmIhiaMzI0F5ShuZoNzTUyNBe0obnOhuYKG5or0dCM34vgPAi2VawWeWFoq+n7JO5AhZCZFUxWZpiNbBLAxgohEytYWtgkgoEVQvZVsDKvomXrKgoZV8HatorKplU4WVbBZFgTfpsImFUhZFWGlVFNIthUIWRSBSuLKlo2qKKQPRWszamobE2FszEVHm1pomhKEwJLmkibajjbUcHVJqGsaJLAiAohGypYmVDRsgUVhQyoYG0/RWXzKZytp/BoPBO9T2F4SGSbiY6tsJupEaDfGCLDMU6O45wtpyjgOYbIdIxL1ykq2I4h8h3jynhMzM5jElmPce09JrP5mEDuY5zsp/C3GYEBGSIHcq4sqKjgQYbIhIwrFzIx25BJ5EPGtRGZzE5kAluRCdGLCkYzKgzcqKA2twD2I+P1RqMcqWhgSYbIk4wrUzIxu5JJZEvGtS+ZzMZkAjuTCdGaCr7PEXnIaCtQJdTZn/460Je7K/uRBdFR8RJAMaTOMZpOLZCOPEjOPD7OSmiclIbt6HyslHZUcgAo3C5wuF2g5XYBUZGDYhkBZhkBNmVkT76f4r733+8x7oCih3+f4g4cMgK0ZASQ3S4wu11g0+0CKXF39N689PvJBvyojUexF/me2v1EJ9PFyBii8BinGBlXgTIxR8skCplxjpsJHDwTYgQNUxgLf5/D0GTUCkShNS7iO77DGONbEMe3cI5v4TK+RRTxLRLHt/AU3yKk+BaB4lswx3fi73MYmoxagTi+haf4/m0K7dHRqR2aFwErIUUWDQoEdCjAZlHA3IkAuhUBLF4EqIQN2G6keeZHJSuASk4AhYwAh3wALdkAZLkAZpkANuUBSMmCo/0HLodMPTUUE3Q5U10Z+iHSmepkpuCF24BzXjuR107kdbGrYn5kFdJRHIw7xzrq1Ibgjnx47czuxFnvw7/x0LtaZ9TXuhA6W8fe2zpL3a1L0N86LJMAZFajnU1fMA0VYmWDofEoDp1GVCoEojAN2Auvpua/N4NX2PoBlSYDSMykXlHTBxrnT69CwwfmhedsajJA4iTp1dTon1p+5rFbeIWNHpDoDF5Rowcau4BXodEDI+N/BY0eSLT7V9Doj4108SiOcF9hm0eUR7ivqM0jhTYPOA58X4U2D4wGvq+mlgZH+Z77yg328gb7fCfcyEAR92hNDFAcib/CBuZoEwpnkyvUplJ7NrL2bHLt4fkYKKJebUS92oR69Xq2XwnZT33HoziLH5GYwI88zd1HGqftI5Iz9lGhyfrISvgBlfA76kIeuhjr11jREeXwv6aKjhQqOuBYKq9DRQdGsX89VfQTy0EfLfN1qujAkz++xooOSC4tvQ4VHVhcUHqNFd3RJh7lu95U7noj73qT75prNSjirjfk96+hVjvZxqN819t8d6Grw3ZBAjURUlVroSS54VACakOk6uZEibhlkUyNjFRqb1GFyk8CtUJSqUGyKtomJcnNlBPkFkspqPGSyu2YZG7SUe5rFYkbOqmq9VCSr1VVdgJSdfOiRNzSSCarIJVcI6qbqnAwMNJWKMnXAsNmQ+r/JTDJgkhmNyI5GlMUt1XhYGCyc/002y/tH/uRDfMAhZG8C7v1gv24fnfUhKM2pGzjsvOI0qLyjorl7J+mDD+1RJZLQNjE9xTfuT8mRJmsvHNPKmQX30cn1OYfcu7V++gkqTjga9iUR46Ieg17kmKVgOCQQCFiVQUqpoFwRaGpCW3tVBxAUnMYYwIVzNygZHw4sPUGNSWY7A4Da4hC6lwFs6gQxoKajNr8Qw6a8RyuIqlAFW2b88jBMZ7C8vNseoZyZkd2d47sGYqjOIFzjnlwahM4Rz5Nc+ZTSWflGYoTm7ntUWlSLwWivBinDBlXuTIxZ80kyp9xzqQJnFMTYnYNU57xYQMjynN62MBc5Vk9bGCJ8pwfNrDAeeaHDYw5z6GFv6wKnP+ochSiKmMRk4iIxAQcl6im6EQ5xSjKFKkoUrzKg9OXAlGMjFN0jKu4mJgjYhLFwjhHwQTOvwkx54Zjnt9M2d178BvMKaCSSUBxhuc8PXN+g7kC5HMzZ747wVnZmODEJmaGfrNR4BvsnBCFfsmFsUuyoyYcfQgp26D59gZHaUb7Bo12uttktMwp1tpoWcxRT0bLnOOfjZaFWBLJaIlDmaSxauKqdMJYNaImow/5h21OxcWmhq+TFF7nhgKMnEoxilSUUVTlGVPkQo06lWwUuXijymUc1VjQUaPSTh+eOBHR43I/9OEJleR9pVSaCv9QOU9bSc+1ov79hb0OL61CxUBK1QIlqhQoqSqBeq4QqFJ1QIkrA2pcFVCLFQEVqgb0MvxJihNXgfrL8DnBexn5RtIP8gytTMvFXntHfK+W1wChxA1RcRunsjauCtrEXMomUREb5/I1gQvXhFiyhqlY8R3fkxgGLtDKO76kvs/xbDL6kH/Y5lRcfPKV2L0U17iwCFmhkmSZCpRlVa6cJhcvp6BSZpkLm3Uuc9Zj0bNKNYBkqAisUH1IsqoWlOh9tcSaqvKhera2+huuOSznCmTvzEHVcUaVxgWqLi6oiuJqriKuUeVwgauFK1whXIlVwTlVgvDm7AlFhAu+9uYsy+9FdBvBPojftiIdF6p+wXSvldUdKE1DVJjGqSyNq6I0MZekSVSQxrkcTeBiNCGWomEqRFzNO4lh4CKsrOaR+j7Hs8noQ/5hm1Nx4akFvknCSfqUtTRJZ05lpyfpLOayS5N05lx2eZLOQiy7NEknDmWXXl1IXJUd7uuneDYZfcg/bHMqLju503+UfpmK7YUfld8CKoUFKJQTcLgC0FI6gKxggFmZAJuKA0gpCUe7zUbP/ajkAFDJAaCQA+CQA6AlB4AsB8AsB8CmHAApOXBE+yR3KCbocqbsyTUinalOZio8mAac89qJvHYir308yvfcV26wlzfY5zvhp8agiHu058OAcvB5U+LbGb7RMB7FNxpGJN5oGHl6o2Gk8Y2GEck3GkaF3mgYGb3RMLLwRsO7Gb4+Nh7F57UjEk+vR54e3o40PqcekXw4PSr0RHpk8fn8iOJD+XdTrOEo3/V55a7P5V2f57vmWIMi7vqcHp6/g1g7GV/Eel6OmnDUxiOrPY6wluxpWfiCMjREITGu4mJiDo5JFCHjOkwmc6xMoGI2TmVd+LlAlSzKojexnkWuBMYPZzFVBxO4TpgQKwYukVLBNhm1AlFlUeuhk1QeMkGNMUThNK7CaWIOp0kUTuM6nCZzOE2gGmOcakzh5wJVsihrjIn1LHKNMX44i6nGmMA1xoRYY/D9IyrYJqNWIKox6v2jIqWthOUm9FZCrcoAV7cS6gQc7INbCXWiFHi9lVCrXM+Cel4VDgZG17yY5GuBSbUwqv+XwOQaGeVUL6NMtTPtupFVqakJbVXgWlvddbNPMEy09hPMJ3YUZzkjsmmlI7HxdeRpLjTSuMV1RLRldWT00vbIwvvaI4n7VX+bmpzn502MwW+pcQGXAbFmBIiHla74sNKZvbfjyF7bMbSbmbw4tiObITqyGaKjOEN0jjNEpzZDdOQzRGc+Q3RWZohObIZo6KJfwirAnuxnXGcnhcRfdDmXNuFCFGqXc6xdQGHCBSexSufIK50zkfnP2y+fu9uQjUXIpr2rBoiWPnasD2ftc977SnH2sjj7XJw8cQNFFLRN3ADlUrWJm+d+FbK1yrmnl8n2SLxMthPW3c2i1JxnRjchzSZfYiMWsUae1q9GGpeuRsRb6V2h9ayRifLchFWsHXkIYdrGo5IHQLjLbk9xv9bkaGm/FnPyY71fi8XszGm/FnP26Lxfi4Xo1mm/FnHw7TTEZq4cXA2xWSIvrw2xWWZXT0Ns5uTvhYPJGyIfME52b1yZhInZKUwiuzDOzmACW6EJsTMwTN5ROHULjkPfULA4AfcSxqmrcC76CxNzp+FS7jlMo+7DOPchJtSix71J4YscIu5XjLMZFaHPl+NuxvihaiQ6HJMq1ajS9Zhcq2XcCRmv1Cbujgpf5Whwx2SceifnqosqquinirTJqbnHMq66LRNz32USdWDGdS9mMndlJtSqEHVqBT/kiG8Foj7OuOjo0ibd0hvoTbpa5a7vwCZdnUR0g3qTrlZTl1jZpKtl6h71Jl2pYlepVxW0KrvN6qqCTsBd6MFVBZ0odad6VUGr3LUGFTvYKLAPRpU726hKr4xJhGPGBOybUU32GOXUmUSZOuQospEGlTtnEmMXnV4FladM3bV+FbSiqq67+ipoJYHoxvWroPr3qUuvvAoqz52696AuaqFOXX1Uk1vHdzBrN5M6/6h+vVqrgUBMcLBa1wYFMdHhup8GCFE9WLvTYCGoq1o808Ahqjx8IFUOIkIaNZSIr47WfpmGFVGVg4uYRAwxYgIeaES1MtyIidKgI8qHKzMPQIL4UCvLbVXgIUn99b8xwfk0GtkvzZ7jEARQ/L7NeRpsAE+L0ec4rABEK8rnYQABLKwdn+NQwVFx7v0HSs5n6ZslZZEd85re0WBOudbvaLCY85/e0WDOkcjvaLAQY5Le0SBO0SmYQ5RehZhOo1+FkCJF7MCrEDJFjp1+FUKKHMXKqxBSjfHUr0IokSIbNA4vvU4wnU69TiAkCmz1dQKh56Cq1wmExAGVrxMILQZTvU6QJQokKBxG3KA/nSdt0GdO0dMb9FnMcUsb9JlzxPIGfRZirNIGfeIUpYI5RGIf/HSi2j74ikxxO7gPvpImR7G2D74ic0yr++AreoxwbR+8linepHLYw+7x6YR593gSKMiV3eNJzYHNu8eTwMEUu8eTEgOYd4+zQEEzzuGyv+cA4XJG4XKBwuWCCperOVyuUbhc4HC5wuFyJYbLOYXLBAqXcQ7X9DV6CFYhFKqCKVAFqzAVLQepKBSigjlAhXN4Co/BKZRCM2EKzEQpLO+nkDx7YkclHIBKKACFMACHEAAt2QdkWQdm2QY2ZRlIya6j3fLWUz8qOQAUPxnlPH23YqT26SdH/DU9V/xLUM7KHBSQfZLR0Li3+OjIDm0pDph/FdcZfRXXBVyKA+xfxXUGX8V1CF/FdWhfxXXkX8U1Fqen76H6HR2/KIh+04kM23JPYJUMhy/NAoX1HExtn5p15J+adaaiYKs0p5a/3dLMfo44HsVp44hinXOe5pAjtTrnyGuWM/8QrrE+3msvwtrXQtjrOtOLOpM+PwuSqk7++Vlgour4Tm+vKbji4RndxKMc8rigARwrilOrEI4oj6B4VXEmCqMsR+xJE+y1yfbaZHttKvbaSHttsr02wl4bYa9Nstcm22sz2eu+u2jQXgGJr642ZK9A41dXG2GvoNBXVxu0V0Dxq6vNDJf2m1laz29maRG/Sd4KPK1rNrO0Rt/M8sJ8M8ur8c2Ml+CbWVp3b5KpNmCqnib+osu5pAX0Jhkq8LRU3rCfQuK4KN7M8kp4M8vL3w266f6DU80MF7qbWVrdbmZ5SbuZ4Tp2M0uL102yPeCyOPtcnHpBupnlVehmlpaem1lab27Q7xzlBd5mhqu6zSwt5TbJ7oCnRdtmllZqG2F3oNCabDPLC7HNjFdfd2RcWTXr8OVUR2jGI21n+ES3RZcEFJ/dtsklgaentC26JCB6HtsGlwQWnry26JKOxmesp3ZkvbCj2Ak7xz7YqXXBjrgHdsU7YGfW/zqy7teQu0mbXbLNLtlWXLKVLtlml2yFS7bCJdvkkm12yTa5ZJtcsg0u2WaXbLNLthWXbKVLttol2+ySrXDJVrhkO0tPBtsZjjnbWRpzjkiMOUeexpwjjWPOEdGYs53lMWcbrLfN1ttWrLeV1ttm622r1tsK622z9bbZettsva203nayXk+zydnbVLK3kdnb5Oyx9YIisrcR9WMTGwc+oJlMKT2gYU6Wqh/QsJjNNT2gYc42mx/QsBANNz2gIQ7Wm17PY65MWL2exxLZce31PJbZmNPreczJoguf55JmszZOjm1c1VkTc8U1iWqvca6oJnBtNUFXWTZ1f+4W2iU/jqPU4gRs9MbJ7Z0fiJDwfZey+ZtGPYBx7gZMqEWPO4TCFwJR12Bc9Q8m5k7CJOopjHN3YQL3GUXoc7649zB+qDREP2JSpb5WehSTa9WZ+xbjlWrLvUzhoqsp0ian5k7H+KGoiO7HpEpUKh2RybWopC7JhNjI+StwTxKl3kl+BS5Lqo+qfQUuq9RT6a/AZY37K/UVuKxQrwUSdFxIqe9CSXVfqOceDFXqxFDS/Rim4K4MNerNUKIODaS5rCXcraFEPRtKqlmgnlsGqtQ4UOIGgBq3AdSqzYC7u/AYP9iDeMCff6PPxF0fStT7BelwFEUfGNTcDaJMPSFK3BmidiDI3CWCtNCUOkaUVN+Ieu4eUaUeEiXuJFHjfhK0XmaZe0uUvlJ6os9Etd4GKj0npjjQSrj/RKneFLgXBUl0pKBu5G+4O0XpK2ETnSqq9bBVulZMcSBsqYNFLZjL4Asz/+bMeGTPDR3FjaaTUDrtK4HoHMbliabEeCJDdCLj8kRhD9hVjdMpoyjPC9G70pTOiZI8Y9k+dCUQncu4PJFt8bhSjE7lgjyX7X+4UozO5YI817Rl4CoTOk/B8izlQ2dXAtF5jKsTfURTODHkf/L8IzZzQPHhlHN8OOXUHk45kn/Z/GNovsDo75l/hOa6Jxe7jssGRLuj66Bdx9xPgs0C/ZcFXedU+hz2TqGfo6DrnKpyjmEMsFzO6SwGr1VKfab9iGb/J0guPy7LXyE5OskyabgKcGTEd8aEugUo3oYL/gj6tKD7cPQQjrwe7Y78z6SMR3HzyYjSJpMyOONMoBufEKLsVNyYVM5Y4fcZPWQE+Sxom/PAOTaes83v8h5FDNk2RNk2LrOdXvqcMlT4fUYPGUG28d1FygNnW767OElqy/OR0DAAsruTog6F3EpdcorifYU/VDiGB/m2kuEUqCDmaIlJz1FSIFKqCxeSjJIab055Bule0gdJITpAtzJ7HBmURFx8cpUCAxJGBjGHBjUdG0iRggPavcYPGmN8AG91PlOEUMsh4n3eRxFDaNJAjbkMSdowPmWw8PuMHjKCEBS0zXngrBvP2U5bh4+IQ8bzuDIJMut5G/KUKxPuBXsQDLJvbCsywwFwIUcg7QY+Ig4RyKPhJMgI5J3FU85MuBfsQTCIgLGtyAxHwIUUgU8p7zsyNJdlt17vlkKeGfw0K+9C744Wdi/jEQ1eP+XsfqIx2X4KepWuvyNdPLJlTUe23RNQ/obryHFlEyhu9nQcP+06IvqA68joA65xtiNmOtVZzlUOVPkpx6XgTiCKkHEKk3MRKxNzwFzKUTONQmec42cCBzEvBVxVlgKuDi4FmMqB1W+dTz/Kb51rgUJdeeu8ooqw1986ryTIRVB561yrXBy1t86lfFUVqIBIlcVUeYd6X1jXoRCuc+Svc7ivKzG+loG91tG8ziG8FnG7FsHasT4e5XvuKzfYyxvs852k/dSuiHv03dSO7MmKoW08yne9zXdXazAs0MkONpikilh9rcGkBLmIDzYYVjmohxsMyX1VOBgWWUnqn0zQCQ5mq1KLap9M0DLVrconE6S6rQoHA5PrYRlC7kdbt7hSMSGcxRcUTgpCWUl01Afb67PX9TWD68vQbn+Ul8z7tEjDXJ42LMbsUWXxuz+0+N1/ffG7zxP+PZeL4r2aUQtJXomnzXual8r7ylJ5f3CpvA8zrT2it0qv6gpdiWV5QUoE1xWr9n1t1b4/vGrfx0nUnpU/7nIlEJ3duDx5UeHceU2+r6zJ9wfX5HtsZ3tU+v/aum7USRzZsvt0V/T9/8vrQviTmb/EGPEQyfmd1uIlxTlX+nf2gRellZ5PanHdO6dYmz9FXC6otHJBqZU1d62KeW1M8WV+0VVis/vJ0/yTu3hSkcLrxhDe/VuPp3YUt7qMyCqgI7HrZeRpt8tI4y6XEdHelZF5j++svO3oJG5f2aGLWXlzZTyySbqjUkKIrGAAlpnLPtqrqVJ7AqvLjuKVunzxLl88Dr+A4zICUBhoAbYNDo58Y4Mzi6qzq3hUyhcQ1SETbH/HsdWf3UjsxMrChl+A4hvaziG3QO3NbEf8QXdX/H1tZ/ZNe0f2QrYhnxV5Wf8esuojoRUaAKA4xF7F5o5QGHVxMGx+aR8xc2qIeh8xi7lJpn3EzLlx5n3ELMRmmvYRE4cGa4gajnFqPc65/aZHeFPBFn6Zk3Jzxp3LjCr3x61b71xmMbdzuXOZNWrxeecyC9z2cajMiFygMlQmlf0AdxWfxEJnZ9C7ilnMHpF2FTPXbpF3FbNAvpF2FRNPDlKE33OYwEsMkaEYJ1dxztbiivIX/GL11PzSF6uZk7/oL1azmP0lfbGaOftL/mI1C9Ff0heriYO/GKL2a5zar3P2l/SsfCr2wi9zUvYX/EY2o8r9sb/ob2SzmP1FfiObNfKX/I1sFthfcOMAI/KXysYBUtlf8EPZJ7HQ2V/0h7JZzP6SPpTNXPtL/lA2C+Qv6UPZxJO/FOH3HCbwF0PkL8bJX5yzv7gi/SWs9KDLRIG9JqrsOFGVvhOTCPeJCdiDopqcKMrJj6JMrhRF9qb4jATKMArsA1FlNyA1eZZ+MFMqVFAvaz9LLpbWp7VwMCfJ1w6sT+skwuPq69M6BftdZX1ay8n70gMdLbAPHnqgI9MkT0wL4yeqyiV/PLAwrpMIr9QL41qt+GZlYVzL7KF6YVyq2U+D/Hst3OitUWCHjSr7LKnJbUkXnjstBo2vbe03DBixW4nY7DVi8RV509BQoxK/G2+YvgVv3L0z8mKakcaPwhf8WyYWVsIxXkHc/UG2/R+tLWT3l9hOQkx3f4LtLKSxv71GGAK0V+7BWvcvjdxjddujh5ToISfaQqL9Bzy2mGhCPNElzMnF9r2s4I/+/b//H63X5Vs="'),TimesRomanCompressed=JSON.parse('"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"'),SymbolCompressed="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",ZapfDingbatsCompressed="eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w==";var compressedJsonForFontName={Courier:CourierCompressed,"Courier-Bold":CourierBoldCompressed,"Courier-Oblique":CourierObliqueCompressed,"Courier-BoldOblique":CourierBoldObliqueCompressed,Helvetica:HelveticaCompressed,"Helvetica-Bold":HelveticaBoldCompressed,"Helvetica-Oblique":HelveticaObliqueCompressed,"Helvetica-BoldOblique":HelveticaBoldObliqueCompressed,"Times-Roman":TimesRomanCompressed,"Times-Bold":TimesBoldCompressed,"Times-Italic":TimesItalicCompressed,"Times-BoldItalic":TimesBoldItalicCompressed,Symbol:SymbolCompressed,ZapfDingbats:ZapfDingbatsCompressed},FontNames;(function(Ee){Ee.Courier="Courier",Ee.CourierBold="Courier-Bold",Ee.CourierOblique="Courier-Oblique",Ee.CourierBoldOblique="Courier-BoldOblique",Ee.Helvetica="Helvetica",Ee.HelveticaBold="Helvetica-Bold",Ee.HelveticaOblique="Helvetica-Oblique",Ee.HelveticaBoldOblique="Helvetica-BoldOblique",Ee.TimesRoman="Times-Roman",Ee.TimesRomanBold="Times-Bold",Ee.TimesRomanItalic="Times-Italic",Ee.TimesRomanBoldItalic="Times-BoldItalic",Ee.Symbol="Symbol",Ee.ZapfDingbats="ZapfDingbats"})(FontNames||(FontNames={}));var fontCache={},Font=(function(){function Ee(){var t=this;this.getWidthOfGlyph=function(n){return t.CharWidths[n]},this.getXAxisKerningForPair=function(n,Ce){return(t.KernPairXAmounts[n]||{})[Ce]}}return Ee.load=function(t){var n=fontCache[t];if(n)return n;var Ce=decompressJson(compressedJsonForFontName[t]),Te=Object.assign(new Ee,JSON.parse(Ce));return Te.CharWidths=Te.CharMetrics.reduce(function(Re,Be){return Re[Be.N]=Be.WX,Re},{}),Te.KernPairXAmounts=Te.KernPairs.reduce(function(Re,Be){var Ue=Be[0],Oe=Be[1],Me=Be[2];return Re[Ue]||(Re[Ue]={}),Re[Ue][Oe]=Me,Re},{}),fontCache[t]=Te,Te},Ee})();const AllEncodingsCompressed="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";var decompressedEncodings=decompressJson(AllEncodingsCompressed),allUnicodeMappings=JSON.parse(decompressedEncodings),Encoding=(function(){function Ee(t,n){var Ce=this;this.canEncodeUnicodeCodePoint=function(Te){return Te in Ce.unicodeMappings},this.encodeUnicodeCodePoint=function(Te){var Re=Ce.unicodeMappings[Te];if(!Re){var Be=String.fromCharCode(Te),Ue="0x"+padStart(Te.toString(16),4,"0"),Oe=Ce.name+' cannot encode "'+Be+'" ('+Ue+")";throw new Error(Oe)}return{code:Re[0],name:Re[1]}},this.name=t,this.supportedCodePoints=Object.keys(n).map(Number).sort(function(Te,Re){return Te-Re}),this.unicodeMappings=n}return Ee})(),Encodings={Symbol:new Encoding("Symbol",allUnicodeMappings.symbol),ZapfDingbats:new Encoding("ZapfDingbats",allUnicodeMappings.zapfdingbats),WinAnsi:new Encoding("WinAnsi",allUnicodeMappings.win1252)},values=function(Ee){return Object.keys(Ee).map(function(t){return Ee[t]})},StandardFontValues=values(FontNames),isStandardFont=function(Ee){return StandardFontValues.includes(Ee)},rectanglesAreEqual=function(Ee,t){return Ee.x===t.x&&Ee.y===t.y&&Ee.width===t.width&&Ee.height===t.height},backtick=function(Ee){return"`"+Ee+"`"},singleQuote=function(Ee){return"'"+Ee+"'"},formatValue=function(Ee){var t=typeof Ee;return t==="string"?singleQuote(Ee):t==="undefined"?backtick(Ee):Ee},createValueErrorMsg=function(Ee,t,n){for(var Ce=new Array(n.length),Te=0,Re=n.length;Te<Re;Te++){var Be=n[Te];Ce[Te]=formatValue(Be)}var Ue=Ce.join(" or ");return backtick(t)+" must be one of "+Ue+", but was actually "+formatValue(Ee)},assertIsOneOf=function(Ee,t,n){Array.isArray(n)||(n=values(n));for(var Ce=0,Te=n.length;Ce<Te;Ce++)if(Ee===n[Ce])return;throw new TypeError(createValueErrorMsg(Ee,t,n))},assertIsOneOfOrUndefined=function(Ee,t,n){Array.isArray(n)||(n=values(n)),assertIsOneOf(Ee,t,n.concat(void 0))},assertIsSubset=function(Ee,t,n){Array.isArray(n)||(n=values(n));for(var Ce=0,Te=Ee.length;Ce<Te;Ce++)assertIsOneOf(Ee[Ce],t,n)},getType=function(Ee){return Ee===null?"null":Ee===void 0?"undefined":typeof Ee=="string"?"string":isNaN(Ee)?"NaN":typeof Ee=="number"?"number":typeof Ee=="boolean"?"boolean":typeof Ee=="symbol"?"symbol":typeof Ee=="bigint"?"bigint":Ee.constructor&&Ee.constructor.name?Ee.constructor.name:Ee.name?Ee.name:Ee.constructor?String(Ee.constructor):String(Ee)},isType=function(Ee,t){return t==="null"?Ee===null:t==="undefined"?Ee===void 0:t==="string"?typeof Ee=="string":t==="number"?typeof Ee=="number"&&!isNaN(Ee):t==="boolean"?typeof Ee=="boolean":t==="symbol"?typeof Ee=="symbol":t==="bigint"?typeof Ee=="bigint":t===Date?Ee instanceof Date:t===Array?Ee instanceof Array:t===Uint8Array?Ee instanceof Uint8Array:t===ArrayBuffer?Ee instanceof ArrayBuffer:t===Function?Ee instanceof Function:Ee instanceof t[0]},createTypeErrorMsg=function(Ee,t,n){for(var Ce=new Array(n.length),Te=0,Re=n.length;Te<Re;Te++){var Be=n[Te];Be==="null"&&(Ce[Te]=backtick("null")),Be==="undefined"&&(Ce[Te]=backtick("undefined")),Be==="string"?Ce[Te]=backtick("string"):Be==="number"?Ce[Te]=backtick("number"):Be==="boolean"?Ce[Te]=backtick("boolean"):Be==="symbol"?Ce[Te]=backtick("symbol"):Be==="bigint"?Ce[Te]=backtick("bigint"):Be===Array?Ce[Te]=backtick("Array"):Be===Uint8Array?Ce[Te]=backtick("Uint8Array"):Be===ArrayBuffer?Ce[Te]=backtick("ArrayBuffer"):Ce[Te]=backtick(Be[1])}var Ue=Ce.join(" or ");return backtick(t)+" must be of type "+Ue+", but was actually of type "+backtick(getType(Ee))},assertIs=function(Ee,t,n){for(var Ce=0,Te=n.length;Ce<Te;Ce++)if(isType(Ee,n[Ce]))return;throw new TypeError(createTypeErrorMsg(Ee,t,n))},assertOrUndefined=function(Ee,t,n){assertIs(Ee,t,n.concat("undefined"))},assertEachIs=function(Ee,t,n){for(var Ce=0,Te=Ee.length;Ce<Te;Ce++)assertIs(Ee[Ce],t,n)},assertRange=function(Ee,t,n,Ce){if(assertIs(Ee,t,["number"]),assertIs(n,"min",["number"]),assertIs(Ce,"max",["number"]),Ce=Math.max(n,Ce),Ee<n||Ee>Ce)throw new Error(backtick(t)+" must be at least "+n+" and at most "+Ce+", but was actually "+Ee)},assertRangeOrUndefined=function(Ee,t,n,Ce){assertIs(Ee,t,["number","undefined"]),typeof Ee=="number"&&assertRange(Ee,t,n,Ce)},assertMultiple=function(Ee,t,n){if(assertIs(Ee,t,["number"]),Ee%n!==0)throw new Error(backtick(t)+" must be a multiple of "+n+", but was actually "+Ee)},assertInteger=function(Ee,t){if(!Number.isInteger(Ee))throw new Error(backtick(t)+" must be an integer, but was actually "+Ee)},assertPositive=function(Ee,t){if(![1,0].includes(Math.sign(Ee)))throw new Error(backtick(t)+" must be a positive number or 0, but was actually "+Ee)},pdfDocEncodingToUnicode=new Uint16Array(256);for(var idx$2=0;idx$2<256;idx$2++)pdfDocEncodingToUnicode[idx$2]=idx$2;pdfDocEncodingToUnicode[22]=toCharCode("");pdfDocEncodingToUnicode[24]=toCharCode("");pdfDocEncodingToUnicode[25]=toCharCode("");pdfDocEncodingToUnicode[26]=toCharCode("");pdfDocEncodingToUnicode[27]=toCharCode("");pdfDocEncodingToUnicode[28]=toCharCode("");pdfDocEncodingToUnicode[29]=toCharCode("");pdfDocEncodingToUnicode[30]=toCharCode("");pdfDocEncodingToUnicode[31]=toCharCode("");pdfDocEncodingToUnicode[127]=toCharCode("");pdfDocEncodingToUnicode[128]=toCharCode("");pdfDocEncodingToUnicode[129]=toCharCode("");pdfDocEncodingToUnicode[130]=toCharCode("");pdfDocEncodingToUnicode[131]=toCharCode("");pdfDocEncodingToUnicode[132]=toCharCode("");pdfDocEncodingToUnicode[133]=toCharCode("");pdfDocEncodingToUnicode[134]=toCharCode("");pdfDocEncodingToUnicode[135]=toCharCode("");pdfDocEncodingToUnicode[136]=toCharCode("");pdfDocEncodingToUnicode[137]=toCharCode("");pdfDocEncodingToUnicode[138]=toCharCode("");pdfDocEncodingToUnicode[139]=toCharCode("");pdfDocEncodingToUnicode[140]=toCharCode("");pdfDocEncodingToUnicode[141]=toCharCode("");pdfDocEncodingToUnicode[142]=toCharCode("");pdfDocEncodingToUnicode[143]=toCharCode("");pdfDocEncodingToUnicode[144]=toCharCode("");pdfDocEncodingToUnicode[145]=toCharCode("");pdfDocEncodingToUnicode[146]=toCharCode("");pdfDocEncodingToUnicode[147]=toCharCode("");pdfDocEncodingToUnicode[148]=toCharCode("");pdfDocEncodingToUnicode[149]=toCharCode("");pdfDocEncodingToUnicode[150]=toCharCode("");pdfDocEncodingToUnicode[151]=toCharCode("");pdfDocEncodingToUnicode[152]=toCharCode("");pdfDocEncodingToUnicode[153]=toCharCode("");pdfDocEncodingToUnicode[154]=toCharCode("");pdfDocEncodingToUnicode[155]=toCharCode("");pdfDocEncodingToUnicode[156]=toCharCode("");pdfDocEncodingToUnicode[157]=toCharCode("");pdfDocEncodingToUnicode[158]=toCharCode("");pdfDocEncodingToUnicode[159]=toCharCode("");pdfDocEncodingToUnicode[160]=toCharCode("");pdfDocEncodingToUnicode[173]=toCharCode("");var pdfDocEncodingDecode=function(Ee){for(var t=new Array(Ee.length),n=0,Ce=Ee.length;n<Ce;n++)t[n]=pdfDocEncodingToUnicode[Ee[n]];return String.fromCodePoint.apply(String,t)},Cache=(function(){function Ee(t){this.populate=t,this.value=void 0}return Ee.prototype.getValue=function(){return this.value},Ee.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},Ee.prototype.invalidate=function(){this.value=void 0},Ee.populatedBy=function(t){return new Ee(t)},Ee})(),MethodNotImplementedError=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=this,Re="Method "+n+"."+Ce+"() not implemented";return Te=Ee.call(this,Re)||this,Te}return t})(Error),PrivateConstructorError=(function(Ee){__extends(t,Ee);function t(n){var Ce=this,Te="Cannot construct "+n+" - it has a private constructor";return Ce=Ee.call(this,Te)||this,Ce}return t})(Error),UnexpectedObjectTypeError=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=this,Re=function(Oe){var Me,Qe;return(Me=Oe==null?void 0:Oe.name)!==null&&Me!==void 0?Me:(Qe=Oe==null?void 0:Oe.constructor)===null||Qe===void 0?void 0:Qe.name},Be=Array.isArray(n)?n.map(Re):[Re(n)],Ue="Expected instance of "+Be.join(" or ")+", "+("but got instance of "+(Ce&&Re(Ce)));return Te=Ee.call(this,Ue)||this,Te}return t})(Error),UnsupportedEncodingError=(function(Ee){__extends(t,Ee);function t(n){var Ce=this,Te=n+" stream encoding not supported";return Ce=Ee.call(this,Te)||this,Ce}return t})(Error),ReparseError=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=this,Re="Cannot call "+n+"."+Ce+"() more than once";return Te=Ee.call(this,Re)||this,Te}return t})(Error);(function(Ee){__extends(t,Ee);function t(n){var Ce=this,Te="Missing catalog (ref="+n+")";return Ce=Ee.call(this,Te)||this,Ce}return t})(Error);var MissingPageContentsEmbeddingError=(function(Ee){__extends(t,Ee);function t(){var n=this,Ce="Can't embed page with missing Contents";return n=Ee.call(this,Ce)||this,n}return t})(Error),UnrecognizedStreamTypeError=(function(Ee){__extends(t,Ee);function t(n){var Ce,Te,Re,Be=this,Ue=(Re=(Te=(Ce=n==null?void 0:n.contructor)===null||Ce===void 0?void 0:Ce.name)!==null&&Te!==void 0?Te:n==null?void 0:n.name)!==null&&Re!==void 0?Re:n,Oe="Unrecognized stream type: "+Ue;return Be=Ee.call(this,Oe)||this,Be}return t})(Error),PageEmbeddingMismatchedContextError=(function(Ee){__extends(t,Ee);function t(){var n=this,Ce="Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.";return n=Ee.call(this,Ce)||this,n}return t})(Error),PDFArrayIsNotRectangleError=(function(Ee){__extends(t,Ee);function t(n){var Ce=this,Te="Attempted to convert PDFArray with "+n+" elements to rectangle, but must have exactly 4 elements.";return Ce=Ee.call(this,Te)||this,Ce}return t})(Error),InvalidPDFDateStringError=(function(Ee){__extends(t,Ee);function t(n){var Ce=this,Te='Attempted to convert "'+n+'" to a date, but it does not match the PDF date string format.';return Ce=Ee.call(this,Te)||this,Ce}return t})(Error),InvalidTargetIndexError=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=this,Re="Invalid targetIndex specified: targetIndex="+n+" must be less than Count="+Ce;return Te=Ee.call(this,Re)||this,Te}return t})(Error),CorruptPageTreeError=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=this,Re="Failed to "+Ce+" at targetIndex="+n+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return Te=Ee.call(this,Re)||this,Te}return t})(Error),IndexOutOfBoundsError=(function(Ee){__extends(t,Ee);function t(n,Ce,Te){var Re=this,Be="index should be at least "+Ce+" and at most "+Te+", but was actually "+n;return Re=Ee.call(this,Be)||this,Re}return t})(Error),InvalidAcroFieldValueError=(function(Ee){__extends(t,Ee);function t(){var n=this,Ce="Attempted to set invalid field value";return n=Ee.call(this,Ce)||this,n}return t})(Error),MultiSelectValueError=(function(Ee){__extends(t,Ee);function t(){var n=this,Ce="Attempted to select multiple values for single-select field";return n=Ee.call(this,Ce)||this,n}return t})(Error),MissingDAEntryError=(function(Ee){__extends(t,Ee);function t(n){var Ce=this,Te="No /DA (default appearance) entry found for field: "+n;return Ce=Ee.call(this,Te)||this,Ce}return t})(Error),MissingTfOperatorError=(function(Ee){__extends(t,Ee);function t(n){var Ce=this,Te="No Tf operator found for DA of field: "+n;return Ce=Ee.call(this,Te)||this,Ce}return t})(Error),NumberParsingError=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=this,Re="Failed to parse number "+("(line:"+n.line+" col:"+n.column+" offset="+n.offset+'): "'+Ce+'"');return Te=Ee.call(this,Re)||this,Te}return t})(Error),PDFParsingError=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=this,Re="Failed to parse PDF document "+("(line:"+n.line+" col:"+n.column+" offset="+n.offset+"): "+Ce);return Te=Ee.call(this,Re)||this,Te}return t})(Error),NextByteAssertionError=(function(Ee){__extends(t,Ee);function t(n,Ce,Te){var Re=this,Be="Expected next byte to be "+Ce+" but it was actually "+Te;return Re=Ee.call(this,n,Be)||this,Re}return t})(PDFParsingError),PDFObjectParsingError=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=this,Re="Failed to parse PDF object starting with the following byte: "+Ce;return Te=Ee.call(this,n,Re)||this,Te}return t})(PDFParsingError),PDFInvalidObjectParsingError=(function(Ee){__extends(t,Ee);function t(n){var Ce=this,Te="Failed to parse invalid PDF object";return Ce=Ee.call(this,n,Te)||this,Ce}return t})(PDFParsingError),PDFStreamParsingError=(function(Ee){__extends(t,Ee);function t(n){var Ce=this,Te="Failed to parse PDF stream";return Ce=Ee.call(this,n,Te)||this,Ce}return t})(PDFParsingError),UnbalancedParenthesisError=(function(Ee){__extends(t,Ee);function t(n){var Ce=this,Te="Failed to parse PDF literal string due to unbalanced parenthesis";return Ce=Ee.call(this,n,Te)||this,Ce}return t})(PDFParsingError),StalledParserError=(function(Ee){__extends(t,Ee);function t(n){var Ce=this,Te="Parser stalled";return Ce=Ee.call(this,n,Te)||this,Ce}return t})(PDFParsingError),MissingPDFHeaderError=(function(Ee){__extends(t,Ee);function t(n){var Ce=this,Te="No PDF header found";return Ce=Ee.call(this,n,Te)||this,Ce}return t})(PDFParsingError),MissingKeywordError=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=this,Re="Did not find expected keyword '"+arrayAsString(Ce)+"'";return Te=Ee.call(this,n,Re)||this,Te}return t})(PDFParsingError),CharCodes;(function(Ee){Ee[Ee.Null=0]="Null",Ee[Ee.Backspace=8]="Backspace",Ee[Ee.Tab=9]="Tab",Ee[Ee.Newline=10]="Newline",Ee[Ee.FormFeed=12]="FormFeed",Ee[Ee.CarriageReturn=13]="CarriageReturn",Ee[Ee.Space=32]="Space",Ee[Ee.ExclamationPoint=33]="ExclamationPoint",Ee[Ee.Hash=35]="Hash",Ee[Ee.Percent=37]="Percent",Ee[Ee.LeftParen=40]="LeftParen",Ee[Ee.RightParen=41]="RightParen",Ee[Ee.Plus=43]="Plus",Ee[Ee.Minus=45]="Minus",Ee[Ee.Dash=45]="Dash",Ee[Ee.Period=46]="Period",Ee[Ee.ForwardSlash=47]="ForwardSlash",Ee[Ee.Zero=48]="Zero",Ee[Ee.One=49]="One",Ee[Ee.Two=50]="Two",Ee[Ee.Three=51]="Three",Ee[Ee.Four=52]="Four",Ee[Ee.Five=53]="Five",Ee[Ee.Six=54]="Six",Ee[Ee.Seven=55]="Seven",Ee[Ee.Eight=56]="Eight",Ee[Ee.Nine=57]="Nine",Ee[Ee.LessThan=60]="LessThan",Ee[Ee.GreaterThan=62]="GreaterThan",Ee[Ee.A=65]="A",Ee[Ee.D=68]="D",Ee[Ee.E=69]="E",Ee[Ee.F=70]="F",Ee[Ee.O=79]="O",Ee[Ee.P=80]="P",Ee[Ee.R=82]="R",Ee[Ee.LeftSquareBracket=91]="LeftSquareBracket",Ee[Ee.BackSlash=92]="BackSlash",Ee[Ee.RightSquareBracket=93]="RightSquareBracket",Ee[Ee.a=97]="a",Ee[Ee.b=98]="b",Ee[Ee.d=100]="d",Ee[Ee.e=101]="e",Ee[Ee.f=102]="f",Ee[Ee.i=105]="i",Ee[Ee.j=106]="j",Ee[Ee.l=108]="l",Ee[Ee.m=109]="m",Ee[Ee.n=110]="n",Ee[Ee.o=111]="o",Ee[Ee.r=114]="r",Ee[Ee.s=115]="s",Ee[Ee.t=116]="t",Ee[Ee.u=117]="u",Ee[Ee.x=120]="x",Ee[Ee.LeftCurly=123]="LeftCurly",Ee[Ee.RightCurly=125]="RightCurly",Ee[Ee.Tilde=126]="Tilde"})(CharCodes||(CharCodes={}));const CharCodes$1=CharCodes;var common$1={},hasRequiredCommon$1;function requireCommon$1(){return hasRequiredCommon$1||(hasRequiredCommon$1=1,(function(Ee){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(Re,Be){return Object.prototype.hasOwnProperty.call(Re,Be)}Ee.assign=function(Re){for(var Be=Array.prototype.slice.call(arguments,1);Be.length;){var Ue=Be.shift();if(Ue){if(typeof Ue!="object")throw new TypeError(Ue+"must be non-object");for(var Oe in Ue)n(Ue,Oe)&&(Re[Oe]=Ue[Oe])}}return Re},Ee.shrinkBuf=function(Re,Be){return Re.length===Be?Re:Re.subarray?Re.subarray(0,Be):(Re.length=Be,Re)};var Ce={arraySet:function(Re,Be,Ue,Oe,Me){if(Be.subarray&&Re.subarray){Re.set(Be.subarray(Ue,Ue+Oe),Me);return}for(var Qe=0;Qe<Oe;Qe++)Re[Me+Qe]=Be[Ue+Qe]},flattenChunks:function(Re){var Be,Ue,Oe,Me,Qe,Ke;for(Oe=0,Be=0,Ue=Re.length;Be<Ue;Be++)Oe+=Re[Be].length;for(Ke=new Uint8Array(Oe),Me=0,Be=0,Ue=Re.length;Be<Ue;Be++)Qe=Re[Be],Ke.set(Qe,Me),Me+=Qe.length;return Ke}},Te={arraySet:function(Re,Be,Ue,Oe,Me){for(var Qe=0;Qe<Oe;Qe++)Re[Me+Qe]=Be[Ue+Qe]},flattenChunks:function(Re){return[].concat.apply([],Re)}};Ee.setTyped=function(Re){Re?(Ee.Buf8=Uint8Array,Ee.Buf16=Uint16Array,Ee.Buf32=Int32Array,Ee.assign(Ee,Ce)):(Ee.Buf8=Array,Ee.Buf16=Array,Ee.Buf32=Array,Ee.assign(Ee,Te))},Ee.setTyped(t)})(common$1)),common$1}var deflate$3={},deflate$2={},trees$1={},hasRequiredTrees$1;function requireTrees$1(){if(hasRequiredTrees$1)return trees$1;hasRequiredTrees$1=1;var Ee=requireCommon$1(),t=4,n=0,Ce=1,Te=2;function Re(dr){for(var An=dr.length;--An>=0;)dr[An]=0}var Be=0,Ue=1,Oe=2,Me=3,Qe=258,Ke=29,Ge=256,qe=Ge+1+Ke,Xe=30,tr=19,Je=2*qe+1,Ye=15,lr=16,cr=7,hr=256,ur=16,fr=17,er=18,nr=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ir=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],mr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ar=512,or=new Array((qe+2)*2);Re(or);var Tr=new Array(Xe*2);Re(Tr);var Ur=new Array(Ar);Re(Ur);var Fr=new Array(Qe-Me+1);Re(Fr);var Er=new Array(Ke);Re(Er);var jr=new Array(Xe);Re(jr);function Nr(dr,An,vn,Sn,wr){this.static_tree=dr,this.extra_bits=An,this.extra_base=vn,this.elems=Sn,this.max_length=wr,this.has_stree=dr&&dr.length}var Br,Mr,_r;function gr(dr,An){this.dyn_tree=dr,this.max_code=0,this.stat_desc=An}function yr(dr){return dr<256?Ur[dr]:Ur[256+(dr>>>7)]}function Rr(dr,An){dr.pending_buf[dr.pending++]=An&255,dr.pending_buf[dr.pending++]=An>>>8&255}function Ir(dr,An,vn){dr.bi_valid>lr-vn?(dr.bi_buf|=An<<dr.bi_valid&65535,Rr(dr,dr.bi_buf),dr.bi_buf=An>>lr-dr.bi_valid,dr.bi_valid+=vn-lr):(dr.bi_buf|=An<<dr.bi_valid&65535,dr.bi_valid+=vn)}function Qr(dr,An,vn){Ir(dr,vn[An*2],vn[An*2+1])}function Vr(dr,An){var vn=0;do vn|=dr&1,dr>>>=1,vn<<=1;while(--An>0);return vn>>>1}function Wr(dr){dr.bi_valid===16?(Rr(dr,dr.bi_buf),dr.bi_buf=0,dr.bi_valid=0):dr.bi_valid>=8&&(dr.pending_buf[dr.pending++]=dr.bi_buf&255,dr.bi_buf>>=8,dr.bi_valid-=8)}function mn(dr,An){var vn=An.dyn_tree,Sn=An.max_code,wr=An.stat_desc.static_tree,Or=An.stat_desc.has_stree,Ze=An.stat_desc.extra_bits,Jr=An.stat_desc.extra_base,Mn=An.stat_desc.max_length,ze,Cr,kr,rr,xr,Kr,Dn=0;for(rr=0;rr<=Ye;rr++)dr.bl_count[rr]=0;for(vn[dr.heap[dr.heap_max]*2+1]=0,ze=dr.heap_max+1;ze<Je;ze++)Cr=dr.heap[ze],rr=vn[vn[Cr*2+1]*2+1]+1,rr>Mn&&(rr=Mn,Dn++),vn[Cr*2+1]=rr,!(Cr>Sn)&&(dr.bl_count[rr]++,xr=0,Cr>=Jr&&(xr=Ze[Cr-Jr]),Kr=vn[Cr*2],dr.opt_len+=Kr*(rr+xr),Or&&(dr.static_len+=Kr*(wr[Cr*2+1]+xr)));if(Dn!==0){do{for(rr=Mn-1;dr.bl_count[rr]===0;)rr--;dr.bl_count[rr]--,dr.bl_count[rr+1]+=2,dr.bl_count[Mn]--,Dn-=2}while(Dn>0);for(rr=Mn;rr!==0;rr--)for(Cr=dr.bl_count[rr];Cr!==0;)kr=dr.heap[--ze],!(kr>Sn)&&(vn[kr*2+1]!==rr&&(dr.opt_len+=(rr-vn[kr*2+1])*vn[kr*2],vn[kr*2+1]=rr),Cr--)}}function gn(dr,An,vn){var Sn=new Array(Ye+1),wr=0,Or,Ze;for(Or=1;Or<=Ye;Or++)Sn[Or]=wr=wr+vn[Or-1]<<1;for(Ze=0;Ze<=An;Ze++){var Jr=dr[Ze*2+1];Jr!==0&&(dr[Ze*2]=Vr(Sn[Jr]++,Jr))}}function fn(){var dr,An,vn,Sn,wr,Or=new Array(Ye+1);for(vn=0,Sn=0;Sn<Ke-1;Sn++)for(Er[Sn]=vn,dr=0;dr<1<<nr[Sn];dr++)Fr[vn++]=Sn;for(Fr[vn-1]=Sn,wr=0,Sn=0;Sn<16;Sn++)for(jr[Sn]=wr,dr=0;dr<1<<ir[Sn];dr++)Ur[wr++]=Sn;for(wr>>=7;Sn<Xe;Sn++)for(jr[Sn]=wr<<7,dr=0;dr<1<<ir[Sn]-7;dr++)Ur[256+wr++]=Sn;for(An=0;An<=Ye;An++)Or[An]=0;for(dr=0;dr<=143;)or[dr*2+1]=8,dr++,Or[8]++;for(;dr<=255;)or[dr*2+1]=9,dr++,Or[9]++;for(;dr<=279;)or[dr*2+1]=7,dr++,Or[7]++;for(;dr<=287;)or[dr*2+1]=8,dr++,Or[8]++;for(gn(or,qe+1,Or),dr=0;dr<Xe;dr++)Tr[dr*2+1]=5,Tr[dr*2]=Vr(dr,5);Br=new Nr(or,nr,Ge+1,qe,Ye),Mr=new Nr(Tr,ir,0,Xe,Ye),_r=new Nr(new Array(0),mr,0,tr,cr)}function Fn(dr){var An;for(An=0;An<qe;An++)dr.dyn_ltree[An*2]=0;for(An=0;An<Xe;An++)dr.dyn_dtree[An*2]=0;for(An=0;An<tr;An++)dr.bl_tree[An*2]=0;dr.dyn_ltree[hr*2]=1,dr.opt_len=dr.static_len=0,dr.last_lit=dr.matches=0}function wn(dr){dr.bi_valid>8?Rr(dr,dr.bi_buf):dr.bi_valid>0&&(dr.pending_buf[dr.pending++]=dr.bi_buf),dr.bi_buf=0,dr.bi_valid=0}function Yr(dr,An,vn,Sn){wn(dr),Rr(dr,vn),Rr(dr,~vn),Ee.arraySet(dr.pending_buf,dr.window,An,vn,dr.pending),dr.pending+=vn}function Rn(dr,An,vn,Sn){var wr=An*2,Or=vn*2;return dr[wr]<dr[Or]||dr[wr]===dr[Or]&&Sn[An]<=Sn[vn]}function bn(dr,An,vn){for(var Sn=dr.heap[vn],wr=vn<<1;wr<=dr.heap_len&&(wr<dr.heap_len&&Rn(An,dr.heap[wr+1],dr.heap[wr],dr.depth)&&wr++,!Rn(An,Sn,dr.heap[wr],dr.depth));)dr.heap[vn]=dr.heap[wr],vn=wr,wr<<=1;dr.heap[vn]=Sn}function zr(dr,An,vn){var Sn,wr,Or=0,Ze,Jr;if(dr.last_lit!==0)do Sn=dr.pending_buf[dr.d_buf+Or*2]<<8|dr.pending_buf[dr.d_buf+Or*2+1],wr=dr.pending_buf[dr.l_buf+Or],Or++,Sn===0?Qr(dr,wr,An):(Ze=Fr[wr],Qr(dr,Ze+Ge+1,An),Jr=nr[Ze],Jr!==0&&(wr-=Er[Ze],Ir(dr,wr,Jr)),Sn--,Ze=yr(Sn),Qr(dr,Ze,vn),Jr=ir[Ze],Jr!==0&&(Sn-=jr[Ze],Ir(dr,Sn,Jr)));while(Or<dr.last_lit);Qr(dr,hr,An)}function $r(dr,An){var vn=An.dyn_tree,Sn=An.stat_desc.static_tree,wr=An.stat_desc.has_stree,Or=An.stat_desc.elems,Ze,Jr,Mn=-1,ze;for(dr.heap_len=0,dr.heap_max=Je,Ze=0;Ze<Or;Ze++)vn[Ze*2]!==0?(dr.heap[++dr.heap_len]=Mn=Ze,dr.depth[Ze]=0):vn[Ze*2+1]=0;for(;dr.heap_len<2;)ze=dr.heap[++dr.heap_len]=Mn<2?++Mn:0,vn[ze*2]=1,dr.depth[ze]=0,dr.opt_len--,wr&&(dr.static_len-=Sn[ze*2+1]);for(An.max_code=Mn,Ze=dr.heap_len>>1;Ze>=1;Ze--)bn(dr,vn,Ze);ze=Or;do Ze=dr.heap[1],dr.heap[1]=dr.heap[dr.heap_len--],bn(dr,vn,1),Jr=dr.heap[1],dr.heap[--dr.heap_max]=Ze,dr.heap[--dr.heap_max]=Jr,vn[ze*2]=vn[Ze*2]+vn[Jr*2],dr.depth[ze]=(dr.depth[Ze]>=dr.depth[Jr]?dr.depth[Ze]:dr.depth[Jr])+1,vn[Ze*2+1]=vn[Jr*2+1]=ze,dr.heap[1]=ze++,bn(dr,vn,1);while(dr.heap_len>=2);dr.heap[--dr.heap_max]=dr.heap[1],mn(dr,An),gn(vn,Mn,dr.bl_count)}function Bn(dr,An,vn){var Sn,wr=-1,Or,Ze=An[1],Jr=0,Mn=7,ze=4;for(Ze===0&&(Mn=138,ze=3),An[(vn+1)*2+1]=65535,Sn=0;Sn<=vn;Sn++)Or=Ze,Ze=An[(Sn+1)*2+1],!(++Jr<Mn&&Or===Ze)&&(Jr<ze?dr.bl_tree[Or*2]+=Jr:Or!==0?(Or!==wr&&dr.bl_tree[Or*2]++,dr.bl_tree[ur*2]++):Jr<=10?dr.bl_tree[fr*2]++:dr.bl_tree[er*2]++,Jr=0,wr=Or,Ze===0?(Mn=138,ze=3):Or===Ze?(Mn=6,ze=3):(Mn=7,ze=4))}function Pn(dr,An,vn){var Sn,wr=-1,Or,Ze=An[1],Jr=0,Mn=7,ze=4;for(Ze===0&&(Mn=138,ze=3),Sn=0;Sn<=vn;Sn++)if(Or=Ze,Ze=An[(Sn+1)*2+1],!(++Jr<Mn&&Or===Ze)){if(Jr<ze)do Qr(dr,Or,dr.bl_tree);while(--Jr!==0);else Or!==0?(Or!==wr&&(Qr(dr,Or,dr.bl_tree),Jr--),Qr(dr,ur,dr.bl_tree),Ir(dr,Jr-3,2)):Jr<=10?(Qr(dr,fr,dr.bl_tree),Ir(dr,Jr-3,3)):(Qr(dr,er,dr.bl_tree),Ir(dr,Jr-11,7));Jr=0,wr=Or,Ze===0?(Mn=138,ze=3):Or===Ze?(Mn=6,ze=3):(Mn=7,ze=4)}}function jn(dr){var An;for(Bn(dr,dr.dyn_ltree,dr.l_desc.max_code),Bn(dr,dr.dyn_dtree,dr.d_desc.max_code),$r(dr,dr.bl_desc),An=tr-1;An>=3&&dr.bl_tree[$e[An]*2+1]===0;An--);return dr.opt_len+=3*(An+1)+5+5+4,An}function Kn(dr,An,vn,Sn){var wr;for(Ir(dr,An-257,5),Ir(dr,vn-1,5),Ir(dr,Sn-4,4),wr=0;wr<Sn;wr++)Ir(dr,dr.bl_tree[$e[wr]*2+1],3);Pn(dr,dr.dyn_ltree,An-1),Pn(dr,dr.dyn_dtree,vn-1)}function Xn(dr){var An=4093624447,vn;for(vn=0;vn<=31;vn++,An>>>=1)if(An&1&&dr.dyn_ltree[vn*2]!==0)return n;if(dr.dyn_ltree[18]!==0||dr.dyn_ltree[20]!==0||dr.dyn_ltree[26]!==0)return Ce;for(vn=32;vn<Ge;vn++)if(dr.dyn_ltree[vn*2]!==0)return Ce;return n}var In=!1;function $n(dr){In||(fn(),In=!0),dr.l_desc=new gr(dr.dyn_ltree,Br),dr.d_desc=new gr(dr.dyn_dtree,Mr),dr.bl_desc=new gr(dr.bl_tree,_r),dr.bi_buf=0,dr.bi_valid=0,Fn(dr)}function Yn(dr,An,vn,Sn){Ir(dr,(Be<<1)+(Sn?1:0),3),Yr(dr,An,vn)}function si(dr){Ir(dr,Ue<<1,3),Qr(dr,hr,or),Wr(dr)}function ai(dr,An,vn,Sn){var wr,Or,Ze=0;dr.level>0?(dr.strm.data_type===Te&&(dr.strm.data_type=Xn(dr)),$r(dr,dr.l_desc),$r(dr,dr.d_desc),Ze=jn(dr),wr=dr.opt_len+3+7>>>3,Or=dr.static_len+3+7>>>3,Or<=wr&&(wr=Or)):wr=Or=vn+5,vn+4<=wr&&An!==-1?Yn(dr,An,vn,Sn):dr.strategy===t||Or===wr?(Ir(dr,(Ue<<1)+(Sn?1:0),3),zr(dr,or,Tr)):(Ir(dr,(Oe<<1)+(Sn?1:0),3),Kn(dr,dr.l_desc.max_code+1,dr.d_desc.max_code+1,Ze+1),zr(dr,dr.dyn_ltree,dr.dyn_dtree)),Fn(dr),Sn&&wn(dr)}function Ci(dr,An,vn){return dr.pending_buf[dr.d_buf+dr.last_lit*2]=An>>>8&255,dr.pending_buf[dr.d_buf+dr.last_lit*2+1]=An&255,dr.pending_buf[dr.l_buf+dr.last_lit]=vn&255,dr.last_lit++,An===0?dr.dyn_ltree[vn*2]++:(dr.matches++,An--,dr.dyn_ltree[(Fr[vn]+Ge+1)*2]++,dr.dyn_dtree[yr(An)*2]++),dr.last_lit===dr.lit_bufsize-1}return trees$1._tr_init=$n,trees$1._tr_stored_block=Yn,trees$1._tr_flush_block=ai,trees$1._tr_tally=Ci,trees$1._tr_align=si,trees$1}var adler32_1$1,hasRequiredAdler32$1;function requireAdler32$1(){if(hasRequiredAdler32$1)return adler32_1$1;hasRequiredAdler32$1=1;function Ee(t,n,Ce,Te){for(var Re=t&65535|0,Be=t>>>16&65535|0,Ue=0;Ce!==0;){Ue=Ce>2e3?2e3:Ce,Ce-=Ue;do Re=Re+n[Te++]|0,Be=Be+Re|0;while(--Ue);Re%=65521,Be%=65521}return Re|Be<<16|0}return adler32_1$1=Ee,adler32_1$1}var crc32_1$1,hasRequiredCrc32$1;function requireCrc32$1(){if(hasRequiredCrc32$1)return crc32_1$1;hasRequiredCrc32$1=1;function Ee(){for(var Ce,Te=[],Re=0;Re<256;Re++){Ce=Re;for(var Be=0;Be<8;Be++)Ce=Ce&1?3988292384^Ce>>>1:Ce>>>1;Te[Re]=Ce}return Te}var t=Ee();function n(Ce,Te,Re,Be){var Ue=t,Oe=Be+Re;Ce^=-1;for(var Me=Be;Me<Oe;Me++)Ce=Ce>>>8^Ue[(Ce^Te[Me])&255];return Ce^-1}return crc32_1$1=n,crc32_1$1}var messages$1,hasRequiredMessages$1;function requireMessages$1(){return hasRequiredMessages$1||(hasRequiredMessages$1=1,messages$1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),messages$1}var hasRequiredDeflate$3;function requireDeflate$3(){if(hasRequiredDeflate$3)return deflate$2;hasRequiredDeflate$3=1;var Ee=requireCommon$1(),t=requireTrees$1(),n=requireAdler32$1(),Ce=requireCrc32$1(),Te=requireMessages$1(),Re=0,Be=1,Ue=3,Oe=4,Me=5,Qe=0,Ke=1,Ge=-2,qe=-3,Xe=-5,tr=-1,Je=1,Ye=2,lr=3,cr=4,hr=0,ur=2,fr=8,er=9,nr=15,ir=8,mr=29,$e=256,Ar=$e+1+mr,or=30,Tr=19,Ur=2*Ar+1,Fr=15,Er=3,jr=258,Nr=jr+Er+1,Br=32,Mr=42,_r=69,gr=73,yr=91,Rr=103,Ir=113,Qr=666,Vr=1,Wr=2,mn=3,gn=4,fn=3;function Fn(ze,Cr){return ze.msg=Te[Cr],Cr}function wn(ze){return(ze<<1)-(ze>4?9:0)}function Yr(ze){for(var Cr=ze.length;--Cr>=0;)ze[Cr]=0}function Rn(ze){var Cr=ze.state,kr=Cr.pending;kr>ze.avail_out&&(kr=ze.avail_out),kr!==0&&(Ee.arraySet(ze.output,Cr.pending_buf,Cr.pending_out,kr,ze.next_out),ze.next_out+=kr,Cr.pending_out+=kr,ze.total_out+=kr,ze.avail_out-=kr,Cr.pending-=kr,Cr.pending===0&&(Cr.pending_out=0))}function bn(ze,Cr){t._tr_flush_block(ze,ze.block_start>=0?ze.block_start:-1,ze.strstart-ze.block_start,Cr),ze.block_start=ze.strstart,Rn(ze.strm)}function zr(ze,Cr){ze.pending_buf[ze.pending++]=Cr}function $r(ze,Cr){ze.pending_buf[ze.pending++]=Cr>>>8&255,ze.pending_buf[ze.pending++]=Cr&255}function Bn(ze,Cr,kr,rr){var xr=ze.avail_in;return xr>rr&&(xr=rr),xr===0?0:(ze.avail_in-=xr,Ee.arraySet(Cr,ze.input,ze.next_in,xr,kr),ze.state.wrap===1?ze.adler=n(ze.adler,Cr,xr,kr):ze.state.wrap===2&&(ze.adler=Ce(ze.adler,Cr,xr,kr)),ze.next_in+=xr,ze.total_in+=xr,xr)}function Pn(ze,Cr){var kr=ze.max_chain_length,rr=ze.strstart,xr,Kr,Dn=ze.prev_length,Gr=ze.nice_match,Hr=ze.strstart>ze.w_size-Nr?ze.strstart-(ze.w_size-Nr):0,dn=ze.window,Qn=ze.w_mask,kn=ze.prev,On=ze.strstart+jr,zn=dn[rr+Dn-1],hi=dn[rr+Dn];ze.prev_length>=ze.good_match&&(kr>>=2),Gr>ze.lookahead&&(Gr=ze.lookahead);do if(xr=Cr,!(dn[xr+Dn]!==hi||dn[xr+Dn-1]!==zn||dn[xr]!==dn[rr]||dn[++xr]!==dn[rr+1])){rr+=2,xr++;do;while(dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&rr<On);if(Kr=jr-(On-rr),rr=On-jr,Kr>Dn){if(ze.match_start=Cr,Dn=Kr,Kr>=Gr)break;zn=dn[rr+Dn-1],hi=dn[rr+Dn]}}while((Cr=kn[Cr&Qn])>Hr&&--kr!==0);return Dn<=ze.lookahead?Dn:ze.lookahead}function jn(ze){var Cr=ze.w_size,kr,rr,xr,Kr,Dn;do{if(Kr=ze.window_size-ze.lookahead-ze.strstart,ze.strstart>=Cr+(Cr-Nr)){Ee.arraySet(ze.window,ze.window,Cr,Cr,0),ze.match_start-=Cr,ze.strstart-=Cr,ze.block_start-=Cr,rr=ze.hash_size,kr=rr;do xr=ze.head[--kr],ze.head[kr]=xr>=Cr?xr-Cr:0;while(--rr);rr=Cr,kr=rr;do xr=ze.prev[--kr],ze.prev[kr]=xr>=Cr?xr-Cr:0;while(--rr);Kr+=Cr}if(ze.strm.avail_in===0)break;if(rr=Bn(ze.strm,ze.window,ze.strstart+ze.lookahead,Kr),ze.lookahead+=rr,ze.lookahead+ze.insert>=Er)for(Dn=ze.strstart-ze.insert,ze.ins_h=ze.window[Dn],ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[Dn+1])&ze.hash_mask;ze.insert&&(ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[Dn+Er-1])&ze.hash_mask,ze.prev[Dn&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=Dn,Dn++,ze.insert--,!(ze.lookahead+ze.insert<Er)););}while(ze.lookahead<Nr&&ze.strm.avail_in!==0)}function Kn(ze,Cr){var kr=65535;for(kr>ze.pending_buf_size-5&&(kr=ze.pending_buf_size-5);;){if(ze.lookahead<=1){if(jn(ze),ze.lookahead===0&&Cr===Re)return Vr;if(ze.lookahead===0)break}ze.strstart+=ze.lookahead,ze.lookahead=0;var rr=ze.block_start+kr;if((ze.strstart===0||ze.strstart>=rr)&&(ze.lookahead=ze.strstart-rr,ze.strstart=rr,bn(ze,!1),ze.strm.avail_out===0)||ze.strstart-ze.block_start>=ze.w_size-Nr&&(bn(ze,!1),ze.strm.avail_out===0))return Vr}return ze.insert=0,Cr===Oe?(bn(ze,!0),ze.strm.avail_out===0?mn:gn):(ze.strstart>ze.block_start&&(bn(ze,!1),ze.strm.avail_out===0),Vr)}function Xn(ze,Cr){for(var kr,rr;;){if(ze.lookahead<Nr){if(jn(ze),ze.lookahead<Nr&&Cr===Re)return Vr;if(ze.lookahead===0)break}if(kr=0,ze.lookahead>=Er&&(ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[ze.strstart+Er-1])&ze.hash_mask,kr=ze.prev[ze.strstart&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=ze.strstart),kr!==0&&ze.strstart-kr<=ze.w_size-Nr&&(ze.match_length=Pn(ze,kr)),ze.match_length>=Er)if(rr=t._tr_tally(ze,ze.strstart-ze.match_start,ze.match_length-Er),ze.lookahead-=ze.match_length,ze.match_length<=ze.max_lazy_match&&ze.lookahead>=Er){ze.match_length--;do ze.strstart++,ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[ze.strstart+Er-1])&ze.hash_mask,kr=ze.prev[ze.strstart&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=ze.strstart;while(--ze.match_length!==0);ze.strstart++}else ze.strstart+=ze.match_length,ze.match_length=0,ze.ins_h=ze.window[ze.strstart],ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[ze.strstart+1])&ze.hash_mask;else rr=t._tr_tally(ze,0,ze.window[ze.strstart]),ze.lookahead--,ze.strstart++;if(rr&&(bn(ze,!1),ze.strm.avail_out===0))return Vr}return ze.insert=ze.strstart<Er-1?ze.strstart:Er-1,Cr===Oe?(bn(ze,!0),ze.strm.avail_out===0?mn:gn):ze.last_lit&&(bn(ze,!1),ze.strm.avail_out===0)?Vr:Wr}function In(ze,Cr){for(var kr,rr,xr;;){if(ze.lookahead<Nr){if(jn(ze),ze.lookahead<Nr&&Cr===Re)return Vr;if(ze.lookahead===0)break}if(kr=0,ze.lookahead>=Er&&(ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[ze.strstart+Er-1])&ze.hash_mask,kr=ze.prev[ze.strstart&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=ze.strstart),ze.prev_length=ze.match_length,ze.prev_match=ze.match_start,ze.match_length=Er-1,kr!==0&&ze.prev_length<ze.max_lazy_match&&ze.strstart-kr<=ze.w_size-Nr&&(ze.match_length=Pn(ze,kr),ze.match_length<=5&&(ze.strategy===Je||ze.match_length===Er&&ze.strstart-ze.match_start>4096)&&(ze.match_length=Er-1)),ze.prev_length>=Er&&ze.match_length<=ze.prev_length){xr=ze.strstart+ze.lookahead-Er,rr=t._tr_tally(ze,ze.strstart-1-ze.prev_match,ze.prev_length-Er),ze.lookahead-=ze.prev_length-1,ze.prev_length-=2;do++ze.strstart<=xr&&(ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[ze.strstart+Er-1])&ze.hash_mask,kr=ze.prev[ze.strstart&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=ze.strstart);while(--ze.prev_length!==0);if(ze.match_available=0,ze.match_length=Er-1,ze.strstart++,rr&&(bn(ze,!1),ze.strm.avail_out===0))return Vr}else if(ze.match_available){if(rr=t._tr_tally(ze,0,ze.window[ze.strstart-1]),rr&&bn(ze,!1),ze.strstart++,ze.lookahead--,ze.strm.avail_out===0)return Vr}else ze.match_available=1,ze.strstart++,ze.lookahead--}return ze.match_available&&(rr=t._tr_tally(ze,0,ze.window[ze.strstart-1]),ze.match_available=0),ze.insert=ze.strstart<Er-1?ze.strstart:Er-1,Cr===Oe?(bn(ze,!0),ze.strm.avail_out===0?mn:gn):ze.last_lit&&(bn(ze,!1),ze.strm.avail_out===0)?Vr:Wr}function $n(ze,Cr){for(var kr,rr,xr,Kr,Dn=ze.window;;){if(ze.lookahead<=jr){if(jn(ze),ze.lookahead<=jr&&Cr===Re)return Vr;if(ze.lookahead===0)break}if(ze.match_length=0,ze.lookahead>=Er&&ze.strstart>0&&(xr=ze.strstart-1,rr=Dn[xr],rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr])){Kr=ze.strstart+jr;do;while(rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr]&&xr<Kr);ze.match_length=jr-(Kr-xr),ze.match_length>ze.lookahead&&(ze.match_length=ze.lookahead)}if(ze.match_length>=Er?(kr=t._tr_tally(ze,1,ze.match_length-Er),ze.lookahead-=ze.match_length,ze.strstart+=ze.match_length,ze.match_length=0):(kr=t._tr_tally(ze,0,ze.window[ze.strstart]),ze.lookahead--,ze.strstart++),kr&&(bn(ze,!1),ze.strm.avail_out===0))return Vr}return ze.insert=0,Cr===Oe?(bn(ze,!0),ze.strm.avail_out===0?mn:gn):ze.last_lit&&(bn(ze,!1),ze.strm.avail_out===0)?Vr:Wr}function Yn(ze,Cr){for(var kr;;){if(ze.lookahead===0&&(jn(ze),ze.lookahead===0)){if(Cr===Re)return Vr;break}if(ze.match_length=0,kr=t._tr_tally(ze,0,ze.window[ze.strstart]),ze.lookahead--,ze.strstart++,kr&&(bn(ze,!1),ze.strm.avail_out===0))return Vr}return ze.insert=0,Cr===Oe?(bn(ze,!0),ze.strm.avail_out===0?mn:gn):ze.last_lit&&(bn(ze,!1),ze.strm.avail_out===0)?Vr:Wr}function si(ze,Cr,kr,rr,xr){this.good_length=ze,this.max_lazy=Cr,this.nice_length=kr,this.max_chain=rr,this.func=xr}var ai;ai=[new si(0,0,0,0,Kn),new si(4,4,8,4,Xn),new si(4,5,16,8,Xn),new si(4,6,32,32,Xn),new si(4,4,16,16,In),new si(8,16,32,32,In),new si(8,16,128,128,In),new si(8,32,128,256,In),new si(32,128,258,1024,In),new si(32,258,258,4096,In)];function Ci(ze){ze.window_size=2*ze.w_size,Yr(ze.head),ze.max_lazy_match=ai[ze.level].max_lazy,ze.good_match=ai[ze.level].good_length,ze.nice_match=ai[ze.level].nice_length,ze.max_chain_length=ai[ze.level].max_chain,ze.strstart=0,ze.block_start=0,ze.lookahead=0,ze.insert=0,ze.match_length=ze.prev_length=Er-1,ze.match_available=0,ze.ins_h=0}function dr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=fr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Ee.Buf16(Ur*2),this.dyn_dtree=new Ee.Buf16((2*or+1)*2),this.bl_tree=new Ee.Buf16((2*Tr+1)*2),Yr(this.dyn_ltree),Yr(this.dyn_dtree),Yr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Ee.Buf16(Fr+1),this.heap=new Ee.Buf16(2*Ar+1),Yr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Ee.Buf16(2*Ar+1),Yr(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function An(ze){var Cr;return!ze||!ze.state?Fn(ze,Ge):(ze.total_in=ze.total_out=0,ze.data_type=ur,Cr=ze.state,Cr.pending=0,Cr.pending_out=0,Cr.wrap<0&&(Cr.wrap=-Cr.wrap),Cr.status=Cr.wrap?Mr:Ir,ze.adler=Cr.wrap===2?0:1,Cr.last_flush=Re,t._tr_init(Cr),Qe)}function vn(ze){var Cr=An(ze);return Cr===Qe&&Ci(ze.state),Cr}function Sn(ze,Cr){return!ze||!ze.state||ze.state.wrap!==2?Ge:(ze.state.gzhead=Cr,Qe)}function wr(ze,Cr,kr,rr,xr,Kr){if(!ze)return Ge;var Dn=1;if(Cr===tr&&(Cr=6),rr<0?(Dn=0,rr=-rr):rr>15&&(Dn=2,rr-=16),xr<1||xr>er||kr!==fr||rr<8||rr>15||Cr<0||Cr>9||Kr<0||Kr>cr)return Fn(ze,Ge);rr===8&&(rr=9);var Gr=new dr;return ze.state=Gr,Gr.strm=ze,Gr.wrap=Dn,Gr.gzhead=null,Gr.w_bits=rr,Gr.w_size=1<<Gr.w_bits,Gr.w_mask=Gr.w_size-1,Gr.hash_bits=xr+7,Gr.hash_size=1<<Gr.hash_bits,Gr.hash_mask=Gr.hash_size-1,Gr.hash_shift=~~((Gr.hash_bits+Er-1)/Er),Gr.window=new Ee.Buf8(Gr.w_size*2),Gr.head=new Ee.Buf16(Gr.hash_size),Gr.prev=new Ee.Buf16(Gr.w_size),Gr.lit_bufsize=1<<xr+6,Gr.pending_buf_size=Gr.lit_bufsize*4,Gr.pending_buf=new Ee.Buf8(Gr.pending_buf_size),Gr.d_buf=1*Gr.lit_bufsize,Gr.l_buf=3*Gr.lit_bufsize,Gr.level=Cr,Gr.strategy=Kr,Gr.method=kr,vn(ze)}function Or(ze,Cr){return wr(ze,Cr,fr,nr,ir,hr)}function Ze(ze,Cr){var kr,rr,xr,Kr;if(!ze||!ze.state||Cr>Me||Cr<0)return ze?Fn(ze,Ge):Ge;if(rr=ze.state,!ze.output||!ze.input&&ze.avail_in!==0||rr.status===Qr&&Cr!==Oe)return Fn(ze,ze.avail_out===0?Xe:Ge);if(rr.strm=ze,kr=rr.last_flush,rr.last_flush=Cr,rr.status===Mr)if(rr.wrap===2)ze.adler=0,zr(rr,31),zr(rr,139),zr(rr,8),rr.gzhead?(zr(rr,(rr.gzhead.text?1:0)+(rr.gzhead.hcrc?2:0)+(rr.gzhead.extra?4:0)+(rr.gzhead.name?8:0)+(rr.gzhead.comment?16:0)),zr(rr,rr.gzhead.time&255),zr(rr,rr.gzhead.time>>8&255),zr(rr,rr.gzhead.time>>16&255),zr(rr,rr.gzhead.time>>24&255),zr(rr,rr.level===9?2:rr.strategy>=Ye||rr.level<2?4:0),zr(rr,rr.gzhead.os&255),rr.gzhead.extra&&rr.gzhead.extra.length&&(zr(rr,rr.gzhead.extra.length&255),zr(rr,rr.gzhead.extra.length>>8&255)),rr.gzhead.hcrc&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending,0)),rr.gzindex=0,rr.status=_r):(zr(rr,0),zr(rr,0),zr(rr,0),zr(rr,0),zr(rr,0),zr(rr,rr.level===9?2:rr.strategy>=Ye||rr.level<2?4:0),zr(rr,fn),rr.status=Ir);else{var Dn=fr+(rr.w_bits-8<<4)<<8,Gr=-1;rr.strategy>=Ye||rr.level<2?Gr=0:rr.level<6?Gr=1:rr.level===6?Gr=2:Gr=3,Dn|=Gr<<6,rr.strstart!==0&&(Dn|=Br),Dn+=31-Dn%31,rr.status=Ir,$r(rr,Dn),rr.strstart!==0&&($r(rr,ze.adler>>>16),$r(rr,ze.adler&65535)),ze.adler=1}if(rr.status===_r)if(rr.gzhead.extra){for(xr=rr.pending;rr.gzindex<(rr.gzhead.extra.length&65535)&&!(rr.pending===rr.pending_buf_size&&(rr.gzhead.hcrc&&rr.pending>xr&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending-xr,xr)),Rn(ze),xr=rr.pending,rr.pending===rr.pending_buf_size));)zr(rr,rr.gzhead.extra[rr.gzindex]&255),rr.gzindex++;rr.gzhead.hcrc&&rr.pending>xr&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending-xr,xr)),rr.gzindex===rr.gzhead.extra.length&&(rr.gzindex=0,rr.status=gr)}else rr.status=gr;if(rr.status===gr)if(rr.gzhead.name){xr=rr.pending;do{if(rr.pending===rr.pending_buf_size&&(rr.gzhead.hcrc&&rr.pending>xr&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending-xr,xr)),Rn(ze),xr=rr.pending,rr.pending===rr.pending_buf_size)){Kr=1;break}rr.gzindex<rr.gzhead.name.length?Kr=rr.gzhead.name.charCodeAt(rr.gzindex++)&255:Kr=0,zr(rr,Kr)}while(Kr!==0);rr.gzhead.hcrc&&rr.pending>xr&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending-xr,xr)),Kr===0&&(rr.gzindex=0,rr.status=yr)}else rr.status=yr;if(rr.status===yr)if(rr.gzhead.comment){xr=rr.pending;do{if(rr.pending===rr.pending_buf_size&&(rr.gzhead.hcrc&&rr.pending>xr&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending-xr,xr)),Rn(ze),xr=rr.pending,rr.pending===rr.pending_buf_size)){Kr=1;break}rr.gzindex<rr.gzhead.comment.length?Kr=rr.gzhead.comment.charCodeAt(rr.gzindex++)&255:Kr=0,zr(rr,Kr)}while(Kr!==0);rr.gzhead.hcrc&&rr.pending>xr&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending-xr,xr)),Kr===0&&(rr.status=Rr)}else rr.status=Rr;if(rr.status===Rr&&(rr.gzhead.hcrc?(rr.pending+2>rr.pending_buf_size&&Rn(ze),rr.pending+2<=rr.pending_buf_size&&(zr(rr,ze.adler&255),zr(rr,ze.adler>>8&255),ze.adler=0,rr.status=Ir)):rr.status=Ir),rr.pending!==0){if(Rn(ze),ze.avail_out===0)return rr.last_flush=-1,Qe}else if(ze.avail_in===0&&wn(Cr)<=wn(kr)&&Cr!==Oe)return Fn(ze,Xe);if(rr.status===Qr&&ze.avail_in!==0)return Fn(ze,Xe);if(ze.avail_in!==0||rr.lookahead!==0||Cr!==Re&&rr.status!==Qr){var Hr=rr.strategy===Ye?Yn(rr,Cr):rr.strategy===lr?$n(rr,Cr):ai[rr.level].func(rr,Cr);if((Hr===mn||Hr===gn)&&(rr.status=Qr),Hr===Vr||Hr===mn)return ze.avail_out===0&&(rr.last_flush=-1),Qe;if(Hr===Wr&&(Cr===Be?t._tr_align(rr):Cr!==Me&&(t._tr_stored_block(rr,0,0,!1),Cr===Ue&&(Yr(rr.head),rr.lookahead===0&&(rr.strstart=0,rr.block_start=0,rr.insert=0))),Rn(ze),ze.avail_out===0))return rr.last_flush=-1,Qe}return Cr!==Oe?Qe:rr.wrap<=0?Ke:(rr.wrap===2?(zr(rr,ze.adler&255),zr(rr,ze.adler>>8&255),zr(rr,ze.adler>>16&255),zr(rr,ze.adler>>24&255),zr(rr,ze.total_in&255),zr(rr,ze.total_in>>8&255),zr(rr,ze.total_in>>16&255),zr(rr,ze.total_in>>24&255)):($r(rr,ze.adler>>>16),$r(rr,ze.adler&65535)),Rn(ze),rr.wrap>0&&(rr.wrap=-rr.wrap),rr.pending!==0?Qe:Ke)}function Jr(ze){var Cr;return!ze||!ze.state?Ge:(Cr=ze.state.status,Cr!==Mr&&Cr!==_r&&Cr!==gr&&Cr!==yr&&Cr!==Rr&&Cr!==Ir&&Cr!==Qr?Fn(ze,Ge):(ze.state=null,Cr===Ir?Fn(ze,qe):Qe))}function Mn(ze,Cr){var kr=Cr.length,rr,xr,Kr,Dn,Gr,Hr,dn,Qn;if(!ze||!ze.state||(rr=ze.state,Dn=rr.wrap,Dn===2||Dn===1&&rr.status!==Mr||rr.lookahead))return Ge;for(Dn===1&&(ze.adler=n(ze.adler,Cr,kr,0)),rr.wrap=0,kr>=rr.w_size&&(Dn===0&&(Yr(rr.head),rr.strstart=0,rr.block_start=0,rr.insert=0),Qn=new Ee.Buf8(rr.w_size),Ee.arraySet(Qn,Cr,kr-rr.w_size,rr.w_size,0),Cr=Qn,kr=rr.w_size),Gr=ze.avail_in,Hr=ze.next_in,dn=ze.input,ze.avail_in=kr,ze.next_in=0,ze.input=Cr,jn(rr);rr.lookahead>=Er;){xr=rr.strstart,Kr=rr.lookahead-(Er-1);do rr.ins_h=(rr.ins_h<<rr.hash_shift^rr.window[xr+Er-1])&rr.hash_mask,rr.prev[xr&rr.w_mask]=rr.head[rr.ins_h],rr.head[rr.ins_h]=xr,xr++;while(--Kr);rr.strstart=xr,rr.lookahead=Er-1,jn(rr)}return rr.strstart+=rr.lookahead,rr.block_start=rr.strstart,rr.insert=rr.lookahead,rr.lookahead=0,rr.match_length=rr.prev_length=Er-1,rr.match_available=0,ze.next_in=Hr,ze.input=dn,ze.avail_in=Gr,rr.wrap=Dn,Qe}return deflate$2.deflateInit=Or,deflate$2.deflateInit2=wr,deflate$2.deflateReset=vn,deflate$2.deflateResetKeep=An,deflate$2.deflateSetHeader=Sn,deflate$2.deflate=Ze,deflate$2.deflateEnd=Jr,deflate$2.deflateSetDictionary=Mn,deflate$2.deflateInfo="pako deflate (from Nodeca project)",deflate$2}var strings$1={},hasRequiredStrings$1;function requireStrings$1(){if(hasRequiredStrings$1)return strings$1;hasRequiredStrings$1=1;var Ee=requireCommon$1(),t=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch{t=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}for(var Ce=new Ee.Buf8(256),Te=0;Te<256;Te++)Ce[Te]=Te>=252?6:Te>=248?5:Te>=240?4:Te>=224?3:Te>=192?2:1;Ce[254]=Ce[254]=1,strings$1.string2buf=function(Be){var Ue,Oe,Me,Qe,Ke,Ge=Be.length,qe=0;for(Qe=0;Qe<Ge;Qe++)Oe=Be.charCodeAt(Qe),(Oe&64512)===55296&&Qe+1<Ge&&(Me=Be.charCodeAt(Qe+1),(Me&64512)===56320&&(Oe=65536+(Oe-55296<<10)+(Me-56320),Qe++)),qe+=Oe<128?1:Oe<2048?2:Oe<65536?3:4;for(Ue=new Ee.Buf8(qe),Ke=0,Qe=0;Ke<qe;Qe++)Oe=Be.charCodeAt(Qe),(Oe&64512)===55296&&Qe+1<Ge&&(Me=Be.charCodeAt(Qe+1),(Me&64512)===56320&&(Oe=65536+(Oe-55296<<10)+(Me-56320),Qe++)),Oe<128?Ue[Ke++]=Oe:Oe<2048?(Ue[Ke++]=192|Oe>>>6,Ue[Ke++]=128|Oe&63):Oe<65536?(Ue[Ke++]=224|Oe>>>12,Ue[Ke++]=128|Oe>>>6&63,Ue[Ke++]=128|Oe&63):(Ue[Ke++]=240|Oe>>>18,Ue[Ke++]=128|Oe>>>12&63,Ue[Ke++]=128|Oe>>>6&63,Ue[Ke++]=128|Oe&63);return Ue};function Re(Be,Ue){if(Ue<65534&&(Be.subarray&&n||!Be.subarray&&t))return String.fromCharCode.apply(null,Ee.shrinkBuf(Be,Ue));for(var Oe="",Me=0;Me<Ue;Me++)Oe+=String.fromCharCode(Be[Me]);return Oe}return strings$1.buf2binstring=function(Be){return Re(Be,Be.length)},strings$1.binstring2buf=function(Be){for(var Ue=new Ee.Buf8(Be.length),Oe=0,Me=Ue.length;Oe<Me;Oe++)Ue[Oe]=Be.charCodeAt(Oe);return Ue},strings$1.buf2string=function(Be,Ue){var Oe,Me,Qe,Ke,Ge=Ue||Be.length,qe=new Array(Ge*2);for(Me=0,Oe=0;Oe<Ge;){if(Qe=Be[Oe++],Qe<128){qe[Me++]=Qe;continue}if(Ke=Ce[Qe],Ke>4){qe[Me++]=65533,Oe+=Ke-1;continue}for(Qe&=Ke===2?31:Ke===3?15:7;Ke>1&&Oe<Ge;)Qe=Qe<<6|Be[Oe++]&63,Ke--;if(Ke>1){qe[Me++]=65533;continue}Qe<65536?qe[Me++]=Qe:(Qe-=65536,qe[Me++]=55296|Qe>>10&1023,qe[Me++]=56320|Qe&1023)}return Re(qe,Me)},strings$1.utf8border=function(Be,Ue){var Oe;for(Ue=Ue||Be.length,Ue>Be.length&&(Ue=Be.length),Oe=Ue-1;Oe>=0&&(Be[Oe]&192)===128;)Oe--;return Oe<0||Oe===0?Ue:Oe+Ce[Be[Oe]]>Ue?Oe:Ue},strings$1}var zstream$1,hasRequiredZstream$1;function requireZstream$1(){if(hasRequiredZstream$1)return zstream$1;hasRequiredZstream$1=1;function Ee(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return zstream$1=Ee,zstream$1}var hasRequiredDeflate$2;function requireDeflate$2(){if(hasRequiredDeflate$2)return deflate$3;hasRequiredDeflate$2=1;var Ee=requireDeflate$3(),t=requireCommon$1(),n=requireStrings$1(),Ce=requireMessages$1(),Te=requireZstream$1(),Re=Object.prototype.toString,Be=0,Ue=4,Oe=0,Me=1,Qe=2,Ke=-1,Ge=0,qe=8;function Xe(lr){if(!(this instanceof Xe))return new Xe(lr);this.options=t.assign({level:Ke,method:qe,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ge,to:""},lr||{});var cr=this.options;cr.raw&&cr.windowBits>0?cr.windowBits=-cr.windowBits:cr.gzip&&cr.windowBits>0&&cr.windowBits<16&&(cr.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Te,this.strm.avail_out=0;var hr=Ee.deflateInit2(this.strm,cr.level,cr.method,cr.windowBits,cr.memLevel,cr.strategy);if(hr!==Oe)throw new Error(Ce[hr]);if(cr.header&&Ee.deflateSetHeader(this.strm,cr.header),cr.dictionary){var ur;if(typeof cr.dictionary=="string"?ur=n.string2buf(cr.dictionary):Re.call(cr.dictionary)==="[object ArrayBuffer]"?ur=new Uint8Array(cr.dictionary):ur=cr.dictionary,hr=Ee.deflateSetDictionary(this.strm,ur),hr!==Oe)throw new Error(Ce[hr]);this._dict_set=!0}}Xe.prototype.push=function(lr,cr){var hr=this.strm,ur=this.options.chunkSize,fr,er;if(this.ended)return!1;er=cr===~~cr?cr:cr===!0?Ue:Be,typeof lr=="string"?hr.input=n.string2buf(lr):Re.call(lr)==="[object ArrayBuffer]"?hr.input=new Uint8Array(lr):hr.input=lr,hr.next_in=0,hr.avail_in=hr.input.length;do{if(hr.avail_out===0&&(hr.output=new t.Buf8(ur),hr.next_out=0,hr.avail_out=ur),fr=Ee.deflate(hr,er),fr!==Me&&fr!==Oe)return this.onEnd(fr),this.ended=!0,!1;(hr.avail_out===0||hr.avail_in===0&&(er===Ue||er===Qe))&&(this.options.to==="string"?this.onData(n.buf2binstring(t.shrinkBuf(hr.output,hr.next_out))):this.onData(t.shrinkBuf(hr.output,hr.next_out)))}while((hr.avail_in>0||hr.avail_out===0)&&fr!==Me);return er===Ue?(fr=Ee.deflateEnd(this.strm),this.onEnd(fr),this.ended=!0,fr===Oe):(er===Qe&&(this.onEnd(Oe),hr.avail_out=0),!0)},Xe.prototype.onData=function(lr){this.chunks.push(lr)},Xe.prototype.onEnd=function(lr){lr===Oe&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=lr,this.msg=this.strm.msg};function tr(lr,cr){var hr=new Xe(cr);if(hr.push(lr,!0),hr.err)throw hr.msg||Ce[hr.err];return hr.result}function Je(lr,cr){return cr=cr||{},cr.raw=!0,tr(lr,cr)}function Ye(lr,cr){return cr=cr||{},cr.gzip=!0,tr(lr,cr)}return deflate$3.Deflate=Xe,deflate$3.deflate=tr,deflate$3.deflateRaw=Je,deflate$3.gzip=Ye,deflate$3}var inflate$3={},inflate$2={},inffast$1,hasRequiredInffast$1;function requireInffast$1(){if(hasRequiredInffast$1)return inffast$1;hasRequiredInffast$1=1;var Ee=30,t=12;return inffast$1=function(Ce,Te){var Re,Be,Ue,Oe,Me,Qe,Ke,Ge,qe,Xe,tr,Je,Ye,lr,cr,hr,ur,fr,er,nr,ir,mr,$e,Ar,or;Re=Ce.state,Be=Ce.next_in,Ar=Ce.input,Ue=Be+(Ce.avail_in-5),Oe=Ce.next_out,or=Ce.output,Me=Oe-(Te-Ce.avail_out),Qe=Oe+(Ce.avail_out-257),Ke=Re.dmax,Ge=Re.wsize,qe=Re.whave,Xe=Re.wnext,tr=Re.window,Je=Re.hold,Ye=Re.bits,lr=Re.lencode,cr=Re.distcode,hr=(1<<Re.lenbits)-1,ur=(1<<Re.distbits)-1;e:do{Ye<15&&(Je+=Ar[Be++]<<Ye,Ye+=8,Je+=Ar[Be++]<<Ye,Ye+=8),fr=lr[Je&hr];t:for(;;){if(er=fr>>>24,Je>>>=er,Ye-=er,er=fr>>>16&255,er===0)or[Oe++]=fr&65535;else if(er&16){nr=fr&65535,er&=15,er&&(Ye<er&&(Je+=Ar[Be++]<<Ye,Ye+=8),nr+=Je&(1<<er)-1,Je>>>=er,Ye-=er),Ye<15&&(Je+=Ar[Be++]<<Ye,Ye+=8,Je+=Ar[Be++]<<Ye,Ye+=8),fr=cr[Je&ur];r:for(;;){if(er=fr>>>24,Je>>>=er,Ye-=er,er=fr>>>16&255,er&16){if(ir=fr&65535,er&=15,Ye<er&&(Je+=Ar[Be++]<<Ye,Ye+=8,Ye<er&&(Je+=Ar[Be++]<<Ye,Ye+=8)),ir+=Je&(1<<er)-1,ir>Ke){Ce.msg="invalid distance too far back",Re.mode=Ee;break e}if(Je>>>=er,Ye-=er,er=Oe-Me,ir>er){if(er=ir-er,er>qe&&Re.sane){Ce.msg="invalid distance too far back",Re.mode=Ee;break e}if(mr=0,$e=tr,Xe===0){if(mr+=Ge-er,er<nr){nr-=er;do or[Oe++]=tr[mr++];while(--er);mr=Oe-ir,$e=or}}else if(Xe<er){if(mr+=Ge+Xe-er,er-=Xe,er<nr){nr-=er;do or[Oe++]=tr[mr++];while(--er);if(mr=0,Xe<nr){er=Xe,nr-=er;do or[Oe++]=tr[mr++];while(--er);mr=Oe-ir,$e=or}}}else if(mr+=Xe-er,er<nr){nr-=er;do or[Oe++]=tr[mr++];while(--er);mr=Oe-ir,$e=or}for(;nr>2;)or[Oe++]=$e[mr++],or[Oe++]=$e[mr++],or[Oe++]=$e[mr++],nr-=3;nr&&(or[Oe++]=$e[mr++],nr>1&&(or[Oe++]=$e[mr++]))}else{mr=Oe-ir;do or[Oe++]=or[mr++],or[Oe++]=or[mr++],or[Oe++]=or[mr++],nr-=3;while(nr>2);nr&&(or[Oe++]=or[mr++],nr>1&&(or[Oe++]=or[mr++]))}}else if((er&64)===0){fr=cr[(fr&65535)+(Je&(1<<er)-1)];continue r}else{Ce.msg="invalid distance code",Re.mode=Ee;break e}break}}else if((er&64)===0){fr=lr[(fr&65535)+(Je&(1<<er)-1)];continue t}else if(er&32){Re.mode=t;break e}else{Ce.msg="invalid literal/length code",Re.mode=Ee;break e}break}}while(Be<Ue&&Oe<Qe);nr=Ye>>3,Be-=nr,Ye-=nr<<3,Je&=(1<<Ye)-1,Ce.next_in=Be,Ce.next_out=Oe,Ce.avail_in=Be<Ue?5+(Ue-Be):5-(Be-Ue),Ce.avail_out=Oe<Qe?257+(Qe-Oe):257-(Oe-Qe),Re.hold=Je,Re.bits=Ye},inffast$1}var inftrees$1,hasRequiredInftrees$1;function requireInftrees$1(){if(hasRequiredInftrees$1)return inftrees$1;hasRequiredInftrees$1=1;var Ee=requireCommon$1(),t=15,n=852,Ce=592,Te=0,Re=1,Be=2,Ue=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Oe=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Me=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Qe=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return inftrees$1=function(Ge,qe,Xe,tr,Je,Ye,lr,cr){var hr=cr.bits,ur=0,fr=0,er=0,nr=0,ir=0,mr=0,$e=0,Ar=0,or=0,Tr=0,Ur,Fr,Er,jr,Nr,Br=null,Mr=0,_r,gr=new Ee.Buf16(t+1),yr=new Ee.Buf16(t+1),Rr=null,Ir=0,Qr,Vr,Wr;for(ur=0;ur<=t;ur++)gr[ur]=0;for(fr=0;fr<tr;fr++)gr[qe[Xe+fr]]++;for(ir=hr,nr=t;nr>=1&&gr[nr]===0;nr--);if(ir>nr&&(ir=nr),nr===0)return Je[Ye++]=1<<24|64<<16|0,Je[Ye++]=1<<24|64<<16|0,cr.bits=1,0;for(er=1;er<nr&&gr[er]===0;er++);for(ir<er&&(ir=er),Ar=1,ur=1;ur<=t;ur++)if(Ar<<=1,Ar-=gr[ur],Ar<0)return-1;if(Ar>0&&(Ge===Te||nr!==1))return-1;for(yr[1]=0,ur=1;ur<t;ur++)yr[ur+1]=yr[ur]+gr[ur];for(fr=0;fr<tr;fr++)qe[Xe+fr]!==0&&(lr[yr[qe[Xe+fr]]++]=fr);if(Ge===Te?(Br=Rr=lr,_r=19):Ge===Re?(Br=Ue,Mr-=257,Rr=Oe,Ir-=257,_r=256):(Br=Me,Rr=Qe,_r=-1),Tr=0,fr=0,ur=er,Nr=Ye,mr=ir,$e=0,Er=-1,or=1<<ir,jr=or-1,Ge===Re&&or>n||Ge===Be&&or>Ce)return 1;for(;;){Qr=ur-$e,lr[fr]<_r?(Vr=0,Wr=lr[fr]):lr[fr]>_r?(Vr=Rr[Ir+lr[fr]],Wr=Br[Mr+lr[fr]]):(Vr=96,Wr=0),Ur=1<<ur-$e,Fr=1<<mr,er=Fr;do Fr-=Ur,Je[Nr+(Tr>>$e)+Fr]=Qr<<24|Vr<<16|Wr|0;while(Fr!==0);for(Ur=1<<ur-1;Tr&Ur;)Ur>>=1;if(Ur!==0?(Tr&=Ur-1,Tr+=Ur):Tr=0,fr++,--gr[ur]===0){if(ur===nr)break;ur=qe[Xe+lr[fr]]}if(ur>ir&&(Tr&jr)!==Er){for($e===0&&($e=ir),Nr+=er,mr=ur-$e,Ar=1<<mr;mr+$e<nr&&(Ar-=gr[mr+$e],!(Ar<=0));)mr++,Ar<<=1;if(or+=1<<mr,Ge===Re&&or>n||Ge===Be&&or>Ce)return 1;Er=Tr&jr,Je[Er]=ir<<24|mr<<16|Nr-Ye|0}}return Tr!==0&&(Je[Nr+Tr]=ur-$e<<24|64<<16|0),cr.bits=ir,0},inftrees$1}var hasRequiredInflate$3;function requireInflate$3(){if(hasRequiredInflate$3)return inflate$2;hasRequiredInflate$3=1;var Ee=requireCommon$1(),t=requireAdler32$1(),n=requireCrc32$1(),Ce=requireInffast$1(),Te=requireInftrees$1(),Re=0,Be=1,Ue=2,Oe=4,Me=5,Qe=6,Ke=0,Ge=1,qe=2,Xe=-2,tr=-3,Je=-4,Ye=-5,lr=8,cr=1,hr=2,ur=3,fr=4,er=5,nr=6,ir=7,mr=8,$e=9,Ar=10,or=11,Tr=12,Ur=13,Fr=14,Er=15,jr=16,Nr=17,Br=18,Mr=19,_r=20,gr=21,yr=22,Rr=23,Ir=24,Qr=25,Vr=26,Wr=27,mn=28,gn=29,fn=30,Fn=31,wn=32,Yr=852,Rn=592,bn=15,zr=bn;function $r(wr){return(wr>>>24&255)+(wr>>>8&65280)+((wr&65280)<<8)+((wr&255)<<24)}function Bn(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ee.Buf16(320),this.work=new Ee.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Pn(wr){var Or;return!wr||!wr.state?Xe:(Or=wr.state,wr.total_in=wr.total_out=Or.total=0,wr.msg="",Or.wrap&&(wr.adler=Or.wrap&1),Or.mode=cr,Or.last=0,Or.havedict=0,Or.dmax=32768,Or.head=null,Or.hold=0,Or.bits=0,Or.lencode=Or.lendyn=new Ee.Buf32(Yr),Or.distcode=Or.distdyn=new Ee.Buf32(Rn),Or.sane=1,Or.back=-1,Ke)}function jn(wr){var Or;return!wr||!wr.state?Xe:(Or=wr.state,Or.wsize=0,Or.whave=0,Or.wnext=0,Pn(wr))}function Kn(wr,Or){var Ze,Jr;return!wr||!wr.state||(Jr=wr.state,Or<0?(Ze=0,Or=-Or):(Ze=(Or>>4)+1,Or<48&&(Or&=15)),Or&&(Or<8||Or>15))?Xe:(Jr.window!==null&&Jr.wbits!==Or&&(Jr.window=null),Jr.wrap=Ze,Jr.wbits=Or,jn(wr))}function Xn(wr,Or){var Ze,Jr;return wr?(Jr=new Bn,wr.state=Jr,Jr.window=null,Ze=Kn(wr,Or),Ze!==Ke&&(wr.state=null),Ze):Xe}function In(wr){return Xn(wr,zr)}var $n=!0,Yn,si;function ai(wr){if($n){var Or;for(Yn=new Ee.Buf32(512),si=new Ee.Buf32(32),Or=0;Or<144;)wr.lens[Or++]=8;for(;Or<256;)wr.lens[Or++]=9;for(;Or<280;)wr.lens[Or++]=7;for(;Or<288;)wr.lens[Or++]=8;for(Te(Be,wr.lens,0,288,Yn,0,wr.work,{bits:9}),Or=0;Or<32;)wr.lens[Or++]=5;Te(Ue,wr.lens,0,32,si,0,wr.work,{bits:5}),$n=!1}wr.lencode=Yn,wr.lenbits=9,wr.distcode=si,wr.distbits=5}function Ci(wr,Or,Ze,Jr){var Mn,ze=wr.state;return ze.window===null&&(ze.wsize=1<<ze.wbits,ze.wnext=0,ze.whave=0,ze.window=new Ee.Buf8(ze.wsize)),Jr>=ze.wsize?(Ee.arraySet(ze.window,Or,Ze-ze.wsize,ze.wsize,0),ze.wnext=0,ze.whave=ze.wsize):(Mn=ze.wsize-ze.wnext,Mn>Jr&&(Mn=Jr),Ee.arraySet(ze.window,Or,Ze-Jr,Mn,ze.wnext),Jr-=Mn,Jr?(Ee.arraySet(ze.window,Or,Ze-Jr,Jr,0),ze.wnext=Jr,ze.whave=ze.wsize):(ze.wnext+=Mn,ze.wnext===ze.wsize&&(ze.wnext=0),ze.whave<ze.wsize&&(ze.whave+=Mn))),0}function dr(wr,Or){var Ze,Jr,Mn,ze,Cr,kr,rr,xr,Kr,Dn,Gr,Hr,dn,Qn,kn=0,On,zn,hi,pi,mi,Ni,ui,yi,_i=new Ee.Buf8(4),Fi,Di,Oi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!wr||!wr.state||!wr.output||!wr.input&&wr.avail_in!==0)return Xe;Ze=wr.state,Ze.mode===Tr&&(Ze.mode=Ur),Cr=wr.next_out,Mn=wr.output,rr=wr.avail_out,ze=wr.next_in,Jr=wr.input,kr=wr.avail_in,xr=Ze.hold,Kr=Ze.bits,Dn=kr,Gr=rr,yi=Ke;e:for(;;)switch(Ze.mode){case cr:if(Ze.wrap===0){Ze.mode=Ur;break}for(;Kr<16;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(Ze.wrap&2&&xr===35615){Ze.check=0,_i[0]=xr&255,_i[1]=xr>>>8&255,Ze.check=n(Ze.check,_i,2,0),xr=0,Kr=0,Ze.mode=hr;break}if(Ze.flags=0,Ze.head&&(Ze.head.done=!1),!(Ze.wrap&1)||(((xr&255)<<8)+(xr>>8))%31){wr.msg="incorrect header check",Ze.mode=fn;break}if((xr&15)!==lr){wr.msg="unknown compression method",Ze.mode=fn;break}if(xr>>>=4,Kr-=4,ui=(xr&15)+8,Ze.wbits===0)Ze.wbits=ui;else if(ui>Ze.wbits){wr.msg="invalid window size",Ze.mode=fn;break}Ze.dmax=1<<ui,wr.adler=Ze.check=1,Ze.mode=xr&512?Ar:Tr,xr=0,Kr=0;break;case hr:for(;Kr<16;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(Ze.flags=xr,(Ze.flags&255)!==lr){wr.msg="unknown compression method",Ze.mode=fn;break}if(Ze.flags&57344){wr.msg="unknown header flags set",Ze.mode=fn;break}Ze.head&&(Ze.head.text=xr>>8&1),Ze.flags&512&&(_i[0]=xr&255,_i[1]=xr>>>8&255,Ze.check=n(Ze.check,_i,2,0)),xr=0,Kr=0,Ze.mode=ur;case ur:for(;Kr<32;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}Ze.head&&(Ze.head.time=xr),Ze.flags&512&&(_i[0]=xr&255,_i[1]=xr>>>8&255,_i[2]=xr>>>16&255,_i[3]=xr>>>24&255,Ze.check=n(Ze.check,_i,4,0)),xr=0,Kr=0,Ze.mode=fr;case fr:for(;Kr<16;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}Ze.head&&(Ze.head.xflags=xr&255,Ze.head.os=xr>>8),Ze.flags&512&&(_i[0]=xr&255,_i[1]=xr>>>8&255,Ze.check=n(Ze.check,_i,2,0)),xr=0,Kr=0,Ze.mode=er;case er:if(Ze.flags&1024){for(;Kr<16;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}Ze.length=xr,Ze.head&&(Ze.head.extra_len=xr),Ze.flags&512&&(_i[0]=xr&255,_i[1]=xr>>>8&255,Ze.check=n(Ze.check,_i,2,0)),xr=0,Kr=0}else Ze.head&&(Ze.head.extra=null);Ze.mode=nr;case nr:if(Ze.flags&1024&&(Hr=Ze.length,Hr>kr&&(Hr=kr),Hr&&(Ze.head&&(ui=Ze.head.extra_len-Ze.length,Ze.head.extra||(Ze.head.extra=new Array(Ze.head.extra_len)),Ee.arraySet(Ze.head.extra,Jr,ze,Hr,ui)),Ze.flags&512&&(Ze.check=n(Ze.check,Jr,Hr,ze)),kr-=Hr,ze+=Hr,Ze.length-=Hr),Ze.length))break e;Ze.length=0,Ze.mode=ir;case ir:if(Ze.flags&2048){if(kr===0)break e;Hr=0;do ui=Jr[ze+Hr++],Ze.head&&ui&&Ze.length<65536&&(Ze.head.name+=String.fromCharCode(ui));while(ui&&Hr<kr);if(Ze.flags&512&&(Ze.check=n(Ze.check,Jr,Hr,ze)),kr-=Hr,ze+=Hr,ui)break e}else Ze.head&&(Ze.head.name=null);Ze.length=0,Ze.mode=mr;case mr:if(Ze.flags&4096){if(kr===0)break e;Hr=0;do ui=Jr[ze+Hr++],Ze.head&&ui&&Ze.length<65536&&(Ze.head.comment+=String.fromCharCode(ui));while(ui&&Hr<kr);if(Ze.flags&512&&(Ze.check=n(Ze.check,Jr,Hr,ze)),kr-=Hr,ze+=Hr,ui)break e}else Ze.head&&(Ze.head.comment=null);Ze.mode=$e;case $e:if(Ze.flags&512){for(;Kr<16;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(xr!==(Ze.check&65535)){wr.msg="header crc mismatch",Ze.mode=fn;break}xr=0,Kr=0}Ze.head&&(Ze.head.hcrc=Ze.flags>>9&1,Ze.head.done=!0),wr.adler=Ze.check=0,Ze.mode=Tr;break;case Ar:for(;Kr<32;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}wr.adler=Ze.check=$r(xr),xr=0,Kr=0,Ze.mode=or;case or:if(Ze.havedict===0)return wr.next_out=Cr,wr.avail_out=rr,wr.next_in=ze,wr.avail_in=kr,Ze.hold=xr,Ze.bits=Kr,qe;wr.adler=Ze.check=1,Ze.mode=Tr;case Tr:if(Or===Me||Or===Qe)break e;case Ur:if(Ze.last){xr>>>=Kr&7,Kr-=Kr&7,Ze.mode=Wr;break}for(;Kr<3;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}switch(Ze.last=xr&1,xr>>>=1,Kr-=1,xr&3){case 0:Ze.mode=Fr;break;case 1:if(ai(Ze),Ze.mode=_r,Or===Qe){xr>>>=2,Kr-=2;break e}break;case 2:Ze.mode=Nr;break;case 3:wr.msg="invalid block type",Ze.mode=fn}xr>>>=2,Kr-=2;break;case Fr:for(xr>>>=Kr&7,Kr-=Kr&7;Kr<32;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if((xr&65535)!==(xr>>>16^65535)){wr.msg="invalid stored block lengths",Ze.mode=fn;break}if(Ze.length=xr&65535,xr=0,Kr=0,Ze.mode=Er,Or===Qe)break e;case Er:Ze.mode=jr;case jr:if(Hr=Ze.length,Hr){if(Hr>kr&&(Hr=kr),Hr>rr&&(Hr=rr),Hr===0)break e;Ee.arraySet(Mn,Jr,ze,Hr,Cr),kr-=Hr,ze+=Hr,rr-=Hr,Cr+=Hr,Ze.length-=Hr;break}Ze.mode=Tr;break;case Nr:for(;Kr<14;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(Ze.nlen=(xr&31)+257,xr>>>=5,Kr-=5,Ze.ndist=(xr&31)+1,xr>>>=5,Kr-=5,Ze.ncode=(xr&15)+4,xr>>>=4,Kr-=4,Ze.nlen>286||Ze.ndist>30){wr.msg="too many length or distance symbols",Ze.mode=fn;break}Ze.have=0,Ze.mode=Br;case Br:for(;Ze.have<Ze.ncode;){for(;Kr<3;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}Ze.lens[Oi[Ze.have++]]=xr&7,xr>>>=3,Kr-=3}for(;Ze.have<19;)Ze.lens[Oi[Ze.have++]]=0;if(Ze.lencode=Ze.lendyn,Ze.lenbits=7,Fi={bits:Ze.lenbits},yi=Te(Re,Ze.lens,0,19,Ze.lencode,0,Ze.work,Fi),Ze.lenbits=Fi.bits,yi){wr.msg="invalid code lengths set",Ze.mode=fn;break}Ze.have=0,Ze.mode=Mr;case Mr:for(;Ze.have<Ze.nlen+Ze.ndist;){for(;kn=Ze.lencode[xr&(1<<Ze.lenbits)-1],On=kn>>>24,zn=kn>>>16&255,hi=kn&65535,!(On<=Kr);){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(hi<16)xr>>>=On,Kr-=On,Ze.lens[Ze.have++]=hi;else{if(hi===16){for(Di=On+2;Kr<Di;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(xr>>>=On,Kr-=On,Ze.have===0){wr.msg="invalid bit length repeat",Ze.mode=fn;break}ui=Ze.lens[Ze.have-1],Hr=3+(xr&3),xr>>>=2,Kr-=2}else if(hi===17){for(Di=On+3;Kr<Di;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}xr>>>=On,Kr-=On,ui=0,Hr=3+(xr&7),xr>>>=3,Kr-=3}else{for(Di=On+7;Kr<Di;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}xr>>>=On,Kr-=On,ui=0,Hr=11+(xr&127),xr>>>=7,Kr-=7}if(Ze.have+Hr>Ze.nlen+Ze.ndist){wr.msg="invalid bit length repeat",Ze.mode=fn;break}for(;Hr--;)Ze.lens[Ze.have++]=ui}}if(Ze.mode===fn)break;if(Ze.lens[256]===0){wr.msg="invalid code -- missing end-of-block",Ze.mode=fn;break}if(Ze.lenbits=9,Fi={bits:Ze.lenbits},yi=Te(Be,Ze.lens,0,Ze.nlen,Ze.lencode,0,Ze.work,Fi),Ze.lenbits=Fi.bits,yi){wr.msg="invalid literal/lengths set",Ze.mode=fn;break}if(Ze.distbits=6,Ze.distcode=Ze.distdyn,Fi={bits:Ze.distbits},yi=Te(Ue,Ze.lens,Ze.nlen,Ze.ndist,Ze.distcode,0,Ze.work,Fi),Ze.distbits=Fi.bits,yi){wr.msg="invalid distances set",Ze.mode=fn;break}if(Ze.mode=_r,Or===Qe)break e;case _r:Ze.mode=gr;case gr:if(kr>=6&&rr>=258){wr.next_out=Cr,wr.avail_out=rr,wr.next_in=ze,wr.avail_in=kr,Ze.hold=xr,Ze.bits=Kr,Ce(wr,Gr),Cr=wr.next_out,Mn=wr.output,rr=wr.avail_out,ze=wr.next_in,Jr=wr.input,kr=wr.avail_in,xr=Ze.hold,Kr=Ze.bits,Ze.mode===Tr&&(Ze.back=-1);break}for(Ze.back=0;kn=Ze.lencode[xr&(1<<Ze.lenbits)-1],On=kn>>>24,zn=kn>>>16&255,hi=kn&65535,!(On<=Kr);){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(zn&&(zn&240)===0){for(pi=On,mi=zn,Ni=hi;kn=Ze.lencode[Ni+((xr&(1<<pi+mi)-1)>>pi)],On=kn>>>24,zn=kn>>>16&255,hi=kn&65535,!(pi+On<=Kr);){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}xr>>>=pi,Kr-=pi,Ze.back+=pi}if(xr>>>=On,Kr-=On,Ze.back+=On,Ze.length=hi,zn===0){Ze.mode=Vr;break}if(zn&32){Ze.back=-1,Ze.mode=Tr;break}if(zn&64){wr.msg="invalid literal/length code",Ze.mode=fn;break}Ze.extra=zn&15,Ze.mode=yr;case yr:if(Ze.extra){for(Di=Ze.extra;Kr<Di;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}Ze.length+=xr&(1<<Ze.extra)-1,xr>>>=Ze.extra,Kr-=Ze.extra,Ze.back+=Ze.extra}Ze.was=Ze.length,Ze.mode=Rr;case Rr:for(;kn=Ze.distcode[xr&(1<<Ze.distbits)-1],On=kn>>>24,zn=kn>>>16&255,hi=kn&65535,!(On<=Kr);){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if((zn&240)===0){for(pi=On,mi=zn,Ni=hi;kn=Ze.distcode[Ni+((xr&(1<<pi+mi)-1)>>pi)],On=kn>>>24,zn=kn>>>16&255,hi=kn&65535,!(pi+On<=Kr);){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}xr>>>=pi,Kr-=pi,Ze.back+=pi}if(xr>>>=On,Kr-=On,Ze.back+=On,zn&64){wr.msg="invalid distance code",Ze.mode=fn;break}Ze.offset=hi,Ze.extra=zn&15,Ze.mode=Ir;case Ir:if(Ze.extra){for(Di=Ze.extra;Kr<Di;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}Ze.offset+=xr&(1<<Ze.extra)-1,xr>>>=Ze.extra,Kr-=Ze.extra,Ze.back+=Ze.extra}if(Ze.offset>Ze.dmax){wr.msg="invalid distance too far back",Ze.mode=fn;break}Ze.mode=Qr;case Qr:if(rr===0)break e;if(Hr=Gr-rr,Ze.offset>Hr){if(Hr=Ze.offset-Hr,Hr>Ze.whave&&Ze.sane){wr.msg="invalid distance too far back",Ze.mode=fn;break}Hr>Ze.wnext?(Hr-=Ze.wnext,dn=Ze.wsize-Hr):dn=Ze.wnext-Hr,Hr>Ze.length&&(Hr=Ze.length),Qn=Ze.window}else Qn=Mn,dn=Cr-Ze.offset,Hr=Ze.length;Hr>rr&&(Hr=rr),rr-=Hr,Ze.length-=Hr;do Mn[Cr++]=Qn[dn++];while(--Hr);Ze.length===0&&(Ze.mode=gr);break;case Vr:if(rr===0)break e;Mn[Cr++]=Ze.length,rr--,Ze.mode=gr;break;case Wr:if(Ze.wrap){for(;Kr<32;){if(kr===0)break e;kr--,xr|=Jr[ze++]<<Kr,Kr+=8}if(Gr-=rr,wr.total_out+=Gr,Ze.total+=Gr,Gr&&(wr.adler=Ze.check=Ze.flags?n(Ze.check,Mn,Gr,Cr-Gr):t(Ze.check,Mn,Gr,Cr-Gr)),Gr=rr,(Ze.flags?xr:$r(xr))!==Ze.check){wr.msg="incorrect data check",Ze.mode=fn;break}xr=0,Kr=0}Ze.mode=mn;case mn:if(Ze.wrap&&Ze.flags){for(;Kr<32;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(xr!==(Ze.total&4294967295)){wr.msg="incorrect length check",Ze.mode=fn;break}xr=0,Kr=0}Ze.mode=gn;case gn:yi=Ge;break e;case fn:yi=tr;break e;case Fn:return Je;case wn:default:return Xe}return wr.next_out=Cr,wr.avail_out=rr,wr.next_in=ze,wr.avail_in=kr,Ze.hold=xr,Ze.bits=Kr,(Ze.wsize||Gr!==wr.avail_out&&Ze.mode<fn&&(Ze.mode<Wr||Or!==Oe))&&Ci(wr,wr.output,wr.next_out,Gr-wr.avail_out),Dn-=wr.avail_in,Gr-=wr.avail_out,wr.total_in+=Dn,wr.total_out+=Gr,Ze.total+=Gr,Ze.wrap&&Gr&&(wr.adler=Ze.check=Ze.flags?n(Ze.check,Mn,Gr,wr.next_out-Gr):t(Ze.check,Mn,Gr,wr.next_out-Gr)),wr.data_type=Ze.bits+(Ze.last?64:0)+(Ze.mode===Tr?128:0)+(Ze.mode===_r||Ze.mode===Er?256:0),(Dn===0&&Gr===0||Or===Oe)&&yi===Ke&&(yi=Ye),yi}function An(wr){if(!wr||!wr.state)return Xe;var Or=wr.state;return Or.window&&(Or.window=null),wr.state=null,Ke}function vn(wr,Or){var Ze;return!wr||!wr.state||(Ze=wr.state,(Ze.wrap&2)===0)?Xe:(Ze.head=Or,Or.done=!1,Ke)}function Sn(wr,Or){var Ze=Or.length,Jr,Mn,ze;return!wr||!wr.state||(Jr=wr.state,Jr.wrap!==0&&Jr.mode!==or)?Xe:Jr.mode===or&&(Mn=1,Mn=t(Mn,Or,Ze,0),Mn!==Jr.check)?tr:(ze=Ci(wr,Or,Ze,Ze),ze?(Jr.mode=Fn,Je):(Jr.havedict=1,Ke))}return inflate$2.inflateReset=jn,inflate$2.inflateReset2=Kn,inflate$2.inflateResetKeep=Pn,inflate$2.inflateInit=In,inflate$2.inflateInit2=Xn,inflate$2.inflate=dr,inflate$2.inflateEnd=An,inflate$2.inflateGetHeader=vn,inflate$2.inflateSetDictionary=Sn,inflate$2.inflateInfo="pako inflate (from Nodeca project)",inflate$2}var constants$1,hasRequiredConstants$1;function requireConstants$1(){return hasRequiredConstants$1||(hasRequiredConstants$1=1,constants$1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),constants$1}var gzheader$1,hasRequiredGzheader$1;function requireGzheader$1(){if(hasRequiredGzheader$1)return gzheader$1;hasRequiredGzheader$1=1;function Ee(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return gzheader$1=Ee,gzheader$1}var hasRequiredInflate$2;function requireInflate$2(){if(hasRequiredInflate$2)return inflate$3;hasRequiredInflate$2=1;var Ee=requireInflate$3(),t=requireCommon$1(),n=requireStrings$1(),Ce=requireConstants$1(),Te=requireMessages$1(),Re=requireZstream$1(),Be=requireGzheader$1(),Ue=Object.prototype.toString;function Oe(Ke){if(!(this instanceof Oe))return new Oe(Ke);this.options=t.assign({chunkSize:16384,windowBits:0,to:""},Ke||{});var Ge=this.options;Ge.raw&&Ge.windowBits>=0&&Ge.windowBits<16&&(Ge.windowBits=-Ge.windowBits,Ge.windowBits===0&&(Ge.windowBits=-15)),Ge.windowBits>=0&&Ge.windowBits<16&&!(Ke&&Ke.windowBits)&&(Ge.windowBits+=32),Ge.windowBits>15&&Ge.windowBits<48&&(Ge.windowBits&15)===0&&(Ge.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Re,this.strm.avail_out=0;var qe=Ee.inflateInit2(this.strm,Ge.windowBits);if(qe!==Ce.Z_OK)throw new Error(Te[qe]);if(this.header=new Be,Ee.inflateGetHeader(this.strm,this.header),Ge.dictionary&&(typeof Ge.dictionary=="string"?Ge.dictionary=n.string2buf(Ge.dictionary):Ue.call(Ge.dictionary)==="[object ArrayBuffer]"&&(Ge.dictionary=new Uint8Array(Ge.dictionary)),Ge.raw&&(qe=Ee.inflateSetDictionary(this.strm,Ge.dictionary),qe!==Ce.Z_OK)))throw new Error(Te[qe])}Oe.prototype.push=function(Ke,Ge){var qe=this.strm,Xe=this.options.chunkSize,tr=this.options.dictionary,Je,Ye,lr,cr,hr,ur=!1;if(this.ended)return!1;Ye=Ge===~~Ge?Ge:Ge===!0?Ce.Z_FINISH:Ce.Z_NO_FLUSH,typeof Ke=="string"?qe.input=n.binstring2buf(Ke):Ue.call(Ke)==="[object ArrayBuffer]"?qe.input=new Uint8Array(Ke):qe.input=Ke,qe.next_in=0,qe.avail_in=qe.input.length;do{if(qe.avail_out===0&&(qe.output=new t.Buf8(Xe),qe.next_out=0,qe.avail_out=Xe),Je=Ee.inflate(qe,Ce.Z_NO_FLUSH),Je===Ce.Z_NEED_DICT&&tr&&(Je=Ee.inflateSetDictionary(this.strm,tr)),Je===Ce.Z_BUF_ERROR&&ur===!0&&(Je=Ce.Z_OK,ur=!1),Je!==Ce.Z_STREAM_END&&Je!==Ce.Z_OK)return this.onEnd(Je),this.ended=!0,!1;qe.next_out&&(qe.avail_out===0||Je===Ce.Z_STREAM_END||qe.avail_in===0&&(Ye===Ce.Z_FINISH||Ye===Ce.Z_SYNC_FLUSH))&&(this.options.to==="string"?(lr=n.utf8border(qe.output,qe.next_out),cr=qe.next_out-lr,hr=n.buf2string(qe.output,lr),qe.next_out=cr,qe.avail_out=Xe-cr,cr&&t.arraySet(qe.output,qe.output,lr,cr,0),this.onData(hr)):this.onData(t.shrinkBuf(qe.output,qe.next_out))),qe.avail_in===0&&qe.avail_out===0&&(ur=!0)}while((qe.avail_in>0||qe.avail_out===0)&&Je!==Ce.Z_STREAM_END);return Je===Ce.Z_STREAM_END&&(Ye=Ce.Z_FINISH),Ye===Ce.Z_FINISH?(Je=Ee.inflateEnd(this.strm),this.onEnd(Je),this.ended=!0,Je===Ce.Z_OK):(Ye===Ce.Z_SYNC_FLUSH&&(this.onEnd(Ce.Z_OK),qe.avail_out=0),!0)},Oe.prototype.onData=function(Ke){this.chunks.push(Ke)},Oe.prototype.onEnd=function(Ke){Ke===Ce.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=Ke,this.msg=this.strm.msg};function Me(Ke,Ge){var qe=new Oe(Ge);if(qe.push(Ke,!0),qe.err)throw qe.msg||Te[qe.err];return qe.result}function Qe(Ke,Ge){return Ge=Ge||{},Ge.raw=!0,Me(Ke,Ge)}return inflate$3.Inflate=Oe,inflate$3.inflate=Me,inflate$3.inflateRaw=Qe,inflate$3.ungzip=Me,inflate$3}var pako_1$1,hasRequiredPako$1;function requirePako$1(){if(hasRequiredPako$1)return pako_1$1;hasRequiredPako$1=1;var Ee=requireCommon$1().assign,t=requireDeflate$2(),n=requireInflate$2(),Ce=requireConstants$1(),Te={};return Ee(Te,t,n,Ce),pako_1$1=Te,pako_1$1}var pakoExports$1=requirePako$1();const pako$1=getDefaultExportFromCjs(pakoExports$1);var PDFHeader=(function(){function Ee(t,n){this.major=String(t),this.minor=String(n)}return Ee.prototype.toString=function(){var t=charFromCode(129);return"%PDF-"+this.major+"."+this.minor+`
%`+t+t+t+t},Ee.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},Ee.prototype.copyBytesInto=function(t,n){var Ce=n;return t[n++]=CharCodes$1.Percent,t[n++]=CharCodes$1.P,t[n++]=CharCodes$1.D,t[n++]=CharCodes$1.F,t[n++]=CharCodes$1.Dash,n+=copyStringIntoBuffer(this.major,t,n),t[n++]=CharCodes$1.Period,n+=copyStringIntoBuffer(this.minor,t,n),t[n++]=CharCodes$1.Newline,t[n++]=CharCodes$1.Percent,t[n++]=129,t[n++]=129,t[n++]=129,t[n++]=129,n-Ce},Ee.forVersion=function(t,n){return new Ee(t,n)},Ee})(),PDFObject=(function(){function Ee(){}return Ee.prototype.clone=function(t){throw new MethodNotImplementedError(this.constructor.name,"clone")},Ee.prototype.toString=function(){throw new MethodNotImplementedError(this.constructor.name,"toString")},Ee.prototype.sizeInBytes=function(){throw new MethodNotImplementedError(this.constructor.name,"sizeInBytes")},Ee.prototype.copyBytesInto=function(t,n){throw new MethodNotImplementedError(this.constructor.name,"copyBytesInto")},Ee})(),PDFNumber=(function(Ee){__extends(t,Ee);function t(n){var Ce=Ee.call(this)||this;return Ce.numberValue=n,Ce.stringValue=numberToString(n),Ce}return t.prototype.asNumber=function(){return this.numberValue},t.prototype.value=function(){return this.numberValue},t.prototype.clone=function(){return t.of(this.numberValue)},t.prototype.toString=function(){return this.stringValue},t.prototype.sizeInBytes=function(){return this.stringValue.length},t.prototype.copyBytesInto=function(n,Ce){return Ce+=copyStringIntoBuffer(this.stringValue,n,Ce),this.stringValue.length},t.of=function(n){return new t(n)},t})(PDFObject),PDFArray=(function(Ee){__extends(t,Ee);function t(n){var Ce=Ee.call(this)||this;return Ce.array=[],Ce.context=n,Ce}return t.prototype.size=function(){return this.array.length},t.prototype.push=function(n){this.array.push(n)},t.prototype.insert=function(n,Ce){this.array.splice(n,0,Ce)},t.prototype.indexOf=function(n){var Ce=this.array.indexOf(n);return Ce===-1?void 0:Ce},t.prototype.remove=function(n){this.array.splice(n,1)},t.prototype.set=function(n,Ce){this.array[n]=Ce},t.prototype.get=function(n){return this.array[n]},t.prototype.lookupMaybe=function(n){for(var Ce,Te=[],Re=1;Re<arguments.length;Re++)Te[Re-1]=arguments[Re];return(Ce=this.context).lookupMaybe.apply(Ce,__spreadArrays([this.get(n)],Te))},t.prototype.lookup=function(n){for(var Ce,Te=[],Re=1;Re<arguments.length;Re++)Te[Re-1]=arguments[Re];return(Ce=this.context).lookup.apply(Ce,__spreadArrays([this.get(n)],Te))},t.prototype.asRectangle=function(){if(this.size()!==4)throw new PDFArrayIsNotRectangleError(this.size());var n=this.lookup(0,PDFNumber).asNumber(),Ce=this.lookup(1,PDFNumber).asNumber(),Te=this.lookup(2,PDFNumber).asNumber(),Re=this.lookup(3,PDFNumber).asNumber(),Be=n,Ue=Ce,Oe=Te-n,Me=Re-Ce;return{x:Be,y:Ue,width:Oe,height:Me}},t.prototype.asArray=function(){return this.array.slice()},t.prototype.clone=function(n){for(var Ce=t.withContext(n||this.context),Te=0,Re=this.size();Te<Re;Te++)Ce.push(this.array[Te]);return Ce},t.prototype.toString=function(){for(var n="[ ",Ce=0,Te=this.size();Ce<Te;Ce++)n+=this.get(Ce).toString(),n+=" ";return n+="]",n},t.prototype.sizeInBytes=function(){for(var n=3,Ce=0,Te=this.size();Ce<Te;Ce++)n+=this.get(Ce).sizeInBytes()+1;return n},t.prototype.copyBytesInto=function(n,Ce){var Te=Ce;n[Ce++]=CharCodes$1.LeftSquareBracket,n[Ce++]=CharCodes$1.Space;for(var Re=0,Be=this.size();Re<Be;Re++)Ce+=this.get(Re).copyBytesInto(n,Ce),n[Ce++]=CharCodes$1.Space;return n[Ce++]=CharCodes$1.RightSquareBracket,Ce-Te},t.prototype.scalePDFNumbers=function(n,Ce){for(var Te=0,Re=this.size();Te<Re;Te++){var Be=this.lookup(Te);if(Be instanceof PDFNumber){var Ue=Te%2===0?n:Ce;this.set(Te,PDFNumber.of(Be.asNumber()*Ue))}}},t.withContext=function(n){return new t(n)},t})(PDFObject),ENFORCER$2={},PDFBool=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=this;if(n!==ENFORCER$2)throw new PrivateConstructorError("PDFBool");return Te=Ee.call(this)||this,Te.value=Ce,Te}return t.prototype.asBoolean=function(){return this.value},t.prototype.clone=function(){return this},t.prototype.toString=function(){return String(this.value)},t.prototype.sizeInBytes=function(){return this.value?4:5},t.prototype.copyBytesInto=function(n,Ce){return this.value?(n[Ce++]=CharCodes$1.t,n[Ce++]=CharCodes$1.r,n[Ce++]=CharCodes$1.u,n[Ce++]=CharCodes$1.e,4):(n[Ce++]=CharCodes$1.f,n[Ce++]=CharCodes$1.a,n[Ce++]=CharCodes$1.l,n[Ce++]=CharCodes$1.s,n[Ce++]=CharCodes$1.e,5)},t.True=new t(ENFORCER$2,!0),t.False=new t(ENFORCER$2,!1),t})(PDFObject),IsDelimiter=new Uint8Array(256);IsDelimiter[CharCodes$1.LeftParen]=1;IsDelimiter[CharCodes$1.RightParen]=1;IsDelimiter[CharCodes$1.LessThan]=1;IsDelimiter[CharCodes$1.GreaterThan]=1;IsDelimiter[CharCodes$1.LeftSquareBracket]=1;IsDelimiter[CharCodes$1.RightSquareBracket]=1;IsDelimiter[CharCodes$1.LeftCurly]=1;IsDelimiter[CharCodes$1.RightCurly]=1;IsDelimiter[CharCodes$1.ForwardSlash]=1;IsDelimiter[CharCodes$1.Percent]=1;var IsWhitespace=new Uint8Array(256);IsWhitespace[CharCodes$1.Null]=1;IsWhitespace[CharCodes$1.Tab]=1;IsWhitespace[CharCodes$1.Newline]=1;IsWhitespace[CharCodes$1.FormFeed]=1;IsWhitespace[CharCodes$1.CarriageReturn]=1;IsWhitespace[CharCodes$1.Space]=1;var IsIrregular=new Uint8Array(256);for(var idx$1=0,len$1=256;idx$1<len$1;idx$1++)IsIrregular[idx$1]=IsWhitespace[idx$1]||IsDelimiter[idx$1]?1:0;IsIrregular[CharCodes$1.Hash]=1;var decodeName=function(Ee){return Ee.replace(/#([\dABCDEF]{2})/g,function(t,n){return charFromHexCode(n)})},isRegularChar=function(Ee){return Ee>=CharCodes$1.ExclamationPoint&&Ee<=CharCodes$1.Tilde&&!IsIrregular[Ee]},ENFORCER$1={},pool$1=new Map,PDFName=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=this;if(n!==ENFORCER$1)throw new PrivateConstructorError("PDFName");Te=Ee.call(this)||this;for(var Re="/",Be=0,Ue=Ce.length;Be<Ue;Be++){var Oe=Ce[Be],Me=toCharCode(Oe);Re+=isRegularChar(Me)?Oe:"#"+toHexString(Me)}return Te.encodedName=Re,Te}return t.prototype.asBytes=function(){for(var n=[],Ce="",Te=!1,Re=function(Ke){Ke!==void 0&&n.push(Ke),Te=!1},Be=1,Ue=this.encodedName.length;Be<Ue;Be++){var Oe=this.encodedName[Be],Me=toCharCode(Oe),Qe=this.encodedName[Be+1];Te?Me>=CharCodes$1.Zero&&Me<=CharCodes$1.Nine||Me>=CharCodes$1.a&&Me<=CharCodes$1.f||Me>=CharCodes$1.A&&Me<=CharCodes$1.F?(Ce+=Oe,(Ce.length===2||!(Qe>="0"&&Qe<="9"||Qe>="a"&&Qe<="f"||Qe>="A"&&Qe<="F"))&&(Re(parseInt(Ce,16)),Ce="")):Re(Me):Me===CharCodes$1.Hash?Te=!0:Re(Me)}return new Uint8Array(n)},t.prototype.decodeText=function(){var n=this.asBytes();return String.fromCharCode.apply(String,Array.from(n))},t.prototype.asString=function(){return this.encodedName},t.prototype.value=function(){return this.encodedName},t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.encodedName},t.prototype.sizeInBytes=function(){return this.encodedName.length},t.prototype.copyBytesInto=function(n,Ce){return Ce+=copyStringIntoBuffer(this.encodedName,n,Ce),this.encodedName.length},t.of=function(n){var Ce=decodeName(n),Te=pool$1.get(Ce);return Te||(Te=new t(ENFORCER$1,Ce),pool$1.set(Ce,Te)),Te},t.Length=t.of("Length"),t.FlateDecode=t.of("FlateDecode"),t.Resources=t.of("Resources"),t.Font=t.of("Font"),t.XObject=t.of("XObject"),t.ExtGState=t.of("ExtGState"),t.Contents=t.of("Contents"),t.Type=t.of("Type"),t.Parent=t.of("Parent"),t.MediaBox=t.of("MediaBox"),t.Page=t.of("Page"),t.Annots=t.of("Annots"),t.TrimBox=t.of("TrimBox"),t.ArtBox=t.of("ArtBox"),t.BleedBox=t.of("BleedBox"),t.CropBox=t.of("CropBox"),t.Rotate=t.of("Rotate"),t.Title=t.of("Title"),t.Author=t.of("Author"),t.Subject=t.of("Subject"),t.Creator=t.of("Creator"),t.Keywords=t.of("Keywords"),t.Producer=t.of("Producer"),t.CreationDate=t.of("CreationDate"),t.ModDate=t.of("ModDate"),t})(PDFObject),PDFNull=(function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.asNull=function(){return null},t.prototype.clone=function(){return this},t.prototype.toString=function(){return"null"},t.prototype.sizeInBytes=function(){return 4},t.prototype.copyBytesInto=function(n,Ce){return n[Ce++]=CharCodes$1.n,n[Ce++]=CharCodes$1.u,n[Ce++]=CharCodes$1.l,n[Ce++]=CharCodes$1.l,4},t})(PDFObject);const PDFNull$1=new PDFNull;var PDFDict=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=Ee.call(this)||this;return Te.dict=n,Te.context=Ce,Te}return t.prototype.keys=function(){return Array.from(this.dict.keys())},t.prototype.values=function(){return Array.from(this.dict.values())},t.prototype.entries=function(){return Array.from(this.dict.entries())},t.prototype.set=function(n,Ce){this.dict.set(n,Ce)},t.prototype.get=function(n,Ce){Ce===void 0&&(Ce=!1);var Te=this.dict.get(n);if(!(Te===PDFNull$1&&!Ce))return Te},t.prototype.has=function(n){var Ce=this.dict.get(n);return Ce!==void 0&&Ce!==PDFNull$1},t.prototype.lookupMaybe=function(n){for(var Ce,Te=[],Re=1;Re<arguments.length;Re++)Te[Re-1]=arguments[Re];var Be=Te.includes(PDFNull$1),Ue=(Ce=this.context).lookupMaybe.apply(Ce,__spreadArrays([this.get(n,Be)],Te));if(!(Ue===PDFNull$1&&!Be))return Ue},t.prototype.lookup=function(n){for(var Ce,Te=[],Re=1;Re<arguments.length;Re++)Te[Re-1]=arguments[Re];var Be=Te.includes(PDFNull$1),Ue=(Ce=this.context).lookup.apply(Ce,__spreadArrays([this.get(n,Be)],Te));if(!(Ue===PDFNull$1&&!Be))return Ue},t.prototype.delete=function(n){return this.dict.delete(n)},t.prototype.asMap=function(){return new Map(this.dict)},t.prototype.uniqueKey=function(n){n===void 0&&(n="");for(var Ce=this.keys(),Te=PDFName.of(this.context.addRandomSuffix(n,10));Ce.includes(Te);)Te=PDFName.of(this.context.addRandomSuffix(n,10));return Te},t.prototype.clone=function(n){for(var Ce=t.withContext(n||this.context),Te=this.entries(),Re=0,Be=Te.length;Re<Be;Re++){var Ue=Te[Re],Oe=Ue[0],Me=Ue[1];Ce.set(Oe,Me)}return Ce},t.prototype.toString=function(){for(var n=`<<
`,Ce=this.entries(),Te=0,Re=Ce.length;Te<Re;Te++){var Be=Ce[Te],Ue=Be[0],Oe=Be[1];n+=Ue.toString()+" "+Oe.toString()+`
`}return n+=">>",n},t.prototype.sizeInBytes=function(){for(var n=5,Ce=this.entries(),Te=0,Re=Ce.length;Te<Re;Te++){var Be=Ce[Te],Ue=Be[0],Oe=Be[1];n+=Ue.sizeInBytes()+Oe.sizeInBytes()+2}return n},t.prototype.copyBytesInto=function(n,Ce){var Te=Ce;n[Ce++]=CharCodes$1.LessThan,n[Ce++]=CharCodes$1.LessThan,n[Ce++]=CharCodes$1.Newline;for(var Re=this.entries(),Be=0,Ue=Re.length;Be<Ue;Be++){var Oe=Re[Be],Me=Oe[0],Qe=Oe[1];Ce+=Me.copyBytesInto(n,Ce),n[Ce++]=CharCodes$1.Space,Ce+=Qe.copyBytesInto(n,Ce),n[Ce++]=CharCodes$1.Newline}return n[Ce++]=CharCodes$1.GreaterThan,n[Ce++]=CharCodes$1.GreaterThan,Ce-Te},t.withContext=function(n){return new t(new Map,n)},t.fromMapWithContext=function(n,Ce){return new t(n,Ce)},t})(PDFObject),PDFStream=(function(Ee){__extends(t,Ee);function t(n){var Ce=Ee.call(this)||this;return Ce.dict=n,Ce}return t.prototype.clone=function(n){throw new MethodNotImplementedError(this.constructor.name,"clone")},t.prototype.getContentsString=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsString")},t.prototype.getContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getContents")},t.prototype.getContentsSize=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsSize")},t.prototype.updateDict=function(){var n=this.getContentsSize();this.dict.set(PDFName.Length,PDFNumber.of(n))},t.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},t.prototype.toString=function(){this.updateDict();var n=this.dict.toString();return n+=`
stream
`,n+=this.getContentsString(),n+=`
endstream`,n},t.prototype.copyBytesInto=function(n,Ce){this.updateDict();var Te=Ce;Ce+=this.dict.copyBytesInto(n,Ce),n[Ce++]=CharCodes$1.Newline,n[Ce++]=CharCodes$1.s,n[Ce++]=CharCodes$1.t,n[Ce++]=CharCodes$1.r,n[Ce++]=CharCodes$1.e,n[Ce++]=CharCodes$1.a,n[Ce++]=CharCodes$1.m,n[Ce++]=CharCodes$1.Newline;for(var Re=this.getContents(),Be=0,Ue=Re.length;Be<Ue;Be++)n[Ce++]=Re[Be];return n[Ce++]=CharCodes$1.Newline,n[Ce++]=CharCodes$1.e,n[Ce++]=CharCodes$1.n,n[Ce++]=CharCodes$1.d,n[Ce++]=CharCodes$1.s,n[Ce++]=CharCodes$1.t,n[Ce++]=CharCodes$1.r,n[Ce++]=CharCodes$1.e,n[Ce++]=CharCodes$1.a,n[Ce++]=CharCodes$1.m,Ce-Te},t})(PDFObject),PDFRawStream=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=Ee.call(this,n)||this;return Te.contents=Ce,Te}return t.prototype.asUint8Array=function(){return this.contents.slice()},t.prototype.clone=function(n){return t.of(this.dict.clone(n),this.contents.slice())},t.prototype.getContentsString=function(){return arrayAsString(this.contents)},t.prototype.getContents=function(){return this.contents},t.prototype.getContentsSize=function(){return this.contents.length},t.of=function(n,Ce){return new t(n,Ce)},t})(PDFStream),ENFORCER={},pool=new Map,PDFRef=(function(Ee){__extends(t,Ee);function t(n,Ce,Te){var Re=this;if(n!==ENFORCER)throw new PrivateConstructorError("PDFRef");return Re=Ee.call(this)||this,Re.objectNumber=Ce,Re.generationNumber=Te,Re.tag=Ce+" "+Te+" R",Re}return t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.tag},t.prototype.sizeInBytes=function(){return this.tag.length},t.prototype.copyBytesInto=function(n,Ce){return Ce+=copyStringIntoBuffer(this.tag,n,Ce),this.tag.length},t.of=function(n,Ce){Ce===void 0&&(Ce=0);var Te=n+" "+Ce+" R",Re=pool.get(Te);return Re||(Re=new t(ENFORCER,n,Ce),pool.set(Te,Re)),Re},t})(PDFObject),PDFOperator=(function(){function Ee(t,n){this.name=t,this.args=n||[]}return Ee.prototype.clone=function(t){for(var n=new Array(this.args.length),Ce=0,Te=n.length;Ce<Te;Ce++){var Re=this.args[Ce];n[Ce]=Re instanceof PDFObject?Re.clone(t):Re}return Ee.of(this.name,n)},Ee.prototype.toString=function(){for(var t="",n=0,Ce=this.args.length;n<Ce;n++)t+=String(this.args[n])+" ";return t+=this.name,t},Ee.prototype.sizeInBytes=function(){for(var t=0,n=0,Ce=this.args.length;n<Ce;n++){var Te=this.args[n];t+=(Te instanceof PDFObject?Te.sizeInBytes():Te.length)+1}return t+=this.name.length,t},Ee.prototype.copyBytesInto=function(t,n){for(var Ce=n,Te=0,Re=this.args.length;Te<Re;Te++){var Be=this.args[Te];Be instanceof PDFObject?n+=Be.copyBytesInto(t,n):n+=copyStringIntoBuffer(Be,t,n),t[n++]=CharCodes$1.Space}return n+=copyStringIntoBuffer(this.name,t,n),n-Ce},Ee.of=function(t,n){return new Ee(t,n)},Ee})(),PDFOperatorNames;(function(Ee){Ee.NonStrokingColor="sc",Ee.NonStrokingColorN="scn",Ee.NonStrokingColorRgb="rg",Ee.NonStrokingColorGray="g",Ee.NonStrokingColorCmyk="k",Ee.NonStrokingColorspace="cs",Ee.StrokingColor="SC",Ee.StrokingColorN="SCN",Ee.StrokingColorRgb="RG",Ee.StrokingColorGray="G",Ee.StrokingColorCmyk="K",Ee.StrokingColorspace="CS",Ee.BeginMarkedContentSequence="BDC",Ee.BeginMarkedContent="BMC",Ee.EndMarkedContent="EMC",Ee.MarkedContentPointWithProps="DP",Ee.MarkedContentPoint="MP",Ee.DrawObject="Do",Ee.ConcatTransformationMatrix="cm",Ee.PopGraphicsState="Q",Ee.PushGraphicsState="q",Ee.SetFlatness="i",Ee.SetGraphicsStateParams="gs",Ee.SetLineCapStyle="J",Ee.SetLineDashPattern="d",Ee.SetLineJoinStyle="j",Ee.SetLineMiterLimit="M",Ee.SetLineWidth="w",Ee.SetTextMatrix="Tm",Ee.SetRenderingIntent="ri",Ee.AppendRectangle="re",Ee.BeginInlineImage="BI",Ee.BeginInlineImageData="ID",Ee.EndInlineImage="EI",Ee.ClipEvenOdd="W*",Ee.ClipNonZero="W",Ee.CloseAndStroke="s",Ee.CloseFillEvenOddAndStroke="b*",Ee.CloseFillNonZeroAndStroke="b",Ee.ClosePath="h",Ee.AppendBezierCurve="c",Ee.CurveToReplicateFinalPoint="y",Ee.CurveToReplicateInitialPoint="v",Ee.EndPath="n",Ee.FillEvenOddAndStroke="B*",Ee.FillEvenOdd="f*",Ee.FillNonZeroAndStroke="B",Ee.FillNonZero="f",Ee.LegacyFillNonZero="F",Ee.LineTo="l",Ee.MoveTo="m",Ee.ShadingFill="sh",Ee.StrokePath="S",Ee.BeginText="BT",Ee.EndText="ET",Ee.MoveText="Td",Ee.MoveTextSetLeading="TD",Ee.NextLine="T*",Ee.SetCharacterSpacing="Tc",Ee.SetFontAndSize="Tf",Ee.SetTextHorizontalScaling="Tz",Ee.SetTextLineHeight="TL",Ee.SetTextRenderingMode="Tr",Ee.SetTextRise="Ts",Ee.SetWordSpacing="Tw",Ee.ShowText="Tj",Ee.ShowTextAdjusted="TJ",Ee.ShowTextLine="'",Ee.ShowTextLineAndSpace='"',Ee.Type3D0="d0",Ee.Type3D1="d1",Ee.BeginCompatibilitySection="BX",Ee.EndCompatibilitySection="EX"})(PDFOperatorNames||(PDFOperatorNames={}));const Ops=PDFOperatorNames;var PDFFlateStream=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=Ee.call(this,n)||this;return Te.computeContents=function(){var Re=Te.getUnencodedContents();return Te.encode?pako$1.deflate(Re):Re},Te.encode=Ce,Ce&&n.set(PDFName.of("Filter"),PDFName.of("FlateDecode")),Te.contentsCache=Cache.populatedBy(Te.computeContents),Te}return t.prototype.getContents=function(){return this.contentsCache.access()},t.prototype.getContentsSize=function(){return this.contentsCache.access().length},t.prototype.getUnencodedContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getUnencodedContents")},t})(PDFStream),PDFContentStream=(function(Ee){__extends(t,Ee);function t(n,Ce,Te){Te===void 0&&(Te=!0);var Re=Ee.call(this,n,Te)||this;return Re.operators=Ce,Re}return t.prototype.push=function(){for(var n,Ce=[],Te=0;Te<arguments.length;Te++)Ce[Te]=arguments[Te];(n=this.operators).push.apply(n,Ce)},t.prototype.clone=function(n){for(var Ce=new Array(this.operators.length),Te=0,Re=this.operators.length;Te<Re;Te++)Ce[Te]=this.operators[Te].clone(n);var Be=this,Ue=Be.dict,Oe=Be.encode;return t.of(Ue.clone(n),Ce,Oe)},t.prototype.getContentsString=function(){for(var n="",Ce=0,Te=this.operators.length;Ce<Te;Ce++)n+=this.operators[Ce]+`
`;return n},t.prototype.getUnencodedContents=function(){for(var n=new Uint8Array(this.getUnencodedContentsSize()),Ce=0,Te=0,Re=this.operators.length;Te<Re;Te++)Ce+=this.operators[Te].copyBytesInto(n,Ce),n[Ce++]=CharCodes$1.Newline;return n},t.prototype.getUnencodedContentsSize=function(){for(var n=0,Ce=0,Te=this.operators.length;Ce<Te;Ce++)n+=this.operators[Ce].sizeInBytes()+1;return n},t.of=function(n,Ce,Te){return Te===void 0&&(Te=!0),new t(n,Ce,Te)},t})(PDFFlateStream),SimpleRNG=(function(){function Ee(t){this.seed=t}return Ee.prototype.nextInt=function(){var t=Math.sin(this.seed++)*1e4;return t-Math.floor(t)},Ee.withSeed=function(t){return new Ee(t)},Ee})(),byAscendingObjectNumber=function(Ee,t){var n=Ee[0],Ce=t[0];return n.objectNumber-Ce.objectNumber},PDFContext=(function(){function Ee(){this.largestObjectNumber=0,this.header=PDFHeader.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=SimpleRNG.withSeed(1)}return Ee.prototype.assign=function(t,n){this.indirectObjects.set(t,n),t.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=t.objectNumber)},Ee.prototype.nextRef=function(){return this.largestObjectNumber+=1,PDFRef.of(this.largestObjectNumber)},Ee.prototype.register=function(t){var n=this.nextRef();return this.assign(n,t),n},Ee.prototype.delete=function(t){return this.indirectObjects.delete(t)},Ee.prototype.lookupMaybe=function(t){for(var n=[],Ce=1;Ce<arguments.length;Ce++)n[Ce-1]=arguments[Ce];var Te=n.includes(PDFNull$1),Re=t instanceof PDFRef?this.indirectObjects.get(t):t;if(!(!Re||Re===PDFNull$1&&!Te)){for(var Be=0,Ue=n.length;Be<Ue;Be++){var Oe=n[Be];if(Oe===PDFNull$1){if(Re===PDFNull$1)return Re}else if(Re instanceof Oe)return Re}throw new UnexpectedObjectTypeError(n,Re)}},Ee.prototype.lookup=function(t){for(var n=[],Ce=1;Ce<arguments.length;Ce++)n[Ce-1]=arguments[Ce];var Te=t instanceof PDFRef?this.indirectObjects.get(t):t;if(n.length===0)return Te;for(var Re=0,Be=n.length;Re<Be;Re++){var Ue=n[Re];if(Ue===PDFNull$1){if(Te===PDFNull$1)return Te}else if(Te instanceof Ue)return Te}throw new UnexpectedObjectTypeError(n,Te)},Ee.prototype.getObjectRef=function(t){for(var n=Array.from(this.indirectObjects.entries()),Ce=0,Te=n.length;Ce<Te;Ce++){var Re=n[Ce],Be=Re[0],Ue=Re[1];if(Ue===t)return Be}},Ee.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(byAscendingObjectNumber)},Ee.prototype.obj=function(t){if(t instanceof PDFObject)return t;if(t==null)return PDFNull$1;if(typeof t=="string")return PDFName.of(t);if(typeof t=="number")return PDFNumber.of(t);if(typeof t=="boolean")return t?PDFBool.True:PDFBool.False;if(Array.isArray(t)){for(var n=PDFArray.withContext(this),Ce=0,Te=t.length;Ce<Te;Ce++)n.push(this.obj(t[Ce]));return n}else{for(var Re=PDFDict.withContext(this),Be=Object.keys(t),Ce=0,Te=Be.length;Ce<Te;Ce++){var Ue=Be[Ce],Oe=t[Ue];Oe!==void 0&&Re.set(PDFName.of(Ue),this.obj(Oe))}return Re}},Ee.prototype.stream=function(t,n){return n===void 0&&(n={}),PDFRawStream.of(this.obj(n),typedArrayFor(t))},Ee.prototype.flateStream=function(t,n){return n===void 0&&(n={}),this.stream(pako$1.deflate(typedArrayFor(t)),__assign(__assign({},n),{Filter:"FlateDecode"}))},Ee.prototype.contentStream=function(t,n){return n===void 0&&(n={}),PDFContentStream.of(this.obj(n),t)},Ee.prototype.formXObject=function(t,n){return n===void 0&&(n={}),this.contentStream(t,__assign(__assign({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},n),{Type:"XObject",Subtype:"Form"}))},Ee.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var t=this.obj({}),n=PDFOperator.of(Ops.PushGraphicsState),Ce=PDFContentStream.of(t,[n]);return this.pushGraphicsStateContentStreamRef=this.register(Ce),this.pushGraphicsStateContentStreamRef},Ee.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var t=this.obj({}),n=PDFOperator.of(Ops.PopGraphicsState),Ce=PDFContentStream.of(t,[n]);return this.popGraphicsStateContentStreamRef=this.register(Ce),this.popGraphicsStateContentStreamRef},Ee.prototype.addRandomSuffix=function(t,n){return n===void 0&&(n=4),t+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,n))},Ee.create=function(){return new Ee},Ee})(),PDFPageLeaf=(function(Ee){__extends(t,Ee);function t(n,Ce,Te){Te===void 0&&(Te=!0);var Re=Ee.call(this,n,Ce)||this;return Re.normalized=!1,Re.autoNormalizeCTM=Te,Re}return t.prototype.clone=function(n){for(var Ce=t.fromMapWithContext(new Map,n||this.context,this.autoNormalizeCTM),Te=this.entries(),Re=0,Be=Te.length;Re<Be;Re++){var Ue=Te[Re],Oe=Ue[0],Me=Ue[1];Ce.set(Oe,Me)}return Ce},t.prototype.Parent=function(){return this.lookupMaybe(PDFName.Parent,PDFDict)},t.prototype.Contents=function(){return this.lookup(PDFName.of("Contents"))},t.prototype.Annots=function(){return this.lookupMaybe(PDFName.Annots,PDFArray)},t.prototype.BleedBox=function(){return this.lookupMaybe(PDFName.BleedBox,PDFArray)},t.prototype.TrimBox=function(){return this.lookupMaybe(PDFName.TrimBox,PDFArray)},t.prototype.ArtBox=function(){return this.lookupMaybe(PDFName.ArtBox,PDFArray)},t.prototype.Resources=function(){var n=this.getInheritableAttribute(PDFName.Resources);return this.context.lookupMaybe(n,PDFDict)},t.prototype.MediaBox=function(){var n=this.getInheritableAttribute(PDFName.MediaBox);return this.context.lookup(n,PDFArray)},t.prototype.CropBox=function(){var n=this.getInheritableAttribute(PDFName.CropBox);return this.context.lookupMaybe(n,PDFArray)},t.prototype.Rotate=function(){var n=this.getInheritableAttribute(PDFName.Rotate);return this.context.lookupMaybe(n,PDFNumber)},t.prototype.getInheritableAttribute=function(n){var Ce;return this.ascend(function(Te){Ce||(Ce=Te.get(n))}),Ce},t.prototype.setParent=function(n){this.set(PDFName.Parent,n)},t.prototype.addContentStream=function(n){var Ce=this.normalizedEntries().Contents||this.context.obj([]);this.set(PDFName.Contents,Ce),Ce.push(n)},t.prototype.wrapContentStreams=function(n,Ce){var Te=this.Contents();return Te instanceof PDFArray?(Te.insert(0,n),Te.push(Ce),!0):!1},t.prototype.addAnnot=function(n){var Ce=this.normalizedEntries().Annots;Ce.push(n)},t.prototype.removeAnnot=function(n){var Ce=this.normalizedEntries().Annots,Te=Ce.indexOf(n);Te!==void 0&&Ce.remove(Te)},t.prototype.setFontDictionary=function(n,Ce){var Te=this.normalizedEntries().Font;Te.set(n,Ce)},t.prototype.newFontDictionaryKey=function(n){var Ce=this.normalizedEntries().Font;return Ce.uniqueKey(n)},t.prototype.newFontDictionary=function(n,Ce){var Te=this.newFontDictionaryKey(n);return this.setFontDictionary(Te,Ce),Te},t.prototype.setXObject=function(n,Ce){var Te=this.normalizedEntries().XObject;Te.set(n,Ce)},t.prototype.newXObjectKey=function(n){var Ce=this.normalizedEntries().XObject;return Ce.uniqueKey(n)},t.prototype.newXObject=function(n,Ce){var Te=this.newXObjectKey(n);return this.setXObject(Te,Ce),Te},t.prototype.setExtGState=function(n,Ce){var Te=this.normalizedEntries().ExtGState;Te.set(n,Ce)},t.prototype.newExtGStateKey=function(n){var Ce=this.normalizedEntries().ExtGState;return Ce.uniqueKey(n)},t.prototype.newExtGState=function(n,Ce){var Te=this.newExtGStateKey(n);return this.setExtGState(Te,Ce),Te},t.prototype.ascend=function(n){n(this);var Ce=this.Parent();Ce&&Ce.ascend(n)},t.prototype.normalize=function(){if(!this.normalized){var n=this.context,Ce=this.get(PDFName.Contents),Te=this.context.lookup(Ce);Te instanceof PDFStream&&this.set(PDFName.Contents,n.obj([Ce])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var Re=this.getInheritableAttribute(PDFName.Resources),Be=n.lookupMaybe(Re,PDFDict)||n.obj({});this.set(PDFName.Resources,Be);var Ue=Be.lookupMaybe(PDFName.Font,PDFDict)||n.obj({});Be.set(PDFName.Font,Ue);var Oe=Be.lookupMaybe(PDFName.XObject,PDFDict)||n.obj({});Be.set(PDFName.XObject,Oe);var Me=Be.lookupMaybe(PDFName.ExtGState,PDFDict)||n.obj({});Be.set(PDFName.ExtGState,Me);var Qe=this.Annots()||n.obj([]);this.set(PDFName.Annots,Qe),this.normalized=!0}},t.prototype.normalizedEntries=function(){this.normalize();var n=this.Annots(),Ce=this.Resources(),Te=this.Contents();return{Annots:n,Resources:Ce,Contents:Te,Font:Ce.lookup(PDFName.Font,PDFDict),XObject:Ce.lookup(PDFName.XObject,PDFDict),ExtGState:Ce.lookup(PDFName.ExtGState,PDFDict)}},t.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],t.withContextAndParent=function(n,Ce){var Te=new Map;return Te.set(PDFName.Type,PDFName.Page),Te.set(PDFName.Parent,Ce),Te.set(PDFName.Resources,n.obj({})),Te.set(PDFName.MediaBox,n.obj([0,0,612,792])),new t(Te,n,!1)},t.fromMapWithContext=function(n,Ce,Te){return Te===void 0&&(Te=!0),new t(n,Ce,Te)},t})(PDFDict),PDFObjectCopier=(function(){function Ee(t,n){var Ce=this;this.traversedObjects=new Map,this.copy=function(Te){return Te instanceof PDFPageLeaf?Ce.copyPDFPage(Te):Te instanceof PDFDict?Ce.copyPDFDict(Te):Te instanceof PDFArray?Ce.copyPDFArray(Te):Te instanceof PDFStream?Ce.copyPDFStream(Te):Te instanceof PDFRef?Ce.copyPDFIndirectObject(Te):Te.clone()},this.copyPDFPage=function(Te){for(var Re=Te.clone(),Be=PDFPageLeaf.InheritableEntries,Ue=0,Oe=Be.length;Ue<Oe;Ue++){var Me=PDFName.of(Be[Ue]),Qe=Re.getInheritableAttribute(Me);!Re.get(Me)&&Qe&&Re.set(Me,Qe)}return Re.delete(PDFName.of("Parent")),Ce.copyPDFDict(Re)},this.copyPDFDict=function(Te){if(Ce.traversedObjects.has(Te))return Ce.traversedObjects.get(Te);var Re=Te.clone(Ce.dest);Ce.traversedObjects.set(Te,Re);for(var Be=Te.entries(),Ue=0,Oe=Be.length;Ue<Oe;Ue++){var Me=Be[Ue],Qe=Me[0],Ke=Me[1];Re.set(Qe,Ce.copy(Ke))}return Re},this.copyPDFArray=function(Te){if(Ce.traversedObjects.has(Te))return Ce.traversedObjects.get(Te);var Re=Te.clone(Ce.dest);Ce.traversedObjects.set(Te,Re);for(var Be=0,Ue=Te.size();Be<Ue;Be++){var Oe=Te.get(Be);Re.set(Be,Ce.copy(Oe))}return Re},this.copyPDFStream=function(Te){if(Ce.traversedObjects.has(Te))return Ce.traversedObjects.get(Te);var Re=Te.clone(Ce.dest);Ce.traversedObjects.set(Te,Re);for(var Be=Te.dict.entries(),Ue=0,Oe=Be.length;Ue<Oe;Ue++){var Me=Be[Ue],Qe=Me[0],Ke=Me[1];Re.dict.set(Qe,Ce.copy(Ke))}return Re},this.copyPDFIndirectObject=function(Te){var Re=Ce.traversedObjects.has(Te);if(!Re){var Be=Ce.dest.nextRef();Ce.traversedObjects.set(Te,Be);var Ue=Ce.src.lookup(Te);if(Ue){var Oe=Ce.copy(Ue);Ce.dest.assign(Be,Oe)}}return Ce.traversedObjects.get(Te)},this.src=t,this.dest=n}return Ee.for=function(t,n){return new Ee(t,n)},Ee})(),PDFCrossRefSection=(function(){function Ee(t){this.subsections=t?[[t]]:[],this.chunkIdx=0,this.chunkLength=t?1:0}return Ee.prototype.addEntry=function(t,n){this.append({ref:t,offset:n,deleted:!1})},Ee.prototype.addDeletedEntry=function(t,n){this.append({ref:t,offset:n,deleted:!0})},Ee.prototype.toString=function(){for(var t=`xref
`,n=0,Ce=this.subsections.length;n<Ce;n++){var Te=this.subsections[n];t+=Te[0].ref.objectNumber+" "+Te.length+`
`;for(var Re=0,Be=Te.length;Re<Be;Re++){var Ue=Te[Re];t+=padStart$1(String(Ue.offset),10,"0"),t+=" ",t+=padStart$1(String(Ue.ref.generationNumber),5,"0"),t+=" ",t+=Ue.deleted?"f":"n",t+=` 
`}}return t},Ee.prototype.sizeInBytes=function(){for(var t=5,n=0,Ce=this.subsections.length;n<Ce;n++){var Te=this.subsections[n],Re=Te.length,Be=Te[0];t+=2,t+=String(Be.ref.objectNumber).length,t+=String(Re).length,t+=20*Re}return t},Ee.prototype.copyBytesInto=function(t,n){var Ce=n;return t[n++]=CharCodes$1.x,t[n++]=CharCodes$1.r,t[n++]=CharCodes$1.e,t[n++]=CharCodes$1.f,t[n++]=CharCodes$1.Newline,n+=this.copySubsectionsIntoBuffer(this.subsections,t,n),n-Ce},Ee.prototype.copySubsectionsIntoBuffer=function(t,n,Ce){for(var Te=Ce,Re=t.length,Be=0;Be<Re;Be++){var Ue=this.subsections[Be],Oe=String(Ue[0].ref.objectNumber);Ce+=copyStringIntoBuffer(Oe,n,Ce),n[Ce++]=CharCodes$1.Space;var Me=String(Ue.length);Ce+=copyStringIntoBuffer(Me,n,Ce),n[Ce++]=CharCodes$1.Newline,Ce+=this.copyEntriesIntoBuffer(Ue,n,Ce)}return Ce-Te},Ee.prototype.copyEntriesIntoBuffer=function(t,n,Ce){for(var Te=t.length,Re=0;Re<Te;Re++){var Be=t[Re],Ue=padStart$1(String(Be.offset),10,"0");Ce+=copyStringIntoBuffer(Ue,n,Ce),n[Ce++]=CharCodes$1.Space;var Oe=padStart$1(String(Be.ref.generationNumber),5,"0");Ce+=copyStringIntoBuffer(Oe,n,Ce),n[Ce++]=CharCodes$1.Space,n[Ce++]=Be.deleted?CharCodes$1.f:CharCodes$1.n,n[Ce++]=CharCodes$1.Space,n[Ce++]=CharCodes$1.Newline}return 20*Te},Ee.prototype.append=function(t){if(this.chunkLength===0){this.subsections.push([t]),this.chunkIdx=0,this.chunkLength=1;return}var n=this.subsections[this.chunkIdx],Ce=n[this.chunkLength-1];t.ref.objectNumber-Ce.ref.objectNumber>1?(this.subsections.push([t]),this.chunkIdx+=1,this.chunkLength=1):(n.push(t),this.chunkLength+=1)},Ee.create=function(){return new Ee({ref:PDFRef.of(0,65535),offset:0,deleted:!0})},Ee.createEmpty=function(){return new Ee},Ee})(),PDFTrailer=(function(){function Ee(t){this.lastXRefOffset=String(t)}return Ee.prototype.toString=function(){return`startxref
`+this.lastXRefOffset+`
%%EOF`},Ee.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},Ee.prototype.copyBytesInto=function(t,n){var Ce=n;return t[n++]=CharCodes$1.s,t[n++]=CharCodes$1.t,t[n++]=CharCodes$1.a,t[n++]=CharCodes$1.r,t[n++]=CharCodes$1.t,t[n++]=CharCodes$1.x,t[n++]=CharCodes$1.r,t[n++]=CharCodes$1.e,t[n++]=CharCodes$1.f,t[n++]=CharCodes$1.Newline,n+=copyStringIntoBuffer(this.lastXRefOffset,t,n),t[n++]=CharCodes$1.Newline,t[n++]=CharCodes$1.Percent,t[n++]=CharCodes$1.Percent,t[n++]=CharCodes$1.E,t[n++]=CharCodes$1.O,t[n++]=CharCodes$1.F,n-Ce},Ee.forLastCrossRefSectionOffset=function(t){return new Ee(t)},Ee})(),PDFTrailerDict=(function(){function Ee(t){this.dict=t}return Ee.prototype.toString=function(){return`trailer
`+this.dict.toString()},Ee.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},Ee.prototype.copyBytesInto=function(t,n){var Ce=n;return t[n++]=CharCodes$1.t,t[n++]=CharCodes$1.r,t[n++]=CharCodes$1.a,t[n++]=CharCodes$1.i,t[n++]=CharCodes$1.l,t[n++]=CharCodes$1.e,t[n++]=CharCodes$1.r,t[n++]=CharCodes$1.Newline,n+=this.dict.copyBytesInto(t,n),n-Ce},Ee.of=function(t){return new Ee(t)},Ee})(),PDFObjectStream=(function(Ee){__extends(t,Ee);function t(n,Ce,Te){Te===void 0&&(Te=!0);var Re=Ee.call(this,n.obj({}),Te)||this;return Re.objects=Ce,Re.offsets=Re.computeObjectOffsets(),Re.offsetsString=Re.computeOffsetsString(),Re.dict.set(PDFName.of("Type"),PDFName.of("ObjStm")),Re.dict.set(PDFName.of("N"),PDFNumber.of(Re.objects.length)),Re.dict.set(PDFName.of("First"),PDFNumber.of(Re.offsetsString.length)),Re}return t.prototype.getObjectsCount=function(){return this.objects.length},t.prototype.clone=function(n){return t.withContextAndObjects(n||this.dict.context,this.objects.slice(),this.encode)},t.prototype.getContentsString=function(){for(var n=this.offsetsString,Ce=0,Te=this.objects.length;Ce<Te;Ce++){var Re=this.objects[Ce],Be=Re[1];n+=Be+`
`}return n},t.prototype.getUnencodedContents=function(){for(var n=new Uint8Array(this.getUnencodedContentsSize()),Ce=copyStringIntoBuffer(this.offsetsString,n,0),Te=0,Re=this.objects.length;Te<Re;Te++){var Be=this.objects[Te],Ue=Be[1];Ce+=Ue.copyBytesInto(n,Ce),n[Ce++]=CharCodes$1.Newline}return n},t.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+last(this.offsets)[1]+last(this.objects)[1].sizeInBytes()+1},t.prototype.computeOffsetsString=function(){for(var n="",Ce=0,Te=this.offsets.length;Ce<Te;Ce++){var Re=this.offsets[Ce],Be=Re[0],Ue=Re[1];n+=Be+" "+Ue+" "}return n},t.prototype.computeObjectOffsets=function(){for(var n=0,Ce=new Array(this.objects.length),Te=0,Re=this.objects.length;Te<Re;Te++){var Be=this.objects[Te],Ue=Be[0],Oe=Be[1];Ce[Te]=[Ue.objectNumber,n],n+=Oe.sizeInBytes()+1}return Ce},t.withContextAndObjects=function(n,Ce,Te){return Te===void 0&&(Te=!0),new t(n,Ce,Te)},t})(PDFFlateStream),PDFWriter=(function(){function Ee(t,n){var Ce=this;this.parsedObjects=0,this.shouldWaitForTick=function(Te){return Ce.parsedObjects+=Te,Ce.parsedObjects%Ce.objectsPerTick===0},this.context=t,this.objectsPerTick=n}return Ee.prototype.serializeToBuffer=function(){return __awaiter$1(this,void 0,void 0,function(){var t,n,Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke,Ge,qe,Xe,tr,Je,Ye;return __generator(this,function(lr){switch(lr.label){case 0:return[4,this.computeBufferSize()];case 1:t=lr.sent(),n=t.size,Ce=t.header,Te=t.indirectObjects,Re=t.xref,Be=t.trailerDict,Ue=t.trailer,Oe=0,Me=new Uint8Array(n),Oe+=Ce.copyBytesInto(Me,Oe),Me[Oe++]=CharCodes$1.Newline,Me[Oe++]=CharCodes$1.Newline,Qe=0,Ke=Te.length,lr.label=2;case 2:return Qe<Ke?(Ge=Te[Qe],qe=Ge[0],Xe=Ge[1],tr=String(qe.objectNumber),Oe+=copyStringIntoBuffer(tr,Me,Oe),Me[Oe++]=CharCodes$1.Space,Je=String(qe.generationNumber),Oe+=copyStringIntoBuffer(Je,Me,Oe),Me[Oe++]=CharCodes$1.Space,Me[Oe++]=CharCodes$1.o,Me[Oe++]=CharCodes$1.b,Me[Oe++]=CharCodes$1.j,Me[Oe++]=CharCodes$1.Newline,Oe+=Xe.copyBytesInto(Me,Oe),Me[Oe++]=CharCodes$1.Newline,Me[Oe++]=CharCodes$1.e,Me[Oe++]=CharCodes$1.n,Me[Oe++]=CharCodes$1.d,Me[Oe++]=CharCodes$1.o,Me[Oe++]=CharCodes$1.b,Me[Oe++]=CharCodes$1.j,Me[Oe++]=CharCodes$1.Newline,Me[Oe++]=CharCodes$1.Newline,Ye=Xe instanceof PDFObjectStream?Xe.getObjectsCount():1,this.shouldWaitForTick(Ye)?[4,waitForTick()]:[3,4]):[3,5];case 3:lr.sent(),lr.label=4;case 4:return Qe++,[3,2];case 5:return Re&&(Oe+=Re.copyBytesInto(Me,Oe),Me[Oe++]=CharCodes$1.Newline),Be&&(Oe+=Be.copyBytesInto(Me,Oe),Me[Oe++]=CharCodes$1.Newline,Me[Oe++]=CharCodes$1.Newline),Oe+=Ue.copyBytesInto(Me,Oe),[2,Me]}})})},Ee.prototype.computeIndirectObjectSize=function(t){var n=t[0],Ce=t[1],Te=n.sizeInBytes()+3,Re=Ce.sizeInBytes()+9;return Te+Re},Ee.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},Ee.prototype.computeBufferSize=function(){return __awaiter$1(this,void 0,void 0,function(){var t,n,Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke;return __generator(this,function(Ge){switch(Ge.label){case 0:t=PDFHeader.forVersion(1,7),n=t.sizeInBytes()+2,Ce=PDFCrossRefSection.create(),Te=this.context.enumerateIndirectObjects(),Re=0,Be=Te.length,Ge.label=1;case 1:return Re<Be?(Ue=Te[Re],Oe=Ue[0],Ce.addEntry(Oe,n),n+=this.computeIndirectObjectSize(Ue),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,4];case 2:Ge.sent(),Ge.label=3;case 3:return Re++,[3,1];case 4:return Me=n,n+=Ce.sizeInBytes()+1,Qe=PDFTrailerDict.of(this.createTrailerDict()),n+=Qe.sizeInBytes()+2,Ke=PDFTrailer.forLastCrossRefSectionOffset(Me),n+=Ke.sizeInBytes(),[2,{size:n,header:t,indirectObjects:Te,xref:Ce,trailerDict:Qe,trailer:Ke}]}})})},Ee.forContext=function(t,n){return new Ee(t,n)},Ee})(),PDFInvalidObject=(function(Ee){__extends(t,Ee);function t(n){var Ce=Ee.call(this)||this;return Ce.data=n,Ce}return t.prototype.clone=function(){return t.of(this.data.slice())},t.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},t.prototype.sizeInBytes=function(){return this.data.length},t.prototype.copyBytesInto=function(n,Ce){for(var Te=this.data.length,Re=0;Re<Te;Re++)n[Ce++]=this.data[Re];return Te},t.of=function(n){return new t(n)},t})(PDFObject),EntryType;(function(Ee){Ee[Ee.Deleted=0]="Deleted",Ee[Ee.Uncompressed=1]="Uncompressed",Ee[Ee.Compressed=2]="Compressed"})(EntryType||(EntryType={}));var PDFCrossRefStream=(function(Ee){__extends(t,Ee);function t(n,Ce,Te){Te===void 0&&(Te=!0);var Re=Ee.call(this,n,Te)||this;return Re.computeIndex=function(){for(var Be=[],Ue=0,Oe=0,Me=Re.entries.length;Oe<Me;Oe++){var Qe=Re.entries[Oe],Ke=Re.entries[Oe-1];Oe===0?Be.push(Qe.ref.objectNumber):Qe.ref.objectNumber-Ke.ref.objectNumber>1&&(Be.push(Ue),Be.push(Qe.ref.objectNumber),Ue=0),Ue+=1}return Be.push(Ue),Be},Re.computeEntryTuples=function(){for(var Be=new Array(Re.entries.length),Ue=0,Oe=Re.entries.length;Ue<Oe;Ue++){var Me=Re.entries[Ue];if(Me.type===EntryType.Deleted){var Qe=Me.type,Ke=Me.nextFreeObjectNumber,Ge=Me.ref;Be[Ue]=[Qe,Ke,Ge.generationNumber]}if(Me.type===EntryType.Uncompressed){var Qe=Me.type,qe=Me.offset,Ge=Me.ref;Be[Ue]=[Qe,qe,Ge.generationNumber]}if(Me.type===EntryType.Compressed){var Qe=Me.type,Xe=Me.objectStreamRef,tr=Me.index;Be[Ue]=[Qe,Xe.objectNumber,tr]}}return Be},Re.computeMaxEntryByteWidths=function(){for(var Be=Re.entryTuplesCache.access(),Ue=[0,0,0],Oe=0,Me=Be.length;Oe<Me;Oe++){var Qe=Be[Oe],Ke=Qe[0],Ge=Qe[1],qe=Qe[2],Xe=sizeInBytes(Ke),tr=sizeInBytes(Ge),Je=sizeInBytes(qe);Xe>Ue[0]&&(Ue[0]=Xe),tr>Ue[1]&&(Ue[1]=tr),Je>Ue[2]&&(Ue[2]=Je)}return Ue},Re.entries=Ce||[],Re.entryTuplesCache=Cache.populatedBy(Re.computeEntryTuples),Re.maxByteWidthsCache=Cache.populatedBy(Re.computeMaxEntryByteWidths),Re.indexCache=Cache.populatedBy(Re.computeIndex),n.set(PDFName.of("Type"),PDFName.of("XRef")),Re}return t.prototype.addDeletedEntry=function(n,Ce){var Te=EntryType.Deleted;this.entries.push({type:Te,ref:n,nextFreeObjectNumber:Ce}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addUncompressedEntry=function(n,Ce){var Te=EntryType.Uncompressed;this.entries.push({type:Te,ref:n,offset:Ce}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addCompressedEntry=function(n,Ce,Te){var Re=EntryType.Compressed;this.entries.push({type:Re,ref:n,objectStreamRef:Ce,index:Te}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.clone=function(n){var Ce=this,Te=Ce.dict,Re=Ce.entries,Be=Ce.encode;return t.of(Te.clone(n),Re.slice(),Be)},t.prototype.getContentsString=function(){for(var n=this.entryTuplesCache.access(),Ce=this.maxByteWidthsCache.access(),Te="",Re=0,Be=n.length;Re<Be;Re++){for(var Ue=n[Re],Oe=Ue[0],Me=Ue[1],Qe=Ue[2],Ke=reverseArray(bytesFor(Oe)),Ge=reverseArray(bytesFor(Me)),qe=reverseArray(bytesFor(Qe)),Xe=Ce[0]-1;Xe>=0;Xe--)Te+=(Ke[Xe]||0).toString(2);for(var Xe=Ce[1]-1;Xe>=0;Xe--)Te+=(Ge[Xe]||0).toString(2);for(var Xe=Ce[2]-1;Xe>=0;Xe--)Te+=(qe[Xe]||0).toString(2)}return Te},t.prototype.getUnencodedContents=function(){for(var n=this.entryTuplesCache.access(),Ce=this.maxByteWidthsCache.access(),Te=new Uint8Array(this.getUnencodedContentsSize()),Re=0,Be=0,Ue=n.length;Be<Ue;Be++){for(var Oe=n[Be],Me=Oe[0],Qe=Oe[1],Ke=Oe[2],Ge=reverseArray(bytesFor(Me)),qe=reverseArray(bytesFor(Qe)),Xe=reverseArray(bytesFor(Ke)),tr=Ce[0]-1;tr>=0;tr--)Te[Re++]=Ge[tr]||0;for(var tr=Ce[1]-1;tr>=0;tr--)Te[Re++]=qe[tr]||0;for(var tr=Ce[2]-1;tr>=0;tr--)Te[Re++]=Xe[tr]||0}return Te},t.prototype.getUnencodedContentsSize=function(){var n=this.maxByteWidthsCache.access(),Ce=sum(n);return Ce*this.entries.length},t.prototype.updateDict=function(){Ee.prototype.updateDict.call(this);var n=this.maxByteWidthsCache.access(),Ce=this.indexCache.access(),Te=this.dict.context;this.dict.set(PDFName.of("W"),Te.obj(n)),this.dict.set(PDFName.of("Index"),Te.obj(Ce))},t.create=function(n,Ce){Ce===void 0&&(Ce=!0);var Te=new t(n,[],Ce);return Te.addDeletedEntry(PDFRef.of(0,65535),0),Te},t.of=function(n,Ce,Te){return Te===void 0&&(Te=!0),new t(n,Ce,Te)},t})(PDFFlateStream),PDFStreamWriter=(function(Ee){__extends(t,Ee);function t(n,Ce,Te,Re){var Be=Ee.call(this,n,Ce)||this;return Be.encodeStreams=Te,Be.objectsPerStream=Re,Be}return t.prototype.computeBufferSize=function(){return __awaiter$1(this,void 0,void 0,function(){var n,Ce,Te,Re,Be,Ue,Oe,Me,Xe,tr,Qe,Ye,Ke,Ge,Je,qe,Xe,tr,Je,Ye,lr,cr,hr,ur;return __generator(this,function(fr){switch(fr.label){case 0:n=this.context.largestObjectNumber+1,Ce=PDFHeader.forVersion(1,7),Te=Ce.sizeInBytes()+2,Re=PDFCrossRefStream.create(this.createTrailerDict(),this.encodeStreams),Be=[],Ue=[],Oe=[],Me=this.context.enumerateIndirectObjects(),Xe=0,tr=Me.length,fr.label=1;case 1:return Xe<tr?(Qe=Me[Xe],Ye=Qe[0],Ke=Qe[1],Ge=Ye===this.context.trailerInfo.Encrypt||Ke instanceof PDFStream||Ke instanceof PDFInvalidObject||Ye.generationNumber!==0,Ge?(Be.push(Qe),Re.addUncompressedEntry(Ye,Te),Te+=this.computeIndirectObjectSize(Qe),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,4]):[3,6];case 2:fr.sent(),fr.label=3;case 3:return[3,5];case 4:Je=last(Ue),qe=last(Oe),(!Je||Je.length%this.objectsPerStream===0)&&(Je=[],Ue.push(Je),qe=PDFRef.of(n++),Oe.push(qe)),Re.addCompressedEntry(Ye,qe,Je.length),Je.push(Qe),fr.label=5;case 5:return Xe++,[3,1];case 6:Xe=0,tr=Ue.length,fr.label=7;case 7:return Xe<tr?(Je=Ue[Xe],Ye=Oe[Xe],lr=PDFObjectStream.withContextAndObjects(this.context,Je,this.encodeStreams),Re.addUncompressedEntry(Ye,Te),Te+=this.computeIndirectObjectSize([Ye,lr]),Be.push([Ye,lr]),this.shouldWaitForTick(Je.length)?[4,waitForTick()]:[3,9]):[3,10];case 8:fr.sent(),fr.label=9;case 9:return Xe++,[3,7];case 10:return cr=PDFRef.of(n++),Re.dict.set(PDFName.of("Size"),PDFNumber.of(n)),Re.addUncompressedEntry(cr,Te),hr=Te,Te+=this.computeIndirectObjectSize([cr,Re]),Be.push([cr,Re]),ur=PDFTrailer.forLastCrossRefSectionOffset(hr),Te+=ur.sizeInBytes(),[2,{size:Te,header:Ce,indirectObjects:Be,trailer:ur}]}})})},t.forContext=function(n,Ce,Te,Re){return Te===void 0&&(Te=!0),Re===void 0&&(Re=50),new t(n,Ce,Te,Re)},t})(PDFWriter),PDFHexString=(function(Ee){__extends(t,Ee);function t(n){var Ce=Ee.call(this)||this;return Ce.value=n,Ce}return t.prototype.asBytes=function(){for(var n=this.value+(this.value.length%2===1?"0":""),Ce=n.length,Te=new Uint8Array(n.length/2),Re=0,Be=0;Re<Ce;){var Ue=parseInt(n.substring(Re,Re+2),16);Te[Be]=Ue,Re+=2,Be+=1}return Te},t.prototype.decodeText=function(){var n=this.asBytes();return hasUtf16BOM(n)?utf16Decode(n):pdfDocEncodingDecode(n)},t.prototype.decodeDate=function(){var n=this.decodeText(),Ce=parseDate(n);if(!Ce)throw new InvalidPDFDateStringError(n);return Ce},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"<"+this.value+">"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(n,Ce){return n[Ce++]=CharCodes$1.LessThan,Ce+=copyStringIntoBuffer(this.value,n,Ce),n[Ce++]=CharCodes$1.GreaterThan,this.value.length+2},t.of=function(n){return new t(n)},t.fromText=function(n){for(var Ce=utf16Encode(n),Te="",Re=0,Be=Ce.length;Re<Be;Re++)Te+=toHexStringOfMinLength(Ce[Re],4);return new t(Te)},t})(PDFObject),StandardFontEmbedder=(function(){function Ee(t,n){this.encoding=t===FontNames.ZapfDingbats?Encodings.ZapfDingbats:t===FontNames.Symbol?Encodings.Symbol:Encodings.WinAnsi,this.font=Font.load(t),this.fontName=this.font.FontName,this.customName=n}return Ee.prototype.encodeText=function(t){for(var n=this.encodeTextAsGlyphs(t),Ce=new Array(n.length),Te=0,Re=n.length;Te<Re;Te++)Ce[Te]=toHexString(n[Te].code);return PDFHexString.of(Ce.join(""))},Ee.prototype.widthOfTextAtSize=function(t,n){for(var Ce=this.encodeTextAsGlyphs(t),Te=0,Re=0,Be=Ce.length;Re<Be;Re++){var Ue=Ce[Re].name,Oe=(Ce[Re+1]||{}).name,Me=this.font.getXAxisKerningForPair(Ue,Oe)||0;Te+=this.widthOfGlyph(Ue)+Me}var Qe=n/1e3;return Te*Qe},Ee.prototype.heightOfFontAtSize=function(t,n){n===void 0&&(n={});var Ce=n.descender,Te=Ce===void 0?!0:Ce,Re=this.font,Be=Re.Ascender,Ue=Re.Descender,Oe=Re.FontBBox,Me=Be||Oe[3],Qe=Ue||Oe[1],Ke=Me-Qe;return Te||(Ke+=Ue||0),Ke/1e3*t},Ee.prototype.sizeOfFontAtHeight=function(t){var n=this.font,Ce=n.Ascender,Te=n.Descender,Re=n.FontBBox,Be=Ce||Re[3],Ue=Te||Re[1];return 1e3*t/(Be-Ue)},Ee.prototype.embedIntoContext=function(t,n){var Ce=t.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===Encodings.WinAnsi?"WinAnsiEncoding":void 0});return n?(t.assign(n,Ce),n):t.register(Ce)},Ee.prototype.widthOfGlyph=function(t){return this.font.getWidthOfGlyph(t)||250},Ee.prototype.encodeTextAsGlyphs=function(t){for(var n=Array.from(t),Ce=new Array(n.length),Te=0,Re=n.length;Te<Re;Te++){var Be=toCodePoint(n[Te]);Ce[Te]=this.encoding.encodeUnicodeCodePoint(Be)}return Ce},Ee.for=function(t,n){return new Ee(t,n)},Ee})(),createCmap=function(Ee,t){for(var n=new Array(Ee.length),Ce=0,Te=Ee.length;Ce<Te;Ce++){var Re=Ee[Ce],Be=cmapHexFormat(cmapHexString(t(Re))),Ue=cmapHexFormat.apply(void 0,Re.codePoints.map(cmapCodePointFormat));n[Ce]=[Be,Ue]}return fillCmapTemplate(n)},fillCmapTemplate=function(Ee){return`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange
`+Ee.length+` beginbfchar
`+Ee.map(function(t){var n=t[0],Ce=t[1];return n+" "+Ce}).join(`
`)+`
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end`},cmapHexFormat=function(){for(var Ee=[],t=0;t<arguments.length;t++)Ee[t]=arguments[t];return"<"+Ee.join("")+">"},cmapHexString=function(Ee){return toHexStringOfMinLength(Ee,4)},cmapCodePointFormat=function(Ee){if(isWithinBMP(Ee))return cmapHexString(Ee);if(hasSurrogates(Ee)){var t=highSurrogate(Ee),n=lowSurrogate(Ee);return""+cmapHexString(t)+cmapHexString(n)}var Ce=toHexString(Ee),Te="0x"+Ce+" is not a valid UTF-8 or UTF-16 codepoint.";throw new Error(Te)},makeFontFlags=function(Ee){var t=0,n=function(Ce){t|=1<<Ce-1};return Ee.fixedPitch&&n(1),Ee.serif&&n(2),n(3),Ee.script&&n(4),Ee.nonsymbolic&&n(6),Ee.italic&&n(7),Ee.allCap&&n(17),Ee.smallCap&&n(18),Ee.forceBold&&n(19),t},deriveFontFlags=function(Ee){var t=Ee["OS/2"]?Ee["OS/2"].sFamilyClass:0,n=makeFontFlags({fixedPitch:Ee.post.isFixedPitch,serif:1<=t&&t<=7,script:t===10,italic:Ee.head.macStyle.italic});return n},PDFString=(function(Ee){__extends(t,Ee);function t(n){var Ce=Ee.call(this)||this;return Ce.value=n,Ce}return t.prototype.asBytes=function(){for(var n=[],Ce="",Te=!1,Re=function(Ke){Ke!==void 0&&n.push(Ke),Te=!1},Be=0,Ue=this.value.length;Be<Ue;Be++){var Oe=this.value[Be],Me=toCharCode(Oe),Qe=this.value[Be+1];Te?Me===CharCodes$1.Newline||Me===CharCodes$1.CarriageReturn?Re():Me===CharCodes$1.n?Re(CharCodes$1.Newline):Me===CharCodes$1.r?Re(CharCodes$1.CarriageReturn):Me===CharCodes$1.t?Re(CharCodes$1.Tab):Me===CharCodes$1.b?Re(CharCodes$1.Backspace):Me===CharCodes$1.f?Re(CharCodes$1.FormFeed):Me===CharCodes$1.LeftParen?Re(CharCodes$1.LeftParen):Me===CharCodes$1.RightParen?Re(CharCodes$1.RightParen):Me===CharCodes$1.Backspace?Re(CharCodes$1.BackSlash):Me>=CharCodes$1.Zero&&Me<=CharCodes$1.Seven?(Ce+=Oe,(Ce.length===3||!(Qe>="0"&&Qe<="7"))&&(Re(parseInt(Ce,8)),Ce="")):Re(Me):Me===CharCodes$1.BackSlash?Te=!0:Re(Me)}return new Uint8Array(n)},t.prototype.decodeText=function(){var n=this.asBytes();return hasUtf16BOM(n)?utf16Decode(n):pdfDocEncodingDecode(n)},t.prototype.decodeDate=function(){var n=this.decodeText(),Ce=parseDate(n);if(!Ce)throw new InvalidPDFDateStringError(n);return Ce},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"("+this.value+")"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(n,Ce){return n[Ce++]=CharCodes$1.LeftParen,Ce+=copyStringIntoBuffer(this.value,n,Ce),n[Ce++]=CharCodes$1.RightParen,this.value.length+2},t.of=function(n){return new t(n)},t.fromDate=function(n){var Ce=padStart$1(String(n.getUTCFullYear()),4,"0"),Te=padStart$1(String(n.getUTCMonth()+1),2,"0"),Re=padStart$1(String(n.getUTCDate()),2,"0"),Be=padStart$1(String(n.getUTCHours()),2,"0"),Ue=padStart$1(String(n.getUTCMinutes()),2,"0"),Oe=padStart$1(String(n.getUTCSeconds()),2,"0");return new t("D:"+Ce+Te+Re+Be+Ue+Oe+"Z")},t})(PDFObject),CustomFontEmbedder=(function(){function Ee(t,n,Ce,Te){var Re=this;this.allGlyphsInFontSortedById=function(){for(var Be=new Array(Re.font.characterSet.length),Ue=0,Oe=Be.length;Ue<Oe;Ue++){var Me=Re.font.characterSet[Ue];Be[Ue]=Re.font.glyphForCodePoint(Me)}return sortedUniq(Be.sort(byAscendingId),function(Qe){return Qe.id})},this.font=t,this.scale=1e3/this.font.unitsPerEm,this.fontData=n,this.fontName=this.font.postscriptName||"Font",this.customName=Ce,this.fontFeatures=Te,this.baseFontName="",this.glyphCache=Cache.populatedBy(this.allGlyphsInFontSortedById)}return Ee.for=function(t,n,Ce,Te){return __awaiter$1(this,void 0,void 0,function(){var Re;return __generator(this,function(Be){switch(Be.label){case 0:return[4,t.create(n)];case 1:return Re=Be.sent(),[2,new Ee(Re,n,Ce,Te)]}})})},Ee.prototype.encodeText=function(t){for(var n=this.font.layout(t,this.fontFeatures).glyphs,Ce=new Array(n.length),Te=0,Re=n.length;Te<Re;Te++)Ce[Te]=toHexStringOfMinLength(n[Te].id,4);return PDFHexString.of(Ce.join(""))},Ee.prototype.widthOfTextAtSize=function(t,n){for(var Ce=this.font.layout(t,this.fontFeatures).glyphs,Te=0,Re=0,Be=Ce.length;Re<Be;Re++)Te+=Ce[Re].advanceWidth*this.scale;var Ue=n/1e3;return Te*Ue},Ee.prototype.heightOfFontAtSize=function(t,n){n===void 0&&(n={});var Ce=n.descender,Te=Ce===void 0?!0:Ce,Re=this.font,Be=Re.ascent,Ue=Re.descent,Oe=Re.bbox,Me=(Be||Oe.maxY)*this.scale,Qe=(Ue||Oe.minY)*this.scale,Ke=Me-Qe;return Te||(Ke-=Math.abs(Ue)||0),Ke/1e3*t},Ee.prototype.sizeOfFontAtHeight=function(t){var n=this.font,Ce=n.ascent,Te=n.descent,Re=n.bbox,Be=(Ce||Re.maxY)*this.scale,Ue=(Te||Re.minY)*this.scale;return 1e3*t/(Be-Ue)},Ee.prototype.embedIntoContext=function(t,n){return this.baseFontName=this.customName||t.addRandomSuffix(this.fontName),this.embedFontDict(t,n)},Ee.prototype.embedFontDict=function(t,n){return __awaiter$1(this,void 0,void 0,function(){var Ce,Te,Re;return __generator(this,function(Be){switch(Be.label){case 0:return[4,this.embedCIDFontDict(t)];case 1:return Ce=Be.sent(),Te=this.embedUnicodeCmap(t),Re=t.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[Ce],ToUnicode:Te}),n?(t.assign(n,Re),[2,n]):[2,t.register(Re)]}})})},Ee.prototype.isCFF=function(){return this.font.cff},Ee.prototype.embedCIDFontDict=function(t){return __awaiter$1(this,void 0,void 0,function(){var n,Ce;return __generator(this,function(Te){switch(Te.label){case 0:return[4,this.embedFontDescriptor(t)];case 1:return n=Te.sent(),Ce=t.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:PDFString.of("Adobe"),Ordering:PDFString.of("Identity"),Supplement:0},FontDescriptor:n,W:this.computeWidths()}),[2,t.register(Ce)]}})})},Ee.prototype.embedFontDescriptor=function(t){return __awaiter$1(this,void 0,void 0,function(){var n,Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke,Ge,qe,Xe,tr,Je;return __generator(this,function(Ye){switch(Ye.label){case 0:return[4,this.embedFontStream(t)];case 1:return n=Ye.sent(),Ce=this.scale,Te=this.font,Re=Te.italicAngle,Be=Te.ascent,Ue=Te.descent,Oe=Te.capHeight,Me=Te.xHeight,Qe=this.font.bbox,Ke=Qe.minX,Ge=Qe.minY,qe=Qe.maxX,Xe=Qe.maxY,tr=t.obj((Je={Type:"FontDescriptor",FontName:this.baseFontName,Flags:deriveFontFlags(this.font),FontBBox:[Ke*Ce,Ge*Ce,qe*Ce,Xe*Ce],ItalicAngle:Re,Ascent:Be*Ce,Descent:Ue*Ce,CapHeight:(Oe||Be)*Ce,XHeight:(Me||0)*Ce,StemV:0},Je[this.isCFF()?"FontFile3":"FontFile2"]=n,Je)),[2,t.register(tr)]}})})},Ee.prototype.serializeFont=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(t){return[2,this.fontData]})})},Ee.prototype.embedFontStream=function(t){return __awaiter$1(this,void 0,void 0,function(){var n,Ce,Te;return __generator(this,function(Re){switch(Re.label){case 0:return Te=(Ce=t).flateStream,[4,this.serializeFont()];case 1:return n=Te.apply(Ce,[Re.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,t.register(n)]}})})},Ee.prototype.embedUnicodeCmap=function(t){var n=createCmap(this.glyphCache.access(),this.glyphId.bind(this)),Ce=t.flateStream(n);return t.register(Ce)},Ee.prototype.glyphId=function(t){return t?t.id:-1},Ee.prototype.computeWidths=function(){for(var t=this.glyphCache.access(),n=[],Ce=[],Te=0,Re=t.length;Te<Re;Te++){var Be=t[Te],Ue=t[Te-1],Oe=this.glyphId(Be),Me=this.glyphId(Ue);Te===0?n.push(Oe):Oe-Me!==1&&(n.push(Ce),n.push(Oe),Ce=[]),Ce.push(Be.advanceWidth*this.scale)}return n.push(Ce),n},Ee})(),CustomFontSubsetEmbedder=(function(Ee){__extends(t,Ee);function t(n,Ce,Te,Re){var Be=Ee.call(this,n,Ce,Te,Re)||this;return Be.subset=Be.font.createSubset(),Be.glyphs=[],Be.glyphCache=Cache.populatedBy(function(){return Be.glyphs}),Be.glyphIdMap=new Map,Be}return t.for=function(n,Ce,Te,Re){return __awaiter$1(this,void 0,void 0,function(){var Be;return __generator(this,function(Ue){switch(Ue.label){case 0:return[4,n.create(Ce)];case 1:return Be=Ue.sent(),[2,new t(Be,Ce,Te,Re)]}})})},t.prototype.encodeText=function(n){for(var Ce=this.font.layout(n,this.fontFeatures).glyphs,Te=new Array(Ce.length),Re=0,Be=Ce.length;Re<Be;Re++){var Ue=Ce[Re],Oe=this.subset.includeGlyph(Ue);this.glyphs[Oe-1]=Ue,this.glyphIdMap.set(Ue.id,Oe),Te[Re]=toHexStringOfMinLength(Oe,4)}return this.glyphCache.invalidate(),PDFHexString.of(Te.join(""))},t.prototype.isCFF=function(){return this.subset.cff},t.prototype.glyphId=function(n){return n?this.glyphIdMap.get(n.id):-1},t.prototype.serializeFont=function(){var n=this;return new Promise(function(Ce,Te){var Re=[];n.subset.encodeStream().on("data",function(Be){return Re.push(Be)}).on("end",function(){return Ce(mergeUint8Arrays(Re))}).on("error",function(Be){return Te(Be)})})},t})(CustomFontEmbedder),AFRelationship;(function(Ee){Ee.Source="Source",Ee.Data="Data",Ee.Alternative="Alternative",Ee.Supplement="Supplement",Ee.EncryptedPayload="EncryptedPayload",Ee.FormData="EncryptedPayload",Ee.Schema="Schema",Ee.Unspecified="Unspecified"})(AFRelationship||(AFRelationship={}));var FileEmbedder=(function(){function Ee(t,n,Ce){Ce===void 0&&(Ce={}),this.fileData=t,this.fileName=n,this.options=Ce}return Ee.for=function(t,n,Ce){return Ce===void 0&&(Ce={}),new Ee(t,n,Ce)},Ee.prototype.embedIntoContext=function(t,n){return __awaiter$1(this,void 0,void 0,function(){var Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke;return __generator(this,function(Ge){return Ce=this.options,Te=Ce.mimeType,Re=Ce.description,Be=Ce.creationDate,Ue=Ce.modificationDate,Oe=Ce.afRelationship,Me=t.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:Te??void 0,Params:{Size:this.fileData.length,CreationDate:Be?PDFString.fromDate(Be):void 0,ModDate:Ue?PDFString.fromDate(Ue):void 0}}),Qe=t.register(Me),Ke=t.obj({Type:"Filespec",F:PDFString.of(this.fileName),UF:PDFHexString.fromText(this.fileName),EF:{F:Qe},Desc:Re?PDFHexString.fromText(Re):void 0,AFRelationship:Oe??void 0}),n?(t.assign(n,Ke),[2,n]):[2,t.register(Ke)]})})},Ee})(),MARKERS=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],ColorSpace;(function(Ee){Ee.DeviceGray="DeviceGray",Ee.DeviceRGB="DeviceRGB",Ee.DeviceCMYK="DeviceCMYK"})(ColorSpace||(ColorSpace={}));var ChannelToColorSpace={1:ColorSpace.DeviceGray,3:ColorSpace.DeviceRGB,4:ColorSpace.DeviceCMYK},JpegEmbedder=(function(){function Ee(t,n,Ce,Te,Re){this.imageData=t,this.bitsPerComponent=n,this.width=Ce,this.height=Te,this.colorSpace=Re}return Ee.for=function(t){return __awaiter$1(this,void 0,void 0,function(){var n,Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke;return __generator(this,function(Ge){if(n=new DataView(t.buffer),Ce=n.getUint16(0),Ce!==65496)throw new Error("SOI not found in JPEG");for(Te=2;Te<n.byteLength&&(Re=n.getUint16(Te),Te+=2,!MARKERS.includes(Re));)Te+=n.getUint16(Te);if(!MARKERS.includes(Re))throw new Error("Invalid JPEG");if(Te+=2,Be=n.getUint8(Te++),Ue=n.getUint16(Te),Te+=2,Oe=n.getUint16(Te),Te+=2,Me=n.getUint8(Te++),Qe=ChannelToColorSpace[Me],!Qe)throw new Error("Unknown JPEG channel.");return Ke=Qe,[2,new Ee(t,Be,Oe,Ue,Ke)]})})},Ee.prototype.embedIntoContext=function(t,n){return __awaiter$1(this,void 0,void 0,function(){var Ce;return __generator(this,function(Te){return Ce=t.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===ColorSpace.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),n?(t.assign(n,Ce),[2,n]):[2,t.register(Ce)]})})},Ee})(),common={},hasRequiredCommon;function requireCommon(){return hasRequiredCommon||(hasRequiredCommon=1,(function(Ee){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(Re,Be){return Object.prototype.hasOwnProperty.call(Re,Be)}Ee.assign=function(Re){for(var Be=Array.prototype.slice.call(arguments,1);Be.length;){var Ue=Be.shift();if(Ue){if(typeof Ue!="object")throw new TypeError(Ue+"must be non-object");for(var Oe in Ue)n(Ue,Oe)&&(Re[Oe]=Ue[Oe])}}return Re},Ee.shrinkBuf=function(Re,Be){return Re.length===Be?Re:Re.subarray?Re.subarray(0,Be):(Re.length=Be,Re)};var Ce={arraySet:function(Re,Be,Ue,Oe,Me){if(Be.subarray&&Re.subarray){Re.set(Be.subarray(Ue,Ue+Oe),Me);return}for(var Qe=0;Qe<Oe;Qe++)Re[Me+Qe]=Be[Ue+Qe]},flattenChunks:function(Re){var Be,Ue,Oe,Me,Qe,Ke;for(Oe=0,Be=0,Ue=Re.length;Be<Ue;Be++)Oe+=Re[Be].length;for(Ke=new Uint8Array(Oe),Me=0,Be=0,Ue=Re.length;Be<Ue;Be++)Qe=Re[Be],Ke.set(Qe,Me),Me+=Qe.length;return Ke}},Te={arraySet:function(Re,Be,Ue,Oe,Me){for(var Qe=0;Qe<Oe;Qe++)Re[Me+Qe]=Be[Ue+Qe]},flattenChunks:function(Re){return[].concat.apply([],Re)}};Ee.setTyped=function(Re){Re?(Ee.Buf8=Uint8Array,Ee.Buf16=Uint16Array,Ee.Buf32=Int32Array,Ee.assign(Ee,Ce)):(Ee.Buf8=Array,Ee.Buf16=Array,Ee.Buf32=Array,Ee.assign(Ee,Te))},Ee.setTyped(t)})(common)),common}var deflate$1={},deflate={},trees={},hasRequiredTrees;function requireTrees(){if(hasRequiredTrees)return trees;hasRequiredTrees=1;var Ee=requireCommon(),t=4,n=0,Ce=1,Te=2;function Re(dr){for(var An=dr.length;--An>=0;)dr[An]=0}var Be=0,Ue=1,Oe=2,Me=3,Qe=258,Ke=29,Ge=256,qe=Ge+1+Ke,Xe=30,tr=19,Je=2*qe+1,Ye=15,lr=16,cr=7,hr=256,ur=16,fr=17,er=18,nr=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ir=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],mr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ar=512,or=new Array((qe+2)*2);Re(or);var Tr=new Array(Xe*2);Re(Tr);var Ur=new Array(Ar);Re(Ur);var Fr=new Array(Qe-Me+1);Re(Fr);var Er=new Array(Ke);Re(Er);var jr=new Array(Xe);Re(jr);function Nr(dr,An,vn,Sn,wr){this.static_tree=dr,this.extra_bits=An,this.extra_base=vn,this.elems=Sn,this.max_length=wr,this.has_stree=dr&&dr.length}var Br,Mr,_r;function gr(dr,An){this.dyn_tree=dr,this.max_code=0,this.stat_desc=An}function yr(dr){return dr<256?Ur[dr]:Ur[256+(dr>>>7)]}function Rr(dr,An){dr.pending_buf[dr.pending++]=An&255,dr.pending_buf[dr.pending++]=An>>>8&255}function Ir(dr,An,vn){dr.bi_valid>lr-vn?(dr.bi_buf|=An<<dr.bi_valid&65535,Rr(dr,dr.bi_buf),dr.bi_buf=An>>lr-dr.bi_valid,dr.bi_valid+=vn-lr):(dr.bi_buf|=An<<dr.bi_valid&65535,dr.bi_valid+=vn)}function Qr(dr,An,vn){Ir(dr,vn[An*2],vn[An*2+1])}function Vr(dr,An){var vn=0;do vn|=dr&1,dr>>>=1,vn<<=1;while(--An>0);return vn>>>1}function Wr(dr){dr.bi_valid===16?(Rr(dr,dr.bi_buf),dr.bi_buf=0,dr.bi_valid=0):dr.bi_valid>=8&&(dr.pending_buf[dr.pending++]=dr.bi_buf&255,dr.bi_buf>>=8,dr.bi_valid-=8)}function mn(dr,An){var vn=An.dyn_tree,Sn=An.max_code,wr=An.stat_desc.static_tree,Or=An.stat_desc.has_stree,Ze=An.stat_desc.extra_bits,Jr=An.stat_desc.extra_base,Mn=An.stat_desc.max_length,ze,Cr,kr,rr,xr,Kr,Dn=0;for(rr=0;rr<=Ye;rr++)dr.bl_count[rr]=0;for(vn[dr.heap[dr.heap_max]*2+1]=0,ze=dr.heap_max+1;ze<Je;ze++)Cr=dr.heap[ze],rr=vn[vn[Cr*2+1]*2+1]+1,rr>Mn&&(rr=Mn,Dn++),vn[Cr*2+1]=rr,!(Cr>Sn)&&(dr.bl_count[rr]++,xr=0,Cr>=Jr&&(xr=Ze[Cr-Jr]),Kr=vn[Cr*2],dr.opt_len+=Kr*(rr+xr),Or&&(dr.static_len+=Kr*(wr[Cr*2+1]+xr)));if(Dn!==0){do{for(rr=Mn-1;dr.bl_count[rr]===0;)rr--;dr.bl_count[rr]--,dr.bl_count[rr+1]+=2,dr.bl_count[Mn]--,Dn-=2}while(Dn>0);for(rr=Mn;rr!==0;rr--)for(Cr=dr.bl_count[rr];Cr!==0;)kr=dr.heap[--ze],!(kr>Sn)&&(vn[kr*2+1]!==rr&&(dr.opt_len+=(rr-vn[kr*2+1])*vn[kr*2],vn[kr*2+1]=rr),Cr--)}}function gn(dr,An,vn){var Sn=new Array(Ye+1),wr=0,Or,Ze;for(Or=1;Or<=Ye;Or++)Sn[Or]=wr=wr+vn[Or-1]<<1;for(Ze=0;Ze<=An;Ze++){var Jr=dr[Ze*2+1];Jr!==0&&(dr[Ze*2]=Vr(Sn[Jr]++,Jr))}}function fn(){var dr,An,vn,Sn,wr,Or=new Array(Ye+1);for(vn=0,Sn=0;Sn<Ke-1;Sn++)for(Er[Sn]=vn,dr=0;dr<1<<nr[Sn];dr++)Fr[vn++]=Sn;for(Fr[vn-1]=Sn,wr=0,Sn=0;Sn<16;Sn++)for(jr[Sn]=wr,dr=0;dr<1<<ir[Sn];dr++)Ur[wr++]=Sn;for(wr>>=7;Sn<Xe;Sn++)for(jr[Sn]=wr<<7,dr=0;dr<1<<ir[Sn]-7;dr++)Ur[256+wr++]=Sn;for(An=0;An<=Ye;An++)Or[An]=0;for(dr=0;dr<=143;)or[dr*2+1]=8,dr++,Or[8]++;for(;dr<=255;)or[dr*2+1]=9,dr++,Or[9]++;for(;dr<=279;)or[dr*2+1]=7,dr++,Or[7]++;for(;dr<=287;)or[dr*2+1]=8,dr++,Or[8]++;for(gn(or,qe+1,Or),dr=0;dr<Xe;dr++)Tr[dr*2+1]=5,Tr[dr*2]=Vr(dr,5);Br=new Nr(or,nr,Ge+1,qe,Ye),Mr=new Nr(Tr,ir,0,Xe,Ye),_r=new Nr(new Array(0),mr,0,tr,cr)}function Fn(dr){var An;for(An=0;An<qe;An++)dr.dyn_ltree[An*2]=0;for(An=0;An<Xe;An++)dr.dyn_dtree[An*2]=0;for(An=0;An<tr;An++)dr.bl_tree[An*2]=0;dr.dyn_ltree[hr*2]=1,dr.opt_len=dr.static_len=0,dr.last_lit=dr.matches=0}function wn(dr){dr.bi_valid>8?Rr(dr,dr.bi_buf):dr.bi_valid>0&&(dr.pending_buf[dr.pending++]=dr.bi_buf),dr.bi_buf=0,dr.bi_valid=0}function Yr(dr,An,vn,Sn){wn(dr),Rr(dr,vn),Rr(dr,~vn),Ee.arraySet(dr.pending_buf,dr.window,An,vn,dr.pending),dr.pending+=vn}function Rn(dr,An,vn,Sn){var wr=An*2,Or=vn*2;return dr[wr]<dr[Or]||dr[wr]===dr[Or]&&Sn[An]<=Sn[vn]}function bn(dr,An,vn){for(var Sn=dr.heap[vn],wr=vn<<1;wr<=dr.heap_len&&(wr<dr.heap_len&&Rn(An,dr.heap[wr+1],dr.heap[wr],dr.depth)&&wr++,!Rn(An,Sn,dr.heap[wr],dr.depth));)dr.heap[vn]=dr.heap[wr],vn=wr,wr<<=1;dr.heap[vn]=Sn}function zr(dr,An,vn){var Sn,wr,Or=0,Ze,Jr;if(dr.last_lit!==0)do Sn=dr.pending_buf[dr.d_buf+Or*2]<<8|dr.pending_buf[dr.d_buf+Or*2+1],wr=dr.pending_buf[dr.l_buf+Or],Or++,Sn===0?Qr(dr,wr,An):(Ze=Fr[wr],Qr(dr,Ze+Ge+1,An),Jr=nr[Ze],Jr!==0&&(wr-=Er[Ze],Ir(dr,wr,Jr)),Sn--,Ze=yr(Sn),Qr(dr,Ze,vn),Jr=ir[Ze],Jr!==0&&(Sn-=jr[Ze],Ir(dr,Sn,Jr)));while(Or<dr.last_lit);Qr(dr,hr,An)}function $r(dr,An){var vn=An.dyn_tree,Sn=An.stat_desc.static_tree,wr=An.stat_desc.has_stree,Or=An.stat_desc.elems,Ze,Jr,Mn=-1,ze;for(dr.heap_len=0,dr.heap_max=Je,Ze=0;Ze<Or;Ze++)vn[Ze*2]!==0?(dr.heap[++dr.heap_len]=Mn=Ze,dr.depth[Ze]=0):vn[Ze*2+1]=0;for(;dr.heap_len<2;)ze=dr.heap[++dr.heap_len]=Mn<2?++Mn:0,vn[ze*2]=1,dr.depth[ze]=0,dr.opt_len--,wr&&(dr.static_len-=Sn[ze*2+1]);for(An.max_code=Mn,Ze=dr.heap_len>>1;Ze>=1;Ze--)bn(dr,vn,Ze);ze=Or;do Ze=dr.heap[1],dr.heap[1]=dr.heap[dr.heap_len--],bn(dr,vn,1),Jr=dr.heap[1],dr.heap[--dr.heap_max]=Ze,dr.heap[--dr.heap_max]=Jr,vn[ze*2]=vn[Ze*2]+vn[Jr*2],dr.depth[ze]=(dr.depth[Ze]>=dr.depth[Jr]?dr.depth[Ze]:dr.depth[Jr])+1,vn[Ze*2+1]=vn[Jr*2+1]=ze,dr.heap[1]=ze++,bn(dr,vn,1);while(dr.heap_len>=2);dr.heap[--dr.heap_max]=dr.heap[1],mn(dr,An),gn(vn,Mn,dr.bl_count)}function Bn(dr,An,vn){var Sn,wr=-1,Or,Ze=An[1],Jr=0,Mn=7,ze=4;for(Ze===0&&(Mn=138,ze=3),An[(vn+1)*2+1]=65535,Sn=0;Sn<=vn;Sn++)Or=Ze,Ze=An[(Sn+1)*2+1],!(++Jr<Mn&&Or===Ze)&&(Jr<ze?dr.bl_tree[Or*2]+=Jr:Or!==0?(Or!==wr&&dr.bl_tree[Or*2]++,dr.bl_tree[ur*2]++):Jr<=10?dr.bl_tree[fr*2]++:dr.bl_tree[er*2]++,Jr=0,wr=Or,Ze===0?(Mn=138,ze=3):Or===Ze?(Mn=6,ze=3):(Mn=7,ze=4))}function Pn(dr,An,vn){var Sn,wr=-1,Or,Ze=An[1],Jr=0,Mn=7,ze=4;for(Ze===0&&(Mn=138,ze=3),Sn=0;Sn<=vn;Sn++)if(Or=Ze,Ze=An[(Sn+1)*2+1],!(++Jr<Mn&&Or===Ze)){if(Jr<ze)do Qr(dr,Or,dr.bl_tree);while(--Jr!==0);else Or!==0?(Or!==wr&&(Qr(dr,Or,dr.bl_tree),Jr--),Qr(dr,ur,dr.bl_tree),Ir(dr,Jr-3,2)):Jr<=10?(Qr(dr,fr,dr.bl_tree),Ir(dr,Jr-3,3)):(Qr(dr,er,dr.bl_tree),Ir(dr,Jr-11,7));Jr=0,wr=Or,Ze===0?(Mn=138,ze=3):Or===Ze?(Mn=6,ze=3):(Mn=7,ze=4)}}function jn(dr){var An;for(Bn(dr,dr.dyn_ltree,dr.l_desc.max_code),Bn(dr,dr.dyn_dtree,dr.d_desc.max_code),$r(dr,dr.bl_desc),An=tr-1;An>=3&&dr.bl_tree[$e[An]*2+1]===0;An--);return dr.opt_len+=3*(An+1)+5+5+4,An}function Kn(dr,An,vn,Sn){var wr;for(Ir(dr,An-257,5),Ir(dr,vn-1,5),Ir(dr,Sn-4,4),wr=0;wr<Sn;wr++)Ir(dr,dr.bl_tree[$e[wr]*2+1],3);Pn(dr,dr.dyn_ltree,An-1),Pn(dr,dr.dyn_dtree,vn-1)}function Xn(dr){var An=4093624447,vn;for(vn=0;vn<=31;vn++,An>>>=1)if(An&1&&dr.dyn_ltree[vn*2]!==0)return n;if(dr.dyn_ltree[18]!==0||dr.dyn_ltree[20]!==0||dr.dyn_ltree[26]!==0)return Ce;for(vn=32;vn<Ge;vn++)if(dr.dyn_ltree[vn*2]!==0)return Ce;return n}var In=!1;function $n(dr){In||(fn(),In=!0),dr.l_desc=new gr(dr.dyn_ltree,Br),dr.d_desc=new gr(dr.dyn_dtree,Mr),dr.bl_desc=new gr(dr.bl_tree,_r),dr.bi_buf=0,dr.bi_valid=0,Fn(dr)}function Yn(dr,An,vn,Sn){Ir(dr,(Be<<1)+(Sn?1:0),3),Yr(dr,An,vn)}function si(dr){Ir(dr,Ue<<1,3),Qr(dr,hr,or),Wr(dr)}function ai(dr,An,vn,Sn){var wr,Or,Ze=0;dr.level>0?(dr.strm.data_type===Te&&(dr.strm.data_type=Xn(dr)),$r(dr,dr.l_desc),$r(dr,dr.d_desc),Ze=jn(dr),wr=dr.opt_len+3+7>>>3,Or=dr.static_len+3+7>>>3,Or<=wr&&(wr=Or)):wr=Or=vn+5,vn+4<=wr&&An!==-1?Yn(dr,An,vn,Sn):dr.strategy===t||Or===wr?(Ir(dr,(Ue<<1)+(Sn?1:0),3),zr(dr,or,Tr)):(Ir(dr,(Oe<<1)+(Sn?1:0),3),Kn(dr,dr.l_desc.max_code+1,dr.d_desc.max_code+1,Ze+1),zr(dr,dr.dyn_ltree,dr.dyn_dtree)),Fn(dr),Sn&&wn(dr)}function Ci(dr,An,vn){return dr.pending_buf[dr.d_buf+dr.last_lit*2]=An>>>8&255,dr.pending_buf[dr.d_buf+dr.last_lit*2+1]=An&255,dr.pending_buf[dr.l_buf+dr.last_lit]=vn&255,dr.last_lit++,An===0?dr.dyn_ltree[vn*2]++:(dr.matches++,An--,dr.dyn_ltree[(Fr[vn]+Ge+1)*2]++,dr.dyn_dtree[yr(An)*2]++),dr.last_lit===dr.lit_bufsize-1}return trees._tr_init=$n,trees._tr_stored_block=Yn,trees._tr_flush_block=ai,trees._tr_tally=Ci,trees._tr_align=si,trees}var adler32_1,hasRequiredAdler32;function requireAdler32(){if(hasRequiredAdler32)return adler32_1;hasRequiredAdler32=1;function Ee(t,n,Ce,Te){for(var Re=t&65535|0,Be=t>>>16&65535|0,Ue=0;Ce!==0;){Ue=Ce>2e3?2e3:Ce,Ce-=Ue;do Re=Re+n[Te++]|0,Be=Be+Re|0;while(--Ue);Re%=65521,Be%=65521}return Re|Be<<16|0}return adler32_1=Ee,adler32_1}var crc32_1,hasRequiredCrc32;function requireCrc32(){if(hasRequiredCrc32)return crc32_1;hasRequiredCrc32=1;function Ee(){for(var Ce,Te=[],Re=0;Re<256;Re++){Ce=Re;for(var Be=0;Be<8;Be++)Ce=Ce&1?3988292384^Ce>>>1:Ce>>>1;Te[Re]=Ce}return Te}var t=Ee();function n(Ce,Te,Re,Be){var Ue=t,Oe=Be+Re;Ce^=-1;for(var Me=Be;Me<Oe;Me++)Ce=Ce>>>8^Ue[(Ce^Te[Me])&255];return Ce^-1}return crc32_1=n,crc32_1}var messages,hasRequiredMessages;function requireMessages(){return hasRequiredMessages||(hasRequiredMessages=1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),messages}var hasRequiredDeflate$1;function requireDeflate$1(){if(hasRequiredDeflate$1)return deflate;hasRequiredDeflate$1=1;var Ee=requireCommon(),t=requireTrees(),n=requireAdler32(),Ce=requireCrc32(),Te=requireMessages(),Re=0,Be=1,Ue=3,Oe=4,Me=5,Qe=0,Ke=1,Ge=-2,qe=-3,Xe=-5,tr=-1,Je=1,Ye=2,lr=3,cr=4,hr=0,ur=2,fr=8,er=9,nr=15,ir=8,mr=29,$e=256,Ar=$e+1+mr,or=30,Tr=19,Ur=2*Ar+1,Fr=15,Er=3,jr=258,Nr=jr+Er+1,Br=32,Mr=42,_r=69,gr=73,yr=91,Rr=103,Ir=113,Qr=666,Vr=1,Wr=2,mn=3,gn=4,fn=3;function Fn(ze,Cr){return ze.msg=Te[Cr],Cr}function wn(ze){return(ze<<1)-(ze>4?9:0)}function Yr(ze){for(var Cr=ze.length;--Cr>=0;)ze[Cr]=0}function Rn(ze){var Cr=ze.state,kr=Cr.pending;kr>ze.avail_out&&(kr=ze.avail_out),kr!==0&&(Ee.arraySet(ze.output,Cr.pending_buf,Cr.pending_out,kr,ze.next_out),ze.next_out+=kr,Cr.pending_out+=kr,ze.total_out+=kr,ze.avail_out-=kr,Cr.pending-=kr,Cr.pending===0&&(Cr.pending_out=0))}function bn(ze,Cr){t._tr_flush_block(ze,ze.block_start>=0?ze.block_start:-1,ze.strstart-ze.block_start,Cr),ze.block_start=ze.strstart,Rn(ze.strm)}function zr(ze,Cr){ze.pending_buf[ze.pending++]=Cr}function $r(ze,Cr){ze.pending_buf[ze.pending++]=Cr>>>8&255,ze.pending_buf[ze.pending++]=Cr&255}function Bn(ze,Cr,kr,rr){var xr=ze.avail_in;return xr>rr&&(xr=rr),xr===0?0:(ze.avail_in-=xr,Ee.arraySet(Cr,ze.input,ze.next_in,xr,kr),ze.state.wrap===1?ze.adler=n(ze.adler,Cr,xr,kr):ze.state.wrap===2&&(ze.adler=Ce(ze.adler,Cr,xr,kr)),ze.next_in+=xr,ze.total_in+=xr,xr)}function Pn(ze,Cr){var kr=ze.max_chain_length,rr=ze.strstart,xr,Kr,Dn=ze.prev_length,Gr=ze.nice_match,Hr=ze.strstart>ze.w_size-Nr?ze.strstart-(ze.w_size-Nr):0,dn=ze.window,Qn=ze.w_mask,kn=ze.prev,On=ze.strstart+jr,zn=dn[rr+Dn-1],hi=dn[rr+Dn];ze.prev_length>=ze.good_match&&(kr>>=2),Gr>ze.lookahead&&(Gr=ze.lookahead);do if(xr=Cr,!(dn[xr+Dn]!==hi||dn[xr+Dn-1]!==zn||dn[xr]!==dn[rr]||dn[++xr]!==dn[rr+1])){rr+=2,xr++;do;while(dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&dn[++rr]===dn[++xr]&&rr<On);if(Kr=jr-(On-rr),rr=On-jr,Kr>Dn){if(ze.match_start=Cr,Dn=Kr,Kr>=Gr)break;zn=dn[rr+Dn-1],hi=dn[rr+Dn]}}while((Cr=kn[Cr&Qn])>Hr&&--kr!==0);return Dn<=ze.lookahead?Dn:ze.lookahead}function jn(ze){var Cr=ze.w_size,kr,rr,xr,Kr,Dn;do{if(Kr=ze.window_size-ze.lookahead-ze.strstart,ze.strstart>=Cr+(Cr-Nr)){Ee.arraySet(ze.window,ze.window,Cr,Cr,0),ze.match_start-=Cr,ze.strstart-=Cr,ze.block_start-=Cr,rr=ze.hash_size,kr=rr;do xr=ze.head[--kr],ze.head[kr]=xr>=Cr?xr-Cr:0;while(--rr);rr=Cr,kr=rr;do xr=ze.prev[--kr],ze.prev[kr]=xr>=Cr?xr-Cr:0;while(--rr);Kr+=Cr}if(ze.strm.avail_in===0)break;if(rr=Bn(ze.strm,ze.window,ze.strstart+ze.lookahead,Kr),ze.lookahead+=rr,ze.lookahead+ze.insert>=Er)for(Dn=ze.strstart-ze.insert,ze.ins_h=ze.window[Dn],ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[Dn+1])&ze.hash_mask;ze.insert&&(ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[Dn+Er-1])&ze.hash_mask,ze.prev[Dn&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=Dn,Dn++,ze.insert--,!(ze.lookahead+ze.insert<Er)););}while(ze.lookahead<Nr&&ze.strm.avail_in!==0)}function Kn(ze,Cr){var kr=65535;for(kr>ze.pending_buf_size-5&&(kr=ze.pending_buf_size-5);;){if(ze.lookahead<=1){if(jn(ze),ze.lookahead===0&&Cr===Re)return Vr;if(ze.lookahead===0)break}ze.strstart+=ze.lookahead,ze.lookahead=0;var rr=ze.block_start+kr;if((ze.strstart===0||ze.strstart>=rr)&&(ze.lookahead=ze.strstart-rr,ze.strstart=rr,bn(ze,!1),ze.strm.avail_out===0)||ze.strstart-ze.block_start>=ze.w_size-Nr&&(bn(ze,!1),ze.strm.avail_out===0))return Vr}return ze.insert=0,Cr===Oe?(bn(ze,!0),ze.strm.avail_out===0?mn:gn):(ze.strstart>ze.block_start&&(bn(ze,!1),ze.strm.avail_out===0),Vr)}function Xn(ze,Cr){for(var kr,rr;;){if(ze.lookahead<Nr){if(jn(ze),ze.lookahead<Nr&&Cr===Re)return Vr;if(ze.lookahead===0)break}if(kr=0,ze.lookahead>=Er&&(ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[ze.strstart+Er-1])&ze.hash_mask,kr=ze.prev[ze.strstart&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=ze.strstart),kr!==0&&ze.strstart-kr<=ze.w_size-Nr&&(ze.match_length=Pn(ze,kr)),ze.match_length>=Er)if(rr=t._tr_tally(ze,ze.strstart-ze.match_start,ze.match_length-Er),ze.lookahead-=ze.match_length,ze.match_length<=ze.max_lazy_match&&ze.lookahead>=Er){ze.match_length--;do ze.strstart++,ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[ze.strstart+Er-1])&ze.hash_mask,kr=ze.prev[ze.strstart&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=ze.strstart;while(--ze.match_length!==0);ze.strstart++}else ze.strstart+=ze.match_length,ze.match_length=0,ze.ins_h=ze.window[ze.strstart],ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[ze.strstart+1])&ze.hash_mask;else rr=t._tr_tally(ze,0,ze.window[ze.strstart]),ze.lookahead--,ze.strstart++;if(rr&&(bn(ze,!1),ze.strm.avail_out===0))return Vr}return ze.insert=ze.strstart<Er-1?ze.strstart:Er-1,Cr===Oe?(bn(ze,!0),ze.strm.avail_out===0?mn:gn):ze.last_lit&&(bn(ze,!1),ze.strm.avail_out===0)?Vr:Wr}function In(ze,Cr){for(var kr,rr,xr;;){if(ze.lookahead<Nr){if(jn(ze),ze.lookahead<Nr&&Cr===Re)return Vr;if(ze.lookahead===0)break}if(kr=0,ze.lookahead>=Er&&(ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[ze.strstart+Er-1])&ze.hash_mask,kr=ze.prev[ze.strstart&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=ze.strstart),ze.prev_length=ze.match_length,ze.prev_match=ze.match_start,ze.match_length=Er-1,kr!==0&&ze.prev_length<ze.max_lazy_match&&ze.strstart-kr<=ze.w_size-Nr&&(ze.match_length=Pn(ze,kr),ze.match_length<=5&&(ze.strategy===Je||ze.match_length===Er&&ze.strstart-ze.match_start>4096)&&(ze.match_length=Er-1)),ze.prev_length>=Er&&ze.match_length<=ze.prev_length){xr=ze.strstart+ze.lookahead-Er,rr=t._tr_tally(ze,ze.strstart-1-ze.prev_match,ze.prev_length-Er),ze.lookahead-=ze.prev_length-1,ze.prev_length-=2;do++ze.strstart<=xr&&(ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[ze.strstart+Er-1])&ze.hash_mask,kr=ze.prev[ze.strstart&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=ze.strstart);while(--ze.prev_length!==0);if(ze.match_available=0,ze.match_length=Er-1,ze.strstart++,rr&&(bn(ze,!1),ze.strm.avail_out===0))return Vr}else if(ze.match_available){if(rr=t._tr_tally(ze,0,ze.window[ze.strstart-1]),rr&&bn(ze,!1),ze.strstart++,ze.lookahead--,ze.strm.avail_out===0)return Vr}else ze.match_available=1,ze.strstart++,ze.lookahead--}return ze.match_available&&(rr=t._tr_tally(ze,0,ze.window[ze.strstart-1]),ze.match_available=0),ze.insert=ze.strstart<Er-1?ze.strstart:Er-1,Cr===Oe?(bn(ze,!0),ze.strm.avail_out===0?mn:gn):ze.last_lit&&(bn(ze,!1),ze.strm.avail_out===0)?Vr:Wr}function $n(ze,Cr){for(var kr,rr,xr,Kr,Dn=ze.window;;){if(ze.lookahead<=jr){if(jn(ze),ze.lookahead<=jr&&Cr===Re)return Vr;if(ze.lookahead===0)break}if(ze.match_length=0,ze.lookahead>=Er&&ze.strstart>0&&(xr=ze.strstart-1,rr=Dn[xr],rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr])){Kr=ze.strstart+jr;do;while(rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr]&&rr===Dn[++xr]&&xr<Kr);ze.match_length=jr-(Kr-xr),ze.match_length>ze.lookahead&&(ze.match_length=ze.lookahead)}if(ze.match_length>=Er?(kr=t._tr_tally(ze,1,ze.match_length-Er),ze.lookahead-=ze.match_length,ze.strstart+=ze.match_length,ze.match_length=0):(kr=t._tr_tally(ze,0,ze.window[ze.strstart]),ze.lookahead--,ze.strstart++),kr&&(bn(ze,!1),ze.strm.avail_out===0))return Vr}return ze.insert=0,Cr===Oe?(bn(ze,!0),ze.strm.avail_out===0?mn:gn):ze.last_lit&&(bn(ze,!1),ze.strm.avail_out===0)?Vr:Wr}function Yn(ze,Cr){for(var kr;;){if(ze.lookahead===0&&(jn(ze),ze.lookahead===0)){if(Cr===Re)return Vr;break}if(ze.match_length=0,kr=t._tr_tally(ze,0,ze.window[ze.strstart]),ze.lookahead--,ze.strstart++,kr&&(bn(ze,!1),ze.strm.avail_out===0))return Vr}return ze.insert=0,Cr===Oe?(bn(ze,!0),ze.strm.avail_out===0?mn:gn):ze.last_lit&&(bn(ze,!1),ze.strm.avail_out===0)?Vr:Wr}function si(ze,Cr,kr,rr,xr){this.good_length=ze,this.max_lazy=Cr,this.nice_length=kr,this.max_chain=rr,this.func=xr}var ai;ai=[new si(0,0,0,0,Kn),new si(4,4,8,4,Xn),new si(4,5,16,8,Xn),new si(4,6,32,32,Xn),new si(4,4,16,16,In),new si(8,16,32,32,In),new si(8,16,128,128,In),new si(8,32,128,256,In),new si(32,128,258,1024,In),new si(32,258,258,4096,In)];function Ci(ze){ze.window_size=2*ze.w_size,Yr(ze.head),ze.max_lazy_match=ai[ze.level].max_lazy,ze.good_match=ai[ze.level].good_length,ze.nice_match=ai[ze.level].nice_length,ze.max_chain_length=ai[ze.level].max_chain,ze.strstart=0,ze.block_start=0,ze.lookahead=0,ze.insert=0,ze.match_length=ze.prev_length=Er-1,ze.match_available=0,ze.ins_h=0}function dr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=fr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Ee.Buf16(Ur*2),this.dyn_dtree=new Ee.Buf16((2*or+1)*2),this.bl_tree=new Ee.Buf16((2*Tr+1)*2),Yr(this.dyn_ltree),Yr(this.dyn_dtree),Yr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Ee.Buf16(Fr+1),this.heap=new Ee.Buf16(2*Ar+1),Yr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Ee.Buf16(2*Ar+1),Yr(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function An(ze){var Cr;return!ze||!ze.state?Fn(ze,Ge):(ze.total_in=ze.total_out=0,ze.data_type=ur,Cr=ze.state,Cr.pending=0,Cr.pending_out=0,Cr.wrap<0&&(Cr.wrap=-Cr.wrap),Cr.status=Cr.wrap?Mr:Ir,ze.adler=Cr.wrap===2?0:1,Cr.last_flush=Re,t._tr_init(Cr),Qe)}function vn(ze){var Cr=An(ze);return Cr===Qe&&Ci(ze.state),Cr}function Sn(ze,Cr){return!ze||!ze.state||ze.state.wrap!==2?Ge:(ze.state.gzhead=Cr,Qe)}function wr(ze,Cr,kr,rr,xr,Kr){if(!ze)return Ge;var Dn=1;if(Cr===tr&&(Cr=6),rr<0?(Dn=0,rr=-rr):rr>15&&(Dn=2,rr-=16),xr<1||xr>er||kr!==fr||rr<8||rr>15||Cr<0||Cr>9||Kr<0||Kr>cr)return Fn(ze,Ge);rr===8&&(rr=9);var Gr=new dr;return ze.state=Gr,Gr.strm=ze,Gr.wrap=Dn,Gr.gzhead=null,Gr.w_bits=rr,Gr.w_size=1<<Gr.w_bits,Gr.w_mask=Gr.w_size-1,Gr.hash_bits=xr+7,Gr.hash_size=1<<Gr.hash_bits,Gr.hash_mask=Gr.hash_size-1,Gr.hash_shift=~~((Gr.hash_bits+Er-1)/Er),Gr.window=new Ee.Buf8(Gr.w_size*2),Gr.head=new Ee.Buf16(Gr.hash_size),Gr.prev=new Ee.Buf16(Gr.w_size),Gr.lit_bufsize=1<<xr+6,Gr.pending_buf_size=Gr.lit_bufsize*4,Gr.pending_buf=new Ee.Buf8(Gr.pending_buf_size),Gr.d_buf=1*Gr.lit_bufsize,Gr.l_buf=3*Gr.lit_bufsize,Gr.level=Cr,Gr.strategy=Kr,Gr.method=kr,vn(ze)}function Or(ze,Cr){return wr(ze,Cr,fr,nr,ir,hr)}function Ze(ze,Cr){var kr,rr,xr,Kr;if(!ze||!ze.state||Cr>Me||Cr<0)return ze?Fn(ze,Ge):Ge;if(rr=ze.state,!ze.output||!ze.input&&ze.avail_in!==0||rr.status===Qr&&Cr!==Oe)return Fn(ze,ze.avail_out===0?Xe:Ge);if(rr.strm=ze,kr=rr.last_flush,rr.last_flush=Cr,rr.status===Mr)if(rr.wrap===2)ze.adler=0,zr(rr,31),zr(rr,139),zr(rr,8),rr.gzhead?(zr(rr,(rr.gzhead.text?1:0)+(rr.gzhead.hcrc?2:0)+(rr.gzhead.extra?4:0)+(rr.gzhead.name?8:0)+(rr.gzhead.comment?16:0)),zr(rr,rr.gzhead.time&255),zr(rr,rr.gzhead.time>>8&255),zr(rr,rr.gzhead.time>>16&255),zr(rr,rr.gzhead.time>>24&255),zr(rr,rr.level===9?2:rr.strategy>=Ye||rr.level<2?4:0),zr(rr,rr.gzhead.os&255),rr.gzhead.extra&&rr.gzhead.extra.length&&(zr(rr,rr.gzhead.extra.length&255),zr(rr,rr.gzhead.extra.length>>8&255)),rr.gzhead.hcrc&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending,0)),rr.gzindex=0,rr.status=_r):(zr(rr,0),zr(rr,0),zr(rr,0),zr(rr,0),zr(rr,0),zr(rr,rr.level===9?2:rr.strategy>=Ye||rr.level<2?4:0),zr(rr,fn),rr.status=Ir);else{var Dn=fr+(rr.w_bits-8<<4)<<8,Gr=-1;rr.strategy>=Ye||rr.level<2?Gr=0:rr.level<6?Gr=1:rr.level===6?Gr=2:Gr=3,Dn|=Gr<<6,rr.strstart!==0&&(Dn|=Br),Dn+=31-Dn%31,rr.status=Ir,$r(rr,Dn),rr.strstart!==0&&($r(rr,ze.adler>>>16),$r(rr,ze.adler&65535)),ze.adler=1}if(rr.status===_r)if(rr.gzhead.extra){for(xr=rr.pending;rr.gzindex<(rr.gzhead.extra.length&65535)&&!(rr.pending===rr.pending_buf_size&&(rr.gzhead.hcrc&&rr.pending>xr&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending-xr,xr)),Rn(ze),xr=rr.pending,rr.pending===rr.pending_buf_size));)zr(rr,rr.gzhead.extra[rr.gzindex]&255),rr.gzindex++;rr.gzhead.hcrc&&rr.pending>xr&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending-xr,xr)),rr.gzindex===rr.gzhead.extra.length&&(rr.gzindex=0,rr.status=gr)}else rr.status=gr;if(rr.status===gr)if(rr.gzhead.name){xr=rr.pending;do{if(rr.pending===rr.pending_buf_size&&(rr.gzhead.hcrc&&rr.pending>xr&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending-xr,xr)),Rn(ze),xr=rr.pending,rr.pending===rr.pending_buf_size)){Kr=1;break}rr.gzindex<rr.gzhead.name.length?Kr=rr.gzhead.name.charCodeAt(rr.gzindex++)&255:Kr=0,zr(rr,Kr)}while(Kr!==0);rr.gzhead.hcrc&&rr.pending>xr&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending-xr,xr)),Kr===0&&(rr.gzindex=0,rr.status=yr)}else rr.status=yr;if(rr.status===yr)if(rr.gzhead.comment){xr=rr.pending;do{if(rr.pending===rr.pending_buf_size&&(rr.gzhead.hcrc&&rr.pending>xr&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending-xr,xr)),Rn(ze),xr=rr.pending,rr.pending===rr.pending_buf_size)){Kr=1;break}rr.gzindex<rr.gzhead.comment.length?Kr=rr.gzhead.comment.charCodeAt(rr.gzindex++)&255:Kr=0,zr(rr,Kr)}while(Kr!==0);rr.gzhead.hcrc&&rr.pending>xr&&(ze.adler=Ce(ze.adler,rr.pending_buf,rr.pending-xr,xr)),Kr===0&&(rr.status=Rr)}else rr.status=Rr;if(rr.status===Rr&&(rr.gzhead.hcrc?(rr.pending+2>rr.pending_buf_size&&Rn(ze),rr.pending+2<=rr.pending_buf_size&&(zr(rr,ze.adler&255),zr(rr,ze.adler>>8&255),ze.adler=0,rr.status=Ir)):rr.status=Ir),rr.pending!==0){if(Rn(ze),ze.avail_out===0)return rr.last_flush=-1,Qe}else if(ze.avail_in===0&&wn(Cr)<=wn(kr)&&Cr!==Oe)return Fn(ze,Xe);if(rr.status===Qr&&ze.avail_in!==0)return Fn(ze,Xe);if(ze.avail_in!==0||rr.lookahead!==0||Cr!==Re&&rr.status!==Qr){var Hr=rr.strategy===Ye?Yn(rr,Cr):rr.strategy===lr?$n(rr,Cr):ai[rr.level].func(rr,Cr);if((Hr===mn||Hr===gn)&&(rr.status=Qr),Hr===Vr||Hr===mn)return ze.avail_out===0&&(rr.last_flush=-1),Qe;if(Hr===Wr&&(Cr===Be?t._tr_align(rr):Cr!==Me&&(t._tr_stored_block(rr,0,0,!1),Cr===Ue&&(Yr(rr.head),rr.lookahead===0&&(rr.strstart=0,rr.block_start=0,rr.insert=0))),Rn(ze),ze.avail_out===0))return rr.last_flush=-1,Qe}return Cr!==Oe?Qe:rr.wrap<=0?Ke:(rr.wrap===2?(zr(rr,ze.adler&255),zr(rr,ze.adler>>8&255),zr(rr,ze.adler>>16&255),zr(rr,ze.adler>>24&255),zr(rr,ze.total_in&255),zr(rr,ze.total_in>>8&255),zr(rr,ze.total_in>>16&255),zr(rr,ze.total_in>>24&255)):($r(rr,ze.adler>>>16),$r(rr,ze.adler&65535)),Rn(ze),rr.wrap>0&&(rr.wrap=-rr.wrap),rr.pending!==0?Qe:Ke)}function Jr(ze){var Cr;return!ze||!ze.state?Ge:(Cr=ze.state.status,Cr!==Mr&&Cr!==_r&&Cr!==gr&&Cr!==yr&&Cr!==Rr&&Cr!==Ir&&Cr!==Qr?Fn(ze,Ge):(ze.state=null,Cr===Ir?Fn(ze,qe):Qe))}function Mn(ze,Cr){var kr=Cr.length,rr,xr,Kr,Dn,Gr,Hr,dn,Qn;if(!ze||!ze.state||(rr=ze.state,Dn=rr.wrap,Dn===2||Dn===1&&rr.status!==Mr||rr.lookahead))return Ge;for(Dn===1&&(ze.adler=n(ze.adler,Cr,kr,0)),rr.wrap=0,kr>=rr.w_size&&(Dn===0&&(Yr(rr.head),rr.strstart=0,rr.block_start=0,rr.insert=0),Qn=new Ee.Buf8(rr.w_size),Ee.arraySet(Qn,Cr,kr-rr.w_size,rr.w_size,0),Cr=Qn,kr=rr.w_size),Gr=ze.avail_in,Hr=ze.next_in,dn=ze.input,ze.avail_in=kr,ze.next_in=0,ze.input=Cr,jn(rr);rr.lookahead>=Er;){xr=rr.strstart,Kr=rr.lookahead-(Er-1);do rr.ins_h=(rr.ins_h<<rr.hash_shift^rr.window[xr+Er-1])&rr.hash_mask,rr.prev[xr&rr.w_mask]=rr.head[rr.ins_h],rr.head[rr.ins_h]=xr,xr++;while(--Kr);rr.strstart=xr,rr.lookahead=Er-1,jn(rr)}return rr.strstart+=rr.lookahead,rr.block_start=rr.strstart,rr.insert=rr.lookahead,rr.lookahead=0,rr.match_length=rr.prev_length=Er-1,rr.match_available=0,ze.next_in=Hr,ze.input=dn,ze.avail_in=Gr,rr.wrap=Dn,Qe}return deflate.deflateInit=Or,deflate.deflateInit2=wr,deflate.deflateReset=vn,deflate.deflateResetKeep=An,deflate.deflateSetHeader=Sn,deflate.deflate=Ze,deflate.deflateEnd=Jr,deflate.deflateSetDictionary=Mn,deflate.deflateInfo="pako deflate (from Nodeca project)",deflate}var strings={},hasRequiredStrings;function requireStrings(){if(hasRequiredStrings)return strings;hasRequiredStrings=1;var Ee=requireCommon(),t=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch{t=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}for(var Ce=new Ee.Buf8(256),Te=0;Te<256;Te++)Ce[Te]=Te>=252?6:Te>=248?5:Te>=240?4:Te>=224?3:Te>=192?2:1;Ce[254]=Ce[254]=1,strings.string2buf=function(Be){var Ue,Oe,Me,Qe,Ke,Ge=Be.length,qe=0;for(Qe=0;Qe<Ge;Qe++)Oe=Be.charCodeAt(Qe),(Oe&64512)===55296&&Qe+1<Ge&&(Me=Be.charCodeAt(Qe+1),(Me&64512)===56320&&(Oe=65536+(Oe-55296<<10)+(Me-56320),Qe++)),qe+=Oe<128?1:Oe<2048?2:Oe<65536?3:4;for(Ue=new Ee.Buf8(qe),Ke=0,Qe=0;Ke<qe;Qe++)Oe=Be.charCodeAt(Qe),(Oe&64512)===55296&&Qe+1<Ge&&(Me=Be.charCodeAt(Qe+1),(Me&64512)===56320&&(Oe=65536+(Oe-55296<<10)+(Me-56320),Qe++)),Oe<128?Ue[Ke++]=Oe:Oe<2048?(Ue[Ke++]=192|Oe>>>6,Ue[Ke++]=128|Oe&63):Oe<65536?(Ue[Ke++]=224|Oe>>>12,Ue[Ke++]=128|Oe>>>6&63,Ue[Ke++]=128|Oe&63):(Ue[Ke++]=240|Oe>>>18,Ue[Ke++]=128|Oe>>>12&63,Ue[Ke++]=128|Oe>>>6&63,Ue[Ke++]=128|Oe&63);return Ue};function Re(Be,Ue){if(Ue<65534&&(Be.subarray&&n||!Be.subarray&&t))return String.fromCharCode.apply(null,Ee.shrinkBuf(Be,Ue));for(var Oe="",Me=0;Me<Ue;Me++)Oe+=String.fromCharCode(Be[Me]);return Oe}return strings.buf2binstring=function(Be){return Re(Be,Be.length)},strings.binstring2buf=function(Be){for(var Ue=new Ee.Buf8(Be.length),Oe=0,Me=Ue.length;Oe<Me;Oe++)Ue[Oe]=Be.charCodeAt(Oe);return Ue},strings.buf2string=function(Be,Ue){var Oe,Me,Qe,Ke,Ge=Ue||Be.length,qe=new Array(Ge*2);for(Me=0,Oe=0;Oe<Ge;){if(Qe=Be[Oe++],Qe<128){qe[Me++]=Qe;continue}if(Ke=Ce[Qe],Ke>4){qe[Me++]=65533,Oe+=Ke-1;continue}for(Qe&=Ke===2?31:Ke===3?15:7;Ke>1&&Oe<Ge;)Qe=Qe<<6|Be[Oe++]&63,Ke--;if(Ke>1){qe[Me++]=65533;continue}Qe<65536?qe[Me++]=Qe:(Qe-=65536,qe[Me++]=55296|Qe>>10&1023,qe[Me++]=56320|Qe&1023)}return Re(qe,Me)},strings.utf8border=function(Be,Ue){var Oe;for(Ue=Ue||Be.length,Ue>Be.length&&(Ue=Be.length),Oe=Ue-1;Oe>=0&&(Be[Oe]&192)===128;)Oe--;return Oe<0||Oe===0?Ue:Oe+Ce[Be[Oe]]>Ue?Oe:Ue},strings}var zstream,hasRequiredZstream;function requireZstream(){if(hasRequiredZstream)return zstream;hasRequiredZstream=1;function Ee(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return zstream=Ee,zstream}var hasRequiredDeflate;function requireDeflate(){if(hasRequiredDeflate)return deflate$1;hasRequiredDeflate=1;var Ee=requireDeflate$1(),t=requireCommon(),n=requireStrings(),Ce=requireMessages(),Te=requireZstream(),Re=Object.prototype.toString,Be=0,Ue=4,Oe=0,Me=1,Qe=2,Ke=-1,Ge=0,qe=8;function Xe(lr){if(!(this instanceof Xe))return new Xe(lr);this.options=t.assign({level:Ke,method:qe,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ge,to:""},lr||{});var cr=this.options;cr.raw&&cr.windowBits>0?cr.windowBits=-cr.windowBits:cr.gzip&&cr.windowBits>0&&cr.windowBits<16&&(cr.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Te,this.strm.avail_out=0;var hr=Ee.deflateInit2(this.strm,cr.level,cr.method,cr.windowBits,cr.memLevel,cr.strategy);if(hr!==Oe)throw new Error(Ce[hr]);if(cr.header&&Ee.deflateSetHeader(this.strm,cr.header),cr.dictionary){var ur;if(typeof cr.dictionary=="string"?ur=n.string2buf(cr.dictionary):Re.call(cr.dictionary)==="[object ArrayBuffer]"?ur=new Uint8Array(cr.dictionary):ur=cr.dictionary,hr=Ee.deflateSetDictionary(this.strm,ur),hr!==Oe)throw new Error(Ce[hr]);this._dict_set=!0}}Xe.prototype.push=function(lr,cr){var hr=this.strm,ur=this.options.chunkSize,fr,er;if(this.ended)return!1;er=cr===~~cr?cr:cr===!0?Ue:Be,typeof lr=="string"?hr.input=n.string2buf(lr):Re.call(lr)==="[object ArrayBuffer]"?hr.input=new Uint8Array(lr):hr.input=lr,hr.next_in=0,hr.avail_in=hr.input.length;do{if(hr.avail_out===0&&(hr.output=new t.Buf8(ur),hr.next_out=0,hr.avail_out=ur),fr=Ee.deflate(hr,er),fr!==Me&&fr!==Oe)return this.onEnd(fr),this.ended=!0,!1;(hr.avail_out===0||hr.avail_in===0&&(er===Ue||er===Qe))&&(this.options.to==="string"?this.onData(n.buf2binstring(t.shrinkBuf(hr.output,hr.next_out))):this.onData(t.shrinkBuf(hr.output,hr.next_out)))}while((hr.avail_in>0||hr.avail_out===0)&&fr!==Me);return er===Ue?(fr=Ee.deflateEnd(this.strm),this.onEnd(fr),this.ended=!0,fr===Oe):(er===Qe&&(this.onEnd(Oe),hr.avail_out=0),!0)},Xe.prototype.onData=function(lr){this.chunks.push(lr)},Xe.prototype.onEnd=function(lr){lr===Oe&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=lr,this.msg=this.strm.msg};function tr(lr,cr){var hr=new Xe(cr);if(hr.push(lr,!0),hr.err)throw hr.msg||Ce[hr.err];return hr.result}function Je(lr,cr){return cr=cr||{},cr.raw=!0,tr(lr,cr)}function Ye(lr,cr){return cr=cr||{},cr.gzip=!0,tr(lr,cr)}return deflate$1.Deflate=Xe,deflate$1.deflate=tr,deflate$1.deflateRaw=Je,deflate$1.gzip=Ye,deflate$1}var inflate$1={},inflate={},inffast,hasRequiredInffast;function requireInffast(){if(hasRequiredInffast)return inffast;hasRequiredInffast=1;var Ee=30,t=12;return inffast=function(Ce,Te){var Re,Be,Ue,Oe,Me,Qe,Ke,Ge,qe,Xe,tr,Je,Ye,lr,cr,hr,ur,fr,er,nr,ir,mr,$e,Ar,or;Re=Ce.state,Be=Ce.next_in,Ar=Ce.input,Ue=Be+(Ce.avail_in-5),Oe=Ce.next_out,or=Ce.output,Me=Oe-(Te-Ce.avail_out),Qe=Oe+(Ce.avail_out-257),Ke=Re.dmax,Ge=Re.wsize,qe=Re.whave,Xe=Re.wnext,tr=Re.window,Je=Re.hold,Ye=Re.bits,lr=Re.lencode,cr=Re.distcode,hr=(1<<Re.lenbits)-1,ur=(1<<Re.distbits)-1;e:do{Ye<15&&(Je+=Ar[Be++]<<Ye,Ye+=8,Je+=Ar[Be++]<<Ye,Ye+=8),fr=lr[Je&hr];t:for(;;){if(er=fr>>>24,Je>>>=er,Ye-=er,er=fr>>>16&255,er===0)or[Oe++]=fr&65535;else if(er&16){nr=fr&65535,er&=15,er&&(Ye<er&&(Je+=Ar[Be++]<<Ye,Ye+=8),nr+=Je&(1<<er)-1,Je>>>=er,Ye-=er),Ye<15&&(Je+=Ar[Be++]<<Ye,Ye+=8,Je+=Ar[Be++]<<Ye,Ye+=8),fr=cr[Je&ur];r:for(;;){if(er=fr>>>24,Je>>>=er,Ye-=er,er=fr>>>16&255,er&16){if(ir=fr&65535,er&=15,Ye<er&&(Je+=Ar[Be++]<<Ye,Ye+=8,Ye<er&&(Je+=Ar[Be++]<<Ye,Ye+=8)),ir+=Je&(1<<er)-1,ir>Ke){Ce.msg="invalid distance too far back",Re.mode=Ee;break e}if(Je>>>=er,Ye-=er,er=Oe-Me,ir>er){if(er=ir-er,er>qe&&Re.sane){Ce.msg="invalid distance too far back",Re.mode=Ee;break e}if(mr=0,$e=tr,Xe===0){if(mr+=Ge-er,er<nr){nr-=er;do or[Oe++]=tr[mr++];while(--er);mr=Oe-ir,$e=or}}else if(Xe<er){if(mr+=Ge+Xe-er,er-=Xe,er<nr){nr-=er;do or[Oe++]=tr[mr++];while(--er);if(mr=0,Xe<nr){er=Xe,nr-=er;do or[Oe++]=tr[mr++];while(--er);mr=Oe-ir,$e=or}}}else if(mr+=Xe-er,er<nr){nr-=er;do or[Oe++]=tr[mr++];while(--er);mr=Oe-ir,$e=or}for(;nr>2;)or[Oe++]=$e[mr++],or[Oe++]=$e[mr++],or[Oe++]=$e[mr++],nr-=3;nr&&(or[Oe++]=$e[mr++],nr>1&&(or[Oe++]=$e[mr++]))}else{mr=Oe-ir;do or[Oe++]=or[mr++],or[Oe++]=or[mr++],or[Oe++]=or[mr++],nr-=3;while(nr>2);nr&&(or[Oe++]=or[mr++],nr>1&&(or[Oe++]=or[mr++]))}}else if((er&64)===0){fr=cr[(fr&65535)+(Je&(1<<er)-1)];continue r}else{Ce.msg="invalid distance code",Re.mode=Ee;break e}break}}else if((er&64)===0){fr=lr[(fr&65535)+(Je&(1<<er)-1)];continue t}else if(er&32){Re.mode=t;break e}else{Ce.msg="invalid literal/length code",Re.mode=Ee;break e}break}}while(Be<Ue&&Oe<Qe);nr=Ye>>3,Be-=nr,Ye-=nr<<3,Je&=(1<<Ye)-1,Ce.next_in=Be,Ce.next_out=Oe,Ce.avail_in=Be<Ue?5+(Ue-Be):5-(Be-Ue),Ce.avail_out=Oe<Qe?257+(Qe-Oe):257-(Oe-Qe),Re.hold=Je,Re.bits=Ye},inffast}var inftrees,hasRequiredInftrees;function requireInftrees(){if(hasRequiredInftrees)return inftrees;hasRequiredInftrees=1;var Ee=requireCommon(),t=15,n=852,Ce=592,Te=0,Re=1,Be=2,Ue=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Oe=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Me=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Qe=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return inftrees=function(Ge,qe,Xe,tr,Je,Ye,lr,cr){var hr=cr.bits,ur=0,fr=0,er=0,nr=0,ir=0,mr=0,$e=0,Ar=0,or=0,Tr=0,Ur,Fr,Er,jr,Nr,Br=null,Mr=0,_r,gr=new Ee.Buf16(t+1),yr=new Ee.Buf16(t+1),Rr=null,Ir=0,Qr,Vr,Wr;for(ur=0;ur<=t;ur++)gr[ur]=0;for(fr=0;fr<tr;fr++)gr[qe[Xe+fr]]++;for(ir=hr,nr=t;nr>=1&&gr[nr]===0;nr--);if(ir>nr&&(ir=nr),nr===0)return Je[Ye++]=1<<24|64<<16|0,Je[Ye++]=1<<24|64<<16|0,cr.bits=1,0;for(er=1;er<nr&&gr[er]===0;er++);for(ir<er&&(ir=er),Ar=1,ur=1;ur<=t;ur++)if(Ar<<=1,Ar-=gr[ur],Ar<0)return-1;if(Ar>0&&(Ge===Te||nr!==1))return-1;for(yr[1]=0,ur=1;ur<t;ur++)yr[ur+1]=yr[ur]+gr[ur];for(fr=0;fr<tr;fr++)qe[Xe+fr]!==0&&(lr[yr[qe[Xe+fr]]++]=fr);if(Ge===Te?(Br=Rr=lr,_r=19):Ge===Re?(Br=Ue,Mr-=257,Rr=Oe,Ir-=257,_r=256):(Br=Me,Rr=Qe,_r=-1),Tr=0,fr=0,ur=er,Nr=Ye,mr=ir,$e=0,Er=-1,or=1<<ir,jr=or-1,Ge===Re&&or>n||Ge===Be&&or>Ce)return 1;for(;;){Qr=ur-$e,lr[fr]<_r?(Vr=0,Wr=lr[fr]):lr[fr]>_r?(Vr=Rr[Ir+lr[fr]],Wr=Br[Mr+lr[fr]]):(Vr=96,Wr=0),Ur=1<<ur-$e,Fr=1<<mr,er=Fr;do Fr-=Ur,Je[Nr+(Tr>>$e)+Fr]=Qr<<24|Vr<<16|Wr|0;while(Fr!==0);for(Ur=1<<ur-1;Tr&Ur;)Ur>>=1;if(Ur!==0?(Tr&=Ur-1,Tr+=Ur):Tr=0,fr++,--gr[ur]===0){if(ur===nr)break;ur=qe[Xe+lr[fr]]}if(ur>ir&&(Tr&jr)!==Er){for($e===0&&($e=ir),Nr+=er,mr=ur-$e,Ar=1<<mr;mr+$e<nr&&(Ar-=gr[mr+$e],!(Ar<=0));)mr++,Ar<<=1;if(or+=1<<mr,Ge===Re&&or>n||Ge===Be&&or>Ce)return 1;Er=Tr&jr,Je[Er]=ir<<24|mr<<16|Nr-Ye|0}}return Tr!==0&&(Je[Nr+Tr]=ur-$e<<24|64<<16|0),cr.bits=ir,0},inftrees}var hasRequiredInflate$1;function requireInflate$1(){if(hasRequiredInflate$1)return inflate;hasRequiredInflate$1=1;var Ee=requireCommon(),t=requireAdler32(),n=requireCrc32(),Ce=requireInffast(),Te=requireInftrees(),Re=0,Be=1,Ue=2,Oe=4,Me=5,Qe=6,Ke=0,Ge=1,qe=2,Xe=-2,tr=-3,Je=-4,Ye=-5,lr=8,cr=1,hr=2,ur=3,fr=4,er=5,nr=6,ir=7,mr=8,$e=9,Ar=10,or=11,Tr=12,Ur=13,Fr=14,Er=15,jr=16,Nr=17,Br=18,Mr=19,_r=20,gr=21,yr=22,Rr=23,Ir=24,Qr=25,Vr=26,Wr=27,mn=28,gn=29,fn=30,Fn=31,wn=32,Yr=852,Rn=592,bn=15,zr=bn;function $r(wr){return(wr>>>24&255)+(wr>>>8&65280)+((wr&65280)<<8)+((wr&255)<<24)}function Bn(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ee.Buf16(320),this.work=new Ee.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Pn(wr){var Or;return!wr||!wr.state?Xe:(Or=wr.state,wr.total_in=wr.total_out=Or.total=0,wr.msg="",Or.wrap&&(wr.adler=Or.wrap&1),Or.mode=cr,Or.last=0,Or.havedict=0,Or.dmax=32768,Or.head=null,Or.hold=0,Or.bits=0,Or.lencode=Or.lendyn=new Ee.Buf32(Yr),Or.distcode=Or.distdyn=new Ee.Buf32(Rn),Or.sane=1,Or.back=-1,Ke)}function jn(wr){var Or;return!wr||!wr.state?Xe:(Or=wr.state,Or.wsize=0,Or.whave=0,Or.wnext=0,Pn(wr))}function Kn(wr,Or){var Ze,Jr;return!wr||!wr.state||(Jr=wr.state,Or<0?(Ze=0,Or=-Or):(Ze=(Or>>4)+1,Or<48&&(Or&=15)),Or&&(Or<8||Or>15))?Xe:(Jr.window!==null&&Jr.wbits!==Or&&(Jr.window=null),Jr.wrap=Ze,Jr.wbits=Or,jn(wr))}function Xn(wr,Or){var Ze,Jr;return wr?(Jr=new Bn,wr.state=Jr,Jr.window=null,Ze=Kn(wr,Or),Ze!==Ke&&(wr.state=null),Ze):Xe}function In(wr){return Xn(wr,zr)}var $n=!0,Yn,si;function ai(wr){if($n){var Or;for(Yn=new Ee.Buf32(512),si=new Ee.Buf32(32),Or=0;Or<144;)wr.lens[Or++]=8;for(;Or<256;)wr.lens[Or++]=9;for(;Or<280;)wr.lens[Or++]=7;for(;Or<288;)wr.lens[Or++]=8;for(Te(Be,wr.lens,0,288,Yn,0,wr.work,{bits:9}),Or=0;Or<32;)wr.lens[Or++]=5;Te(Ue,wr.lens,0,32,si,0,wr.work,{bits:5}),$n=!1}wr.lencode=Yn,wr.lenbits=9,wr.distcode=si,wr.distbits=5}function Ci(wr,Or,Ze,Jr){var Mn,ze=wr.state;return ze.window===null&&(ze.wsize=1<<ze.wbits,ze.wnext=0,ze.whave=0,ze.window=new Ee.Buf8(ze.wsize)),Jr>=ze.wsize?(Ee.arraySet(ze.window,Or,Ze-ze.wsize,ze.wsize,0),ze.wnext=0,ze.whave=ze.wsize):(Mn=ze.wsize-ze.wnext,Mn>Jr&&(Mn=Jr),Ee.arraySet(ze.window,Or,Ze-Jr,Mn,ze.wnext),Jr-=Mn,Jr?(Ee.arraySet(ze.window,Or,Ze-Jr,Jr,0),ze.wnext=Jr,ze.whave=ze.wsize):(ze.wnext+=Mn,ze.wnext===ze.wsize&&(ze.wnext=0),ze.whave<ze.wsize&&(ze.whave+=Mn))),0}function dr(wr,Or){var Ze,Jr,Mn,ze,Cr,kr,rr,xr,Kr,Dn,Gr,Hr,dn,Qn,kn=0,On,zn,hi,pi,mi,Ni,ui,yi,_i=new Ee.Buf8(4),Fi,Di,Oi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!wr||!wr.state||!wr.output||!wr.input&&wr.avail_in!==0)return Xe;Ze=wr.state,Ze.mode===Tr&&(Ze.mode=Ur),Cr=wr.next_out,Mn=wr.output,rr=wr.avail_out,ze=wr.next_in,Jr=wr.input,kr=wr.avail_in,xr=Ze.hold,Kr=Ze.bits,Dn=kr,Gr=rr,yi=Ke;e:for(;;)switch(Ze.mode){case cr:if(Ze.wrap===0){Ze.mode=Ur;break}for(;Kr<16;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(Ze.wrap&2&&xr===35615){Ze.check=0,_i[0]=xr&255,_i[1]=xr>>>8&255,Ze.check=n(Ze.check,_i,2,0),xr=0,Kr=0,Ze.mode=hr;break}if(Ze.flags=0,Ze.head&&(Ze.head.done=!1),!(Ze.wrap&1)||(((xr&255)<<8)+(xr>>8))%31){wr.msg="incorrect header check",Ze.mode=fn;break}if((xr&15)!==lr){wr.msg="unknown compression method",Ze.mode=fn;break}if(xr>>>=4,Kr-=4,ui=(xr&15)+8,Ze.wbits===0)Ze.wbits=ui;else if(ui>Ze.wbits){wr.msg="invalid window size",Ze.mode=fn;break}Ze.dmax=1<<ui,wr.adler=Ze.check=1,Ze.mode=xr&512?Ar:Tr,xr=0,Kr=0;break;case hr:for(;Kr<16;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(Ze.flags=xr,(Ze.flags&255)!==lr){wr.msg="unknown compression method",Ze.mode=fn;break}if(Ze.flags&57344){wr.msg="unknown header flags set",Ze.mode=fn;break}Ze.head&&(Ze.head.text=xr>>8&1),Ze.flags&512&&(_i[0]=xr&255,_i[1]=xr>>>8&255,Ze.check=n(Ze.check,_i,2,0)),xr=0,Kr=0,Ze.mode=ur;case ur:for(;Kr<32;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}Ze.head&&(Ze.head.time=xr),Ze.flags&512&&(_i[0]=xr&255,_i[1]=xr>>>8&255,_i[2]=xr>>>16&255,_i[3]=xr>>>24&255,Ze.check=n(Ze.check,_i,4,0)),xr=0,Kr=0,Ze.mode=fr;case fr:for(;Kr<16;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}Ze.head&&(Ze.head.xflags=xr&255,Ze.head.os=xr>>8),Ze.flags&512&&(_i[0]=xr&255,_i[1]=xr>>>8&255,Ze.check=n(Ze.check,_i,2,0)),xr=0,Kr=0,Ze.mode=er;case er:if(Ze.flags&1024){for(;Kr<16;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}Ze.length=xr,Ze.head&&(Ze.head.extra_len=xr),Ze.flags&512&&(_i[0]=xr&255,_i[1]=xr>>>8&255,Ze.check=n(Ze.check,_i,2,0)),xr=0,Kr=0}else Ze.head&&(Ze.head.extra=null);Ze.mode=nr;case nr:if(Ze.flags&1024&&(Hr=Ze.length,Hr>kr&&(Hr=kr),Hr&&(Ze.head&&(ui=Ze.head.extra_len-Ze.length,Ze.head.extra||(Ze.head.extra=new Array(Ze.head.extra_len)),Ee.arraySet(Ze.head.extra,Jr,ze,Hr,ui)),Ze.flags&512&&(Ze.check=n(Ze.check,Jr,Hr,ze)),kr-=Hr,ze+=Hr,Ze.length-=Hr),Ze.length))break e;Ze.length=0,Ze.mode=ir;case ir:if(Ze.flags&2048){if(kr===0)break e;Hr=0;do ui=Jr[ze+Hr++],Ze.head&&ui&&Ze.length<65536&&(Ze.head.name+=String.fromCharCode(ui));while(ui&&Hr<kr);if(Ze.flags&512&&(Ze.check=n(Ze.check,Jr,Hr,ze)),kr-=Hr,ze+=Hr,ui)break e}else Ze.head&&(Ze.head.name=null);Ze.length=0,Ze.mode=mr;case mr:if(Ze.flags&4096){if(kr===0)break e;Hr=0;do ui=Jr[ze+Hr++],Ze.head&&ui&&Ze.length<65536&&(Ze.head.comment+=String.fromCharCode(ui));while(ui&&Hr<kr);if(Ze.flags&512&&(Ze.check=n(Ze.check,Jr,Hr,ze)),kr-=Hr,ze+=Hr,ui)break e}else Ze.head&&(Ze.head.comment=null);Ze.mode=$e;case $e:if(Ze.flags&512){for(;Kr<16;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(xr!==(Ze.check&65535)){wr.msg="header crc mismatch",Ze.mode=fn;break}xr=0,Kr=0}Ze.head&&(Ze.head.hcrc=Ze.flags>>9&1,Ze.head.done=!0),wr.adler=Ze.check=0,Ze.mode=Tr;break;case Ar:for(;Kr<32;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}wr.adler=Ze.check=$r(xr),xr=0,Kr=0,Ze.mode=or;case or:if(Ze.havedict===0)return wr.next_out=Cr,wr.avail_out=rr,wr.next_in=ze,wr.avail_in=kr,Ze.hold=xr,Ze.bits=Kr,qe;wr.adler=Ze.check=1,Ze.mode=Tr;case Tr:if(Or===Me||Or===Qe)break e;case Ur:if(Ze.last){xr>>>=Kr&7,Kr-=Kr&7,Ze.mode=Wr;break}for(;Kr<3;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}switch(Ze.last=xr&1,xr>>>=1,Kr-=1,xr&3){case 0:Ze.mode=Fr;break;case 1:if(ai(Ze),Ze.mode=_r,Or===Qe){xr>>>=2,Kr-=2;break e}break;case 2:Ze.mode=Nr;break;case 3:wr.msg="invalid block type",Ze.mode=fn}xr>>>=2,Kr-=2;break;case Fr:for(xr>>>=Kr&7,Kr-=Kr&7;Kr<32;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if((xr&65535)!==(xr>>>16^65535)){wr.msg="invalid stored block lengths",Ze.mode=fn;break}if(Ze.length=xr&65535,xr=0,Kr=0,Ze.mode=Er,Or===Qe)break e;case Er:Ze.mode=jr;case jr:if(Hr=Ze.length,Hr){if(Hr>kr&&(Hr=kr),Hr>rr&&(Hr=rr),Hr===0)break e;Ee.arraySet(Mn,Jr,ze,Hr,Cr),kr-=Hr,ze+=Hr,rr-=Hr,Cr+=Hr,Ze.length-=Hr;break}Ze.mode=Tr;break;case Nr:for(;Kr<14;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(Ze.nlen=(xr&31)+257,xr>>>=5,Kr-=5,Ze.ndist=(xr&31)+1,xr>>>=5,Kr-=5,Ze.ncode=(xr&15)+4,xr>>>=4,Kr-=4,Ze.nlen>286||Ze.ndist>30){wr.msg="too many length or distance symbols",Ze.mode=fn;break}Ze.have=0,Ze.mode=Br;case Br:for(;Ze.have<Ze.ncode;){for(;Kr<3;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}Ze.lens[Oi[Ze.have++]]=xr&7,xr>>>=3,Kr-=3}for(;Ze.have<19;)Ze.lens[Oi[Ze.have++]]=0;if(Ze.lencode=Ze.lendyn,Ze.lenbits=7,Fi={bits:Ze.lenbits},yi=Te(Re,Ze.lens,0,19,Ze.lencode,0,Ze.work,Fi),Ze.lenbits=Fi.bits,yi){wr.msg="invalid code lengths set",Ze.mode=fn;break}Ze.have=0,Ze.mode=Mr;case Mr:for(;Ze.have<Ze.nlen+Ze.ndist;){for(;kn=Ze.lencode[xr&(1<<Ze.lenbits)-1],On=kn>>>24,zn=kn>>>16&255,hi=kn&65535,!(On<=Kr);){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(hi<16)xr>>>=On,Kr-=On,Ze.lens[Ze.have++]=hi;else{if(hi===16){for(Di=On+2;Kr<Di;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(xr>>>=On,Kr-=On,Ze.have===0){wr.msg="invalid bit length repeat",Ze.mode=fn;break}ui=Ze.lens[Ze.have-1],Hr=3+(xr&3),xr>>>=2,Kr-=2}else if(hi===17){for(Di=On+3;Kr<Di;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}xr>>>=On,Kr-=On,ui=0,Hr=3+(xr&7),xr>>>=3,Kr-=3}else{for(Di=On+7;Kr<Di;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}xr>>>=On,Kr-=On,ui=0,Hr=11+(xr&127),xr>>>=7,Kr-=7}if(Ze.have+Hr>Ze.nlen+Ze.ndist){wr.msg="invalid bit length repeat",Ze.mode=fn;break}for(;Hr--;)Ze.lens[Ze.have++]=ui}}if(Ze.mode===fn)break;if(Ze.lens[256]===0){wr.msg="invalid code -- missing end-of-block",Ze.mode=fn;break}if(Ze.lenbits=9,Fi={bits:Ze.lenbits},yi=Te(Be,Ze.lens,0,Ze.nlen,Ze.lencode,0,Ze.work,Fi),Ze.lenbits=Fi.bits,yi){wr.msg="invalid literal/lengths set",Ze.mode=fn;break}if(Ze.distbits=6,Ze.distcode=Ze.distdyn,Fi={bits:Ze.distbits},yi=Te(Ue,Ze.lens,Ze.nlen,Ze.ndist,Ze.distcode,0,Ze.work,Fi),Ze.distbits=Fi.bits,yi){wr.msg="invalid distances set",Ze.mode=fn;break}if(Ze.mode=_r,Or===Qe)break e;case _r:Ze.mode=gr;case gr:if(kr>=6&&rr>=258){wr.next_out=Cr,wr.avail_out=rr,wr.next_in=ze,wr.avail_in=kr,Ze.hold=xr,Ze.bits=Kr,Ce(wr,Gr),Cr=wr.next_out,Mn=wr.output,rr=wr.avail_out,ze=wr.next_in,Jr=wr.input,kr=wr.avail_in,xr=Ze.hold,Kr=Ze.bits,Ze.mode===Tr&&(Ze.back=-1);break}for(Ze.back=0;kn=Ze.lencode[xr&(1<<Ze.lenbits)-1],On=kn>>>24,zn=kn>>>16&255,hi=kn&65535,!(On<=Kr);){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(zn&&(zn&240)===0){for(pi=On,mi=zn,Ni=hi;kn=Ze.lencode[Ni+((xr&(1<<pi+mi)-1)>>pi)],On=kn>>>24,zn=kn>>>16&255,hi=kn&65535,!(pi+On<=Kr);){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}xr>>>=pi,Kr-=pi,Ze.back+=pi}if(xr>>>=On,Kr-=On,Ze.back+=On,Ze.length=hi,zn===0){Ze.mode=Vr;break}if(zn&32){Ze.back=-1,Ze.mode=Tr;break}if(zn&64){wr.msg="invalid literal/length code",Ze.mode=fn;break}Ze.extra=zn&15,Ze.mode=yr;case yr:if(Ze.extra){for(Di=Ze.extra;Kr<Di;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}Ze.length+=xr&(1<<Ze.extra)-1,xr>>>=Ze.extra,Kr-=Ze.extra,Ze.back+=Ze.extra}Ze.was=Ze.length,Ze.mode=Rr;case Rr:for(;kn=Ze.distcode[xr&(1<<Ze.distbits)-1],On=kn>>>24,zn=kn>>>16&255,hi=kn&65535,!(On<=Kr);){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if((zn&240)===0){for(pi=On,mi=zn,Ni=hi;kn=Ze.distcode[Ni+((xr&(1<<pi+mi)-1)>>pi)],On=kn>>>24,zn=kn>>>16&255,hi=kn&65535,!(pi+On<=Kr);){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}xr>>>=pi,Kr-=pi,Ze.back+=pi}if(xr>>>=On,Kr-=On,Ze.back+=On,zn&64){wr.msg="invalid distance code",Ze.mode=fn;break}Ze.offset=hi,Ze.extra=zn&15,Ze.mode=Ir;case Ir:if(Ze.extra){for(Di=Ze.extra;Kr<Di;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}Ze.offset+=xr&(1<<Ze.extra)-1,xr>>>=Ze.extra,Kr-=Ze.extra,Ze.back+=Ze.extra}if(Ze.offset>Ze.dmax){wr.msg="invalid distance too far back",Ze.mode=fn;break}Ze.mode=Qr;case Qr:if(rr===0)break e;if(Hr=Gr-rr,Ze.offset>Hr){if(Hr=Ze.offset-Hr,Hr>Ze.whave&&Ze.sane){wr.msg="invalid distance too far back",Ze.mode=fn;break}Hr>Ze.wnext?(Hr-=Ze.wnext,dn=Ze.wsize-Hr):dn=Ze.wnext-Hr,Hr>Ze.length&&(Hr=Ze.length),Qn=Ze.window}else Qn=Mn,dn=Cr-Ze.offset,Hr=Ze.length;Hr>rr&&(Hr=rr),rr-=Hr,Ze.length-=Hr;do Mn[Cr++]=Qn[dn++];while(--Hr);Ze.length===0&&(Ze.mode=gr);break;case Vr:if(rr===0)break e;Mn[Cr++]=Ze.length,rr--,Ze.mode=gr;break;case Wr:if(Ze.wrap){for(;Kr<32;){if(kr===0)break e;kr--,xr|=Jr[ze++]<<Kr,Kr+=8}if(Gr-=rr,wr.total_out+=Gr,Ze.total+=Gr,Gr&&(wr.adler=Ze.check=Ze.flags?n(Ze.check,Mn,Gr,Cr-Gr):t(Ze.check,Mn,Gr,Cr-Gr)),Gr=rr,(Ze.flags?xr:$r(xr))!==Ze.check){wr.msg="incorrect data check",Ze.mode=fn;break}xr=0,Kr=0}Ze.mode=mn;case mn:if(Ze.wrap&&Ze.flags){for(;Kr<32;){if(kr===0)break e;kr--,xr+=Jr[ze++]<<Kr,Kr+=8}if(xr!==(Ze.total&4294967295)){wr.msg="incorrect length check",Ze.mode=fn;break}xr=0,Kr=0}Ze.mode=gn;case gn:yi=Ge;break e;case fn:yi=tr;break e;case Fn:return Je;case wn:default:return Xe}return wr.next_out=Cr,wr.avail_out=rr,wr.next_in=ze,wr.avail_in=kr,Ze.hold=xr,Ze.bits=Kr,(Ze.wsize||Gr!==wr.avail_out&&Ze.mode<fn&&(Ze.mode<Wr||Or!==Oe))&&Ci(wr,wr.output,wr.next_out,Gr-wr.avail_out),Dn-=wr.avail_in,Gr-=wr.avail_out,wr.total_in+=Dn,wr.total_out+=Gr,Ze.total+=Gr,Ze.wrap&&Gr&&(wr.adler=Ze.check=Ze.flags?n(Ze.check,Mn,Gr,wr.next_out-Gr):t(Ze.check,Mn,Gr,wr.next_out-Gr)),wr.data_type=Ze.bits+(Ze.last?64:0)+(Ze.mode===Tr?128:0)+(Ze.mode===_r||Ze.mode===Er?256:0),(Dn===0&&Gr===0||Or===Oe)&&yi===Ke&&(yi=Ye),yi}function An(wr){if(!wr||!wr.state)return Xe;var Or=wr.state;return Or.window&&(Or.window=null),wr.state=null,Ke}function vn(wr,Or){var Ze;return!wr||!wr.state||(Ze=wr.state,(Ze.wrap&2)===0)?Xe:(Ze.head=Or,Or.done=!1,Ke)}function Sn(wr,Or){var Ze=Or.length,Jr,Mn,ze;return!wr||!wr.state||(Jr=wr.state,Jr.wrap!==0&&Jr.mode!==or)?Xe:Jr.mode===or&&(Mn=1,Mn=t(Mn,Or,Ze,0),Mn!==Jr.check)?tr:(ze=Ci(wr,Or,Ze,Ze),ze?(Jr.mode=Fn,Je):(Jr.havedict=1,Ke))}return inflate.inflateReset=jn,inflate.inflateReset2=Kn,inflate.inflateResetKeep=Pn,inflate.inflateInit=In,inflate.inflateInit2=Xn,inflate.inflate=dr,inflate.inflateEnd=An,inflate.inflateGetHeader=vn,inflate.inflateSetDictionary=Sn,inflate.inflateInfo="pako inflate (from Nodeca project)",inflate}var constants,hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),constants}var gzheader,hasRequiredGzheader;function requireGzheader(){if(hasRequiredGzheader)return gzheader;hasRequiredGzheader=1;function Ee(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return gzheader=Ee,gzheader}var hasRequiredInflate;function requireInflate(){if(hasRequiredInflate)return inflate$1;hasRequiredInflate=1;var Ee=requireInflate$1(),t=requireCommon(),n=requireStrings(),Ce=requireConstants(),Te=requireMessages(),Re=requireZstream(),Be=requireGzheader(),Ue=Object.prototype.toString;function Oe(Ke){if(!(this instanceof Oe))return new Oe(Ke);this.options=t.assign({chunkSize:16384,windowBits:0,to:""},Ke||{});var Ge=this.options;Ge.raw&&Ge.windowBits>=0&&Ge.windowBits<16&&(Ge.windowBits=-Ge.windowBits,Ge.windowBits===0&&(Ge.windowBits=-15)),Ge.windowBits>=0&&Ge.windowBits<16&&!(Ke&&Ke.windowBits)&&(Ge.windowBits+=32),Ge.windowBits>15&&Ge.windowBits<48&&(Ge.windowBits&15)===0&&(Ge.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Re,this.strm.avail_out=0;var qe=Ee.inflateInit2(this.strm,Ge.windowBits);if(qe!==Ce.Z_OK)throw new Error(Te[qe]);if(this.header=new Be,Ee.inflateGetHeader(this.strm,this.header),Ge.dictionary&&(typeof Ge.dictionary=="string"?Ge.dictionary=n.string2buf(Ge.dictionary):Ue.call(Ge.dictionary)==="[object ArrayBuffer]"&&(Ge.dictionary=new Uint8Array(Ge.dictionary)),Ge.raw&&(qe=Ee.inflateSetDictionary(this.strm,Ge.dictionary),qe!==Ce.Z_OK)))throw new Error(Te[qe])}Oe.prototype.push=function(Ke,Ge){var qe=this.strm,Xe=this.options.chunkSize,tr=this.options.dictionary,Je,Ye,lr,cr,hr,ur=!1;if(this.ended)return!1;Ye=Ge===~~Ge?Ge:Ge===!0?Ce.Z_FINISH:Ce.Z_NO_FLUSH,typeof Ke=="string"?qe.input=n.binstring2buf(Ke):Ue.call(Ke)==="[object ArrayBuffer]"?qe.input=new Uint8Array(Ke):qe.input=Ke,qe.next_in=0,qe.avail_in=qe.input.length;do{if(qe.avail_out===0&&(qe.output=new t.Buf8(Xe),qe.next_out=0,qe.avail_out=Xe),Je=Ee.inflate(qe,Ce.Z_NO_FLUSH),Je===Ce.Z_NEED_DICT&&tr&&(Je=Ee.inflateSetDictionary(this.strm,tr)),Je===Ce.Z_BUF_ERROR&&ur===!0&&(Je=Ce.Z_OK,ur=!1),Je!==Ce.Z_STREAM_END&&Je!==Ce.Z_OK)return this.onEnd(Je),this.ended=!0,!1;qe.next_out&&(qe.avail_out===0||Je===Ce.Z_STREAM_END||qe.avail_in===0&&(Ye===Ce.Z_FINISH||Ye===Ce.Z_SYNC_FLUSH))&&(this.options.to==="string"?(lr=n.utf8border(qe.output,qe.next_out),cr=qe.next_out-lr,hr=n.buf2string(qe.output,lr),qe.next_out=cr,qe.avail_out=Xe-cr,cr&&t.arraySet(qe.output,qe.output,lr,cr,0),this.onData(hr)):this.onData(t.shrinkBuf(qe.output,qe.next_out))),qe.avail_in===0&&qe.avail_out===0&&(ur=!0)}while((qe.avail_in>0||qe.avail_out===0)&&Je!==Ce.Z_STREAM_END);return Je===Ce.Z_STREAM_END&&(Ye=Ce.Z_FINISH),Ye===Ce.Z_FINISH?(Je=Ee.inflateEnd(this.strm),this.onEnd(Je),this.ended=!0,Je===Ce.Z_OK):(Ye===Ce.Z_SYNC_FLUSH&&(this.onEnd(Ce.Z_OK),qe.avail_out=0),!0)},Oe.prototype.onData=function(Ke){this.chunks.push(Ke)},Oe.prototype.onEnd=function(Ke){Ke===Ce.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=Ke,this.msg=this.strm.msg};function Me(Ke,Ge){var qe=new Oe(Ge);if(qe.push(Ke,!0),qe.err)throw qe.msg||Te[qe.err];return qe.result}function Qe(Ke,Ge){return Ge=Ge||{},Ge.raw=!0,Me(Ke,Ge)}return inflate$1.Inflate=Oe,inflate$1.inflate=Me,inflate$1.inflateRaw=Qe,inflate$1.ungzip=Me,inflate$1}var pako_1,hasRequiredPako;function requirePako(){if(hasRequiredPako)return pako_1;hasRequiredPako=1;var Ee=requireCommon().assign,t=requireDeflate(),n=requireInflate(),Ce=requireConstants(),Te={};return Ee(Te,t,n,Ce),pako_1=Te,pako_1}var pakoExports=requirePako();const pako=getDefaultExportFromCjs(pakoExports);var UPNG={};UPNG.toRGBA8=function(Ee){var t=Ee.width,n=Ee.height;if(Ee.tabs.acTL==null)return[UPNG.toRGBA8.decodeImage(Ee.data,t,n,Ee).buffer];var Ce=[];Ee.frames[0].data==null&&(Ee.frames[0].data=Ee.data);for(var Te=t*n*4,Re=new Uint8Array(Te),Be=new Uint8Array(Te),Ue=new Uint8Array(Te),Oe=0;Oe<Ee.frames.length;Oe++){var Me=Ee.frames[Oe],Qe=Me.rect.x,Ke=Me.rect.y,Ge=Me.rect.width,qe=Me.rect.height,Xe=UPNG.toRGBA8.decodeImage(Me.data,Ge,qe,Ee);if(Oe!=0)for(var tr=0;tr<Te;tr++)Ue[tr]=Re[tr];if(Me.blend==0?UPNG._copyTile(Xe,Ge,qe,Re,t,n,Qe,Ke,0):Me.blend==1&&UPNG._copyTile(Xe,Ge,qe,Re,t,n,Qe,Ke,1),Ce.push(Re.buffer.slice(0)),Me.dispose!=0){if(Me.dispose==1)UPNG._copyTile(Be,Ge,qe,Re,t,n,Qe,Ke,0);else if(Me.dispose==2)for(var tr=0;tr<Te;tr++)Re[tr]=Ue[tr]}}return Ce};UPNG.toRGBA8.decodeImage=function(Ee,t,n,Ce){var Te=t*n,Re=UPNG.decode._getBPP(Ce),Be=Math.ceil(t*Re/8),Ue=new Uint8Array(Te*4),Oe=new Uint32Array(Ue.buffer),Me=Ce.ctype,Qe=Ce.depth,Ke=UPNG._bin.readUshort;if(Me==6){var Ge=Te<<2;if(Qe==8)for(var qe=0;qe<Ge;qe+=4)Ue[qe]=Ee[qe],Ue[qe+1]=Ee[qe+1],Ue[qe+2]=Ee[qe+2],Ue[qe+3]=Ee[qe+3];if(Qe==16)for(var qe=0;qe<Ge;qe++)Ue[qe]=Ee[qe<<1]}else if(Me==2){var Xe=Ce.tabs.tRNS;if(Xe==null){if(Qe==8)for(var qe=0;qe<Te;qe++){var tr=qe*3;Oe[qe]=255<<24|Ee[tr+2]<<16|Ee[tr+1]<<8|Ee[tr]}if(Qe==16)for(var qe=0;qe<Te;qe++){var tr=qe*6;Oe[qe]=255<<24|Ee[tr+4]<<16|Ee[tr+2]<<8|Ee[tr]}}else{var Je=Xe[0],Ye=Xe[1],lr=Xe[2];if(Qe==8)for(var qe=0;qe<Te;qe++){var cr=qe<<2,tr=qe*3;Oe[qe]=255<<24|Ee[tr+2]<<16|Ee[tr+1]<<8|Ee[tr],Ee[tr]==Je&&Ee[tr+1]==Ye&&Ee[tr+2]==lr&&(Ue[cr+3]=0)}if(Qe==16)for(var qe=0;qe<Te;qe++){var cr=qe<<2,tr=qe*6;Oe[qe]=255<<24|Ee[tr+4]<<16|Ee[tr+2]<<8|Ee[tr],Ke(Ee,tr)==Je&&Ke(Ee,tr+2)==Ye&&Ke(Ee,tr+4)==lr&&(Ue[cr+3]=0)}}}else if(Me==3){var hr=Ce.tabs.PLTE,ur=Ce.tabs.tRNS,fr=ur?ur.length:0;if(Qe==1)for(var er=0;er<n;er++)for(var nr=er*Be,ir=er*t,qe=0;qe<t;qe++){var cr=ir+qe<<2,mr=Ee[nr+(qe>>3)]>>7-((qe&7)<<0)&1,$e=3*mr;Ue[cr]=hr[$e],Ue[cr+1]=hr[$e+1],Ue[cr+2]=hr[$e+2],Ue[cr+3]=mr<fr?ur[mr]:255}if(Qe==2)for(var er=0;er<n;er++)for(var nr=er*Be,ir=er*t,qe=0;qe<t;qe++){var cr=ir+qe<<2,mr=Ee[nr+(qe>>2)]>>6-((qe&3)<<1)&3,$e=3*mr;Ue[cr]=hr[$e],Ue[cr+1]=hr[$e+1],Ue[cr+2]=hr[$e+2],Ue[cr+3]=mr<fr?ur[mr]:255}if(Qe==4)for(var er=0;er<n;er++)for(var nr=er*Be,ir=er*t,qe=0;qe<t;qe++){var cr=ir+qe<<2,mr=Ee[nr+(qe>>1)]>>4-((qe&1)<<2)&15,$e=3*mr;Ue[cr]=hr[$e],Ue[cr+1]=hr[$e+1],Ue[cr+2]=hr[$e+2],Ue[cr+3]=mr<fr?ur[mr]:255}if(Qe==8)for(var qe=0;qe<Te;qe++){var cr=qe<<2,mr=Ee[qe],$e=3*mr;Ue[cr]=hr[$e],Ue[cr+1]=hr[$e+1],Ue[cr+2]=hr[$e+2],Ue[cr+3]=mr<fr?ur[mr]:255}}else if(Me==4){if(Qe==8)for(var qe=0;qe<Te;qe++){var cr=qe<<2,Ar=qe<<1,or=Ee[Ar];Ue[cr]=or,Ue[cr+1]=or,Ue[cr+2]=or,Ue[cr+3]=Ee[Ar+1]}if(Qe==16)for(var qe=0;qe<Te;qe++){var cr=qe<<2,Ar=qe<<2,or=Ee[Ar];Ue[cr]=or,Ue[cr+1]=or,Ue[cr+2]=or,Ue[cr+3]=Ee[Ar+2]}}else if(Me==0)for(var Je=Ce.tabs.tRNS?Ce.tabs.tRNS:-1,er=0;er<n;er++){var Tr=er*Be,Ur=er*t;if(Qe==1)for(var Fr=0;Fr<t;Fr++){var or=255*(Ee[Tr+(Fr>>>3)]>>>7-(Fr&7)&1),Er=or==Je*255?0:255;Oe[Ur+Fr]=Er<<24|or<<16|or<<8|or}else if(Qe==2)for(var Fr=0;Fr<t;Fr++){var or=85*(Ee[Tr+(Fr>>>2)]>>>6-((Fr&3)<<1)&3),Er=or==Je*85?0:255;Oe[Ur+Fr]=Er<<24|or<<16|or<<8|or}else if(Qe==4)for(var Fr=0;Fr<t;Fr++){var or=17*(Ee[Tr+(Fr>>>1)]>>>4-((Fr&1)<<2)&15),Er=or==Je*17?0:255;Oe[Ur+Fr]=Er<<24|or<<16|or<<8|or}else if(Qe==8)for(var Fr=0;Fr<t;Fr++){var or=Ee[Tr+Fr],Er=or==Je?0:255;Oe[Ur+Fr]=Er<<24|or<<16|or<<8|or}else if(Qe==16)for(var Fr=0;Fr<t;Fr++){var or=Ee[Tr+(Fr<<1)],Er=Ke(Ee,Tr+(Fr<<qe))==Je?0:255;Oe[Ur+Fr]=Er<<24|or<<16|or<<8|or}}return Ue};UPNG.decode=function(Ee){for(var t=new Uint8Array(Ee),n=8,Ce=UPNG._bin,Te=Ce.readUshort,Re=Ce.readUint,Be={tabs:{},frames:[]},Ue=new Uint8Array(t.length),Oe=0,Me,Qe=0,Ke=[137,80,78,71,13,10,26,10],Ge=0;Ge<8;Ge++)if(t[Ge]!=Ke[Ge])throw"The input is not a PNG file!";for(;n<t.length;){var qe=Ce.readUint(t,n);n+=4;var Xe=Ce.readASCII(t,n,4);if(n+=4,Xe=="IHDR")UPNG.decode._IHDR(t,n,Be);else if(Xe=="IDAT"){for(var Ge=0;Ge<qe;Ge++)Ue[Oe+Ge]=t[n+Ge];Oe+=qe}else if(Xe=="acTL")Be.tabs[Xe]={num_frames:Re(t,n),num_plays:Re(t,n+4)},Me=new Uint8Array(t.length);else if(Xe=="fcTL"){if(Qe!=0){var tr=Be.frames[Be.frames.length-1];tr.data=UPNG.decode._decompress(Be,Me.slice(0,Qe),tr.rect.width,tr.rect.height),Qe=0}var Je={x:Re(t,n+12),y:Re(t,n+16),width:Re(t,n+4),height:Re(t,n+8)},Ye=Te(t,n+22);Ye=Te(t,n+20)/(Ye==0?100:Ye);var lr={rect:Je,delay:Math.round(Ye*1e3),dispose:t[n+24],blend:t[n+25]};Be.frames.push(lr)}else if(Xe=="fdAT"){for(var Ge=0;Ge<qe-4;Ge++)Me[Qe+Ge]=t[n+Ge+4];Qe+=qe-4}else if(Xe=="pHYs")Be.tabs[Xe]=[Ce.readUint(t,n),Ce.readUint(t,n+4),t[n+8]];else if(Xe=="cHRM"){Be.tabs[Xe]=[];for(var Ge=0;Ge<8;Ge++)Be.tabs[Xe].push(Ce.readUint(t,n+Ge*4))}else if(Xe=="tEXt"){Be.tabs[Xe]==null&&(Be.tabs[Xe]={});var cr=Ce.nextZero(t,n),hr=Ce.readASCII(t,n,cr-n),ur=Ce.readASCII(t,cr+1,n+qe-cr-1);Be.tabs[Xe][hr]=ur}else if(Xe=="iTXt"){Be.tabs[Xe]==null&&(Be.tabs[Xe]={});var cr=0,fr=n;cr=Ce.nextZero(t,fr);var hr=Ce.readASCII(t,fr,cr-fr);fr=cr+1,t[fr],t[fr+1],fr+=2,cr=Ce.nextZero(t,fr),Ce.readASCII(t,fr,cr-fr),fr=cr+1,cr=Ce.nextZero(t,fr),Ce.readUTF8(t,fr,cr-fr),fr=cr+1;var ur=Ce.readUTF8(t,fr,qe-(fr-n));Be.tabs[Xe][hr]=ur}else if(Xe=="PLTE")Be.tabs[Xe]=Ce.readBytes(t,n,qe);else if(Xe=="hIST"){var er=Be.tabs.PLTE.length/3;Be.tabs[Xe]=[];for(var Ge=0;Ge<er;Ge++)Be.tabs[Xe].push(Te(t,n+Ge*2))}else if(Xe=="tRNS")Be.ctype==3?Be.tabs[Xe]=Ce.readBytes(t,n,qe):Be.ctype==0?Be.tabs[Xe]=Te(t,n):Be.ctype==2&&(Be.tabs[Xe]=[Te(t,n),Te(t,n+2),Te(t,n+4)]);else if(Xe=="gAMA")Be.tabs[Xe]=Ce.readUint(t,n)/1e5;else if(Xe=="sRGB")Be.tabs[Xe]=t[n];else if(Xe=="bKGD")Be.ctype==0||Be.ctype==4?Be.tabs[Xe]=[Te(t,n)]:Be.ctype==2||Be.ctype==6?Be.tabs[Xe]=[Te(t,n),Te(t,n+2),Te(t,n+4)]:Be.ctype==3&&(Be.tabs[Xe]=t[n]);else if(Xe=="IEND")break;n+=qe,Ce.readUint(t,n),n+=4}if(Qe!=0){var tr=Be.frames[Be.frames.length-1];tr.data=UPNG.decode._decompress(Be,Me.slice(0,Qe),tr.rect.width,tr.rect.height),Qe=0}return Be.data=UPNG.decode._decompress(Be,Ue,Be.width,Be.height),delete Be.compress,delete Be.interlace,delete Be.filter,Be};UPNG.decode._decompress=function(Ee,t,n,Ce){var Te=UPNG.decode._getBPP(Ee),Re=Math.ceil(n*Te/8),Be=new Uint8Array((Re+1+Ee.interlace)*Ce);return t=UPNG.decode._inflate(t,Be),Ee.interlace==0?t=UPNG.decode._filterZero(t,Ee,0,n,Ce):Ee.interlace==1&&(t=UPNG.decode._readInterlace(t,Ee)),t};UPNG.decode._inflate=function(Ee,t){var n=UPNG.inflateRaw(new Uint8Array(Ee.buffer,2,Ee.length-6),t);return n};UPNG.inflateRaw=(function(){var Ee={};return Ee.H={},Ee.H.N=function(t,n){var Ce=Uint8Array,Te=0,Re=0,Be=0,Ue=0,Oe=0,Me=0,Qe=0,Ke=0,Ge=0,qe,Xe;if(t[0]==3&&t[1]==0)return n||new Ce(0);var tr=Ee.H,Je=tr.b,Ye=tr.e,lr=tr.R,cr=tr.n,hr=tr.A,ur=tr.Z,fr=tr.m,er=n==null;for(er&&(n=new Ce(t.length>>>2<<3));Te==0;){if(Te=Je(t,Ge,1),Re=Je(t,Ge+1,2),Ge+=3,Re==0){(Ge&7)!=0&&(Ge+=8-(Ge&7));var nr=(Ge>>>3)+4,ir=t[nr-4]|t[nr-3]<<8;er&&(n=Ee.H.W(n,Ke+ir)),n.set(new Ce(t.buffer,t.byteOffset+nr,ir),Ke),Ge=nr+ir<<3,Ke+=ir;continue}if(er&&(n=Ee.H.W(n,Ke+(1<<17))),Re==1&&(qe=fr.J,Xe=fr.h,Me=511,Qe=31),Re==2){Be=Ye(t,Ge,5)+257,Ue=Ye(t,Ge+5,5)+1,Oe=Ye(t,Ge+10,4)+4,Ge+=14;for(var mr=1,$e=0;$e<38;$e+=2)fr.Q[$e]=0,fr.Q[$e+1]=0;for(var $e=0;$e<Oe;$e++){var Ar=Ye(t,Ge+$e*3,3);fr.Q[(fr.X[$e]<<1)+1]=Ar,Ar>mr&&(mr=Ar)}Ge+=3*Oe,cr(fr.Q,mr),hr(fr.Q,mr,fr.u),qe=fr.w,Xe=fr.d,Ge=lr(fr.u,(1<<mr)-1,Be+Ue,t,Ge,fr.v);var or=tr.V(fr.v,0,Be,fr.C);Me=(1<<or)-1;var Tr=tr.V(fr.v,Be,Ue,fr.D);Qe=(1<<Tr)-1,cr(fr.C,or),hr(fr.C,or,qe),cr(fr.D,Tr),hr(fr.D,Tr,Xe)}for(;;){var Ur=qe[ur(t,Ge)&Me];Ge+=Ur&15;var Fr=Ur>>>4;if(!(Fr>>>8))n[Ke++]=Fr;else{if(Fr==256)break;var Er=Ke+Fr-254;if(Fr>264){var jr=fr.q[Fr-257];Er=Ke+(jr>>>3)+Ye(t,Ge,jr&7),Ge+=jr&7}var Nr=Xe[ur(t,Ge)&Qe];Ge+=Nr&15;var Br=Nr>>>4,Mr=fr.c[Br],_r=(Mr>>>4)+Je(t,Ge,Mr&15);for(Ge+=Mr&15;Ke<Er;)n[Ke]=n[Ke++-_r],n[Ke]=n[Ke++-_r],n[Ke]=n[Ke++-_r],n[Ke]=n[Ke++-_r];Ke=Er}}}return n.length==Ke?n:n.slice(0,Ke)},Ee.H.W=function(t,n){var Ce=t.length;if(n<=Ce)return t;var Te=new Uint8Array(Ce<<1);return Te.set(t,0),Te},Ee.H.R=function(t,n,Ce,Te,Re,Be){for(var Ue=Ee.H.e,Oe=Ee.H.Z,Me=0;Me<Ce;){var Qe=t[Oe(Te,Re)&n];Re+=Qe&15;var Ke=Qe>>>4;if(Ke<=15)Be[Me]=Ke,Me++;else{var Ge=0,qe=0;Ke==16?(qe=3+Ue(Te,Re,2),Re+=2,Ge=Be[Me-1]):Ke==17?(qe=3+Ue(Te,Re,3),Re+=3):Ke==18&&(qe=11+Ue(Te,Re,7),Re+=7);for(var Xe=Me+qe;Me<Xe;)Be[Me]=Ge,Me++}}return Re},Ee.H.V=function(t,n,Ce,Te){for(var Re=0,Be=0,Ue=Te.length>>>1;Be<Ce;){var Oe=t[Be+n];Te[Be<<1]=0,Te[(Be<<1)+1]=Oe,Oe>Re&&(Re=Oe),Be++}for(;Be<Ue;)Te[Be<<1]=0,Te[(Be<<1)+1]=0,Be++;return Re},Ee.H.n=function(t,n){for(var Ce=Ee.H.m,Te=t.length,Re,Be,Ue,Oe,Me,Qe=Ce.j,Oe=0;Oe<=n;Oe++)Qe[Oe]=0;for(Oe=1;Oe<Te;Oe+=2)Qe[t[Oe]]++;var Ke=Ce.K;for(Re=0,Qe[0]=0,Be=1;Be<=n;Be++)Re=Re+Qe[Be-1]<<1,Ke[Be]=Re;for(Ue=0;Ue<Te;Ue+=2)Me=t[Ue+1],Me!=0&&(t[Ue]=Ke[Me],Ke[Me]++)},Ee.H.A=function(t,n,Ce){for(var Te=t.length,Re=Ee.H.m,Be=Re.r,Ue=0;Ue<Te;Ue+=2)if(t[Ue+1]!=0)for(var Oe=Ue>>1,Me=t[Ue+1],Qe=Oe<<4|Me,Ke=n-Me,Ge=t[Ue]<<Ke,qe=Ge+(1<<Ke);Ge!=qe;){var Xe=Be[Ge]>>>15-n;Ce[Xe]=Qe,Ge++}},Ee.H.l=function(t,n){for(var Ce=Ee.H.m.r,Te=15-n,Re=0;Re<t.length;Re+=2){var Be=t[Re]<<n-t[Re+1];t[Re]=Ce[Be]>>>Te}},Ee.H.M=function(t,n,Ce){Ce=Ce<<(n&7);var Te=n>>>3;t[Te]|=Ce,t[Te+1]|=Ce>>>8},Ee.H.I=function(t,n,Ce){Ce=Ce<<(n&7);var Te=n>>>3;t[Te]|=Ce,t[Te+1]|=Ce>>>8,t[Te+2]|=Ce>>>16},Ee.H.e=function(t,n,Ce){return(t[n>>>3]|t[(n>>>3)+1]<<8)>>>(n&7)&(1<<Ce)-1},Ee.H.b=function(t,n,Ce){return(t[n>>>3]|t[(n>>>3)+1]<<8|t[(n>>>3)+2]<<16)>>>(n&7)&(1<<Ce)-1},Ee.H.Z=function(t,n){return(t[n>>>3]|t[(n>>>3)+1]<<8|t[(n>>>3)+2]<<16)>>>(n&7)},Ee.H.i=function(t,n){return(t[n>>>3]|t[(n>>>3)+1]<<8|t[(n>>>3)+2]<<16|t[(n>>>3)+3]<<24)>>>(n&7)},Ee.H.m=(function(){var t=Uint16Array,n=Uint32Array;return{K:new t(16),j:new t(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new t(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new t(512),_:[],h:new t(32),$:[],w:new t(32768),C:[],v:[],d:new t(32768),D:[],u:new t(512),Q:[],r:new t(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new t(65536),g:new t(32768)}})(),(function(){for(var t=Ee.H.m,n=32768,Ce=0;Ce<n;Ce++){var Te=Ce;Te=(Te&2863311530)>>>1|(Te&1431655765)<<1,Te=(Te&3435973836)>>>2|(Te&858993459)<<2,Te=(Te&4042322160)>>>4|(Te&252645135)<<4,Te=(Te&4278255360)>>>8|(Te&16711935)<<8,t.r[Ce]=(Te>>>16|Te<<16)>>>17}function Re(Be,Ue,Oe){for(;Ue--!=0;)Be.push(0,Oe)}for(var Ce=0;Ce<32;Ce++)t.q[Ce]=t.S[Ce]<<3|t.T[Ce],t.c[Ce]=t.p[Ce]<<4|t.z[Ce];Re(t._,144,8),Re(t._,112,9),Re(t._,24,7),Re(t._,8,8),Ee.H.n(t._,9),Ee.H.A(t._,9,t.J),Ee.H.l(t._,9),Re(t.$,32,5),Ee.H.n(t.$,5),Ee.H.A(t.$,5,t.h),Ee.H.l(t.$,5),Re(t.Q,19,0),Re(t.C,286,0),Re(t.D,30,0),Re(t.v,320,0)})(),Ee.H.N})();UPNG.decode._readInterlace=function(Ee,t){for(var n=t.width,Ce=t.height,Te=UPNG.decode._getBPP(t),Re=Te>>3,Be=Math.ceil(n*Te/8),Ue=new Uint8Array(Ce*Be),Oe=0,Me=[0,0,4,0,2,0,1],Qe=[0,4,0,2,0,1,0],Ke=[8,8,8,4,4,2,2],Ge=[8,8,4,4,2,2,1],qe=0;qe<7;){for(var Xe=Ke[qe],tr=Ge[qe],Je=0,Ye=0,lr=Me[qe];lr<Ce;)lr+=Xe,Ye++;for(var cr=Qe[qe];cr<n;)cr+=tr,Je++;var hr=Math.ceil(Je*Te/8);UPNG.decode._filterZero(Ee,t,Oe,Je,Ye);for(var ur=0,fr=Me[qe];fr<Ce;){for(var er=Qe[qe],nr=Oe+ur*hr<<3;er<n;){if(Te==1){var ir=Ee[nr>>3];ir=ir>>7-(nr&7)&1,Ue[fr*Be+(er>>3)]|=ir<<7-((er&7)<<0)}if(Te==2){var ir=Ee[nr>>3];ir=ir>>6-(nr&7)&3,Ue[fr*Be+(er>>2)]|=ir<<6-((er&3)<<1)}if(Te==4){var ir=Ee[nr>>3];ir=ir>>4-(nr&7)&15,Ue[fr*Be+(er>>1)]|=ir<<4-((er&1)<<2)}if(Te>=8)for(var mr=fr*Be+er*Re,$e=0;$e<Re;$e++)Ue[mr+$e]=Ee[(nr>>3)+$e];nr+=Te,er+=tr}ur++,fr+=Xe}Je*Ye!=0&&(Oe+=Ye*(1+hr)),qe=qe+1}return Ue};UPNG.decode._getBPP=function(Ee){var t=[1,null,3,1,2,null,4][Ee.ctype];return t*Ee.depth};UPNG.decode._filterZero=function(Ee,t,n,Ce,Te){var Re=UPNG.decode._getBPP(t),Be=Math.ceil(Ce*Re/8),Ue=UPNG.decode._paeth;Re=Math.ceil(Re/8);var Oe=0,Me=1,Qe=Ee[n],Ke=0;if(Qe>1&&(Ee[n]=[0,0,1][Qe-2]),Qe==3)for(Ke=Re;Ke<Be;Ke++)Ee[Ke+1]=Ee[Ke+1]+(Ee[Ke+1-Re]>>>1)&255;for(var Ge=0;Ge<Te;Ge++)if(Oe=n+Ge*Be,Me=Oe+Ge+1,Qe=Ee[Me-1],Ke=0,Qe==0)for(;Ke<Be;Ke++)Ee[Oe+Ke]=Ee[Me+Ke];else if(Qe==1){for(;Ke<Re;Ke++)Ee[Oe+Ke]=Ee[Me+Ke];for(;Ke<Be;Ke++)Ee[Oe+Ke]=Ee[Me+Ke]+Ee[Oe+Ke-Re]}else if(Qe==2)for(;Ke<Be;Ke++)Ee[Oe+Ke]=Ee[Me+Ke]+Ee[Oe+Ke-Be];else if(Qe==3){for(;Ke<Re;Ke++)Ee[Oe+Ke]=Ee[Me+Ke]+(Ee[Oe+Ke-Be]>>>1);for(;Ke<Be;Ke++)Ee[Oe+Ke]=Ee[Me+Ke]+(Ee[Oe+Ke-Be]+Ee[Oe+Ke-Re]>>>1)}else{for(;Ke<Re;Ke++)Ee[Oe+Ke]=Ee[Me+Ke]+Ue(0,Ee[Oe+Ke-Be],0);for(;Ke<Be;Ke++)Ee[Oe+Ke]=Ee[Me+Ke]+Ue(Ee[Oe+Ke-Re],Ee[Oe+Ke-Be],Ee[Oe+Ke-Re-Be])}return Ee};UPNG.decode._paeth=function(Ee,t,n){var Ce=Ee+t-n,Te=Ce-Ee,Re=Ce-t,Be=Ce-n;return Te*Te<=Re*Re&&Te*Te<=Be*Be?Ee:Re*Re<=Be*Be?t:n};UPNG.decode._IHDR=function(Ee,t,n){var Ce=UPNG._bin;n.width=Ce.readUint(Ee,t),t+=4,n.height=Ce.readUint(Ee,t),t+=4,n.depth=Ee[t],t++,n.ctype=Ee[t],t++,n.compress=Ee[t],t++,n.filter=Ee[t],t++,n.interlace=Ee[t],t++};UPNG._bin={nextZero:function(Ee,t){for(;Ee[t]!=0;)t++;return t},readUshort:function(Ee,t){return Ee[t]<<8|Ee[t+1]},writeUshort:function(Ee,t,n){Ee[t]=n>>8&255,Ee[t+1]=n&255},readUint:function(Ee,t){return Ee[t]*(256*256*256)+(Ee[t+1]<<16|Ee[t+2]<<8|Ee[t+3])},writeUint:function(Ee,t,n){Ee[t]=n>>24&255,Ee[t+1]=n>>16&255,Ee[t+2]=n>>8&255,Ee[t+3]=n&255},readASCII:function(Ee,t,n){for(var Ce="",Te=0;Te<n;Te++)Ce+=String.fromCharCode(Ee[t+Te]);return Ce},writeASCII:function(Ee,t,n){for(var Ce=0;Ce<n.length;Ce++)Ee[t+Ce]=n.charCodeAt(Ce)},readBytes:function(Ee,t,n){for(var Ce=[],Te=0;Te<n;Te++)Ce.push(Ee[t+Te]);return Ce},pad:function(Ee){return Ee.length<2?"0"+Ee:Ee},readUTF8:function(Ee,t,n){for(var Ce="",Te,Re=0;Re<n;Re++)Ce+="%"+UPNG._bin.pad(Ee[t+Re].toString(16));try{Te=decodeURIComponent(Ce)}catch{return UPNG._bin.readASCII(Ee,t,n)}return Te}};UPNG._copyTile=function(Ee,t,n,Ce,Te,Re,Be,Ue,Oe){for(var Me=Math.min(t,Te),Qe=Math.min(n,Re),Ke=0,Ge=0,qe=0;qe<Qe;qe++)for(var Xe=0;Xe<Me;Xe++)if(Be>=0&&Ue>=0?(Ke=qe*t+Xe<<2,Ge=(Ue+qe)*Te+Be+Xe<<2):(Ke=(-Ue+qe)*t-Be+Xe<<2,Ge=qe*Te+Xe<<2),Oe==0)Ce[Ge]=Ee[Ke],Ce[Ge+1]=Ee[Ke+1],Ce[Ge+2]=Ee[Ke+2],Ce[Ge+3]=Ee[Ke+3];else if(Oe==1){var tr=Ee[Ke+3]*.00392156862745098,Je=Ee[Ke]*tr,Ye=Ee[Ke+1]*tr,lr=Ee[Ke+2]*tr,cr=Ce[Ge+3]*(1/255),hr=Ce[Ge]*cr,ur=Ce[Ge+1]*cr,fr=Ce[Ge+2]*cr,er=1-tr,nr=tr+cr*er,ir=nr==0?0:1/nr;Ce[Ge+3]=255*nr,Ce[Ge+0]=(Je+hr*er)*ir,Ce[Ge+1]=(Ye+ur*er)*ir,Ce[Ge+2]=(lr+fr*er)*ir}else if(Oe==2){var tr=Ee[Ke+3],Je=Ee[Ke],Ye=Ee[Ke+1],lr=Ee[Ke+2],cr=Ce[Ge+3],hr=Ce[Ge],ur=Ce[Ge+1],fr=Ce[Ge+2];tr==cr&&Je==hr&&Ye==ur&&lr==fr?(Ce[Ge]=0,Ce[Ge+1]=0,Ce[Ge+2]=0,Ce[Ge+3]=0):(Ce[Ge]=Je,Ce[Ge+1]=Ye,Ce[Ge+2]=lr,Ce[Ge+3]=tr)}else if(Oe==3){var tr=Ee[Ke+3],Je=Ee[Ke],Ye=Ee[Ke+1],lr=Ee[Ke+2],cr=Ce[Ge+3],hr=Ce[Ge],ur=Ce[Ge+1],fr=Ce[Ge+2];if(tr==cr&&Je==hr&&Ye==ur&&lr==fr)continue;if(tr<220&&cr>20)return!1}return!0};UPNG.encode=function(Ee,t,n,Ce,Te,Re,Be){Ce==null&&(Ce=0),Be==null&&(Be=!1);var Ue=UPNG.encode.compress(Ee,t,n,Ce,[!1,!1,!1,0,Be]);return UPNG.encode.compressPNG(Ue,-1),UPNG.encode._main(Ue,t,n,Te,Re)};UPNG.encodeLL=function(Ee,t,n,Ce,Te,Re,Be,Ue){for(var Oe={ctype:0+(Ce==1?0:2)+(Te==0?0:4),depth:Re,frames:[]},Me=(Ce+Te)*Re,Qe=Me*t,Ke=0;Ke<Ee.length;Ke++)Oe.frames.push({rect:{x:0,y:0,width:t,height:n},img:new Uint8Array(Ee[Ke]),blend:0,dispose:1,bpp:Math.ceil(Me/8),bpl:Math.ceil(Qe/8)});UPNG.encode.compressPNG(Oe,0,!0);var Ge=UPNG.encode._main(Oe,t,n,Be,Ue);return Ge};UPNG.encode._main=function(Ee,t,n,Ce,Te){Te==null&&(Te={});var Re=UPNG.crc.crc,Be=UPNG._bin.writeUint,Ue=UPNG._bin.writeUshort,Oe=UPNG._bin.writeASCII,Me=8,Qe=Ee.frames.length>1,Ke=!1,Ge=33+(Qe?20:0);if(Te.sRGB!=null&&(Ge+=13),Te.pHYs!=null&&(Ge+=21),Ee.ctype==3){for(var qe=Ee.plte.length,Xe=0;Xe<qe;Xe++)Ee.plte[Xe]>>>24!=255&&(Ke=!0);Ge+=8+qe*3+4+(Ke?8+qe*1+4:0)}for(var tr=0;tr<Ee.frames.length;tr++){var Je=Ee.frames[tr];Qe&&(Ge+=38),Ge+=Je.cimg.length+12,tr!=0&&(Ge+=4)}Ge+=12;for(var Ye=new Uint8Array(Ge),lr=[137,80,78,71,13,10,26,10],Xe=0;Xe<8;Xe++)Ye[Xe]=lr[Xe];if(Be(Ye,Me,13),Me+=4,Oe(Ye,Me,"IHDR"),Me+=4,Be(Ye,Me,t),Me+=4,Be(Ye,Me,n),Me+=4,Ye[Me]=Ee.depth,Me++,Ye[Me]=Ee.ctype,Me++,Ye[Me]=0,Me++,Ye[Me]=0,Me++,Ye[Me]=0,Me++,Be(Ye,Me,Re(Ye,Me-17,17)),Me+=4,Te.sRGB!=null&&(Be(Ye,Me,1),Me+=4,Oe(Ye,Me,"sRGB"),Me+=4,Ye[Me]=Te.sRGB,Me++,Be(Ye,Me,Re(Ye,Me-5,5)),Me+=4),Te.pHYs!=null&&(Be(Ye,Me,9),Me+=4,Oe(Ye,Me,"pHYs"),Me+=4,Be(Ye,Me,Te.pHYs[0]),Me+=4,Be(Ye,Me,Te.pHYs[1]),Me+=4,Ye[Me]=Te.pHYs[2],Me++,Be(Ye,Me,Re(Ye,Me-13,13)),Me+=4),Qe&&(Be(Ye,Me,8),Me+=4,Oe(Ye,Me,"acTL"),Me+=4,Be(Ye,Me,Ee.frames.length),Me+=4,Be(Ye,Me,Te.loop!=null?Te.loop:0),Me+=4,Be(Ye,Me,Re(Ye,Me-12,12)),Me+=4),Ee.ctype==3){var qe=Ee.plte.length;Be(Ye,Me,qe*3),Me+=4,Oe(Ye,Me,"PLTE"),Me+=4;for(var Xe=0;Xe<qe;Xe++){var cr=Xe*3,hr=Ee.plte[Xe],ur=hr&255,fr=hr>>>8&255,er=hr>>>16&255;Ye[Me+cr+0]=ur,Ye[Me+cr+1]=fr,Ye[Me+cr+2]=er}if(Me+=qe*3,Be(Ye,Me,Re(Ye,Me-qe*3-4,qe*3+4)),Me+=4,Ke){Be(Ye,Me,qe),Me+=4,Oe(Ye,Me,"tRNS"),Me+=4;for(var Xe=0;Xe<qe;Xe++)Ye[Me+Xe]=Ee.plte[Xe]>>>24&255;Me+=qe,Be(Ye,Me,Re(Ye,Me-qe-4,qe+4)),Me+=4}}for(var nr=0,tr=0;tr<Ee.frames.length;tr++){var Je=Ee.frames[tr];Qe&&(Be(Ye,Me,26),Me+=4,Oe(Ye,Me,"fcTL"),Me+=4,Be(Ye,Me,nr++),Me+=4,Be(Ye,Me,Je.rect.width),Me+=4,Be(Ye,Me,Je.rect.height),Me+=4,Be(Ye,Me,Je.rect.x),Me+=4,Be(Ye,Me,Je.rect.y),Me+=4,Ue(Ye,Me,Ce[tr]),Me+=2,Ue(Ye,Me,1e3),Me+=2,Ye[Me]=Je.dispose,Me++,Ye[Me]=Je.blend,Me++,Be(Ye,Me,Re(Ye,Me-30,30)),Me+=4);var ir=Je.cimg,qe=ir.length;Be(Ye,Me,qe+(tr==0?0:4)),Me+=4;var mr=Me;Oe(Ye,Me,tr==0?"IDAT":"fdAT"),Me+=4,tr!=0&&(Be(Ye,Me,nr++),Me+=4),Ye.set(ir,Me),Me+=qe,Be(Ye,Me,Re(Ye,mr,Me-mr)),Me+=4}return Be(Ye,Me,0),Me+=4,Oe(Ye,Me,"IEND"),Me+=4,Be(Ye,Me,Re(Ye,Me-4,4)),Me+=4,Ye.buffer};UPNG.encode.compressPNG=function(Ee,t,n){for(var Ce=0;Ce<Ee.frames.length;Ce++){var Te=Ee.frames[Ce];Te.rect.width;var Re=Te.rect.height,Be=new Uint8Array(Re*Te.bpl+Re);Te.cimg=UPNG.encode._filterZero(Te.img,Re,Te.bpp,Te.bpl,Be,t,n)}};UPNG.encode.compress=function(Ee,t,n,Ce,Te){for(var Re=Te[0],Be=Te[1],Ue=Te[2],Oe=Te[3],Me=Te[4],Qe=6,Ke=8,Ge=255,qe=0;qe<Ee.length;qe++)for(var Xe=new Uint8Array(Ee[qe]),tr=Xe.length,Je=0;Je<tr;Je+=4)Ge&=Xe[Je+3];var Ye=Ge!=255,lr=UPNG.encode.framize(Ee,t,n,Re,Be,Ue),cr={},hr=[],ur=[];if(Ce!=0){for(var fr=[],Je=0;Je<lr.length;Je++)fr.push(lr[Je].img.buffer);for(var er=UPNG.encode.concatRGBA(fr),nr=UPNG.quantize(er,Ce),ir=0,mr=new Uint8Array(nr.abuf),Je=0;Je<lr.length;Je++){var $e=lr[Je].img,Ar=$e.length;ur.push(new Uint8Array(nr.inds.buffer,ir>>2,Ar>>2));for(var qe=0;qe<Ar;qe+=4)$e[qe]=mr[ir+qe],$e[qe+1]=mr[ir+qe+1],$e[qe+2]=mr[ir+qe+2],$e[qe+3]=mr[ir+qe+3];ir+=Ar}for(var Je=0;Je<nr.plte.length;Je++)hr.push(nr.plte[Je].est.rgba)}else for(var qe=0;qe<lr.length;qe++){var or=lr[qe],Tr=new Uint32Array(or.img.buffer),Ur=or.rect.width,tr=Tr.length,Fr=new Uint8Array(tr);ur.push(Fr);for(var Je=0;Je<tr;Je++){var Er=Tr[Je];if(Je!=0&&Er==Tr[Je-1])Fr[Je]=Fr[Je-1];else if(Je>Ur&&Er==Tr[Je-Ur])Fr[Je]=Fr[Je-Ur];else{var jr=cr[Er];if(jr==null&&(cr[Er]=jr=hr.length,hr.push(Er),hr.length>=300))break;Fr[Je]=jr}}}var Nr=hr.length;Nr<=256&&Me==!1&&(Nr<=2?Ke=1:Nr<=4?Ke=2:Nr<=16?Ke=4:Ke=8,Ke=Math.max(Ke,Oe));for(var qe=0;qe<lr.length;qe++){var or=lr[qe];or.rect.x,or.rect.y;var Ur=or.rect.width,Br=or.rect.height,Mr=or.img;new Uint32Array(Mr.buffer);var _r=4*Ur,gr=4;if(Nr<=256&&Me==!1){_r=Math.ceil(Ke*Ur/8);for(var yr=new Uint8Array(_r*Br),Rr=ur[qe],Ir=0;Ir<Br;Ir++){var Je=Ir*_r,Qr=Ir*Ur;if(Ke==8)for(var Vr=0;Vr<Ur;Vr++)yr[Je+Vr]=Rr[Qr+Vr];else if(Ke==4)for(var Vr=0;Vr<Ur;Vr++)yr[Je+(Vr>>1)]|=Rr[Qr+Vr]<<4-(Vr&1)*4;else if(Ke==2)for(var Vr=0;Vr<Ur;Vr++)yr[Je+(Vr>>2)]|=Rr[Qr+Vr]<<6-(Vr&3)*2;else if(Ke==1)for(var Vr=0;Vr<Ur;Vr++)yr[Je+(Vr>>3)]|=Rr[Qr+Vr]<<7-(Vr&7)*1}Mr=yr,Qe=3,gr=1}else if(Ye==!1&&lr.length==1){for(var yr=new Uint8Array(Ur*Br*3),Wr=Ur*Br,Je=0;Je<Wr;Je++){var $e=Je*3,mn=Je*4;yr[$e]=Mr[mn],yr[$e+1]=Mr[mn+1],yr[$e+2]=Mr[mn+2]}Mr=yr,Qe=2,gr=3,_r=3*Ur}or.img=Mr,or.bpl=_r,or.bpp=gr}return{ctype:Qe,depth:Ke,plte:hr,frames:lr}};UPNG.encode.framize=function(Ee,t,n,Ce,Te,Re){for(var Be=[],Ue=0;Ue<Ee.length;Ue++){var Oe=new Uint8Array(Ee[Ue]),Me=new Uint32Array(Oe.buffer),Qe,Ke=0,Ge=0,qe=t,Xe=n,tr=Ce?1:0;if(Ue!=0){for(var Je=Re||Ce||Ue==1||Be[Ue-2].dispose!=0?1:2,Ye=0,lr=1e9,cr=0;cr<Je;cr++){for(var or=new Uint8Array(Ee[Ue-1-cr]),hr=new Uint32Array(Ee[Ue-1-cr]),ur=t,fr=n,er=-1,nr=-1,ir=0;ir<n;ir++)for(var mr=0;mr<t;mr++){var $e=ir*t+mr;Me[$e]!=hr[$e]&&(mr<ur&&(ur=mr),mr>er&&(er=mr),ir<fr&&(fr=ir),ir>nr&&(nr=ir))}er==-1&&(ur=fr=er=nr=0),Te&&((ur&1)==1&&ur--,(fr&1)==1&&fr--);var Ar=(er-ur+1)*(nr-fr+1);Ar<lr&&(lr=Ar,Ye=cr,Ke=ur,Ge=fr,qe=er-ur+1,Xe=nr-fr+1)}var or=new Uint8Array(Ee[Ue-1-Ye]);Ye==1&&(Be[Ue-1].dispose=2),Qe=new Uint8Array(qe*Xe*4),UPNG._copyTile(or,t,n,Qe,qe,Xe,-Ke,-Ge,0),tr=UPNG._copyTile(Oe,t,n,Qe,qe,Xe,-Ke,-Ge,3)?1:0,tr==1?UPNG.encode._prepareDiff(Oe,t,n,Qe,{x:Ke,y:Ge,width:qe,height:Xe}):UPNG._copyTile(Oe,t,n,Qe,qe,Xe,-Ke,-Ge,0)}else Qe=Oe.slice(0);Be.push({rect:{x:Ke,y:Ge,width:qe,height:Xe},img:Qe,blend:tr,dispose:0})}if(Ce)for(var Ue=0;Ue<Be.length;Ue++){var Tr=Be[Ue];if(Tr.blend!=1){var Ur=Tr.rect,Fr=Be[Ue-1].rect,Er=Math.min(Ur.x,Fr.x),jr=Math.min(Ur.y,Fr.y),Nr=Math.max(Ur.x+Ur.width,Fr.x+Fr.width),Br=Math.max(Ur.y+Ur.height,Fr.y+Fr.height),Mr={x:Er,y:jr,width:Nr-Er,height:Br-jr};Be[Ue-1].dispose=1,Ue-1!=0&&UPNG.encode._updateFrame(Ee,t,n,Be,Ue-1,Mr,Te),UPNG.encode._updateFrame(Ee,t,n,Be,Ue,Mr,Te)}}var _r=0;if(Ee.length!=1)for(var $e=0;$e<Be.length;$e++){var Tr=Be[$e];_r+=Tr.rect.width*Tr.rect.height}return Be};UPNG.encode._updateFrame=function(Ee,t,n,Ce,Te,Re,Be){for(var Ue=Uint8Array,Oe=Uint32Array,Me=new Ue(Ee[Te-1]),Qe=new Oe(Ee[Te-1]),Ke=Te+1<Ee.length?new Ue(Ee[Te+1]):null,Ge=new Ue(Ee[Te]),qe=new Oe(Ge.buffer),Xe=t,tr=n,Je=-1,Ye=-1,lr=0;lr<Re.height;lr++)for(var cr=0;cr<Re.width;cr++){var hr=Re.x+cr,ur=Re.y+lr,fr=ur*t+hr,er=qe[fr];er==0||Ce[Te-1].dispose==0&&Qe[fr]==er&&(Ke==null||Ke[fr*4+3]!=0)||(hr<Xe&&(Xe=hr),hr>Je&&(Je=hr),ur<tr&&(tr=ur),ur>Ye&&(Ye=ur))}Je==-1&&(Xe=tr=Je=Ye=0),Be&&((Xe&1)==1&&Xe--,(tr&1)==1&&tr--),Re={x:Xe,y:tr,width:Je-Xe+1,height:Ye-tr+1};var nr=Ce[Te];nr.rect=Re,nr.blend=1,nr.img=new Uint8Array(Re.width*Re.height*4),Ce[Te-1].dispose==0?(UPNG._copyTile(Me,t,n,nr.img,Re.width,Re.height,-Re.x,-Re.y,0),UPNG.encode._prepareDiff(Ge,t,n,nr.img,Re)):UPNG._copyTile(Ge,t,n,nr.img,Re.width,Re.height,-Re.x,-Re.y,0)};UPNG.encode._prepareDiff=function(Ee,t,n,Ce,Te){UPNG._copyTile(Ee,t,n,Ce,Te.width,Te.height,-Te.x,-Te.y,2)};UPNG.encode._filterZero=function(Ee,t,n,Ce,Te,Re,Be){var Ue=[],Oe=[0,1,2,3,4];Re!=-1?Oe=[Re]:(t*Ce>5e5||n==1)&&(Oe=[0]);var Me;Be&&(Me={level:0});for(var Qe=Be&&UZIP!=null?UZIP:pako,Ke=0;Ke<Oe.length;Ke++){for(var Ge=0;Ge<t;Ge++)UPNG.encode._filterLine(Te,Ee,Ge,Ce,n,Oe[Ke]);Ue.push(Qe.deflate(Te,Me))}for(var qe,Xe=1e9,Ke=0;Ke<Ue.length;Ke++)Ue[Ke].length<Xe&&(qe=Ke,Xe=Ue[Ke].length);return Ue[qe]};UPNG.encode._filterLine=function(Ee,t,n,Ce,Te,Re){var Be=n*Ce,Ue=Be+n,Oe=UPNG.decode._paeth;if(Ee[Ue]=Re,Ue++,Re==0)if(Ce<500)for(var Me=0;Me<Ce;Me++)Ee[Ue+Me]=t[Be+Me];else Ee.set(new Uint8Array(t.buffer,Be,Ce),Ue);else if(Re==1){for(var Me=0;Me<Te;Me++)Ee[Ue+Me]=t[Be+Me];for(var Me=Te;Me<Ce;Me++)Ee[Ue+Me]=t[Be+Me]-t[Be+Me-Te]+256&255}else if(n==0){for(var Me=0;Me<Te;Me++)Ee[Ue+Me]=t[Be+Me];if(Re==2)for(var Me=Te;Me<Ce;Me++)Ee[Ue+Me]=t[Be+Me];if(Re==3)for(var Me=Te;Me<Ce;Me++)Ee[Ue+Me]=t[Be+Me]-(t[Be+Me-Te]>>1)+256&255;if(Re==4)for(var Me=Te;Me<Ce;Me++)Ee[Ue+Me]=t[Be+Me]-Oe(t[Be+Me-Te],0,0)+256&255}else{if(Re==2)for(var Me=0;Me<Ce;Me++)Ee[Ue+Me]=t[Be+Me]+256-t[Be+Me-Ce]&255;if(Re==3){for(var Me=0;Me<Te;Me++)Ee[Ue+Me]=t[Be+Me]+256-(t[Be+Me-Ce]>>1)&255;for(var Me=Te;Me<Ce;Me++)Ee[Ue+Me]=t[Be+Me]+256-(t[Be+Me-Ce]+t[Be+Me-Te]>>1)&255}if(Re==4){for(var Me=0;Me<Te;Me++)Ee[Ue+Me]=t[Be+Me]+256-Oe(0,t[Be+Me-Ce],0)&255;for(var Me=Te;Me<Ce;Me++)Ee[Ue+Me]=t[Be+Me]+256-Oe(t[Be+Me-Te],t[Be+Me-Ce],t[Be+Me-Te-Ce])&255}}};UPNG.crc={table:(function(){for(var Ee=new Uint32Array(256),t=0;t<256;t++){for(var n=t,Ce=0;Ce<8;Ce++)n&1?n=3988292384^n>>>1:n=n>>>1;Ee[t]=n}return Ee})(),update:function(Ee,t,n,Ce){for(var Te=0;Te<Ce;Te++)Ee=UPNG.crc.table[(Ee^t[n+Te])&255]^Ee>>>8;return Ee},crc:function(Ee,t,n){return UPNG.crc.update(4294967295,Ee,t,n)^4294967295}};UPNG.quantize=function(Ee,t){var n=new Uint8Array(Ee),Ce=n.slice(0),Te=new Uint32Array(Ce.buffer),Re=UPNG.quantize.getKDtree(Ce,t),Be=Re[0],Ue=Re[1];UPNG.quantize.planeDst;for(var Oe=n,Me=Te,Qe=Oe.length,Ke=new Uint8Array(n.length>>2),Ge=0;Ge<Qe;Ge+=4){var qe=Oe[Ge]*.00392156862745098,Xe=Oe[Ge+1]*(1/255),tr=Oe[Ge+2]*(1/255),Je=Oe[Ge+3]*(1/255),Ye=UPNG.quantize.getNearest(Be,qe,Xe,tr,Je);Ke[Ge>>2]=Ye.ind,Me[Ge>>2]=Ye.est.rgba}return{abuf:Ce.buffer,inds:Ke,plte:Ue}};UPNG.quantize.getKDtree=function(Ee,t,n){n==null&&(n=1e-4);var Ce=new Uint32Array(Ee.buffer),Te={i0:0,i1:Ee.length,bst:null,est:null,tdst:0,left:null,right:null};Te.bst=UPNG.quantize.stats(Ee,Te.i0,Te.i1),Te.est=UPNG.quantize.estats(Te.bst);for(var Re=[Te];Re.length<t;){for(var Be=0,Ue=0,Oe=0;Oe<Re.length;Oe++)Re[Oe].est.L>Be&&(Be=Re[Oe].est.L,Ue=Oe);if(Be<n)break;var Me=Re[Ue],Qe=UPNG.quantize.splitPixels(Ee,Ce,Me.i0,Me.i1,Me.est.e,Me.est.eMq255),Ke=Me.i0>=Qe||Me.i1<=Qe;if(Ke){Me.est.L=0;continue}var Ge={i0:Me.i0,i1:Qe,bst:null,est:null,tdst:0,left:null,right:null};Ge.bst=UPNG.quantize.stats(Ee,Ge.i0,Ge.i1),Ge.est=UPNG.quantize.estats(Ge.bst);var qe={i0:Qe,i1:Me.i1,bst:null,est:null,tdst:0,left:null,right:null};qe.bst={R:[],m:[],N:Me.bst.N-Ge.bst.N};for(var Oe=0;Oe<16;Oe++)qe.bst.R[Oe]=Me.bst.R[Oe]-Ge.bst.R[Oe];for(var Oe=0;Oe<4;Oe++)qe.bst.m[Oe]=Me.bst.m[Oe]-Ge.bst.m[Oe];qe.est=UPNG.quantize.estats(qe.bst),Me.left=Ge,Me.right=qe,Re[Ue]=Ge,Re.push(qe)}Re.sort(function(Xe,tr){return tr.bst.N-Xe.bst.N});for(var Oe=0;Oe<Re.length;Oe++)Re[Oe].ind=Oe;return[Te,Re]};UPNG.quantize.getNearest=function(Ee,t,n,Ce,Te){if(Ee.left==null)return Ee.tdst=UPNG.quantize.dist(Ee.est.q,t,n,Ce,Te),Ee;var Re=UPNG.quantize.planeDst(Ee.est,t,n,Ce,Te),Be=Ee.left,Ue=Ee.right;Re>0&&(Be=Ee.right,Ue=Ee.left);var Oe=UPNG.quantize.getNearest(Be,t,n,Ce,Te);if(Oe.tdst<=Re*Re)return Oe;var Me=UPNG.quantize.getNearest(Ue,t,n,Ce,Te);return Me.tdst<Oe.tdst?Me:Oe};UPNG.quantize.planeDst=function(Ee,t,n,Ce,Te){var Re=Ee.e;return Re[0]*t+Re[1]*n+Re[2]*Ce+Re[3]*Te-Ee.eMq};UPNG.quantize.dist=function(Ee,t,n,Ce,Te){var Re=t-Ee[0],Be=n-Ee[1],Ue=Ce-Ee[2],Oe=Te-Ee[3];return Re*Re+Be*Be+Ue*Ue+Oe*Oe};UPNG.quantize.splitPixels=function(Ee,t,n,Ce,Te,Re){var Be=UPNG.quantize.vecDot;for(Ce-=4;n<Ce;){for(;Be(Ee,n,Te)<=Re;)n+=4;for(;Be(Ee,Ce,Te)>Re;)Ce-=4;if(n>=Ce)break;var Ue=t[n>>2];t[n>>2]=t[Ce>>2],t[Ce>>2]=Ue,n+=4,Ce-=4}for(;Be(Ee,n,Te)>Re;)n-=4;return n+4};UPNG.quantize.vecDot=function(Ee,t,n){return Ee[t]*n[0]+Ee[t+1]*n[1]+Ee[t+2]*n[2]+Ee[t+3]*n[3]};UPNG.quantize.stats=function(Ee,t,n){for(var Ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Te=[0,0,0,0],Re=n-t>>2,Be=t;Be<n;Be+=4){var Ue=Ee[Be]*.00392156862745098,Oe=Ee[Be+1]*(1/255),Me=Ee[Be+2]*(1/255),Qe=Ee[Be+3]*(1/255);Te[0]+=Ue,Te[1]+=Oe,Te[2]+=Me,Te[3]+=Qe,Ce[0]+=Ue*Ue,Ce[1]+=Ue*Oe,Ce[2]+=Ue*Me,Ce[3]+=Ue*Qe,Ce[5]+=Oe*Oe,Ce[6]+=Oe*Me,Ce[7]+=Oe*Qe,Ce[10]+=Me*Me,Ce[11]+=Me*Qe,Ce[15]+=Qe*Qe}return Ce[4]=Ce[1],Ce[8]=Ce[2],Ce[9]=Ce[6],Ce[12]=Ce[3],Ce[13]=Ce[7],Ce[14]=Ce[11],{R:Ce,m:Te,N:Re}};UPNG.quantize.estats=function(Ee){var t=Ee.R,n=Ee.m,Ce=Ee.N,Te=n[0],Re=n[1],Be=n[2],Ue=n[3],Oe=Ce==0?0:1/Ce,Me=[t[0]-Te*Te*Oe,t[1]-Te*Re*Oe,t[2]-Te*Be*Oe,t[3]-Te*Ue*Oe,t[4]-Re*Te*Oe,t[5]-Re*Re*Oe,t[6]-Re*Be*Oe,t[7]-Re*Ue*Oe,t[8]-Be*Te*Oe,t[9]-Be*Re*Oe,t[10]-Be*Be*Oe,t[11]-Be*Ue*Oe,t[12]-Ue*Te*Oe,t[13]-Ue*Re*Oe,t[14]-Ue*Be*Oe,t[15]-Ue*Ue*Oe],Qe=Me,Ke=UPNG.M4,Ge=[.5,.5,.5,.5],qe=0,Xe=0;if(Ce!=0)for(var tr=0;tr<10&&(Ge=Ke.multVec(Qe,Ge),Xe=Math.sqrt(Ke.dot(Ge,Ge)),Ge=Ke.sml(1/Xe,Ge),!(Math.abs(Xe-qe)<1e-9));tr++)qe=Xe;var Je=[Te*Oe,Re*Oe,Be*Oe,Ue*Oe],Ye=Ke.dot(Ke.sml(255,Je),Ge);return{Cov:Me,q:Je,e:Ge,L:qe,eMq255:Ye,eMq:Ke.dot(Ge,Je),rgba:(Math.round(255*Je[3])<<24|Math.round(255*Je[2])<<16|Math.round(255*Je[1])<<8|Math.round(255*Je[0])<<0)>>>0}};UPNG.M4={multVec:function(Ee,t){return[Ee[0]*t[0]+Ee[1]*t[1]+Ee[2]*t[2]+Ee[3]*t[3],Ee[4]*t[0]+Ee[5]*t[1]+Ee[6]*t[2]+Ee[7]*t[3],Ee[8]*t[0]+Ee[9]*t[1]+Ee[10]*t[2]+Ee[11]*t[3],Ee[12]*t[0]+Ee[13]*t[1]+Ee[14]*t[2]+Ee[15]*t[3]]},dot:function(Ee,t){return Ee[0]*t[0]+Ee[1]*t[1]+Ee[2]*t[2]+Ee[3]*t[3]},sml:function(Ee,t){return[Ee*t[0],Ee*t[1],Ee*t[2],Ee*t[3]]}};UPNG.encode.concatRGBA=function(Ee){for(var t=0,n=0;n<Ee.length;n++)t+=Ee[n].byteLength;for(var Ce=new Uint8Array(t),Te=0,n=0;n<Ee.length;n++){for(var Re=new Uint8Array(Ee[n]),Be=Re.length,Ue=0;Ue<Be;Ue+=4){var Oe=Re[Ue],Me=Re[Ue+1],Qe=Re[Ue+2],Ke=Re[Ue+3];Ke==0&&(Oe=Me=Qe=0),Ce[Te+Ue]=Oe,Ce[Te+Ue+1]=Me,Ce[Te+Ue+2]=Qe,Ce[Te+Ue+3]=Ke}Te+=Be}return Ce.buffer};var getImageType=function(Ee){if(Ee===0)return PngType.Greyscale;if(Ee===2)return PngType.Truecolour;if(Ee===3)return PngType.IndexedColour;if(Ee===4)return PngType.GreyscaleWithAlpha;if(Ee===6)return PngType.TruecolourWithAlpha;throw new Error("Unknown color type: "+Ee)},splitAlphaChannel=function(Ee){for(var t=Math.floor(Ee.length/4),n=new Uint8Array(t*3),Ce=new Uint8Array(t*1),Te=0,Re=0,Be=0;Te<Ee.length;)n[Re++]=Ee[Te++],n[Re++]=Ee[Te++],n[Re++]=Ee[Te++],Ce[Be++]=Ee[Te++];return{rgbChannel:n,alphaChannel:Ce}},PngType;(function(Ee){Ee.Greyscale="Greyscale",Ee.Truecolour="Truecolour",Ee.IndexedColour="IndexedColour",Ee.GreyscaleWithAlpha="GreyscaleWithAlpha",Ee.TruecolourWithAlpha="TruecolourWithAlpha"})(PngType||(PngType={}));var PNG=(function(){function Ee(t){var n=UPNG.decode(t),Ce=UPNG.toRGBA8(n);if(Ce.length>1)throw new Error("Animated PNGs are not supported");var Te=new Uint8Array(Ce[0]),Re=splitAlphaChannel(Te),Be=Re.rgbChannel,Ue=Re.alphaChannel;this.rgbChannel=Be;var Oe=Ue.some(function(Me){return Me<255});Oe&&(this.alphaChannel=Ue),this.type=getImageType(n.ctype),this.width=n.width,this.height=n.height,this.bitsPerComponent=8}return Ee.load=function(t){return new Ee(t)},Ee})(),PngEmbedder=(function(){function Ee(t){this.image=t,this.bitsPerComponent=t.bitsPerComponent,this.width=t.width,this.height=t.height,this.colorSpace="DeviceRGB"}return Ee.for=function(t){return __awaiter$1(this,void 0,void 0,function(){var n;return __generator(this,function(Ce){return n=PNG.load(t),[2,new Ee(n)]})})},Ee.prototype.embedIntoContext=function(t,n){return __awaiter$1(this,void 0,void 0,function(){var Ce,Te;return __generator(this,function(Re){return Ce=this.embedAlphaChannel(t),Te=t.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:Ce}),n?(t.assign(n,Te),[2,n]):[2,t.register(Te)]})})},Ee.prototype.embedAlphaChannel=function(t){if(this.image.alphaChannel){var n=t.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return t.register(n)}},Ee})(),Stream=(function(){function Ee(t,n,Ce){this.bytes=t,this.start=n||0,this.pos=this.start,this.end=n&&Ce?n+Ce:this.bytes.length}return Object.defineProperty(Ee.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(Ee.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),Ee.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},Ee.prototype.getUint16=function(){var t=this.getByte(),n=this.getByte();return t===-1||n===-1?-1:(t<<8)+n},Ee.prototype.getInt32=function(){var t=this.getByte(),n=this.getByte(),Ce=this.getByte(),Te=this.getByte();return(t<<24)+(n<<16)+(Ce<<8)+Te},Ee.prototype.getBytes=function(t,n){n===void 0&&(n=!1);var Ce=this.bytes,Te=this.pos,Re=this.end;if(t){var Ue=Te+t;Ue>Re&&(Ue=Re),this.pos=Ue;var Be=Ce.subarray(Te,Ue);return n?new Uint8ClampedArray(Be):Be}else{var Be=Ce.subarray(Te,Re);return n?new Uint8ClampedArray(Be):Be}},Ee.prototype.peekByte=function(){var t=this.getByte();return this.pos--,t},Ee.prototype.peekBytes=function(t,n){n===void 0&&(n=!1);var Ce=this.getBytes(t,n);return this.pos-=Ce.length,Ce},Ee.prototype.skip=function(t){t||(t=1),this.pos+=t},Ee.prototype.reset=function(){this.pos=this.start},Ee.prototype.moveStart=function(){this.start=this.pos},Ee.prototype.makeSubStream=function(t,n){return new Ee(this.bytes,t,n)},Ee.prototype.decode=function(){return this.bytes},Ee})(),emptyBuffer=new Uint8Array(0),DecodeStream=(function(){function Ee(t){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=emptyBuffer,this.minBufferLength=512,t)for(;this.minBufferLength<t;)this.minBufferLength*=2}return Object.defineProperty(Ee.prototype,"isEmpty",{get:function(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0},enumerable:!1,configurable:!0}),Ee.prototype.getByte=function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},Ee.prototype.getUint16=function(){var t=this.getByte(),n=this.getByte();return t===-1||n===-1?-1:(t<<8)+n},Ee.prototype.getInt32=function(){var t=this.getByte(),n=this.getByte(),Ce=this.getByte(),Te=this.getByte();return(t<<24)+(n<<16)+(Ce<<8)+Te},Ee.prototype.getBytes=function(t,n){n===void 0&&(n=!1);var Ce,Te=this.pos;if(t){for(this.ensureBuffer(Te+t),Ce=Te+t;!this.eof&&this.bufferLength<Ce;)this.readBlock();var Re=this.bufferLength;Ce>Re&&(Ce=Re)}else{for(;!this.eof;)this.readBlock();Ce=this.bufferLength}this.pos=Ce;var Be=this.buffer.subarray(Te,Ce);return n&&!(Be instanceof Uint8ClampedArray)?new Uint8ClampedArray(Be):Be},Ee.prototype.peekByte=function(){var t=this.getByte();return this.pos--,t},Ee.prototype.peekBytes=function(t,n){n===void 0&&(n=!1);var Ce=this.getBytes(t,n);return this.pos-=Ce.length,Ce},Ee.prototype.skip=function(t){t||(t=1),this.pos+=t},Ee.prototype.reset=function(){this.pos=0},Ee.prototype.makeSubStream=function(t,n){for(var Ce=t+n;this.bufferLength<=Ce&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,n)},Ee.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},Ee.prototype.readBlock=function(){throw new MethodNotImplementedError(this.constructor.name,"readBlock")},Ee.prototype.ensureBuffer=function(t){var n=this.buffer;if(t<=n.byteLength)return n;for(var Ce=this.minBufferLength;Ce<t;)Ce*=2;var Te=new Uint8Array(Ce);return Te.set(n),this.buffer=Te},Ee})(),isSpace=function(Ee){return Ee===32||Ee===9||Ee===13||Ee===10},Ascii85Stream=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=Ee.call(this,Ce)||this;return Te.stream=n,Te.input=new Uint8Array(5),Ce&&(Ce=.8*Ce),Te}return t.prototype.readBlock=function(){for(var n=126,Ce=122,Te=-1,Re=this.stream,Be=Re.getByte();isSpace(Be);)Be=Re.getByte();if(Be===Te||Be===n){this.eof=!0;return}var Ue=this.bufferLength,Oe,Me;if(Be===Ce){for(Oe=this.ensureBuffer(Ue+4),Me=0;Me<4;++Me)Oe[Ue+Me]=0;this.bufferLength+=4}else{var Qe=this.input;for(Qe[0]=Be,Me=1;Me<5;++Me){for(Be=Re.getByte();isSpace(Be);)Be=Re.getByte();if(Qe[Me]=Be,Be===Te||Be===n)break}if(Oe=this.ensureBuffer(Ue+Me-1),this.bufferLength+=Me-1,Me<5){for(;Me<5;++Me)Qe[Me]=117;this.eof=!0}var Ke=0;for(Me=0;Me<5;++Me)Ke=Ke*85+(Qe[Me]-33);for(Me=3;Me>=0;--Me)Oe[Ue+Me]=Ke&255,Ke>>=8}},t})(DecodeStream),AsciiHexStream=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=Ee.call(this,Ce)||this;return Te.stream=n,Te.firstDigit=-1,Ce&&(Ce=.5*Ce),Te}return t.prototype.readBlock=function(){var n=8e3,Ce=this.stream.getBytes(n);if(!Ce.length){this.eof=!0;return}for(var Te=Ce.length+1>>1,Re=this.ensureBuffer(this.bufferLength+Te),Be=this.bufferLength,Ue=this.firstDigit,Oe=0,Me=Ce.length;Oe<Me;Oe++){var Qe=Ce[Oe],Ke=void 0;if(Qe>=48&&Qe<=57)Ke=Qe&15;else if(Qe>=65&&Qe<=70||Qe>=97&&Qe<=102)Ke=(Qe&15)+9;else if(Qe===62){this.eof=!0;break}else continue;Ue<0?Ue=Ke:(Re[Be++]=Ue<<4|Ke,Ue=-1)}Ue>=0&&this.eof&&(Re[Be++]=Ue<<4,Ue=-1),this.firstDigit=Ue,this.bufferLength=Be},t})(DecodeStream),codeLenCodeMap=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lengthDecode=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),distDecode=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),fixedLitCodeTab=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],fixedDistCodeTab=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],FlateStream=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=Ee.call(this,Ce)||this;Te.stream=n;var Re=n.getByte(),Be=n.getByte();if(Re===-1||Be===-1)throw new Error("Invalid header in flate stream: "+Re+", "+Be);if((Re&15)!==8)throw new Error("Unknown compression method in flate stream: "+Re+", "+Be);if(((Re<<8)+Be)%31!==0)throw new Error("Bad FCHECK in flate stream: "+Re+", "+Be);if(Be&32)throw new Error("FDICT bit set in flate stream: "+Re+", "+Be);return Te.codeSize=0,Te.codeBuf=0,Te}return t.prototype.readBlock=function(){var n,Ce,Te=this.stream,Re=this.getBits(3);if(Re&1&&(this.eof=!0),Re>>=1,Re===0){var Be=void 0;if((Be=Te.getByte())===-1)throw new Error("Bad block header in flate stream");var Ue=Be;if((Be=Te.getByte())===-1)throw new Error("Bad block header in flate stream");if(Ue|=Be<<8,(Be=Te.getByte())===-1)throw new Error("Bad block header in flate stream");var Oe=Be;if((Be=Te.getByte())===-1)throw new Error("Bad block header in flate stream");if(Oe|=Be<<8,Oe!==(~Ue&65535)&&(Ue!==0||Oe!==0))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var Me=this.bufferLength;n=this.ensureBuffer(Me+Ue);var Qe=Me+Ue;if(this.bufferLength=Qe,Ue===0)Te.peekByte()===-1&&(this.eof=!0);else for(var Ke=Me;Ke<Qe;++Ke){if((Be=Te.getByte())===-1){this.eof=!0;break}n[Ke]=Be}return}var Ge,qe;if(Re===1)Ge=fixedLitCodeTab,qe=fixedDistCodeTab;else if(Re===2){var Xe=this.getBits(5)+257,tr=this.getBits(5)+1,Je=this.getBits(4)+4,Ye=new Uint8Array(codeLenCodeMap.length),lr=void 0;for(lr=0;lr<Je;++lr)Ye[codeLenCodeMap[lr]]=this.getBits(3);var cr=this.generateHuffmanTable(Ye);Ce=0,lr=0;for(var hr=Xe+tr,ur=new Uint8Array(hr),fr=void 0,er=void 0,nr=void 0;lr<hr;){var ir=this.getCode(cr);if(ir===16)fr=2,er=3,nr=Ce;else if(ir===17)fr=3,er=3,nr=Ce=0;else if(ir===18)fr=7,er=11,nr=Ce=0;else{ur[lr++]=Ce=ir;continue}for(var mr=this.getBits(fr)+er;mr-- >0;)ur[lr++]=nr}Ge=this.generateHuffmanTable(ur.subarray(0,Xe)),qe=this.generateHuffmanTable(ur.subarray(Xe,hr))}else throw new Error("Unknown block type in flate stream");n=this.buffer;for(var $e=n?n.length:0,Ar=this.bufferLength;;){var or=this.getCode(Ge);if(or<256){Ar+1>=$e&&(n=this.ensureBuffer(Ar+1),$e=n.length),n[Ar++]=or;continue}if(or===256){this.bufferLength=Ar;return}or-=257,or=lengthDecode[or];var Tr=or>>16;Tr>0&&(Tr=this.getBits(Tr)),Ce=(or&65535)+Tr,or=this.getCode(qe),or=distDecode[or],Tr=or>>16,Tr>0&&(Tr=this.getBits(Tr));var Ur=(or&65535)+Tr;Ar+Ce>=$e&&(n=this.ensureBuffer(Ar+Ce),$e=n.length);for(var Fr=0;Fr<Ce;++Fr,++Ar)n[Ar]=n[Ar-Ur]}},t.prototype.getBits=function(n){for(var Ce=this.stream,Te=this.codeSize,Re=this.codeBuf,Be;Te<n;){if((Be=Ce.getByte())===-1)throw new Error("Bad encoding in flate stream");Re|=Be<<Te,Te+=8}return Be=Re&(1<<n)-1,this.codeBuf=Re>>n,this.codeSize=Te-=n,Be},t.prototype.getCode=function(n){for(var Ce=this.stream,Te=n[0],Re=n[1],Be=this.codeSize,Ue=this.codeBuf,Oe;Be<Re&&(Oe=Ce.getByte())!==-1;)Ue|=Oe<<Be,Be+=8;var Me=Te[Ue&(1<<Re)-1];typeof Te=="number"&&console.log("FLATE:",Me);var Qe=Me>>16,Ke=Me&65535;if(Qe<1||Be<Qe)throw new Error("Bad encoding in flate stream");return this.codeBuf=Ue>>Qe,this.codeSize=Be-Qe,Ke},t.prototype.generateHuffmanTable=function(n){var Ce=n.length,Te=0,Re;for(Re=0;Re<Ce;++Re)n[Re]>Te&&(Te=n[Re]);for(var Be=1<<Te,Ue=new Int32Array(Be),Oe=1,Me=0,Qe=2;Oe<=Te;++Oe,Me<<=1,Qe<<=1)for(var Ke=0;Ke<Ce;++Ke)if(n[Ke]===Oe){var Ge=0,qe=Me;for(Re=0;Re<Oe;++Re)Ge=Ge<<1|qe&1,qe>>=1;for(Re=Ge;Re<Be;Re+=Qe)Ue[Re]=Oe<<16|Ke;++Me}return[Ue,Te]},t})(DecodeStream),LZWStream=(function(Ee){__extends(t,Ee);function t(n,Ce,Te){var Re=Ee.call(this,Ce)||this;Re.stream=n,Re.cachedData=0,Re.bitsCached=0;for(var Be=4096,Ue={earlyChange:Te,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(Be),dictionaryLengths:new Uint16Array(Be),dictionaryPrevCodes:new Uint16Array(Be),currentSequence:new Uint8Array(Be),currentSequenceLength:0},Oe=0;Oe<256;++Oe)Ue.dictionaryValues[Oe]=Oe,Ue.dictionaryLengths[Oe]=1;return Re.lzwState=Ue,Re}return t.prototype.readBlock=function(){var n=512,Ce=n*2,Te=n,Re,Be,Ue,Oe=this.lzwState;if(Oe){var Me=Oe.earlyChange,Qe=Oe.nextCode,Ke=Oe.dictionaryValues,Ge=Oe.dictionaryLengths,qe=Oe.dictionaryPrevCodes,Xe=Oe.codeLength,tr=Oe.prevCode,Je=Oe.currentSequence,Ye=Oe.currentSequenceLength,lr=0,cr=this.bufferLength,hr=this.ensureBuffer(this.bufferLength+Ce);for(Re=0;Re<n;Re++){var ur=this.readBits(Xe),fr=Ye>0;if(!ur||ur<256)Je[0]=ur,Ye=1;else if(ur>=258)if(ur<Qe)for(Ye=Ge[ur],Be=Ye-1,Ue=ur;Be>=0;Be--)Je[Be]=Ke[Ue],Ue=qe[Ue];else Je[Ye++]=Je[0];else if(ur===256){Xe=9,Qe=258,Ye=0;continue}else{this.eof=!0,delete this.lzwState;break}if(fr&&(qe[Qe]=tr,Ge[Qe]=Ge[tr]+1,Ke[Qe]=Je[0],Qe++,Xe=Qe+Me&Qe+Me-1?Xe:Math.min(Math.log(Qe+Me)/.6931471805599453+1,12)|0),tr=ur,lr+=Ye,Ce<lr){do Ce+=Te;while(Ce<lr);hr=this.ensureBuffer(this.bufferLength+Ce)}for(Be=0;Be<Ye;Be++)hr[cr++]=Je[Be]}Oe.nextCode=Qe,Oe.codeLength=Xe,Oe.prevCode=tr,Oe.currentSequenceLength=Ye,this.bufferLength=cr}},t.prototype.readBits=function(n){for(var Ce=this.bitsCached,Te=this.cachedData;Ce<n;){var Re=this.stream.getByte();if(Re===-1)return this.eof=!0,null;Te=Te<<8|Re,Ce+=8}return this.bitsCached=Ce-=n,this.cachedData=Te,Te>>>Ce&(1<<n)-1},t})(DecodeStream),RunLengthStream=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=Ee.call(this,Ce)||this;return Te.stream=n,Te}return t.prototype.readBlock=function(){var n=this.stream.getBytes(2);if(!n||n.length<2||n[0]===128){this.eof=!0;return}var Ce,Te=this.bufferLength,Re=n[0];if(Re<128){if(Ce=this.ensureBuffer(Te+Re+1),Ce[Te++]=n[1],Re>0){var Be=this.stream.getBytes(Re);Ce.set(Be,Te),Te+=Re}}else{Re=257-Re;var Ue=n[1];Ce=this.ensureBuffer(Te+Re+1);for(var Oe=0;Oe<Re;Oe++)Ce[Te++]=Ue}this.bufferLength=Te},t})(DecodeStream),decodeStream=function(Ee,t,n){if(t===PDFName.of("FlateDecode"))return new FlateStream(Ee);if(t===PDFName.of("LZWDecode")){var Ce=1;if(n instanceof PDFDict){var Te=n.lookup(PDFName.of("EarlyChange"));Te instanceof PDFNumber&&(Ce=Te.asNumber())}return new LZWStream(Ee,void 0,Ce)}if(t===PDFName.of("ASCII85Decode"))return new Ascii85Stream(Ee);if(t===PDFName.of("ASCIIHexDecode"))return new AsciiHexStream(Ee);if(t===PDFName.of("RunLengthDecode"))return new RunLengthStream(Ee);throw new UnsupportedEncodingError(t.asString())},decodePDFRawStream=function(Ee){var t=Ee.dict,n=Ee.contents,Ce=new Stream(n),Te=t.lookup(PDFName.of("Filter")),Re=t.lookup(PDFName.of("DecodeParms"));if(Te instanceof PDFName)Ce=decodeStream(Ce,Te,Re);else if(Te instanceof PDFArray)for(var Be=0,Ue=Te.size();Be<Ue;Be++)Ce=decodeStream(Ce,Te.lookup(Be,PDFName),Re&&Re.lookupMaybe(Be,PDFDict));else if(Te)throw new UnexpectedObjectTypeError([PDFName,PDFArray],Te);return Ce},fullPageBoundingBox=function(Ee){var t=Ee.MediaBox(),n=t.lookup(2,PDFNumber).asNumber()-t.lookup(0,PDFNumber).asNumber(),Ce=t.lookup(3,PDFNumber).asNumber()-t.lookup(1,PDFNumber).asNumber();return{left:0,bottom:0,right:n,top:Ce}},boundingBoxAdjustedMatrix=function(Ee){return[1,0,0,1,-Ee.left,-Ee.bottom]},PDFPageEmbedder=(function(){function Ee(t,n,Ce){this.page=t;var Te=n??fullPageBoundingBox(t);this.width=Te.right-Te.left,this.height=Te.top-Te.bottom,this.boundingBox=Te,this.transformationMatrix=Ce??boundingBoxAdjustedMatrix(Te)}return Ee.for=function(t,n,Ce){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(Te){return[2,new Ee(t,n,Ce)]})})},Ee.prototype.embedIntoContext=function(t,n){return __awaiter$1(this,void 0,void 0,function(){var Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke,Ge;return __generator(this,function(qe){if(Ce=this.page.normalizedEntries(),Te=Ce.Contents,Re=Ce.Resources,!Te)throw new MissingPageContentsEmbeddingError;return Be=this.decodeContents(Te),Ue=this.boundingBox,Oe=Ue.left,Me=Ue.bottom,Qe=Ue.right,Ke=Ue.top,Ge=t.flateStream(Be,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[Oe,Me,Qe,Ke],Matrix:this.transformationMatrix,Resources:Re}),n?(t.assign(n,Ge),[2,n]):[2,t.register(Ge)]})})},Ee.prototype.decodeContents=function(t){for(var n=Uint8Array.of(CharCodes$1.Newline),Ce=[],Te=0,Re=t.size();Te<Re;Te++){var Be=t.lookup(Te,PDFStream),Ue=void 0;if(Be instanceof PDFRawStream)Ue=decodePDFRawStream(Be).decode();else if(Be instanceof PDFContentStream)Ue=Be.getUnencodedContents();else throw new UnrecognizedStreamTypeError(Be);Ce.push(Ue,n)}return mergeIntoTypedArray.apply(void 0,Ce)},Ee})(),asEnum=function(Ee,t){if(Ee!==void 0)return t[Ee]},NonFullScreenPageMode;(function(Ee){Ee.UseNone="UseNone",Ee.UseOutlines="UseOutlines",Ee.UseThumbs="UseThumbs",Ee.UseOC="UseOC"})(NonFullScreenPageMode||(NonFullScreenPageMode={}));var ReadingDirection;(function(Ee){Ee.L2R="L2R",Ee.R2L="R2L"})(ReadingDirection||(ReadingDirection={}));var PrintScaling;(function(Ee){Ee.None="None",Ee.AppDefault="AppDefault"})(PrintScaling||(PrintScaling={}));var Duplex;(function(Ee){Ee.Simplex="Simplex",Ee.DuplexFlipShortEdge="DuplexFlipShortEdge",Ee.DuplexFlipLongEdge="DuplexFlipLongEdge"})(Duplex||(Duplex={}));var ViewerPreferences=(function(){function Ee(t){this.dict=t}return Ee.prototype.lookupBool=function(t){var n=this.dict.lookup(PDFName.of(t));if(n instanceof PDFBool)return n},Ee.prototype.lookupName=function(t){var n=this.dict.lookup(PDFName.of(t));if(n instanceof PDFName)return n},Ee.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},Ee.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},Ee.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},Ee.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},Ee.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},Ee.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},Ee.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},Ee.prototype.Direction=function(){return this.lookupName("Direction")},Ee.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},Ee.prototype.Duplex=function(){return this.lookupName("Duplex")},Ee.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},Ee.prototype.PrintPageRange=function(){var t=this.dict.lookup(PDFName.of("PrintPageRange"));if(t instanceof PDFArray)return t},Ee.prototype.NumCopies=function(){var t=this.dict.lookup(PDFName.of("NumCopies"));if(t instanceof PDFNumber)return t},Ee.prototype.getHideToolbar=function(){var t,n;return(n=(t=this.HideToolbar())===null||t===void 0?void 0:t.asBoolean())!==null&&n!==void 0?n:!1},Ee.prototype.getHideMenubar=function(){var t,n;return(n=(t=this.HideMenubar())===null||t===void 0?void 0:t.asBoolean())!==null&&n!==void 0?n:!1},Ee.prototype.getHideWindowUI=function(){var t,n;return(n=(t=this.HideWindowUI())===null||t===void 0?void 0:t.asBoolean())!==null&&n!==void 0?n:!1},Ee.prototype.getFitWindow=function(){var t,n;return(n=(t=this.FitWindow())===null||t===void 0?void 0:t.asBoolean())!==null&&n!==void 0?n:!1},Ee.prototype.getCenterWindow=function(){var t,n;return(n=(t=this.CenterWindow())===null||t===void 0?void 0:t.asBoolean())!==null&&n!==void 0?n:!1},Ee.prototype.getDisplayDocTitle=function(){var t,n;return(n=(t=this.DisplayDocTitle())===null||t===void 0?void 0:t.asBoolean())!==null&&n!==void 0?n:!1},Ee.prototype.getNonFullScreenPageMode=function(){var t,n,Ce=(t=this.NonFullScreenPageMode())===null||t===void 0?void 0:t.decodeText();return(n=asEnum(Ce,NonFullScreenPageMode))!==null&&n!==void 0?n:NonFullScreenPageMode.UseNone},Ee.prototype.getReadingDirection=function(){var t,n,Ce=(t=this.Direction())===null||t===void 0?void 0:t.decodeText();return(n=asEnum(Ce,ReadingDirection))!==null&&n!==void 0?n:ReadingDirection.L2R},Ee.prototype.getPrintScaling=function(){var t,n,Ce=(t=this.PrintScaling())===null||t===void 0?void 0:t.decodeText();return(n=asEnum(Ce,PrintScaling))!==null&&n!==void 0?n:PrintScaling.AppDefault},Ee.prototype.getDuplex=function(){var t,n=(t=this.Duplex())===null||t===void 0?void 0:t.decodeText();return asEnum(n,Duplex)},Ee.prototype.getPickTrayByPDFSize=function(){var t;return(t=this.PickTrayByPDFSize())===null||t===void 0?void 0:t.asBoolean()},Ee.prototype.getPrintPageRange=function(){var t=this.PrintPageRange();if(!t)return[];for(var n=[],Ce=0;Ce<t.size();Ce+=2){var Te=t.lookup(Ce,PDFNumber).asNumber(),Re=t.lookup(Ce+1,PDFNumber).asNumber();n.push({start:Te,end:Re})}return n},Ee.prototype.getNumCopies=function(){var t,n;return(n=(t=this.NumCopies())===null||t===void 0?void 0:t.asNumber())!==null&&n!==void 0?n:1},Ee.prototype.setHideToolbar=function(t){var n=this.dict.context.obj(t);this.dict.set(PDFName.of("HideToolbar"),n)},Ee.prototype.setHideMenubar=function(t){var n=this.dict.context.obj(t);this.dict.set(PDFName.of("HideMenubar"),n)},Ee.prototype.setHideWindowUI=function(t){var n=this.dict.context.obj(t);this.dict.set(PDFName.of("HideWindowUI"),n)},Ee.prototype.setFitWindow=function(t){var n=this.dict.context.obj(t);this.dict.set(PDFName.of("FitWindow"),n)},Ee.prototype.setCenterWindow=function(t){var n=this.dict.context.obj(t);this.dict.set(PDFName.of("CenterWindow"),n)},Ee.prototype.setDisplayDocTitle=function(t){var n=this.dict.context.obj(t);this.dict.set(PDFName.of("DisplayDocTitle"),n)},Ee.prototype.setNonFullScreenPageMode=function(t){assertIsOneOf(t,"nonFullScreenPageMode",NonFullScreenPageMode);var n=PDFName.of(t);this.dict.set(PDFName.of("NonFullScreenPageMode"),n)},Ee.prototype.setReadingDirection=function(t){assertIsOneOf(t,"readingDirection",ReadingDirection);var n=PDFName.of(t);this.dict.set(PDFName.of("Direction"),n)},Ee.prototype.setPrintScaling=function(t){assertIsOneOf(t,"printScaling",PrintScaling);var n=PDFName.of(t);this.dict.set(PDFName.of("PrintScaling"),n)},Ee.prototype.setDuplex=function(t){assertIsOneOf(t,"duplex",Duplex);var n=PDFName.of(t);this.dict.set(PDFName.of("Duplex"),n)},Ee.prototype.setPickTrayByPDFSize=function(t){var n=this.dict.context.obj(t);this.dict.set(PDFName.of("PickTrayByPDFSize"),n)},Ee.prototype.setPrintPageRange=function(t){Array.isArray(t)||(t=[t]);for(var n=[],Ce=0,Te=t.length;Ce<Te;Ce++)n.push(t[Ce].start),n.push(t[Ce].end);assertEachIs(n,"printPageRange",["number"]);var Re=this.dict.context.obj(n);this.dict.set(PDFName.of("PrintPageRange"),Re)},Ee.prototype.setNumCopies=function(t){assertRange(t,"numCopies",1,Number.MAX_VALUE),assertInteger(t,"numCopies");var n=this.dict.context.obj(t);this.dict.set(PDFName.of("NumCopies"),n)},Ee.fromDict=function(t){return new Ee(t)},Ee.create=function(t){var n=t.obj({});return new Ee(n)},Ee})(),tfRegex$1=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,PDFAcroField=(function(){function Ee(t,n){this.dict=t,this.ref=n}return Ee.prototype.T=function(){return this.dict.lookupMaybe(PDFName.of("T"),PDFString,PDFHexString)},Ee.prototype.Ff=function(){var t=this.getInheritableAttribute(PDFName.of("Ff"));return this.dict.context.lookupMaybe(t,PDFNumber)},Ee.prototype.V=function(){var t=this.getInheritableAttribute(PDFName.of("V"));return this.dict.context.lookup(t)},Ee.prototype.Kids=function(){return this.dict.lookupMaybe(PDFName.of("Kids"),PDFArray)},Ee.prototype.DA=function(){var t=this.dict.lookup(PDFName.of("DA"));if(t instanceof PDFString||t instanceof PDFHexString)return t},Ee.prototype.setKids=function(t){this.dict.set(PDFName.of("Kids"),this.dict.context.obj(t))},Ee.prototype.getParent=function(){var t=this.dict.get(PDFName.of("Parent"));if(t instanceof PDFRef){var n=this.dict.lookup(PDFName.of("Parent"),PDFDict);return new Ee(n,t)}},Ee.prototype.setParent=function(t){t?this.dict.set(PDFName.of("Parent"),t):this.dict.delete(PDFName.of("Parent"))},Ee.prototype.getFullyQualifiedName=function(){var t=this.getParent();return t?t.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},Ee.prototype.getPartialName=function(){var t;return(t=this.T())===null||t===void 0?void 0:t.decodeText()},Ee.prototype.setPartialName=function(t){t?this.dict.set(PDFName.of("T"),PDFHexString.fromText(t)):this.dict.delete(PDFName.of("T"))},Ee.prototype.setDefaultAppearance=function(t){this.dict.set(PDFName.of("DA"),PDFString.of(t))},Ee.prototype.getDefaultAppearance=function(){var t=this.DA();return t instanceof PDFHexString?t.decodeText():t==null?void 0:t.asString()},Ee.prototype.setFontSize=function(t){var n,Ce=(n=this.getFullyQualifiedName())!==null&&n!==void 0?n:"",Te=this.getDefaultAppearance();if(!Te)throw new MissingDAEntryError(Ce);var Re=findLastMatch(Te,tfRegex$1);if(!Re.match)throw new MissingTfOperatorError(Ce);var Be=Te.slice(0,Re.pos-Re.match[0].length),Ue=Re.pos<=Te.length?Te.slice(Re.pos):"",Oe=Re.match[1],Me=Be+" /"+Oe+" "+t+" Tf "+Ue;this.setDefaultAppearance(Me)},Ee.prototype.getFlags=function(){var t,n;return(n=(t=this.Ff())===null||t===void 0?void 0:t.asNumber())!==null&&n!==void 0?n:0},Ee.prototype.setFlags=function(t){this.dict.set(PDFName.of("Ff"),PDFNumber.of(t))},Ee.prototype.hasFlag=function(t){var n=this.getFlags();return(n&t)!==0},Ee.prototype.setFlag=function(t){var n=this.getFlags();this.setFlags(n|t)},Ee.prototype.clearFlag=function(t){var n=this.getFlags();this.setFlags(n&~t)},Ee.prototype.setFlagTo=function(t,n){n?this.setFlag(t):this.clearFlag(t)},Ee.prototype.getInheritableAttribute=function(t){var n;return this.ascend(function(Ce){n||(n=Ce.dict.get(t))}),n},Ee.prototype.ascend=function(t){t(this);var n=this.getParent();n&&n.ascend(t)},Ee})(),BorderStyle=(function(){function Ee(t){this.dict=t}return Ee.prototype.W=function(){var t=this.dict.lookup(PDFName.of("W"));if(t instanceof PDFNumber)return t},Ee.prototype.getWidth=function(){var t,n;return(n=(t=this.W())===null||t===void 0?void 0:t.asNumber())!==null&&n!==void 0?n:1},Ee.prototype.setWidth=function(t){var n=this.dict.context.obj(t);this.dict.set(PDFName.of("W"),n)},Ee.fromDict=function(t){return new Ee(t)},Ee})(),PDFAnnotation=(function(){function Ee(t){this.dict=t}return Ee.prototype.Rect=function(){return this.dict.lookup(PDFName.of("Rect"),PDFArray)},Ee.prototype.AP=function(){return this.dict.lookupMaybe(PDFName.of("AP"),PDFDict)},Ee.prototype.F=function(){var t=this.dict.lookup(PDFName.of("F"));return this.dict.context.lookupMaybe(t,PDFNumber)},Ee.prototype.getRectangle=function(){var t,n=this.Rect();return(t=n==null?void 0:n.asRectangle())!==null&&t!==void 0?t:{x:0,y:0,width:0,height:0}},Ee.prototype.setRectangle=function(t){var n=t.x,Ce=t.y,Te=t.width,Re=t.height,Be=this.dict.context.obj([n,Ce,n+Te,Ce+Re]);this.dict.set(PDFName.of("Rect"),Be)},Ee.prototype.getAppearanceState=function(){var t=this.dict.lookup(PDFName.of("AS"));if(t instanceof PDFName)return t},Ee.prototype.setAppearanceState=function(t){this.dict.set(PDFName.of("AS"),t)},Ee.prototype.setAppearances=function(t){this.dict.set(PDFName.of("AP"),t)},Ee.prototype.ensureAP=function(){var t=this.AP();return t||(t=this.dict.context.obj({}),this.dict.set(PDFName.of("AP"),t)),t},Ee.prototype.getNormalAppearance=function(){var t=this.ensureAP(),n=t.get(PDFName.of("N"));if(n instanceof PDFRef||n instanceof PDFDict)return n;throw new Error("Unexpected N type: "+(n==null?void 0:n.constructor.name))},Ee.prototype.setNormalAppearance=function(t){var n=this.ensureAP();n.set(PDFName.of("N"),t)},Ee.prototype.setRolloverAppearance=function(t){var n=this.ensureAP();n.set(PDFName.of("R"),t)},Ee.prototype.setDownAppearance=function(t){var n=this.ensureAP();n.set(PDFName.of("D"),t)},Ee.prototype.removeRolloverAppearance=function(){var t=this.AP();t==null||t.delete(PDFName.of("R"))},Ee.prototype.removeDownAppearance=function(){var t=this.AP();t==null||t.delete(PDFName.of("D"))},Ee.prototype.getAppearances=function(){var t=this.AP();if(t){var n=t.lookup(PDFName.of("N"),PDFDict,PDFStream),Ce=t.lookupMaybe(PDFName.of("R"),PDFDict,PDFStream),Te=t.lookupMaybe(PDFName.of("D"),PDFDict,PDFStream);return{normal:n,rollover:Ce,down:Te}}},Ee.prototype.getFlags=function(){var t,n;return(n=(t=this.F())===null||t===void 0?void 0:t.asNumber())!==null&&n!==void 0?n:0},Ee.prototype.setFlags=function(t){this.dict.set(PDFName.of("F"),PDFNumber.of(t))},Ee.prototype.hasFlag=function(t){var n=this.getFlags();return(n&t)!==0},Ee.prototype.setFlag=function(t){var n=this.getFlags();this.setFlags(n|t)},Ee.prototype.clearFlag=function(t){var n=this.getFlags();this.setFlags(n&~t)},Ee.prototype.setFlagTo=function(t,n){n?this.setFlag(t):this.clearFlag(t)},Ee.fromDict=function(t){return new Ee(t)},Ee})(),AppearanceCharacteristics=(function(){function Ee(t){this.dict=t}return Ee.prototype.R=function(){var t=this.dict.lookup(PDFName.of("R"));if(t instanceof PDFNumber)return t},Ee.prototype.BC=function(){var t=this.dict.lookup(PDFName.of("BC"));if(t instanceof PDFArray)return t},Ee.prototype.BG=function(){var t=this.dict.lookup(PDFName.of("BG"));if(t instanceof PDFArray)return t},Ee.prototype.CA=function(){var t=this.dict.lookup(PDFName.of("CA"));if(t instanceof PDFHexString||t instanceof PDFString)return t},Ee.prototype.RC=function(){var t=this.dict.lookup(PDFName.of("RC"));if(t instanceof PDFHexString||t instanceof PDFString)return t},Ee.prototype.AC=function(){var t=this.dict.lookup(PDFName.of("AC"));if(t instanceof PDFHexString||t instanceof PDFString)return t},Ee.prototype.getRotation=function(){var t;return(t=this.R())===null||t===void 0?void 0:t.asNumber()},Ee.prototype.getBorderColor=function(){var t=this.BC();if(t){for(var n=[],Ce=0,Te=t==null?void 0:t.size();Ce<Te;Ce++){var Re=t.get(Ce);Re instanceof PDFNumber&&n.push(Re.asNumber())}return n}},Ee.prototype.getBackgroundColor=function(){var t=this.BG();if(t){for(var n=[],Ce=0,Te=t==null?void 0:t.size();Ce<Te;Ce++){var Re=t.get(Ce);Re instanceof PDFNumber&&n.push(Re.asNumber())}return n}},Ee.prototype.getCaptions=function(){var t=this.CA(),n=this.RC(),Ce=this.AC();return{normal:t==null?void 0:t.decodeText(),rollover:n==null?void 0:n.decodeText(),down:Ce==null?void 0:Ce.decodeText()}},Ee.prototype.setRotation=function(t){var n=this.dict.context.obj(t);this.dict.set(PDFName.of("R"),n)},Ee.prototype.setBorderColor=function(t){var n=this.dict.context.obj(t);this.dict.set(PDFName.of("BC"),n)},Ee.prototype.setBackgroundColor=function(t){var n=this.dict.context.obj(t);this.dict.set(PDFName.of("BG"),n)},Ee.prototype.setCaptions=function(t){var n=PDFHexString.fromText(t.normal);if(this.dict.set(PDFName.of("CA"),n),t.rollover){var Ce=PDFHexString.fromText(t.rollover);this.dict.set(PDFName.of("RC"),Ce)}else this.dict.delete(PDFName.of("RC"));if(t.down){var Te=PDFHexString.fromText(t.down);this.dict.set(PDFName.of("AC"),Te)}else this.dict.delete(PDFName.of("AC"))},Ee.fromDict=function(t){return new Ee(t)},Ee})(),PDFWidgetAnnotation=(function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.MK=function(){var n=this.dict.lookup(PDFName.of("MK"));if(n instanceof PDFDict)return n},t.prototype.BS=function(){var n=this.dict.lookup(PDFName.of("BS"));if(n instanceof PDFDict)return n},t.prototype.DA=function(){var n=this.dict.lookup(PDFName.of("DA"));if(n instanceof PDFString||n instanceof PDFHexString)return n},t.prototype.P=function(){var n=this.dict.get(PDFName.of("P"));if(n instanceof PDFRef)return n},t.prototype.setP=function(n){this.dict.set(PDFName.of("P"),n)},t.prototype.setDefaultAppearance=function(n){this.dict.set(PDFName.of("DA"),PDFString.of(n))},t.prototype.getDefaultAppearance=function(){var n=this.DA();return n instanceof PDFHexString?n.decodeText():n==null?void 0:n.asString()},t.prototype.getAppearanceCharacteristics=function(){var n=this.MK();if(n)return AppearanceCharacteristics.fromDict(n)},t.prototype.getOrCreateAppearanceCharacteristics=function(){var n=this.MK();if(n)return AppearanceCharacteristics.fromDict(n);var Ce=AppearanceCharacteristics.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("MK"),Ce.dict),Ce},t.prototype.getBorderStyle=function(){var n=this.BS();if(n)return BorderStyle.fromDict(n)},t.prototype.getOrCreateBorderStyle=function(){var n=this.BS();if(n)return BorderStyle.fromDict(n);var Ce=BorderStyle.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("BS"),Ce.dict),Ce},t.prototype.getOnValue=function(){var n,Ce=(n=this.getAppearances())===null||n===void 0?void 0:n.normal;if(Ce instanceof PDFDict)for(var Te=Ce.keys(),Re=0,Be=Te.length;Re<Be;Re++){var Ue=Te[Re];if(Ue!==PDFName.of("Off"))return Ue}},t.fromDict=function(n){return new t(n)},t.create=function(n,Ce){var Te=n.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:Ce});return new t(Te)},t})(PDFAnnotation),PDFAcroTerminal=(function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.FT=function(){var n=this.getInheritableAttribute(PDFName.of("FT"));return this.dict.context.lookup(n,PDFName)},t.prototype.getWidgets=function(){var n=this.Kids();if(!n)return[PDFWidgetAnnotation.fromDict(this.dict)];for(var Ce=new Array(n.size()),Te=0,Re=n.size();Te<Re;Te++){var Be=n.lookup(Te,PDFDict);Ce[Te]=PDFWidgetAnnotation.fromDict(Be)}return Ce},t.prototype.addWidget=function(n){var Ce=this.normalizedEntries().Kids;Ce.push(n)},t.prototype.removeWidget=function(n){var Ce=this.Kids();if(Ce){if(n<0||n>Ce.size())throw new IndexOutOfBoundsError(n,0,Ce.size());Ce.remove(n)}else{if(n!==0)throw new IndexOutOfBoundsError(n,0,0);this.setKids([])}},t.prototype.normalizedEntries=function(){var n=this.Kids();return n||(n=this.dict.context.obj([this.ref]),this.dict.set(PDFName.of("Kids"),n)),{Kids:n}},t.fromDict=function(n,Ce){return new t(n,Ce)},t})(PDFAcroField),PDFAcroButton=(function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},t.prototype.setOpt=function(n){this.dict.set(PDFName.of("Opt"),this.dict.context.obj(n))},t.prototype.getExportValues=function(){var n=this.Opt();if(n){if(n instanceof PDFString||n instanceof PDFHexString)return[n];for(var Ce=[],Te=0,Re=n.size();Te<Re;Te++){var Be=n.lookup(Te);(Be instanceof PDFString||Be instanceof PDFHexString)&&Ce.push(Be)}return Ce}},t.prototype.removeExportValue=function(n){var Ce=this.Opt();if(Ce)if(Ce instanceof PDFString||Ce instanceof PDFHexString){if(n!==0)throw new IndexOutOfBoundsError(n,0,0);this.setOpt([])}else{if(n<0||n>Ce.size())throw new IndexOutOfBoundsError(n,0,Ce.size());Ce.remove(n)}},t.prototype.normalizeExportValues=function(){for(var n,Ce,Te,Re,Be=(n=this.getExportValues())!==null&&n!==void 0?n:[],Ue=[],Oe=this.getWidgets(),Me=0,Qe=Oe.length;Me<Qe;Me++){var Ke=Oe[Me],Ge=(Ce=Be[Me])!==null&&Ce!==void 0?Ce:PDFHexString.fromText((Re=(Te=Ke.getOnValue())===null||Te===void 0?void 0:Te.decodeText())!==null&&Re!==void 0?Re:"");Ue.push(Ge)}this.setOpt(Ue)},t.prototype.addOpt=function(n,Ce){var Te;this.normalizeExportValues();var Re=n.decodeText(),Be;if(Ce)for(var Ue=(Te=this.getExportValues())!==null&&Te!==void 0?Te:[],Oe=0,Me=Ue.length;Oe<Me;Oe++){var Qe=Ue[Oe];Qe.decodeText()===Re&&(Be=Oe)}var Ke=this.Opt();return Ke.push(n),Be??Ke.size()-1},t.prototype.addWidgetWithOpt=function(n,Ce,Te){var Re=this.addOpt(Ce,Te),Be=PDFName.of(String(Re));return this.addWidget(n),Be},t})(PDFAcroTerminal),PDFAcroCheckBox=(function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.setValue=function(n){var Ce,Te=(Ce=this.getOnValue())!==null&&Ce!==void 0?Ce:PDFName.of("Yes");if(n!==Te&&n!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),n);for(var Re=this.getWidgets(),Be=0,Ue=Re.length;Be<Ue;Be++){var Oe=Re[Be],Me=Oe.getOnValue()===n?n:PDFName.of("Off");Oe.setAppearanceState(Me)}},t.prototype.getValue=function(){var n=this.V();return n instanceof PDFName?n:PDFName.of("Off")},t.prototype.getOnValue=function(){var n=this.getWidgets()[0];return n==null?void 0:n.getOnValue()},t.fromDict=function(n,Ce){return new t(n,Ce)},t.create=function(n){var Ce=n.obj({FT:"Btn",Kids:[]}),Te=n.register(Ce);return new t(Ce,Te)},t})(PDFAcroButton),flag$1=function(Ee){return 1<<Ee},AcroFieldFlags;(function(Ee){Ee[Ee.ReadOnly=flag$1(0)]="ReadOnly",Ee[Ee.Required=flag$1(1)]="Required",Ee[Ee.NoExport=flag$1(2)]="NoExport"})(AcroFieldFlags||(AcroFieldFlags={}));var AcroButtonFlags;(function(Ee){Ee[Ee.NoToggleToOff=flag$1(14)]="NoToggleToOff",Ee[Ee.Radio=flag$1(15)]="Radio",Ee[Ee.PushButton=flag$1(16)]="PushButton",Ee[Ee.RadiosInUnison=flag$1(25)]="RadiosInUnison"})(AcroButtonFlags||(AcroButtonFlags={}));var AcroTextFlags;(function(Ee){Ee[Ee.Multiline=flag$1(12)]="Multiline",Ee[Ee.Password=flag$1(13)]="Password",Ee[Ee.FileSelect=flag$1(20)]="FileSelect",Ee[Ee.DoNotSpellCheck=flag$1(22)]="DoNotSpellCheck",Ee[Ee.DoNotScroll=flag$1(23)]="DoNotScroll",Ee[Ee.Comb=flag$1(24)]="Comb",Ee[Ee.RichText=flag$1(25)]="RichText"})(AcroTextFlags||(AcroTextFlags={}));var AcroChoiceFlags;(function(Ee){Ee[Ee.Combo=flag$1(17)]="Combo",Ee[Ee.Edit=flag$1(18)]="Edit",Ee[Ee.Sort=flag$1(19)]="Sort",Ee[Ee.MultiSelect=flag$1(21)]="MultiSelect",Ee[Ee.DoNotSpellCheck=flag$1(22)]="DoNotSpellCheck",Ee[Ee.CommitOnSelChange=flag$1(26)]="CommitOnSelChange"})(AcroChoiceFlags||(AcroChoiceFlags={}));var PDFAcroChoice=(function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.setValues=function(n){if(this.hasFlag(AcroChoiceFlags.Combo)&&!this.hasFlag(AcroChoiceFlags.Edit)&&!this.valuesAreValid(n))throw new InvalidAcroFieldValueError;if(n.length===0&&this.dict.delete(PDFName.of("V")),n.length===1&&this.dict.set(PDFName.of("V"),n[0]),n.length>1){if(!this.hasFlag(AcroChoiceFlags.MultiSelect))throw new MultiSelectValueError;this.dict.set(PDFName.of("V"),this.dict.context.obj(n))}this.updateSelectedIndices(n)},t.prototype.valuesAreValid=function(n){for(var Ce=this.getOptions(),Te=function(Oe,Me){var Qe=n[Oe].decodeText();if(!Ce.find(function(Ke){return Qe===(Ke.display||Ke.value).decodeText()}))return{value:!1}},Re=0,Be=n.length;Re<Be;Re++){var Ue=Te(Re);if(typeof Ue=="object")return Ue.value}return!0},t.prototype.updateSelectedIndices=function(n){if(n.length>1){for(var Ce=new Array(n.length),Te=this.getOptions(),Re=function(Oe,Me){var Qe=n[Oe].decodeText();Ce[Oe]=Te.findIndex(function(Ke){return Qe===(Ke.display||Ke.value).decodeText()})},Be=0,Ue=n.length;Be<Ue;Be++)Re(Be,Ue);this.dict.set(PDFName.of("I"),this.dict.context.obj(Ce.sort()))}else this.dict.delete(PDFName.of("I"))},t.prototype.getValues=function(){var n=this.V();if(n instanceof PDFString||n instanceof PDFHexString)return[n];if(n instanceof PDFArray){for(var Ce=[],Te=0,Re=n.size();Te<Re;Te++){var Be=n.lookup(Te);(Be instanceof PDFString||Be instanceof PDFHexString)&&Ce.push(Be)}return Ce}return[]},t.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},t.prototype.setOptions=function(n){for(var Ce=new Array(n.length),Te=0,Re=n.length;Te<Re;Te++){var Be=n[Te],Ue=Be.value,Oe=Be.display;Ce[Te]=this.dict.context.obj([Ue,Oe||Ue])}this.dict.set(PDFName.of("Opt"),this.dict.context.obj(Ce))},t.prototype.getOptions=function(){var n=this.Opt();if(n instanceof PDFString||n instanceof PDFHexString)return[{value:n,display:n}];if(n instanceof PDFArray){for(var Ce=[],Te=0,Re=n.size();Te<Re;Te++){var Be=n.lookup(Te);if((Be instanceof PDFString||Be instanceof PDFHexString)&&Ce.push({value:Be,display:Be}),Be instanceof PDFArray&&Be.size()>0){var Ue=Be.lookup(0,PDFString,PDFHexString),Oe=Be.lookupMaybe(1,PDFString,PDFHexString);Ce.push({value:Ue,display:Oe||Ue})}}return Ce}return[]},t})(PDFAcroTerminal),PDFAcroComboBox=(function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.fromDict=function(n,Ce){return new t(n,Ce)},t.create=function(n){var Ce=n.obj({FT:"Ch",Ff:AcroChoiceFlags.Combo,Kids:[]}),Te=n.register(Ce);return new t(Ce,Te)},t})(PDFAcroChoice),PDFAcroNonTerminal=(function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.addField=function(n){var Ce=this.normalizedEntries().Kids;Ce==null||Ce.push(n)},t.prototype.normalizedEntries=function(){var n=this.Kids();return n||(n=this.dict.context.obj([]),this.dict.set(PDFName.of("Kids"),n)),{Kids:n}},t.fromDict=function(n,Ce){return new t(n,Ce)},t.create=function(n){var Ce=n.obj({}),Te=n.register(Ce);return new t(Ce,Te)},t})(PDFAcroField),PDFAcroSignature=(function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.fromDict=function(n,Ce){return new t(n,Ce)},t})(PDFAcroTerminal),PDFAcroText=(function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.MaxLen=function(){var n=this.dict.lookup(PDFName.of("MaxLen"));if(n instanceof PDFNumber)return n},t.prototype.Q=function(){var n=this.dict.lookup(PDFName.of("Q"));if(n instanceof PDFNumber)return n},t.prototype.setMaxLength=function(n){this.dict.set(PDFName.of("MaxLen"),PDFNumber.of(n))},t.prototype.removeMaxLength=function(){this.dict.delete(PDFName.of("MaxLen"))},t.prototype.getMaxLength=function(){var n;return(n=this.MaxLen())===null||n===void 0?void 0:n.asNumber()},t.prototype.setQuadding=function(n){this.dict.set(PDFName.of("Q"),PDFNumber.of(n))},t.prototype.getQuadding=function(){var n;return(n=this.Q())===null||n===void 0?void 0:n.asNumber()},t.prototype.setValue=function(n){this.dict.set(PDFName.of("V"),n)},t.prototype.removeValue=function(){this.dict.delete(PDFName.of("V"))},t.prototype.getValue=function(){var n=this.V();if(n instanceof PDFString||n instanceof PDFHexString)return n},t.fromDict=function(n,Ce){return new t(n,Ce)},t.create=function(n){var Ce=n.obj({FT:"Tx",Kids:[]}),Te=n.register(Ce);return new t(Ce,Te)},t})(PDFAcroTerminal),PDFAcroPushButton=(function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.fromDict=function(n,Ce){return new t(n,Ce)},t.create=function(n){var Ce=n.obj({FT:"Btn",Ff:AcroButtonFlags.PushButton,Kids:[]}),Te=n.register(Ce);return new t(Ce,Te)},t})(PDFAcroButton),PDFAcroRadioButton=(function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.setValue=function(n){var Ce=this.getOnValues();if(!Ce.includes(n)&&n!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),n);for(var Te=this.getWidgets(),Re=0,Be=Te.length;Re<Be;Re++){var Ue=Te[Re],Oe=Ue.getOnValue()===n?n:PDFName.of("Off");Ue.setAppearanceState(Oe)}},t.prototype.getValue=function(){var n=this.V();return n instanceof PDFName?n:PDFName.of("Off")},t.prototype.getOnValues=function(){for(var n=this.getWidgets(),Ce=[],Te=0,Re=n.length;Te<Re;Te++){var Be=n[Te].getOnValue();Be&&Ce.push(Be)}return Ce},t.fromDict=function(n,Ce){return new t(n,Ce)},t.create=function(n){var Ce=n.obj({FT:"Btn",Ff:AcroButtonFlags.Radio,Kids:[]}),Te=n.register(Ce);return new t(Ce,Te)},t})(PDFAcroButton),PDFAcroListBox=(function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.fromDict=function(n,Ce){return new t(n,Ce)},t.create=function(n){var Ce=n.obj({FT:"Ch",Kids:[]}),Te=n.register(Ce);return new t(Ce,Te)},t})(PDFAcroChoice),createPDFAcroFields=function(Ee){if(!Ee)return[];for(var t=[],n=0,Ce=Ee.size();n<Ce;n++){var Te=Ee.get(n),Re=Ee.lookup(n);Te instanceof PDFRef&&Re instanceof PDFDict&&t.push([createPDFAcroField(Re,Te),Te])}return t},createPDFAcroField=function(Ee,t){var n=isNonTerminalAcroField(Ee);return n?PDFAcroNonTerminal.fromDict(Ee,t):createPDFAcroTerminal(Ee,t)},isNonTerminalAcroField=function(Ee){var t=Ee.lookup(PDFName.of("Kids"));if(t instanceof PDFArray)for(var n=0,Ce=t.size();n<Ce;n++){var Te=t.lookup(n),Re=Te instanceof PDFDict&&Te.has(PDFName.of("T"));if(Re)return!0}return!1},createPDFAcroTerminal=function(Ee,t){var n=getInheritableAttribute(Ee,PDFName.of("FT")),Ce=Ee.context.lookup(n,PDFName);return Ce===PDFName.of("Btn")?createPDFAcroButton(Ee,t):Ce===PDFName.of("Ch")?createPDFAcroChoice(Ee,t):Ce===PDFName.of("Tx")?PDFAcroText.fromDict(Ee,t):Ce===PDFName.of("Sig")?PDFAcroSignature.fromDict(Ee,t):PDFAcroTerminal.fromDict(Ee,t)},createPDFAcroButton=function(Ee,t){var n,Ce=getInheritableAttribute(Ee,PDFName.of("Ff")),Te=Ee.context.lookupMaybe(Ce,PDFNumber),Re=(n=Te==null?void 0:Te.asNumber())!==null&&n!==void 0?n:0;return flagIsSet(Re,AcroButtonFlags.PushButton)?PDFAcroPushButton.fromDict(Ee,t):flagIsSet(Re,AcroButtonFlags.Radio)?PDFAcroRadioButton.fromDict(Ee,t):PDFAcroCheckBox.fromDict(Ee,t)},createPDFAcroChoice=function(Ee,t){var n,Ce=getInheritableAttribute(Ee,PDFName.of("Ff")),Te=Ee.context.lookupMaybe(Ce,PDFNumber),Re=(n=Te==null?void 0:Te.asNumber())!==null&&n!==void 0?n:0;return flagIsSet(Re,AcroChoiceFlags.Combo)?PDFAcroComboBox.fromDict(Ee,t):PDFAcroListBox.fromDict(Ee,t)},flagIsSet=function(Ee,t){return(Ee&t)!==0},getInheritableAttribute=function(Ee,t){var n;return ascend(Ee,function(Ce){n||(n=Ce.get(t))}),n},ascend=function(Ee,t){t(Ee);var n=Ee.lookupMaybe(PDFName.of("Parent"),PDFDict);n&&ascend(n,t)},PDFAcroForm=(function(){function Ee(t){this.dict=t}return Ee.prototype.Fields=function(){var t=this.dict.lookup(PDFName.of("Fields"));if(t instanceof PDFArray)return t},Ee.prototype.getFields=function(){for(var t=this.normalizedEntries().Fields,n=new Array(t.size()),Ce=0,Te=t.size();Ce<Te;Ce++){var Re=t.get(Ce),Be=t.lookup(Ce,PDFDict);n[Ce]=[createPDFAcroField(Be,Re),Re]}return n},Ee.prototype.getAllFields=function(){var t=[],n=function(Ce){if(Ce)for(var Te=0,Re=Ce.length;Te<Re;Te++){var Be=Ce[Te];t.push(Be);var Ue=Be[0];Ue instanceof PDFAcroNonTerminal&&n(createPDFAcroFields(Ue.Kids()))}};return n(this.getFields()),t},Ee.prototype.addField=function(t){var n=this.normalizedEntries().Fields;n==null||n.push(t)},Ee.prototype.removeField=function(t){var n=t.getParent(),Ce=n===void 0?this.normalizedEntries().Fields:n.Kids(),Te=Ce==null?void 0:Ce.indexOf(t.ref);if(Ce===void 0||Te===void 0)throw new Error("Tried to remove inexistent field "+t.getFullyQualifiedName());Ce.remove(Te),n!==void 0&&Ce.size()===0&&this.removeField(n)},Ee.prototype.normalizedEntries=function(){var t=this.Fields();return t||(t=this.dict.context.obj([]),this.dict.set(PDFName.of("Fields"),t)),{Fields:t}},Ee.fromDict=function(t){return new Ee(t)},Ee.create=function(t){var n=t.obj({Fields:[]});return new Ee(n)},Ee})(),PDFCatalog=(function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.Pages=function(){return this.lookup(PDFName.of("Pages"),PDFDict)},t.prototype.AcroForm=function(){return this.lookupMaybe(PDFName.of("AcroForm"),PDFDict)},t.prototype.getAcroForm=function(){var n=this.AcroForm();if(n)return PDFAcroForm.fromDict(n)},t.prototype.getOrCreateAcroForm=function(){var n=this.getAcroForm();if(!n){n=PDFAcroForm.create(this.context);var Ce=this.context.register(n.dict);this.set(PDFName.of("AcroForm"),Ce)}return n},t.prototype.ViewerPreferences=function(){return this.lookupMaybe(PDFName.of("ViewerPreferences"),PDFDict)},t.prototype.getViewerPreferences=function(){var n=this.ViewerPreferences();if(n)return ViewerPreferences.fromDict(n)},t.prototype.getOrCreateViewerPreferences=function(){var n=this.getViewerPreferences();if(!n){n=ViewerPreferences.create(this.context);var Ce=this.context.register(n.dict);this.set(PDFName.of("ViewerPreferences"),Ce)}return n},t.prototype.insertLeafNode=function(n,Ce){var Te=this.get(PDFName.of("Pages")),Re=this.Pages().insertLeafNode(n,Ce);return Re||Te},t.prototype.removeLeafNode=function(n){this.Pages().removeLeafNode(n)},t.withContextAndPages=function(n,Ce){var Te=new Map;return Te.set(PDFName.of("Type"),PDFName.of("Catalog")),Te.set(PDFName.of("Pages"),Ce),new t(Te,n)},t.fromMapWithContext=function(n,Ce){return new t(n,Ce)},t})(PDFDict),PDFPageTree=(function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.Parent=function(){return this.lookup(PDFName.of("Parent"))},t.prototype.Kids=function(){return this.lookup(PDFName.of("Kids"),PDFArray)},t.prototype.Count=function(){return this.lookup(PDFName.of("Count"),PDFNumber)},t.prototype.pushTreeNode=function(n){var Ce=this.Kids();Ce.push(n)},t.prototype.pushLeafNode=function(n){var Ce=this.Kids();this.insertLeafKid(Ce.size(),n)},t.prototype.insertLeafNode=function(n,Ce){var Te=this.Kids(),Re=this.Count().asNumber();if(Ce>Re)throw new InvalidTargetIndexError(Ce,Re);for(var Be=Ce,Ue=0,Oe=Te.size();Ue<Oe;Ue++){if(Be===0){this.insertLeafKid(Ue,n);return}var Me=Te.get(Ue),Qe=this.context.lookup(Me);if(Qe instanceof t){if(Qe.Count().asNumber()>Be)return Qe.insertLeafNode(n,Be)||Me;Be-=Qe.Count().asNumber()}Qe instanceof PDFPageLeaf&&(Be-=1)}if(Be===0){this.insertLeafKid(Te.size(),n);return}throw new CorruptPageTreeError(Ce,"insertLeafNode")},t.prototype.removeLeafNode=function(n,Ce){Ce===void 0&&(Ce=!0);var Te=this.Kids(),Re=this.Count().asNumber();if(n>=Re)throw new InvalidTargetIndexError(n,Re);for(var Be=n,Ue=0,Oe=Te.size();Ue<Oe;Ue++){var Me=Te.get(Ue),Qe=this.context.lookup(Me);if(Qe instanceof t)if(Qe.Count().asNumber()>Be){Qe.removeLeafNode(Be,Ce),Ce&&Qe.Kids().size()===0&&Te.remove(Ue);return}else Be-=Qe.Count().asNumber();if(Qe instanceof PDFPageLeaf)if(Be===0){this.removeKid(Ue);return}else Be-=1}throw new CorruptPageTreeError(n,"removeLeafNode")},t.prototype.ascend=function(n){n(this);var Ce=this.Parent();Ce&&Ce.ascend(n)},t.prototype.traverse=function(n){for(var Ce=this.Kids(),Te=0,Re=Ce.size();Te<Re;Te++){var Be=Ce.get(Te),Ue=this.context.lookup(Be);Ue instanceof t&&Ue.traverse(n),n(Ue,Be)}},t.prototype.insertLeafKid=function(n,Ce){var Te=this.Kids();this.ascend(function(Re){var Be=Re.Count().asNumber()+1;Re.set(PDFName.of("Count"),PDFNumber.of(Be))}),Te.insert(n,Ce)},t.prototype.removeKid=function(n){var Ce=this.Kids(),Te=Ce.lookup(n);Te instanceof PDFPageLeaf&&this.ascend(function(Re){var Be=Re.Count().asNumber()-1;Re.set(PDFName.of("Count"),PDFNumber.of(Be))}),Ce.remove(n)},t.withContext=function(n,Ce){var Te=new Map;return Te.set(PDFName.of("Type"),PDFName.of("Pages")),Te.set(PDFName.of("Kids"),n.obj([])),Te.set(PDFName.of("Count"),n.obj(0)),Ce&&Te.set(PDFName.of("Parent"),Ce),new t(Te,n)},t.fromMapWithContext=function(n,Ce){return new t(n,Ce)},t})(PDFDict),IsDigit=new Uint8Array(256);IsDigit[CharCodes$1.Zero]=1;IsDigit[CharCodes$1.One]=1;IsDigit[CharCodes$1.Two]=1;IsDigit[CharCodes$1.Three]=1;IsDigit[CharCodes$1.Four]=1;IsDigit[CharCodes$1.Five]=1;IsDigit[CharCodes$1.Six]=1;IsDigit[CharCodes$1.Seven]=1;IsDigit[CharCodes$1.Eight]=1;IsDigit[CharCodes$1.Nine]=1;var IsNumericPrefix=new Uint8Array(256);IsNumericPrefix[CharCodes$1.Period]=1;IsNumericPrefix[CharCodes$1.Plus]=1;IsNumericPrefix[CharCodes$1.Minus]=1;var IsNumeric=new Uint8Array(256);for(var idx=0,len=256;idx<len;idx++)IsNumeric[idx]=IsDigit[idx]||IsNumericPrefix[idx]?1:0;var Newline$1=CharCodes$1.Newline,CarriageReturn$1=CharCodes$1.CarriageReturn,BaseParser=(function(){function Ee(t,n){n===void 0&&(n=!1),this.bytes=t,this.capNumbers=n}return Ee.prototype.parseRawInt=function(){for(var t="";!this.bytes.done();){var n=this.bytes.peek();if(!IsDigit[n])break;t+=charFromCode(this.bytes.next())}var Ce=Number(t);if(!t||!isFinite(Ce))throw new NumberParsingError(this.bytes.position(),t);return Ce},Ee.prototype.parseRawNumber=function(){for(var t="";!this.bytes.done();){var n=this.bytes.peek();if(!IsNumeric[n]||(t+=charFromCode(this.bytes.next()),n===CharCodes$1.Period))break}for(;!this.bytes.done();){var n=this.bytes.peek();if(!IsDigit[n])break;t+=charFromCode(this.bytes.next())}var Ce=Number(t);if(!t||!isFinite(Ce))throw new NumberParsingError(this.bytes.position(),t);if(Ce>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var Te="Parsed number that is too large for some PDF readers: "+t+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(Te),Number.MAX_SAFE_INTEGER}else{var Te="Parsed number that is too large for some PDF readers: "+t+", not capping.";console.warn(Te)}return Ce},Ee.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&IsWhitespace[this.bytes.peek()];)this.bytes.next()},Ee.prototype.skipLine=function(){for(;!this.bytes.done();){var t=this.bytes.peek();if(t===Newline$1||t===CarriageReturn$1)return;this.bytes.next()}},Ee.prototype.skipComment=function(){if(this.bytes.peek()!==CharCodes$1.Percent)return!1;for(;!this.bytes.done();){var t=this.bytes.peek();if(t===Newline$1||t===CarriageReturn$1)return!0;this.bytes.next()}return!0},Ee.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},Ee.prototype.matchKeyword=function(t){for(var n=this.bytes.offset(),Ce=0,Te=t.length;Ce<Te;Ce++)if(this.bytes.done()||this.bytes.next()!==t[Ce])return this.bytes.moveTo(n),!1;return!0},Ee})(),ByteStream=(function(){function Ee(t){this.idx=0,this.line=0,this.column=0,this.bytes=t,this.length=this.bytes.length}return Ee.prototype.moveTo=function(t){this.idx=t},Ee.prototype.next=function(){var t=this.bytes[this.idx++];return t===CharCodes$1.Newline?(this.line+=1,this.column=0):this.column+=1,t},Ee.prototype.assertNext=function(t){if(this.peek()!==t)throw new NextByteAssertionError(this.position(),t,this.peek());return this.next()},Ee.prototype.peek=function(){return this.bytes[this.idx]},Ee.prototype.peekAhead=function(t){return this.bytes[this.idx+t]},Ee.prototype.peekAt=function(t){return this.bytes[t]},Ee.prototype.done=function(){return this.idx>=this.length},Ee.prototype.offset=function(){return this.idx},Ee.prototype.slice=function(t,n){return this.bytes.slice(t,n)},Ee.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},Ee.of=function(t){return new Ee(t)},Ee.fromPDFRawStream=function(t){return Ee.of(decodePDFRawStream(t).decode())},Ee})(),Space=CharCodes$1.Space,CarriageReturn=CharCodes$1.CarriageReturn,Newline=CharCodes$1.Newline,stream=[CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],endstream=[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],Keywords={header:[CharCodes$1.Percent,CharCodes$1.P,CharCodes$1.D,CharCodes$1.F,CharCodes$1.Dash],eof:[CharCodes$1.Percent,CharCodes$1.Percent,CharCodes$1.E,CharCodes$1.O,CharCodes$1.F],obj:[CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],endobj:[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],xref:[CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],trailer:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.a,CharCodes$1.i,CharCodes$1.l,CharCodes$1.e,CharCodes$1.r],startxref:[CharCodes$1.s,CharCodes$1.t,CharCodes$1.a,CharCodes$1.r,CharCodes$1.t,CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],true:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.u,CharCodes$1.e],false:[CharCodes$1.f,CharCodes$1.a,CharCodes$1.l,CharCodes$1.s,CharCodes$1.e],null:[CharCodes$1.n,CharCodes$1.u,CharCodes$1.l,CharCodes$1.l],stream,streamEOF1:__spreadArrays(stream,[Space,CarriageReturn,Newline]),streamEOF2:__spreadArrays(stream,[CarriageReturn,Newline]),streamEOF3:__spreadArrays(stream,[CarriageReturn]),streamEOF4:__spreadArrays(stream,[Newline]),endstream,EOF1endstream:__spreadArrays([CarriageReturn,Newline],endstream),EOF2endstream:__spreadArrays([CarriageReturn],endstream),EOF3endstream:__spreadArrays([Newline],endstream)},PDFObjectParser=(function(Ee){__extends(t,Ee);function t(n,Ce,Te){Te===void 0&&(Te=!1);var Re=Ee.call(this,n,Te)||this;return Re.context=Ce,Re}return t.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.true))return PDFBool.True;if(this.matchKeyword(Keywords.false))return PDFBool.False;if(this.matchKeyword(Keywords.null))return PDFNull$1;var n=this.bytes.peek();if(n===CharCodes$1.LessThan&&this.bytes.peekAhead(1)===CharCodes$1.LessThan)return this.parseDictOrStream();if(n===CharCodes$1.LessThan)return this.parseHexString();if(n===CharCodes$1.LeftParen)return this.parseString();if(n===CharCodes$1.ForwardSlash)return this.parseName();if(n===CharCodes$1.LeftSquareBracket)return this.parseArray();if(IsNumeric[n])return this.parseNumberOrRef();throw new PDFObjectParsingError(this.bytes.position(),n)},t.prototype.parseNumberOrRef=function(){var n=this.parseRawNumber();this.skipWhitespaceAndComments();var Ce=this.bytes.offset();if(IsDigit[this.bytes.peek()]){var Te=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===CharCodes$1.R)return this.bytes.assertNext(CharCodes$1.R),PDFRef.of(n,Te)}return this.bytes.moveTo(Ce),PDFNumber.of(n)},t.prototype.parseHexString=function(){var n="";for(this.bytes.assertNext(CharCodes$1.LessThan);!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan;)n+=charFromCode(this.bytes.next());return this.bytes.assertNext(CharCodes$1.GreaterThan),PDFHexString.of(n)},t.prototype.parseString=function(){for(var n=0,Ce=!1,Te="";!this.bytes.done();){var Re=this.bytes.next();if(Te+=charFromCode(Re),Ce||(Re===CharCodes$1.LeftParen&&(n+=1),Re===CharCodes$1.RightParen&&(n-=1)),Re===CharCodes$1.BackSlash?Ce=!Ce:Ce&&(Ce=!1),n===0)return PDFString.of(Te.substring(1,Te.length-1))}throw new UnbalancedParenthesisError(this.bytes.position())},t.prototype.parseName=function(){this.bytes.assertNext(CharCodes$1.ForwardSlash);for(var n="";!this.bytes.done();){var Ce=this.bytes.peek();if(IsWhitespace[Ce]||IsDelimiter[Ce])break;n+=charFromCode(Ce),this.bytes.next()}return PDFName.of(n)},t.prototype.parseArray=function(){this.bytes.assertNext(CharCodes$1.LeftSquareBracket),this.skipWhitespaceAndComments();for(var n=PDFArray.withContext(this.context);this.bytes.peek()!==CharCodes$1.RightSquareBracket;){var Ce=this.parseObject();n.push(Ce),this.skipWhitespaceAndComments()}return this.bytes.assertNext(CharCodes$1.RightSquareBracket),n},t.prototype.parseDict=function(){this.bytes.assertNext(CharCodes$1.LessThan),this.bytes.assertNext(CharCodes$1.LessThan),this.skipWhitespaceAndComments();for(var n=new Map;!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan&&this.bytes.peekAhead(1)!==CharCodes$1.GreaterThan;){var Ce=this.parseName(),Te=this.parseObject();n.set(Ce,Te),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(CharCodes$1.GreaterThan),this.bytes.assertNext(CharCodes$1.GreaterThan);var Re=n.get(PDFName.of("Type"));return Re===PDFName.of("Catalog")?PDFCatalog.fromMapWithContext(n,this.context):Re===PDFName.of("Pages")?PDFPageTree.fromMapWithContext(n,this.context):Re===PDFName.of("Page")?PDFPageLeaf.fromMapWithContext(n,this.context):PDFDict.fromMapWithContext(n,this.context)},t.prototype.parseDictOrStream=function(){var n=this.bytes.position(),Ce=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.streamEOF1)&&!this.matchKeyword(Keywords.streamEOF2)&&!this.matchKeyword(Keywords.streamEOF3)&&!this.matchKeyword(Keywords.streamEOF4)&&!this.matchKeyword(Keywords.stream))return Ce;var Te=this.bytes.offset(),Re,Be=Ce.get(PDFName.of("Length"));Be instanceof PDFNumber?(Re=Te+Be.asNumber(),this.bytes.moveTo(Re),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endstream)||(this.bytes.moveTo(Te),Re=this.findEndOfStreamFallback(n))):Re=this.findEndOfStreamFallback(n);var Ue=this.bytes.slice(Te,Re);return PDFRawStream.of(Ce,Ue)},t.prototype.findEndOfStreamFallback=function(n){for(var Ce=1,Te=this.bytes.offset();!this.bytes.done()&&(Te=this.bytes.offset(),this.matchKeyword(Keywords.stream)?Ce+=1:this.matchKeyword(Keywords.EOF1endstream)||this.matchKeyword(Keywords.EOF2endstream)||this.matchKeyword(Keywords.EOF3endstream)||this.matchKeyword(Keywords.endstream)?Ce-=1:this.bytes.next(),Ce!==0););if(Ce!==0)throw new PDFStreamParsingError(n);return Te},t.forBytes=function(n,Ce,Te){return new t(ByteStream.of(n),Ce,Te)},t.forByteStream=function(n,Ce,Te){return Te===void 0&&(Te=!1),new t(n,Ce,Te)},t})(BaseParser),PDFObjectStreamParser=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=Ee.call(this,ByteStream.fromPDFRawStream(n),n.dict.context)||this,Re=n.dict;return Te.alreadyParsed=!1,Te.shouldWaitForTick=Ce||(function(){return!1}),Te.firstOffset=Re.lookup(PDFName.of("First"),PDFNumber).asNumber(),Te.objectCount=Re.lookup(PDFName.of("N"),PDFNumber).asNumber(),Te}return t.prototype.parseIntoContext=function(){return __awaiter$1(this,void 0,void 0,function(){var n,Ce,Te,Re,Be,Ue,Oe,Me;return __generator(this,function(Qe){switch(Qe.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,n=this.parseOffsetsAndObjectNumbers(),Ce=0,Te=n.length,Qe.label=1;case 1:return Ce<Te?(Re=n[Ce],Be=Re.objectNumber,Ue=Re.offset,this.bytes.moveTo(this.firstOffset+Ue),Oe=this.parseObject(),Me=PDFRef.of(Be,0),this.context.assign(Me,Oe),this.shouldWaitForTick()?[4,waitForTick()]:[3,3]):[3,4];case 2:Qe.sent(),Qe.label=3;case 3:return Ce++,[3,1];case 4:return[2]}})})},t.prototype.parseOffsetsAndObjectNumbers=function(){for(var n=[],Ce=0,Te=this.objectCount;Ce<Te;Ce++){this.skipWhitespaceAndComments();var Re=this.parseRawInt();this.skipWhitespaceAndComments();var Be=this.parseRawInt();n.push({objectNumber:Re,offset:Be})}return n},t.forStream=function(n,Ce){return new t(n,Ce)},t})(PDFObjectParser),PDFXRefStreamParser=(function(){function Ee(t){this.alreadyParsed=!1,this.dict=t.dict,this.bytes=ByteStream.fromPDFRawStream(t),this.context=this.dict.context;var n=this.dict.lookup(PDFName.of("Size"),PDFNumber),Ce=this.dict.lookup(PDFName.of("Index"));if(Ce instanceof PDFArray){this.subsections=[];for(var Te=0,Re=Ce.size();Te<Re;Te+=2){var Be=Ce.lookup(Te+0,PDFNumber).asNumber(),Ue=Ce.lookup(Te+1,PDFNumber).asNumber();this.subsections.push({firstObjectNumber:Be,length:Ue})}}else this.subsections=[{firstObjectNumber:0,length:n.asNumber()}];var Oe=this.dict.lookup(PDFName.of("W"),PDFArray);this.byteWidths=[-1,-1,-1];for(var Te=0,Re=Oe.size();Te<Re;Te++)this.byteWidths[Te]=Oe.lookup(Te,PDFNumber).asNumber()}return Ee.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new ReparseError("PDFXRefStreamParser","parseIntoContext");this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(PDFName.of("Root")),Encrypt:this.dict.get(PDFName.of("Encrypt")),Info:this.dict.get(PDFName.of("Info")),ID:this.dict.get(PDFName.of("ID"))};var t=this.parseEntries();return t},Ee.prototype.parseEntries=function(){for(var t=[],n=this.byteWidths,Ce=n[0],Te=n[1],Re=n[2],Be=0,Ue=this.subsections.length;Be<Ue;Be++)for(var Oe=this.subsections[Be],Me=Oe.firstObjectNumber,Qe=Oe.length,Ke=0;Ke<Qe;Ke++){for(var Ge=0,qe=0,Xe=Ce;qe<Xe;qe++)Ge=Ge<<8|this.bytes.next();for(var tr=0,qe=0,Xe=Te;qe<Xe;qe++)tr=tr<<8|this.bytes.next();for(var Je=0,qe=0,Xe=Re;qe<Xe;qe++)Je=Je<<8|this.bytes.next();Ce===0&&(Ge=1);var Ye=Me+Ke,lr={ref:PDFRef.of(Ye,Je),offset:tr,deleted:Ge===0,inObjectStream:Ge===2};t.push(lr)}return t},Ee.forStream=function(t){return new Ee(t)},Ee})(),PDFParser=(function(Ee){__extends(t,Ee);function t(n,Ce,Te,Re){Ce===void 0&&(Ce=1/0),Te===void 0&&(Te=!1),Re===void 0&&(Re=!1);var Be=Ee.call(this,ByteStream.of(n),PDFContext.create(),Re)||this;return Be.alreadyParsed=!1,Be.parsedObjects=0,Be.shouldWaitForTick=function(){return Be.parsedObjects+=1,Be.parsedObjects%Be.objectsPerTick===0},Be.objectsPerTick=Ce,Be.throwOnInvalidObject=Te,Be}return t.prototype.parseDocument=function(){return __awaiter$1(this,void 0,void 0,function(){var n,Ce;return __generator(this,function(Te){switch(Te.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),Te.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(Te.sent(),Ce=this.bytes.offset(),Ce===n)throw new StalledParserError(this.bytes.position());return n=Ce,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(PDFRef.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(PDFRef.of(0))),[2,this.context]}})})},t.prototype.maybeRecoverRoot=function(){var n=function(Qe){return Qe instanceof PDFDict&&Qe.lookup(PDFName.of("Type"))===PDFName.of("Catalog")},Ce=this.context.lookup(this.context.trailerInfo.Root);if(!n(Ce))for(var Te=this.context.enumerateIndirectObjects(),Re=0,Be=Te.length;Re<Be;Re++){var Ue=Te[Re],Oe=Ue[0],Me=Ue[1];n(Me)&&(this.context.trailerInfo.Root=Oe)}},t.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(Keywords.header)){var n=this.parseRawInt();this.bytes.assertNext(CharCodes$1.Period);var Ce=this.parseRawInt(),Te=PDFHeader.forVersion(n,Ce);return this.skipBinaryHeaderComment(),Te}this.bytes.next()}throw new MissingPDFHeaderError(this.bytes.position())},t.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var n=this.parseRawInt();this.skipWhitespaceAndComments();var Ce=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.obj))throw new MissingKeywordError(this.bytes.position(),Keywords.obj);return PDFRef.of(n,Ce)},t.prototype.matchIndirectObjectHeader=function(){var n=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch{return this.bytes.moveTo(n),!1}},t.prototype.parseIndirectObject=function(){return __awaiter$1(this,void 0,void 0,function(){var n,Ce;return __generator(this,function(Te){switch(Te.label){case 0:return n=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),Ce=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endobj),Ce instanceof PDFRawStream&&Ce.dict.lookup(PDFName.of("Type"))===PDFName.of("ObjStm")?[4,PDFObjectStreamParser.forStream(Ce,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return Te.sent(),[3,3];case 2:Ce instanceof PDFRawStream&&Ce.dict.lookup(PDFName.of("Type"))===PDFName.of("XRef")?PDFXRefStreamParser.forStream(Ce).parseIntoContext():this.context.assign(n,Ce),Te.label=3;case 3:return[2,n]}})})},t.prototype.tryToParseInvalidIndirectObject=function(){var n=this.bytes.position(),Ce="Trying to parse invalid object: "+JSON.stringify(n)+")";if(this.throwOnInvalidObject)throw new Error(Ce);console.warn(Ce);var Te=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+Te),this.skipWhitespaceAndComments();for(var Re=this.bytes.offset(),Be=!0;!this.bytes.done()&&(this.matchKeyword(Keywords.endobj)&&(Be=!1),!!Be);)this.bytes.next();if(Be)throw new PDFInvalidObjectParsingError(n);var Ue=this.bytes.offset()-Keywords.endobj.length,Oe=PDFInvalidObject.of(this.bytes.slice(Re,Ue));return this.context.assign(Te,Oe),Te},t.prototype.parseIndirectObjects=function(){return __awaiter$1(this,void 0,void 0,function(){var n;return __generator(this,function(Ce){switch(Ce.label){case 0:this.skipWhitespaceAndComments(),Ce.label=1;case 1:if(!(!this.bytes.done()&&IsDigit[this.bytes.peek()]))return[3,8];n=this.bytes.offset(),Ce.label=2;case 2:return Ce.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return Ce.sent(),[3,5];case 4:return Ce.sent(),this.bytes.moveTo(n),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,waitForTick()]:[3,7];case 6:Ce.sent(),Ce.label=7;case 7:return[3,1];case 8:return[2]}})})},t.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.xref)){this.skipWhitespaceAndComments();for(var n=-1,Ce=PDFCrossRefSection.createEmpty();!this.bytes.done()&&IsDigit[this.bytes.peek()];){var Te=this.parseRawInt();this.skipWhitespaceAndComments();var Re=this.parseRawInt();this.skipWhitespaceAndComments();var Be=this.bytes.peek();if(Be===CharCodes$1.n||Be===CharCodes$1.f){var Ue=PDFRef.of(n,Re);this.bytes.next()===CharCodes$1.n?Ce.addEntry(Ue,Te):Ce.addDeletedEntry(Ue,Te),n+=1}else n=Te;this.skipWhitespaceAndComments()}return Ce}},t.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.trailer)){this.skipWhitespaceAndComments();var n=this.parseDict(),Ce=this.context;Ce.trailerInfo={Root:n.get(PDFName.of("Root"))||Ce.trailerInfo.Root,Encrypt:n.get(PDFName.of("Encrypt"))||Ce.trailerInfo.Encrypt,Info:n.get(PDFName.of("Info"))||Ce.trailerInfo.Info,ID:n.get(PDFName.of("ID"))||Ce.trailerInfo.ID}}},t.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.startxref)){this.skipWhitespaceAndComments();var n=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),PDFTrailer.forLastCrossRefSectionOffset(n)}},t.prototype.parseDocumentSection=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,this.parseIndirectObjects()];case 1:return n.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},t.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var n=this.bytes.offset(),Ce=this.bytes.peek(),Te=Ce>=CharCodes$1.Space&&Ce<=CharCodes$1.Tilde;if(Te&&(this.matchKeyword(Keywords.xref)||this.matchKeyword(Keywords.trailer)||this.matchKeyword(Keywords.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(n);break}this.bytes.next()}},t.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var n=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(n)}catch{this.bytes.next(),this.skipWhitespaceAndComments()}},t.forBytesWithOptions=function(n,Ce,Te,Re){return new t(n,Ce,Te,Re)},t})(PDFObjectParser),flag=function(Ee){return 1<<Ee},AnnotationFlags;(function(Ee){Ee[Ee.Invisible=flag(0)]="Invisible",Ee[Ee.Hidden=flag(1)]="Hidden",Ee[Ee.Print=flag(2)]="Print",Ee[Ee.NoZoom=flag(3)]="NoZoom",Ee[Ee.NoRotate=flag(4)]="NoRotate",Ee[Ee.NoView=flag(5)]="NoView",Ee[Ee.ReadOnly=flag(6)]="ReadOnly",Ee[Ee.Locked=flag(7)]="Locked",Ee[Ee.ToggleNoView=flag(8)]="ToggleNoView",Ee[Ee.LockedContents=flag(9)]="LockedContents"})(AnnotationFlags||(AnnotationFlags={}));var asPDFName=function(Ee){return Ee instanceof PDFName?Ee:PDFName.of(Ee)},asPDFNumber=function(Ee){return Ee instanceof PDFNumber?Ee:PDFNumber.of(Ee)},asNumber=function(Ee){return Ee instanceof PDFNumber?Ee.asNumber():Ee},RotationTypes;(function(Ee){Ee.Degrees="degrees",Ee.Radians="radians"})(RotationTypes||(RotationTypes={}));var degrees=function(Ee){return assertIs(Ee,"degreeAngle",["number"]),{type:RotationTypes.Degrees,angle:Ee}},Radians=RotationTypes.Radians,Degrees=RotationTypes.Degrees,degreesToRadians=function(Ee){return Ee*Math.PI/180},radiansToDegrees=function(Ee){return Ee*180/Math.PI},toRadians=function(Ee){return Ee.type===Radians?Ee.angle:Ee.type===Degrees?degreesToRadians(Ee.angle):error("Invalid rotation: "+JSON.stringify(Ee))},toDegrees=function(Ee){return Ee.type===Radians?radiansToDegrees(Ee.angle):Ee.type===Degrees?Ee.angle:error("Invalid rotation: "+JSON.stringify(Ee))},reduceRotation=function(Ee){Ee===void 0&&(Ee=0);var t=Ee/90%4;return t===0?0:t===1?90:t===2?180:t===3?270:0},adjustDimsForRotation=function(Ee,t){t===void 0&&(t=0);var n=reduceRotation(t);return n===90||n===270?{width:Ee.height,height:Ee.width}:{width:Ee.width,height:Ee.height}},rotateRectangle=function(Ee,t,n){t===void 0&&(t=0),n===void 0&&(n=0);var Ce=Ee.x,Te=Ee.y,Re=Ee.width,Be=Ee.height,Ue=reduceRotation(n),Oe=t/2;return Ue===0?{x:Ce-Oe,y:Te-Oe,width:Re,height:Be}:Ue===90?{x:Ce-Be+Oe,y:Te-Oe,width:Be,height:Re}:Ue===180?{x:Ce-Re+Oe,y:Te-Be+Oe,width:Re,height:Be}:Ue===270?{x:Ce-Oe,y:Te-Re+Oe,width:Be,height:Re}:{x:Ce-Oe,y:Te-Oe,width:Re,height:Be}},clip=function(){return PDFOperator.of(Ops.ClipNonZero)},cos=Math.cos,sin=Math.sin,tan=Math.tan,concatTransformationMatrix=function(Ee,t,n,Ce,Te,Re){return PDFOperator.of(Ops.ConcatTransformationMatrix,[asPDFNumber(Ee),asPDFNumber(t),asPDFNumber(n),asPDFNumber(Ce),asPDFNumber(Te),asPDFNumber(Re)])},translate=function(Ee,t){return concatTransformationMatrix(1,0,0,1,Ee,t)},scale=function(Ee,t){return concatTransformationMatrix(Ee,0,0,t,0,0)},rotateRadians=function(Ee){return concatTransformationMatrix(cos(asNumber(Ee)),sin(asNumber(Ee)),-sin(asNumber(Ee)),cos(asNumber(Ee)),0,0)},rotateDegrees=function(Ee){return rotateRadians(degreesToRadians(asNumber(Ee)))},skewRadians=function(Ee,t){return concatTransformationMatrix(1,tan(asNumber(Ee)),tan(asNumber(t)),1,0,0)},setDashPattern=function(Ee,t){return PDFOperator.of(Ops.SetLineDashPattern,["["+Ee.map(asPDFNumber).join(" ")+"]",asPDFNumber(t)])},LineCapStyle;(function(Ee){Ee[Ee.Butt=0]="Butt",Ee[Ee.Round=1]="Round",Ee[Ee.Projecting=2]="Projecting"})(LineCapStyle||(LineCapStyle={}));var setLineCap=function(Ee){return PDFOperator.of(Ops.SetLineCapStyle,[asPDFNumber(Ee)])},LineJoinStyle;(function(Ee){Ee[Ee.Miter=0]="Miter",Ee[Ee.Round=1]="Round",Ee[Ee.Bevel=2]="Bevel"})(LineJoinStyle||(LineJoinStyle={}));var setGraphicsState=function(Ee){return PDFOperator.of(Ops.SetGraphicsStateParams,[asPDFName(Ee)])},pushGraphicsState=function(){return PDFOperator.of(Ops.PushGraphicsState)},popGraphicsState=function(){return PDFOperator.of(Ops.PopGraphicsState)},setLineWidth=function(Ee){return PDFOperator.of(Ops.SetLineWidth,[asPDFNumber(Ee)])},appendBezierCurve=function(Ee,t,n,Ce,Te,Re){return PDFOperator.of(Ops.AppendBezierCurve,[asPDFNumber(Ee),asPDFNumber(t),asPDFNumber(n),asPDFNumber(Ce),asPDFNumber(Te),asPDFNumber(Re)])},appendQuadraticCurve=function(Ee,t,n,Ce){return PDFOperator.of(Ops.CurveToReplicateInitialPoint,[asPDFNumber(Ee),asPDFNumber(t),asPDFNumber(n),asPDFNumber(Ce)])},closePath=function(){return PDFOperator.of(Ops.ClosePath)},moveTo=function(Ee,t){return PDFOperator.of(Ops.MoveTo,[asPDFNumber(Ee),asPDFNumber(t)])},lineTo=function(Ee,t){return PDFOperator.of(Ops.LineTo,[asPDFNumber(Ee),asPDFNumber(t)])},stroke=function(){return PDFOperator.of(Ops.StrokePath)},fill=function(){return PDFOperator.of(Ops.FillNonZero)},fillAndStroke=function(){return PDFOperator.of(Ops.FillNonZeroAndStroke)},endPath=function(){return PDFOperator.of(Ops.EndPath)},nextLine=function(){return PDFOperator.of(Ops.NextLine)},showText=function(Ee){return PDFOperator.of(Ops.ShowText,[Ee])},beginText=function(){return PDFOperator.of(Ops.BeginText)},endText=function(){return PDFOperator.of(Ops.EndText)},setFontAndSize=function(Ee,t){return PDFOperator.of(Ops.SetFontAndSize,[asPDFName(Ee),asPDFNumber(t)])},setLineHeight=function(Ee){return PDFOperator.of(Ops.SetTextLineHeight,[asPDFNumber(Ee)])},TextRenderingMode;(function(Ee){Ee[Ee.Fill=0]="Fill",Ee[Ee.Outline=1]="Outline",Ee[Ee.FillAndOutline=2]="FillAndOutline",Ee[Ee.Invisible=3]="Invisible",Ee[Ee.FillAndClip=4]="FillAndClip",Ee[Ee.OutlineAndClip=5]="OutlineAndClip",Ee[Ee.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",Ee[Ee.Clip=7]="Clip"})(TextRenderingMode||(TextRenderingMode={}));var setTextMatrix=function(Ee,t,n,Ce,Te,Re){return PDFOperator.of(Ops.SetTextMatrix,[asPDFNumber(Ee),asPDFNumber(t),asPDFNumber(n),asPDFNumber(Ce),asPDFNumber(Te),asPDFNumber(Re)])},rotateAndSkewTextRadiansAndTranslate=function(Ee,t,n,Ce,Te){return setTextMatrix(cos(asNumber(Ee)),sin(asNumber(Ee))+tan(asNumber(t)),-sin(asNumber(Ee))+tan(asNumber(n)),cos(asNumber(Ee)),Ce,Te)},drawObject=function(Ee){return PDFOperator.of(Ops.DrawObject,[asPDFName(Ee)])},setFillingGrayscaleColor=function(Ee){return PDFOperator.of(Ops.NonStrokingColorGray,[asPDFNumber(Ee)])},setStrokingGrayscaleColor=function(Ee){return PDFOperator.of(Ops.StrokingColorGray,[asPDFNumber(Ee)])},setFillingRgbColor=function(Ee,t,n){return PDFOperator.of(Ops.NonStrokingColorRgb,[asPDFNumber(Ee),asPDFNumber(t),asPDFNumber(n)])},setStrokingRgbColor=function(Ee,t,n){return PDFOperator.of(Ops.StrokingColorRgb,[asPDFNumber(Ee),asPDFNumber(t),asPDFNumber(n)])},setFillingCmykColor=function(Ee,t,n,Ce){return PDFOperator.of(Ops.NonStrokingColorCmyk,[asPDFNumber(Ee),asPDFNumber(t),asPDFNumber(n),asPDFNumber(Ce)])},setStrokingCmykColor=function(Ee,t,n,Ce){return PDFOperator.of(Ops.StrokingColorCmyk,[asPDFNumber(Ee),asPDFNumber(t),asPDFNumber(n),asPDFNumber(Ce)])},beginMarkedContent=function(Ee){return PDFOperator.of(Ops.BeginMarkedContent,[asPDFName(Ee)])},endMarkedContent=function(){return PDFOperator.of(Ops.EndMarkedContent)},ColorTypes;(function(Ee){Ee.Grayscale="Grayscale",Ee.RGB="RGB",Ee.CMYK="CMYK"})(ColorTypes||(ColorTypes={}));var grayscale=function(Ee){return assertRange(Ee,"gray",0,1),{type:ColorTypes.Grayscale,gray:Ee}},rgb=function(Ee,t,n){return assertRange(Ee,"red",0,1),assertRange(t,"green",0,1),assertRange(n,"blue",0,1),{type:ColorTypes.RGB,red:Ee,green:t,blue:n}},cmyk=function(Ee,t,n,Ce){return assertRange(Ee,"cyan",0,1),assertRange(t,"magenta",0,1),assertRange(n,"yellow",0,1),assertRange(Ce,"key",0,1),{type:ColorTypes.CMYK,cyan:Ee,magenta:t,yellow:n,key:Ce}},Grayscale=ColorTypes.Grayscale,RGB=ColorTypes.RGB,CMYK=ColorTypes.CMYK,setFillingColor=function(Ee){return Ee.type===Grayscale?setFillingGrayscaleColor(Ee.gray):Ee.type===RGB?setFillingRgbColor(Ee.red,Ee.green,Ee.blue):Ee.type===CMYK?setFillingCmykColor(Ee.cyan,Ee.magenta,Ee.yellow,Ee.key):error("Invalid color: "+JSON.stringify(Ee))},setStrokingColor=function(Ee){return Ee.type===Grayscale?setStrokingGrayscaleColor(Ee.gray):Ee.type===RGB?setStrokingRgbColor(Ee.red,Ee.green,Ee.blue):Ee.type===CMYK?setStrokingCmykColor(Ee.cyan,Ee.magenta,Ee.yellow,Ee.key):error("Invalid color: "+JSON.stringify(Ee))},componentsToColor=function(Ee,t){return t===void 0&&(t=1),(Ee==null?void 0:Ee.length)===1?grayscale(Ee[0]*t):(Ee==null?void 0:Ee.length)===3?rgb(Ee[0]*t,Ee[1]*t,Ee[2]*t):(Ee==null?void 0:Ee.length)===4?cmyk(Ee[0]*t,Ee[1]*t,Ee[2]*t,Ee[3]*t):void 0},colorToComponents=function(Ee){return Ee.type===Grayscale?[Ee.gray]:Ee.type===RGB?[Ee.red,Ee.green,Ee.blue]:Ee.type===CMYK?[Ee.cyan,Ee.magenta,Ee.yellow,Ee.key]:error("Invalid color: "+JSON.stringify(Ee))},cx=0,cy=0,px=0,py=0,sx=0,sy=0,parameters=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),parse=function(Ee){for(var t,n=[],Ce=[],Te="",Re=!1,Be=0,Ue=0,Oe=Ee;Ue<Oe.length;Ue++){var Me=Oe[Ue];if(parameters.has(Me))Be=parameters.get(Me),t&&(Te.length>0&&(Ce[Ce.length]=+Te),n[n.length]={cmd:t,args:Ce},Ce=[],Te="",Re=!1),t=Me;else if([" ",","].includes(Me)||Me==="-"&&Te.length>0&&Te[Te.length-1]!=="e"||Me==="."&&Re){if(Te.length===0)continue;Ce.length===Be?(n[n.length]={cmd:t,args:Ce},Ce=[+Te],t==="M"&&(t="L"),t==="m"&&(t="l")):Ce[Ce.length]=+Te,Re=Me===".",Te=["-","."].includes(Me)?Me:""}else Te+=Me,Me==="."&&(Re=!0)}return Te.length>0&&(Ce.length===Be?(n[n.length]={cmd:t,args:Ce},Ce=[+Te],t==="M"&&(t="L"),t==="m"&&(t="l")):Ce[Ce.length]=+Te),n[n.length]={cmd:t,args:Ce},n},apply=function(Ee){cx=cy=px=py=sx=sy=0;for(var t=[],n=0;n<Ee.length;n++){var Ce=Ee[n];if(Ce.cmd&&typeof runners[Ce.cmd]=="function"){var Te=runners[Ce.cmd](Ce.args);Array.isArray(Te)?t=t.concat(Te):t.push(Te)}}return t},runners={M:function(Ee){return cx=Ee[0],cy=Ee[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},m:function(Ee){return cx+=Ee[0],cy+=Ee[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},C:function(Ee){return cx=Ee[4],cy=Ee[5],px=Ee[2],py=Ee[3],appendBezierCurve(Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5])},c:function(Ee){var t=appendBezierCurve(Ee[0]+cx,Ee[1]+cy,Ee[2]+cx,Ee[3]+cy,Ee[4]+cx,Ee[5]+cy);return px=cx+Ee[2],py=cy+Ee[3],cx+=Ee[4],cy+=Ee[5],t},S:function(Ee){(px===null||py===null)&&(px=cx,py=cy);var t=appendBezierCurve(cx-(px-cx),cy-(py-cy),Ee[0],Ee[1],Ee[2],Ee[3]);return px=Ee[0],py=Ee[1],cx=Ee[2],cy=Ee[3],t},s:function(Ee){(px===null||py===null)&&(px=cx,py=cy);var t=appendBezierCurve(cx-(px-cx),cy-(py-cy),cx+Ee[0],cy+Ee[1],cx+Ee[2],cy+Ee[3]);return px=cx+Ee[0],py=cy+Ee[1],cx+=Ee[2],cy+=Ee[3],t},Q:function(Ee){return px=Ee[0],py=Ee[1],cx=Ee[2],cy=Ee[3],appendQuadraticCurve(Ee[0],Ee[1],cx,cy)},q:function(Ee){var t=appendQuadraticCurve(Ee[0]+cx,Ee[1]+cy,Ee[2]+cx,Ee[3]+cy);return px=cx+Ee[0],py=cy+Ee[1],cx+=Ee[2],cy+=Ee[3],t},T:function(Ee){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var t=appendQuadraticCurve(px,py,Ee[0],Ee[1]);return px=cx-(px-cx),py=cy-(py-cy),cx=Ee[0],cy=Ee[1],t},t:function(Ee){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var t=appendQuadraticCurve(px,py,cx+Ee[0],cy+Ee[1]);return cx+=Ee[0],cy+=Ee[1],t},A:function(Ee){var t=solveArc(cx,cy,Ee);return cx=Ee[5],cy=Ee[6],t},a:function(Ee){Ee[5]+=cx,Ee[6]+=cy;var t=solveArc(cx,cy,Ee);return cx=Ee[5],cy=Ee[6],t},L:function(Ee){return cx=Ee[0],cy=Ee[1],px=py=null,lineTo(cx,cy)},l:function(Ee){return cx+=Ee[0],cy+=Ee[1],px=py=null,lineTo(cx,cy)},H:function(Ee){return cx=Ee[0],px=py=null,lineTo(cx,cy)},h:function(Ee){return cx+=Ee[0],px=py=null,lineTo(cx,cy)},V:function(Ee){return cy=Ee[0],px=py=null,lineTo(cx,cy)},v:function(Ee){return cy+=Ee[0],px=py=null,lineTo(cx,cy)},Z:function(){var Ee=closePath();return cx=sx,cy=sy,Ee},z:function(){var Ee=closePath();return cx=sx,cy=sy,Ee}},solveArc=function(Ee,t,n){for(var Ce=n[0],Te=n[1],Re=n[2],Be=n[3],Ue=n[4],Oe=n[5],Me=n[6],Qe=arcToSegments(Oe,Me,Ce,Te,Be,Ue,Re,Ee,t),Ke=[],Ge=0,qe=Qe;Ge<qe.length;Ge++){var Xe=qe[Ge],tr=segmentToBezier.apply(void 0,Xe);Ke.push(appendBezierCurve.apply(void 0,tr))}return Ke},arcToSegments=function(Ee,t,n,Ce,Te,Re,Be,Ue,Oe){var Me=Be*(Math.PI/180),Qe=Math.sin(Me),Ke=Math.cos(Me);n=Math.abs(n),Ce=Math.abs(Ce),px=Ke*(Ue-Ee)*.5+Qe*(Oe-t)*.5,py=Ke*(Oe-t)*.5-Qe*(Ue-Ee)*.5;var Ge=px*px/(n*n)+py*py/(Ce*Ce);Ge>1&&(Ge=Math.sqrt(Ge),n*=Ge,Ce*=Ge);var qe=Ke/n,Xe=Qe/n,tr=-Qe/Ce,Je=Ke/Ce,Ye=qe*Ue+Xe*Oe,lr=tr*Ue+Je*Oe,cr=qe*Ee+Xe*t,hr=tr*Ee+Je*t,ur=(cr-Ye)*(cr-Ye)+(hr-lr)*(hr-lr),fr=1/ur-.25;fr<0&&(fr=0);var er=Math.sqrt(fr);Re===Te&&(er=-er);var nr=.5*(Ye+cr)-er*(hr-lr),ir=.5*(lr+hr)+er*(cr-Ye),mr=Math.atan2(lr-ir,Ye-nr),$e=Math.atan2(hr-ir,cr-nr),Ar=$e-mr;Ar<0&&Re===1?Ar+=2*Math.PI:Ar>0&&Re===0&&(Ar-=2*Math.PI);for(var or=Math.ceil(Math.abs(Ar/(Math.PI*.5+.001))),Tr=[],Ur=0;Ur<or;Ur++){var Fr=mr+Ur*Ar/or,Er=mr+(Ur+1)*Ar/or;Tr[Ur]=[nr,ir,Fr,Er,n,Ce,Qe,Ke]}return Tr},segmentToBezier=function(Ee,t,n,Ce,Te,Re,Be,Ue){var Oe=Ue*Te,Me=-Be*Re,Qe=Be*Te,Ke=Ue*Re,Ge=.5*(Ce-n),qe=8/3*Math.sin(Ge*.5)*Math.sin(Ge*.5)/Math.sin(Ge),Xe=Ee+Math.cos(n)-qe*Math.sin(n),tr=t+Math.sin(n)+qe*Math.cos(n),Je=Ee+Math.cos(Ce),Ye=t+Math.sin(Ce),lr=Je+qe*Math.sin(Ce),cr=Ye-qe*Math.cos(Ce),hr=[Oe*Xe+Me*tr,Qe*Xe+Ke*tr,Oe*lr+Me*cr,Qe*lr+Ke*cr,Oe*Je+Me*Ye,Qe*Je+Ke*Ye];return hr},svgPathToOperators=function(Ee){return apply(parse(Ee))},drawLinesOfText=function(Ee,t){for(var n=[pushGraphicsState(),t.graphicsState&&setGraphicsState(t.graphicsState),beginText(),setFillingColor(t.color),setFontAndSize(t.font,t.size),setLineHeight(t.lineHeight),rotateAndSkewTextRadiansAndTranslate(toRadians(t.rotate),toRadians(t.xSkew),toRadians(t.ySkew),t.x,t.y)].filter(Boolean),Ce=0,Te=Ee.length;Ce<Te;Ce++)n.push(showText(Ee[Ce]),nextLine());return n.push(endText(),popGraphicsState()),n},drawImage=function(Ee,t){return[pushGraphicsState(),t.graphicsState&&setGraphicsState(t.graphicsState),translate(t.x,t.y),rotateRadians(toRadians(t.rotate)),scale(t.width,t.height),skewRadians(toRadians(t.xSkew),toRadians(t.ySkew)),drawObject(Ee),popGraphicsState()].filter(Boolean)},drawPage=function(Ee,t){return[pushGraphicsState(),t.graphicsState&&setGraphicsState(t.graphicsState),translate(t.x,t.y),rotateRadians(toRadians(t.rotate)),scale(t.xScale,t.yScale),skewRadians(toRadians(t.xSkew),toRadians(t.ySkew)),drawObject(Ee),popGraphicsState()].filter(Boolean)},drawLine=function(Ee){var t,n;return[pushGraphicsState(),Ee.graphicsState&&setGraphicsState(Ee.graphicsState),Ee.color&&setStrokingColor(Ee.color),setLineWidth(Ee.thickness),setDashPattern((t=Ee.dashArray)!==null&&t!==void 0?t:[],(n=Ee.dashPhase)!==null&&n!==void 0?n:0),moveTo(Ee.start.x,Ee.start.y),Ee.lineCap&&setLineCap(Ee.lineCap),moveTo(Ee.start.x,Ee.start.y),lineTo(Ee.end.x,Ee.end.y),stroke(),popGraphicsState()].filter(Boolean)},drawRectangle=function(Ee){var t,n;return[pushGraphicsState(),Ee.graphicsState&&setGraphicsState(Ee.graphicsState),Ee.color&&setFillingColor(Ee.color),Ee.borderColor&&setStrokingColor(Ee.borderColor),setLineWidth(Ee.borderWidth),Ee.borderLineCap&&setLineCap(Ee.borderLineCap),setDashPattern((t=Ee.borderDashArray)!==null&&t!==void 0?t:[],(n=Ee.borderDashPhase)!==null&&n!==void 0?n:0),translate(Ee.x,Ee.y),rotateRadians(toRadians(Ee.rotate)),skewRadians(toRadians(Ee.xSkew),toRadians(Ee.ySkew)),moveTo(0,0),lineTo(0,Ee.height),lineTo(Ee.width,Ee.height),lineTo(Ee.width,0),closePath(),Ee.color&&Ee.borderWidth?fillAndStroke():Ee.color?fill():Ee.borderColor?stroke():closePath(),popGraphicsState()].filter(Boolean)},KAPPA=4*((Math.sqrt(2)-1)/3),drawEllipsePath=function(Ee){var t=asNumber(Ee.x),n=asNumber(Ee.y),Ce=asNumber(Ee.xScale),Te=asNumber(Ee.yScale);t-=Ce,n-=Te;var Re=Ce*KAPPA,Be=Te*KAPPA,Ue=t+Ce*2,Oe=n+Te*2,Me=t+Ce,Qe=n+Te;return[pushGraphicsState(),moveTo(t,Qe),appendBezierCurve(t,Qe-Be,Me-Re,n,Me,n),appendBezierCurve(Me+Re,n,Ue,Qe-Be,Ue,Qe),appendBezierCurve(Ue,Qe+Be,Me+Re,Oe,Me,Oe),appendBezierCurve(Me-Re,Oe,t,Qe+Be,t,Qe),popGraphicsState()]},drawEllipseCurves=function(Ee){var t=asNumber(Ee.x),n=asNumber(Ee.y),Ce=asNumber(Ee.xScale),Te=asNumber(Ee.yScale),Re=-Ce,Be=-Te,Ue=Ce*KAPPA,Oe=Te*KAPPA,Me=Re+Ce*2,Qe=Be+Te*2,Ke=Re+Ce,Ge=Be+Te;return[translate(t,n),rotateRadians(toRadians(Ee.rotate)),moveTo(Re,Ge),appendBezierCurve(Re,Ge-Oe,Ke-Ue,Be,Ke,Be),appendBezierCurve(Ke+Ue,Be,Me,Ge-Oe,Me,Ge),appendBezierCurve(Me,Ge+Oe,Ke+Ue,Qe,Ke,Qe),appendBezierCurve(Ke-Ue,Qe,Re,Ge+Oe,Re,Ge)]},drawEllipse=function(Ee){var t,n,Ce;return __spreadArrays([pushGraphicsState(),Ee.graphicsState&&setGraphicsState(Ee.graphicsState),Ee.color&&setFillingColor(Ee.color),Ee.borderColor&&setStrokingColor(Ee.borderColor),setLineWidth(Ee.borderWidth),Ee.borderLineCap&&setLineCap(Ee.borderLineCap),setDashPattern((t=Ee.borderDashArray)!==null&&t!==void 0?t:[],(n=Ee.borderDashPhase)!==null&&n!==void 0?n:0)],Ee.rotate===void 0?drawEllipsePath({x:Ee.x,y:Ee.y,xScale:Ee.xScale,yScale:Ee.yScale}):drawEllipseCurves({x:Ee.x,y:Ee.y,xScale:Ee.xScale,yScale:Ee.yScale,rotate:(Ce=Ee.rotate)!==null&&Ce!==void 0?Ce:degrees(0)}),[Ee.color&&Ee.borderWidth?fillAndStroke():Ee.color?fill():Ee.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawSvgPath=function(Ee,t){var n,Ce,Te;return __spreadArrays([pushGraphicsState(),t.graphicsState&&setGraphicsState(t.graphicsState),translate(t.x,t.y),rotateRadians(toRadians((n=t.rotate)!==null&&n!==void 0?n:degrees(0))),t.scale?scale(t.scale,-t.scale):scale(1,-1),t.color&&setFillingColor(t.color),t.borderColor&&setStrokingColor(t.borderColor),t.borderWidth&&setLineWidth(t.borderWidth),t.borderLineCap&&setLineCap(t.borderLineCap),setDashPattern((Ce=t.borderDashArray)!==null&&Ce!==void 0?Ce:[],(Te=t.borderDashPhase)!==null&&Te!==void 0?Te:0)],svgPathToOperators(Ee),[t.color&&t.borderWidth?fillAndStroke():t.color?fill():t.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawCheckMark=function(Ee){var t=asNumber(Ee.size),n=-1+.75,Ce=-1+.51,Te=1-.525,Re=1-.31,Be=-1+.325,Ue=.3995/(Te-Ce)+Ce;return[pushGraphicsState(),Ee.color&&setStrokingColor(Ee.color),setLineWidth(Ee.thickness),translate(Ee.x,Ee.y),moveTo(Be*t,Ue*t),lineTo(n*t,Ce*t),lineTo(Re*t,Te*t),stroke(),popGraphicsState()].filter(Boolean)},rotateInPlace=function(Ee){return Ee.rotation===0?[translate(0,0),rotateDegrees(0)]:Ee.rotation===90?[translate(Ee.width,0),rotateDegrees(90)]:Ee.rotation===180?[translate(Ee.width,Ee.height),rotateDegrees(180)]:Ee.rotation===270?[translate(0,Ee.height),rotateDegrees(270)]:[]},drawCheckBox=function(Ee){var t=drawRectangle({x:Ee.x,y:Ee.y,width:Ee.width,height:Ee.height,borderWidth:Ee.borderWidth,color:Ee.color,borderColor:Ee.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});if(!Ee.filled)return t;var n=asNumber(Ee.width),Ce=asNumber(Ee.height),Te=Math.min(n,Ce)/2,Re=drawCheckMark({x:n/2,y:Ce/2,size:Te,thickness:Ee.thickness,color:Ee.markColor});return __spreadArrays([pushGraphicsState()],t,Re,[popGraphicsState()])},drawRadioButton=function(Ee){var t=asNumber(Ee.width),n=asNumber(Ee.height),Ce=Math.min(t,n)/2,Te=drawEllipse({x:Ee.x,y:Ee.y,xScale:Ce,yScale:Ce,color:Ee.color,borderColor:Ee.borderColor,borderWidth:Ee.borderWidth});if(!Ee.filled)return Te;var Re=drawEllipse({x:Ee.x,y:Ee.y,xScale:Ce*.45,yScale:Ce*.45,color:Ee.dotColor,borderColor:void 0,borderWidth:0});return __spreadArrays([pushGraphicsState()],Te,Re,[popGraphicsState()])},drawButton=function(Ee){var t=asNumber(Ee.x),n=asNumber(Ee.y),Ce=asNumber(Ee.width),Te=asNumber(Ee.height),Re=drawRectangle({x:t,y:n,width:Ce,height:Te,borderWidth:Ee.borderWidth,color:Ee.color,borderColor:Ee.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),Be=drawTextLines(Ee.textLines,{color:Ee.textColor,font:Ee.font,size:Ee.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});return __spreadArrays([pushGraphicsState()],Re,Be,[popGraphicsState()])},drawTextLines=function(Ee,t){for(var n=[beginText(),setFillingColor(t.color),setFontAndSize(t.font,t.size)],Ce=0,Te=Ee.length;Ce<Te;Ce++){var Re=Ee[Ce],Be=Re.encoded,Ue=Re.x,Oe=Re.y;n.push(rotateAndSkewTextRadiansAndTranslate(toRadians(t.rotate),toRadians(t.xSkew),toRadians(t.ySkew),Ue,Oe),showText(Be))}return n.push(endText()),n},drawTextField=function(Ee){var t=asNumber(Ee.x),n=asNumber(Ee.y),Ce=asNumber(Ee.width),Te=asNumber(Ee.height),Re=asNumber(Ee.borderWidth),Be=asNumber(Ee.padding),Ue=t+Re/2+Be,Oe=n+Re/2+Be,Me=Ce-(Re/2+Be)*2,Qe=Te-(Re/2+Be)*2,Ke=[moveTo(Ue,Oe),lineTo(Ue,Oe+Qe),lineTo(Ue+Me,Oe+Qe),lineTo(Ue+Me,Oe),closePath(),clip(),endPath()],Ge=drawRectangle({x:t,y:n,width:Ce,height:Te,borderWidth:Ee.borderWidth,color:Ee.color,borderColor:Ee.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),qe=drawTextLines(Ee.textLines,{color:Ee.textColor,font:Ee.font,size:Ee.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),Xe=__spreadArrays([beginMarkedContent("Tx"),pushGraphicsState()],qe,[popGraphicsState(),endMarkedContent()]);return __spreadArrays([pushGraphicsState()],Ge,Ke,Xe,[popGraphicsState()])},drawOptionList=function(Ee){for(var t=asNumber(Ee.x),n=asNumber(Ee.y),Ce=asNumber(Ee.width),Te=asNumber(Ee.height),Re=asNumber(Ee.lineHeight),Be=asNumber(Ee.borderWidth),Ue=asNumber(Ee.padding),Oe=t+Be/2+Ue,Me=n+Be/2+Ue,Qe=Ce-(Be/2+Ue)*2,Ke=Te-(Be/2+Ue)*2,Ge=[moveTo(Oe,Me),lineTo(Oe,Me+Ke),lineTo(Oe+Qe,Me+Ke),lineTo(Oe+Qe,Me),closePath(),clip(),endPath()],qe=drawRectangle({x:t,y:n,width:Ce,height:Te,borderWidth:Ee.borderWidth,color:Ee.color,borderColor:Ee.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),Xe=[],tr=0,Je=Ee.selectedLines.length;tr<Je;tr++){var Ye=Ee.textLines[Ee.selectedLines[tr]];Xe.push.apply(Xe,drawRectangle({x:Ye.x-Ue,y:Ye.y-(Re-Ye.height)/2,width:Ce-Be,height:Ye.height+(Re-Ye.height)/2,borderWidth:0,color:Ee.selectedColor,borderColor:void 0,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}))}var lr=drawTextLines(Ee.textLines,{color:Ee.textColor,font:Ee.font,size:Ee.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),cr=__spreadArrays([beginMarkedContent("Tx"),pushGraphicsState()],lr,[popGraphicsState(),endMarkedContent()]);return __spreadArrays([pushGraphicsState()],qe,Xe,Ge,cr,[popGraphicsState()])},EncryptedPDFError=(function(Ee){__extends(t,Ee);function t(){var n=this,Ce="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return n=Ee.call(this,Ce)||this,n}return t})(Error),FontkitNotRegisteredError=(function(Ee){__extends(t,Ee);function t(){var n=this,Ce="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return n=Ee.call(this,Ce)||this,n}return t})(Error),ForeignPageError=(function(Ee){__extends(t,Ee);function t(){var n=this,Ce="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return n=Ee.call(this,Ce)||this,n}return t})(Error),RemovePageFromEmptyDocumentError=(function(Ee){__extends(t,Ee);function t(){var n=this,Ce="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return n=Ee.call(this,Ce)||this,n}return t})(Error),NoSuchFieldError=(function(Ee){__extends(t,Ee);function t(n){var Ce=this,Te='PDFDocument has no form field with the name "'+n+'"';return Ce=Ee.call(this,Te)||this,Ce}return t})(Error),UnexpectedFieldTypeError=(function(Ee){__extends(t,Ee);function t(n,Ce,Te){var Re,Be,Ue=this,Oe=Ce==null?void 0:Ce.name,Me=(Be=(Re=Te==null?void 0:Te.constructor)===null||Re===void 0?void 0:Re.name)!==null&&Be!==void 0?Be:Te,Qe='Expected field "'+n+'" to be of type '+Oe+", "+("but it is actually of type "+Me);return Ue=Ee.call(this,Qe)||this,Ue}return t})(Error);(function(Ee){__extends(t,Ee);function t(n){var Ce=this,Te='Failed to select check box due to missing onValue: "'+n+'"';return Ce=Ee.call(this,Te)||this,Ce}return t})(Error);var FieldAlreadyExistsError=(function(Ee){__extends(t,Ee);function t(n){var Ce=this,Te='A field already exists with the specified name: "'+n+'"';return Ce=Ee.call(this,Te)||this,Ce}return t})(Error),InvalidFieldNamePartError=(function(Ee){__extends(t,Ee);function t(n){var Ce=this,Te='Field name contains invalid component: "'+n+'"';return Ce=Ee.call(this,Te)||this,Ce}return t})(Error);(function(Ee){__extends(t,Ee);function t(n){var Ce=this,Te='A non-terminal field already exists with the specified name: "'+n+'"';return Ce=Ee.call(this,Te)||this,Ce}return t})(Error);var RichTextFieldReadError=(function(Ee){__extends(t,Ee);function t(n){var Ce=this,Te="Reading rich text fields is not supported: Attempted to read rich text field: "+n;return Ce=Ee.call(this,Te)||this,Ce}return t})(Error),CombedTextLayoutError=(function(Ee){__extends(t,Ee);function t(n,Ce){var Te=this,Re="Failed to layout combed text as lineLength="+n+" is greater than cellCount="+Ce;return Te=Ee.call(this,Re)||this,Te}return t})(Error),ExceededMaxLengthError=(function(Ee){__extends(t,Ee);function t(n,Ce,Te){var Re=this,Be="Attempted to set text with length="+n+" for TextField with maxLength="+Ce+" and name="+Te;return Re=Ee.call(this,Be)||this,Re}return t})(Error),InvalidMaxLengthError=(function(Ee){__extends(t,Ee);function t(n,Ce,Te){var Re=this,Be="Attempted to set maxLength="+Ce+", which is less than "+n+", the length of this field's current value (name="+Te+")";return Re=Ee.call(this,Be)||this,Re}return t})(Error),TextAlignment;(function(Ee){Ee[Ee.Left=0]="Left",Ee[Ee.Center=1]="Center",Ee[Ee.Right=2]="Right"})(TextAlignment||(TextAlignment={}));var MIN_FONT_SIZE=4,MAX_FONT_SIZE=500,computeFontSize=function(Ee,t,n,Ce){Ce===void 0&&(Ce=!1);for(var Te=MIN_FONT_SIZE;Te<MAX_FONT_SIZE;){for(var Re=0,Be=0,Ue=Ee.length;Be<Ue;Be++){Re+=1;for(var Oe=Ee[Be],Me=Oe.split(" "),Qe=n.width,Ke=0,Ge=Me.length;Ke<Ge;Ke++){var qe=Ke===Ge-1,Xe=qe?Me[Ke]:Me[Ke]+" ",tr=t.widthOfTextAtSize(Xe,Te);Qe-=tr,Qe<=0&&(Re+=1,Qe=n.width-tr)}}if(!Ce&&Re>Ee.length)return Te-1;var Je=t.heightAtSize(Te),Ye=Je+Je*.2,lr=Ye*Re;if(lr>Math.abs(n.height))return Te-1;Te+=1}return Te},computeCombedFontSize=function(Ee,t,n,Ce){for(var Te=n.width/Ce,Re=n.height,Be=MIN_FONT_SIZE,Ue=charSplit(Ee);Be<MAX_FONT_SIZE;){for(var Oe=0,Me=Ue.length;Oe<Me;Oe++){var Qe=Ue[Oe],Ke=t.widthOfTextAtSize(Qe,Be)>Te*.75;if(Ke)return Be-1}var Ge=t.heightAtSize(Be,{descender:!1});if(Ge>Re)return Be-1;Be+=1}return Be},lastIndexOfWhitespace=function(Ee){for(var t=Ee.length;t>0;t--)if(/\s/.test(Ee[t]))return t},splitOutLines=function(Ee,t,n,Ce){for(var Te,Re=Ee.length;Re>0;){var Be=Ee.substring(0,Re),Ue=n.encodeText(Be),Oe=n.widthOfTextAtSize(Be,Ce);if(Oe<t){var Me=Ee.substring(Re)||void 0;return{line:Be,encoded:Ue,width:Oe,remainder:Me}}Re=(Te=lastIndexOfWhitespace(Be))!==null&&Te!==void 0?Te:0}return{line:Ee,encoded:n.encodeText(Ee),width:n.widthOfTextAtSize(Ee,Ce),remainder:void 0}},layoutMultilineText=function(Ee,t){var n=t.alignment,Ce=t.fontSize,Te=t.font,Re=t.bounds,Be=lineSplit(cleanText(Ee));(Ce===void 0||Ce===0)&&(Ce=computeFontSize(Be,Te,Re,!0));for(var Ue=Te.heightAtSize(Ce),Oe=Ue+Ue*.2,Me=[],Qe=Re.x,Ke=Re.y,Ge=Re.x+Re.width,qe=Re.y+Re.height,Xe=Re.y+Re.height,tr=0,Je=Be.length;tr<Je;tr++)for(var Ye=Be[tr];Ye!==void 0;){var lr=splitOutLines(Ye,Re.width,Te,Ce),cr=lr.line,hr=lr.encoded,ur=lr.width,fr=lr.remainder,er=n===TextAlignment.Left?Re.x:n===TextAlignment.Center?Re.x+Re.width/2-ur/2:n===TextAlignment.Right?Re.x+Re.width-ur:Re.x;Xe-=Oe,er<Qe&&(Qe=er),Xe<Ke&&(Ke=Xe),er+ur>Ge&&(Ge=er+ur),Xe+Ue>qe&&(qe=Xe+Ue),Me.push({text:cr,encoded:hr,width:ur,height:Ue,x:er,y:Xe}),Ye=fr==null?void 0:fr.trim()}return{fontSize:Ce,lineHeight:Oe,lines:Me,bounds:{x:Qe,y:Ke,width:Ge-Qe,height:qe-Ke}}},layoutCombedText=function(Ee,t){var n=t.fontSize,Ce=t.font,Te=t.bounds,Re=t.cellCount,Be=mergeLines(cleanText(Ee));if(Be.length>Re)throw new CombedTextLayoutError(Be.length,Re);(n===void 0||n===0)&&(n=computeCombedFontSize(Be,Ce,Te,Re));for(var Ue=Te.width/Re,Oe=Ce.heightAtSize(n,{descender:!1}),Me=Te.y+(Te.height/2-Oe/2),Qe=[],Ke=Te.x,Ge=Te.y,qe=Te.x+Te.width,Xe=Te.y+Te.height,tr=0,Je=0;tr<Re;){var Ye=charAtIndex(Be,Je),lr=Ye[0],cr=Ye[1],hr=Ce.encodeText(lr),ur=Ce.widthOfTextAtSize(lr,n),fr=Te.x+(Ue*tr+Ue/2),er=fr-ur/2;er<Ke&&(Ke=er),Me<Ge&&(Ge=Me),er+ur>qe&&(qe=er+ur),Me+Oe>Xe&&(Xe=Me+Oe),Qe.push({text:Be,encoded:hr,width:ur,height:Oe,x:er,y:Me}),tr+=1,Je+=cr}return{fontSize:n,cells:Qe,bounds:{x:Ke,y:Ge,width:qe-Ke,height:Xe-Ge}}},layoutSinglelineText=function(Ee,t){var n=t.alignment,Ce=t.fontSize,Te=t.font,Re=t.bounds,Be=mergeLines(cleanText(Ee));(Ce===void 0||Ce===0)&&(Ce=computeFontSize([Be],Te,Re));var Ue=Te.encodeText(Be),Oe=Te.widthOfTextAtSize(Be,Ce),Me=Te.heightAtSize(Ce,{descender:!1}),Qe=n===TextAlignment.Left?Re.x:n===TextAlignment.Center?Re.x+Re.width/2-Oe/2:n===TextAlignment.Right?Re.x+Re.width-Oe:Re.x,Ke=Re.y+(Re.height/2-Me/2);return{fontSize:Ce,line:{text:Be,encoded:Ue,width:Oe,height:Me,x:Qe,y:Ke},bounds:{x:Qe,y:Ke,width:Oe,height:Me}}},normalizeAppearance=function(Ee){return"normal"in Ee?Ee:{normal:Ee}},tfRegex=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,getDefaultFontSize=function(Ee){var t,n,Ce=(t=Ee.getDefaultAppearance())!==null&&t!==void 0?t:"",Te=(n=findLastMatch(Ce,tfRegex).match)!==null&&n!==void 0?n:[],Re=Number(Te[2]);return isFinite(Re)?Re:void 0},colorRegex=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,getDefaultColor=function(Ee){var t,n=(t=Ee.getDefaultAppearance())!==null&&t!==void 0?t:"",Ce=findLastMatch(n,colorRegex).match,Te=Ce??[],Re=Te[1],Be=Te[2],Ue=Te[3],Oe=Te[4],Me=Te[5];if(Me==="g"&&Re)return grayscale(Number(Re));if(Me==="rg"&&Re&&Be&&Ue)return rgb(Number(Re),Number(Be),Number(Ue));if(Me==="k"&&Re&&Be&&Ue&&Oe)return cmyk(Number(Re),Number(Be),Number(Ue),Number(Oe))},updateDefaultAppearance=function(Ee,t,n,Ce){var Te;Ce===void 0&&(Ce=0);var Re=[setFillingColor(t).toString(),setFontAndSize((Te=n==null?void 0:n.name)!==null&&Te!==void 0?Te:"dummy__noop",Ce).toString()].join(`
`);Ee.setDefaultAppearance(Re)},defaultCheckBoxAppearanceProvider=function(Ee,t){var n,Ce,Te,Re=getDefaultColor(t),Be=getDefaultColor(Ee.acroField),Ue=t.getRectangle(),Oe=t.getAppearanceCharacteristics(),Me=t.getBorderStyle(),Qe=(n=Me==null?void 0:Me.getWidth())!==null&&n!==void 0?n:0,Ke=reduceRotation(Oe==null?void 0:Oe.getRotation()),Ge=adjustDimsForRotation(Ue,Ke),qe=Ge.width,Xe=Ge.height,tr=rotateInPlace(__assign(__assign({},Ue),{rotation:Ke})),Je=rgb(0,0,0),Ye=(Ce=componentsToColor(Oe==null?void 0:Oe.getBorderColor()))!==null&&Ce!==void 0?Ce:Je,lr=componentsToColor(Oe==null?void 0:Oe.getBackgroundColor()),cr=componentsToColor(Oe==null?void 0:Oe.getBackgroundColor(),.8),hr=(Te=Re??Be)!==null&&Te!==void 0?Te:Je;updateDefaultAppearance(Re?t:Ee.acroField,hr);var ur={x:0+Qe/2,y:0+Qe/2,width:qe-Qe,height:Xe-Qe,thickness:1.5,borderWidth:Qe,borderColor:Ye,markColor:hr};return{normal:{on:__spreadArrays(tr,drawCheckBox(__assign(__assign({},ur),{color:lr,filled:!0}))),off:__spreadArrays(tr,drawCheckBox(__assign(__assign({},ur),{color:lr,filled:!1})))},down:{on:__spreadArrays(tr,drawCheckBox(__assign(__assign({},ur),{color:cr,filled:!0}))),off:__spreadArrays(tr,drawCheckBox(__assign(__assign({},ur),{color:cr,filled:!1})))}}},defaultRadioGroupAppearanceProvider=function(Ee,t){var n,Ce,Te,Re=getDefaultColor(t),Be=getDefaultColor(Ee.acroField),Ue=t.getRectangle(),Oe=t.getAppearanceCharacteristics(),Me=t.getBorderStyle(),Qe=(n=Me==null?void 0:Me.getWidth())!==null&&n!==void 0?n:0,Ke=reduceRotation(Oe==null?void 0:Oe.getRotation()),Ge=adjustDimsForRotation(Ue,Ke),qe=Ge.width,Xe=Ge.height,tr=rotateInPlace(__assign(__assign({},Ue),{rotation:Ke})),Je=rgb(0,0,0),Ye=(Ce=componentsToColor(Oe==null?void 0:Oe.getBorderColor()))!==null&&Ce!==void 0?Ce:Je,lr=componentsToColor(Oe==null?void 0:Oe.getBackgroundColor()),cr=componentsToColor(Oe==null?void 0:Oe.getBackgroundColor(),.8),hr=(Te=Re??Be)!==null&&Te!==void 0?Te:Je;updateDefaultAppearance(Re?t:Ee.acroField,hr);var ur={x:qe/2,y:Xe/2,width:qe-Qe,height:Xe-Qe,borderWidth:Qe,borderColor:Ye,dotColor:hr};return{normal:{on:__spreadArrays(tr,drawRadioButton(__assign(__assign({},ur),{color:lr,filled:!0}))),off:__spreadArrays(tr,drawRadioButton(__assign(__assign({},ur),{color:lr,filled:!1})))},down:{on:__spreadArrays(tr,drawRadioButton(__assign(__assign({},ur),{color:cr,filled:!0}))),off:__spreadArrays(tr,drawRadioButton(__assign(__assign({},ur),{color:cr,filled:!1})))}}},defaultButtonAppearanceProvider=function(Ee,t,n){var Ce,Te,Re,Be,Ue,Oe=getDefaultColor(t),Me=getDefaultColor(Ee.acroField),Qe=getDefaultFontSize(t),Ke=getDefaultFontSize(Ee.acroField),Ge=t.getRectangle(),qe=t.getAppearanceCharacteristics(),Xe=t.getBorderStyle(),tr=qe==null?void 0:qe.getCaptions(),Je=(Ce=tr==null?void 0:tr.normal)!==null&&Ce!==void 0?Ce:"",Ye=(Re=(Te=tr==null?void 0:tr.down)!==null&&Te!==void 0?Te:Je)!==null&&Re!==void 0?Re:"",lr=(Be=Xe==null?void 0:Xe.getWidth())!==null&&Be!==void 0?Be:0,cr=reduceRotation(qe==null?void 0:qe.getRotation()),hr=adjustDimsForRotation(Ge,cr),ur=hr.width,fr=hr.height,er=rotateInPlace(__assign(__assign({},Ge),{rotation:cr})),nr=rgb(0,0,0),ir=componentsToColor(qe==null?void 0:qe.getBorderColor()),mr=componentsToColor(qe==null?void 0:qe.getBackgroundColor()),$e=componentsToColor(qe==null?void 0:qe.getBackgroundColor(),.8),Ar={x:lr,y:lr,width:ur-lr*2,height:fr-lr*2},or=layoutSinglelineText(Je,{alignment:TextAlignment.Center,fontSize:Qe??Ke,font:n,bounds:Ar}),Tr=layoutSinglelineText(Ye,{alignment:TextAlignment.Center,fontSize:Qe??Ke,font:n,bounds:Ar}),Ur=Math.min(or.fontSize,Tr.fontSize),Fr=(Ue=Oe??Me)!==null&&Ue!==void 0?Ue:nr;updateDefaultAppearance(Oe||Qe!==void 0?t:Ee.acroField,Fr,n,Ur);var Er={x:0+lr/2,y:0+lr/2,width:ur-lr,height:fr-lr,borderWidth:lr,borderColor:ir,textColor:Fr,font:n.name,fontSize:Ur};return{normal:__spreadArrays(er,drawButton(__assign(__assign({},Er),{color:mr,textLines:[or.line]}))),down:__spreadArrays(er,drawButton(__assign(__assign({},Er),{color:$e,textLines:[Tr.line]})))}},defaultTextFieldAppearanceProvider=function(Ee,t,n){var Ce,Te,Re,Be,Ue=getDefaultColor(t),Oe=getDefaultColor(Ee.acroField),Me=getDefaultFontSize(t),Qe=getDefaultFontSize(Ee.acroField),Ke=t.getRectangle(),Ge=t.getAppearanceCharacteristics(),qe=t.getBorderStyle(),Xe=(Ce=Ee.getText())!==null&&Ce!==void 0?Ce:"",tr=(Te=qe==null?void 0:qe.getWidth())!==null&&Te!==void 0?Te:0,Je=reduceRotation(Ge==null?void 0:Ge.getRotation()),Ye=adjustDimsForRotation(Ke,Je),lr=Ye.width,cr=Ye.height,hr=rotateInPlace(__assign(__assign({},Ke),{rotation:Je})),ur=rgb(0,0,0),fr=componentsToColor(Ge==null?void 0:Ge.getBorderColor()),er=componentsToColor(Ge==null?void 0:Ge.getBackgroundColor()),nr,ir,mr=Ee.isCombed()?0:1,$e={x:tr+mr,y:tr+mr,width:lr-(tr+mr)*2,height:cr-(tr+mr)*2};if(Ee.isMultiline()){var Ar=layoutMultilineText(Xe,{alignment:Ee.getAlignment(),fontSize:Me??Qe,font:n,bounds:$e});nr=Ar.lines,ir=Ar.fontSize}else if(Ee.isCombed()){var Ar=layoutCombedText(Xe,{fontSize:Me??Qe,font:n,bounds:$e,cellCount:(Re=Ee.getMaxLength())!==null&&Re!==void 0?Re:0});nr=Ar.cells,ir=Ar.fontSize}else{var Ar=layoutSinglelineText(Xe,{alignment:Ee.getAlignment(),fontSize:Me??Qe,font:n,bounds:$e});nr=[Ar.line],ir=Ar.fontSize}var or=(Be=Ue??Oe)!==null&&Be!==void 0?Be:ur;updateDefaultAppearance(Ue||Me!==void 0?t:Ee.acroField,or,n,ir);var Tr={x:0+tr/2,y:0+tr/2,width:lr-tr,height:cr-tr,borderWidth:tr??0,borderColor:fr,textColor:or,font:n.name,fontSize:ir,color:er,textLines:nr,padding:mr};return __spreadArrays(hr,drawTextField(Tr))},defaultDropdownAppearanceProvider=function(Ee,t,n){var Ce,Te,Re,Be=getDefaultColor(t),Ue=getDefaultColor(Ee.acroField),Oe=getDefaultFontSize(t),Me=getDefaultFontSize(Ee.acroField),Qe=t.getRectangle(),Ke=t.getAppearanceCharacteristics(),Ge=t.getBorderStyle(),qe=(Ce=Ee.getSelected()[0])!==null&&Ce!==void 0?Ce:"",Xe=(Te=Ge==null?void 0:Ge.getWidth())!==null&&Te!==void 0?Te:0,tr=reduceRotation(Ke==null?void 0:Ke.getRotation()),Je=adjustDimsForRotation(Qe,tr),Ye=Je.width,lr=Je.height,cr=rotateInPlace(__assign(__assign({},Qe),{rotation:tr})),hr=rgb(0,0,0),ur=componentsToColor(Ke==null?void 0:Ke.getBorderColor()),fr=componentsToColor(Ke==null?void 0:Ke.getBackgroundColor()),er=1,nr={x:Xe+er,y:Xe+er,width:Ye-(Xe+er)*2,height:lr-(Xe+er)*2},ir=layoutSinglelineText(qe,{alignment:TextAlignment.Left,fontSize:Oe??Me,font:n,bounds:nr}),mr=ir.line,$e=ir.fontSize,Ar=(Re=Be??Ue)!==null&&Re!==void 0?Re:hr;updateDefaultAppearance(Be||Oe!==void 0?t:Ee.acroField,Ar,n,$e);var or={x:0+Xe/2,y:0+Xe/2,width:Ye-Xe,height:lr-Xe,borderWidth:Xe??0,borderColor:ur,textColor:Ar,font:n.name,fontSize:$e,color:fr,textLines:[mr],padding:er};return __spreadArrays(cr,drawTextField(or))},defaultOptionListAppearanceProvider=function(Ee,t,n){var Ce,Te,Re=getDefaultColor(t),Be=getDefaultColor(Ee.acroField),Ue=getDefaultFontSize(t),Oe=getDefaultFontSize(Ee.acroField),Me=t.getRectangle(),Qe=t.getAppearanceCharacteristics(),Ke=t.getBorderStyle(),Ge=(Ce=Ke==null?void 0:Ke.getWidth())!==null&&Ce!==void 0?Ce:0,qe=reduceRotation(Qe==null?void 0:Qe.getRotation()),Xe=adjustDimsForRotation(Me,qe),tr=Xe.width,Je=Xe.height,Ye=rotateInPlace(__assign(__assign({},Me),{rotation:qe})),lr=rgb(0,0,0),cr=componentsToColor(Qe==null?void 0:Qe.getBorderColor()),hr=componentsToColor(Qe==null?void 0:Qe.getBackgroundColor()),ur=Ee.getOptions(),fr=Ee.getSelected();Ee.isSorted()&&ur.sort();for(var er="",nr=0,ir=ur.length;nr<ir;nr++)er+=ur[nr],nr<ir-1&&(er+=`
`);for(var mr=1,$e={x:Ge+mr,y:Ge+mr,width:tr-(Ge+mr)*2,height:Je-(Ge+mr)*2},Ar=layoutMultilineText(er,{alignment:TextAlignment.Left,fontSize:Ue??Oe,font:n,bounds:$e}),or=Ar.lines,Tr=Ar.fontSize,Ur=Ar.lineHeight,Fr=[],nr=0,ir=or.length;nr<ir;nr++){var Er=or[nr];fr.includes(Er.text)&&Fr.push(nr)}var jr=rgb(153/255,193/255,218/255),Nr=(Te=Re??Be)!==null&&Te!==void 0?Te:lr;return updateDefaultAppearance(Re||Ue!==void 0?t:Ee.acroField,Nr,n,Tr),__spreadArrays(Ye,drawOptionList({x:0+Ge/2,y:0+Ge/2,width:tr-Ge,height:Je-Ge,borderWidth:Ge??0,borderColor:cr,textColor:Nr,font:n.name,fontSize:Tr,color:hr,textLines:or,lineHeight:Ur,selectedColor:jr,selectedLines:Fr,padding:mr}))},PDFEmbeddedPage=(function(){function Ee(t,n,Ce){this.alreadyEmbedded=!1,assertIs(t,"ref",[[PDFRef,"PDFRef"]]),assertIs(n,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(Ce,"embedder",[[PDFPageEmbedder,"PDFPageEmbedder"]]),this.ref=t,this.doc=n,this.width=Ce.width,this.height=Ce.height,this.embedder=Ce}return Ee.prototype.scale=function(t){return assertIs(t,"factor",["number"]),{width:this.width*t,height:this.height*t}},Ee.prototype.size=function(){return this.scale(1)},Ee.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:t.sent(),this.alreadyEmbedded=!0,t.label=2;case 2:return[2]}})})},Ee.of=function(t,n,Ce){return new Ee(t,n,Ce)},Ee})(),PDFFont=(function(){function Ee(t,n,Ce){this.modified=!0,assertIs(t,"ref",[[PDFRef,"PDFRef"]]),assertIs(n,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(Ce,"embedder",[[CustomFontEmbedder,"CustomFontEmbedder"],[StandardFontEmbedder,"StandardFontEmbedder"]]),this.ref=t,this.doc=n,this.name=Ce.fontName,this.embedder=Ce}return Ee.prototype.encodeText=function(t){return assertIs(t,"text",["string"]),this.modified=!0,this.embedder.encodeText(t)},Ee.prototype.widthOfTextAtSize=function(t,n){return assertIs(t,"text",["string"]),assertIs(n,"size",["number"]),this.embedder.widthOfTextAtSize(t,n)},Ee.prototype.heightAtSize=function(t,n){var Ce;return assertIs(t,"size",["number"]),assertOrUndefined(n==null?void 0:n.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(t,{descender:(Ce=n==null?void 0:n.descender)!==null&&Ce!==void 0?Ce:!0})},Ee.prototype.sizeAtHeight=function(t){return assertIs(t,"height",["number"]),this.embedder.sizeOfFontAtHeight(t)},Ee.prototype.getCharacterSet=function(){return this.embedder instanceof StandardFontEmbedder?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},Ee.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:t.sent(),this.modified=!1,t.label=2;case 2:return[2]}})})},Ee.of=function(t,n,Ce){return new Ee(t,n,Ce)},Ee})(),PDFImage=(function(){function Ee(t,n,Ce){assertIs(t,"ref",[[PDFRef,"PDFRef"]]),assertIs(n,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(Ce,"embedder",[[JpegEmbedder,"JpegEmbedder"],[PngEmbedder,"PngEmbedder"]]),this.ref=t,this.doc=n,this.width=Ce.width,this.height=Ce.height,this.embedder=Ce}return Ee.prototype.scale=function(t){return assertIs(t,"factor",["number"]),{width:this.width*t,height:this.height*t}},Ee.prototype.scaleToFit=function(t,n){assertIs(t,"width",["number"]),assertIs(n,"height",["number"]);var Ce=t/this.width,Te=n/this.height,Re=Math.min(Ce,Te);return this.scale(Re)},Ee.prototype.size=function(){return this.scale(1)},Ee.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){var t,n,Ce;return __generator(this,function(Te){switch(Te.label){case 0:return this.embedder?(this.embedTask||(t=this,n=t.doc,Ce=t.ref,this.embedTask=this.embedder.embedIntoContext(n.context,Ce)),[4,this.embedTask]):[2];case 1:return Te.sent(),this.embedder=void 0,[2]}})})},Ee.of=function(t,n,Ce){return new Ee(t,n,Ce)},Ee})(),ImageAlignment;(function(Ee){Ee[Ee.Left=0]="Left",Ee[Ee.Center=1]="Center",Ee[Ee.Right=2]="Right"})(ImageAlignment||(ImageAlignment={}));var assertFieldAppearanceOptions=function(Ee){assertOrUndefined(Ee==null?void 0:Ee.x,"options.x",["number"]),assertOrUndefined(Ee==null?void 0:Ee.y,"options.y",["number"]),assertOrUndefined(Ee==null?void 0:Ee.width,"options.width",["number"]),assertOrUndefined(Ee==null?void 0:Ee.height,"options.height",["number"]),assertOrUndefined(Ee==null?void 0:Ee.textColor,"options.textColor",[[Object,"Color"]]),assertOrUndefined(Ee==null?void 0:Ee.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),assertOrUndefined(Ee==null?void 0:Ee.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(Ee==null?void 0:Ee.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(Ee==null?void 0:Ee.rotate,"options.rotate",[[Object,"Rotation"]])},PDFField=(function(){function Ee(t,n,Ce){assertIs(t,"acroField",[[PDFAcroTerminal,"PDFAcroTerminal"]]),assertIs(n,"ref",[[PDFRef,"PDFRef"]]),assertIs(Ce,"doc",[[PDFDocument,"PDFDocument"]]),this.acroField=t,this.ref=n,this.doc=Ce}return Ee.prototype.getName=function(){var t;return(t=this.acroField.getFullyQualifiedName())!==null&&t!==void 0?t:""},Ee.prototype.isReadOnly=function(){return this.acroField.hasFlag(AcroFieldFlags.ReadOnly)},Ee.prototype.enableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!0)},Ee.prototype.disableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!1)},Ee.prototype.isRequired=function(){return this.acroField.hasFlag(AcroFieldFlags.Required)},Ee.prototype.enableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!0)},Ee.prototype.disableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!1)},Ee.prototype.isExported=function(){return!this.acroField.hasFlag(AcroFieldFlags.NoExport)},Ee.prototype.enableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!1)},Ee.prototype.disableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!0)},Ee.prototype.needsAppearancesUpdate=function(){throw new MethodNotImplementedError(this.constructor.name,"needsAppearancesUpdate")},Ee.prototype.defaultUpdateAppearances=function(t){throw new MethodNotImplementedError(this.constructor.name,"defaultUpdateAppearances")},Ee.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},Ee.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},Ee.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},Ee.prototype.createWidget=function(t){var n,Ce=t.textColor,Te=t.backgroundColor,Re=t.borderColor,Be=t.borderWidth,Ue=toDegrees(t.rotate),Oe=t.caption,Me=t.x,Qe=t.y,Ke=t.width+Be,Ge=t.height+Be,qe=!!t.hidden,Xe=t.page;assertMultiple(Ue,"degreesAngle",90);var tr=PDFWidgetAnnotation.create(this.doc.context,this.ref),Je=rotateRectangle({x:Me,y:Qe,width:Ke,height:Ge},Be,Ue);tr.setRectangle(Je),Xe&&tr.setP(Xe);var Ye=tr.getOrCreateAppearanceCharacteristics();Te&&Ye.setBackgroundColor(colorToComponents(Te)),Ye.setRotation(Ue),Oe&&Ye.setCaptions({normal:Oe}),Re&&Ye.setBorderColor(colorToComponents(Re));var lr=tr.getOrCreateBorderStyle();if(Be!==void 0&&lr.setWidth(Be),tr.setFlagTo(AnnotationFlags.Print,!0),tr.setFlagTo(AnnotationFlags.Hidden,qe),tr.setFlagTo(AnnotationFlags.Invisible,!1),Ce){var cr=(n=this.acroField.getDefaultAppearance())!==null&&n!==void 0?n:"",hr=cr+`
`+setFillingColor(Ce).toString();this.acroField.setDefaultAppearance(hr)}return tr},Ee.prototype.updateWidgetAppearanceWithFont=function(t,n,Ce){var Te=Ce.normal,Re=Ce.rollover,Be=Ce.down;this.updateWidgetAppearances(t,{normal:this.createAppearanceStream(t,Te,n),rollover:Re&&this.createAppearanceStream(t,Re,n),down:Be&&this.createAppearanceStream(t,Be,n)})},Ee.prototype.updateOnOffWidgetAppearance=function(t,n,Ce){var Te=Ce.normal,Re=Ce.rollover,Be=Ce.down;this.updateWidgetAppearances(t,{normal:this.createAppearanceDict(t,Te,n),rollover:Re&&this.createAppearanceDict(t,Re,n),down:Be&&this.createAppearanceDict(t,Be,n)})},Ee.prototype.updateWidgetAppearances=function(t,n){var Ce=n.normal,Te=n.rollover,Re=n.down;t.setNormalAppearance(Ce),Te?t.setRolloverAppearance(Te):t.removeRolloverAppearance(),Re?t.setDownAppearance(Re):t.removeDownAppearance()},Ee.prototype.createAppearanceStream=function(t,n,Ce){var Te,Re=this.acroField.dict.context,Be=t.getRectangle(),Ue=Be.width,Oe=Be.height,Me=Ce&&{Font:(Te={},Te[Ce.name]=Ce.ref,Te)},Qe=Re.formXObject(n,{Resources:Me,BBox:Re.obj([0,0,Ue,Oe]),Matrix:Re.obj([1,0,0,1,0,0])}),Ke=Re.register(Qe);return Ke},Ee.prototype.createImageAppearanceStream=function(t,n,Ce){var Te,Re,Be=this.acroField.dict.context,Ue=t.getRectangle(),Oe=t.getAppearanceCharacteristics(),Me=t.getBorderStyle(),Qe=(Re=Me==null?void 0:Me.getWidth())!==null&&Re!==void 0?Re:0,Ke=reduceRotation(Oe==null?void 0:Oe.getRotation()),Ge=rotateInPlace(__assign(__assign({},Ue),{rotation:Ke})),qe=adjustDimsForRotation(Ue,Ke),Xe=n.scaleToFit(qe.width-Qe*2,qe.height-Qe*2),tr={x:Qe,y:Qe,width:Xe.width,height:Xe.height,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)};Ce===ImageAlignment.Center?(tr.x+=(qe.width-Qe*2)/2-Xe.width/2,tr.y+=(qe.height-Qe*2)/2-Xe.height/2):Ce===ImageAlignment.Right&&(tr.x=qe.width-Qe-Xe.width,tr.y=qe.height-Qe-Xe.height);var Je=this.doc.context.addRandomSuffix("Image",10),Ye=__spreadArrays(Ge,drawImage(Je,tr)),lr={XObject:(Te={},Te[Je]=n.ref,Te)},cr=Be.formXObject(Ye,{Resources:lr,BBox:Be.obj([0,0,Ue.width,Ue.height]),Matrix:Be.obj([1,0,0,1,0,0])});return Be.register(cr)},Ee.prototype.createAppearanceDict=function(t,n,Ce){var Te=this.acroField.dict.context,Re=this.createAppearanceStream(t,n.on),Be=this.createAppearanceStream(t,n.off),Ue=Te.obj({});return Ue.set(Ce,Re),Ue.set(PDFName.of("Off"),Be),Ue},Ee})(),PDFCheckBox=(function(Ee){__extends(t,Ee);function t(n,Ce,Te){var Re=Ee.call(this,n,Ce,Te)||this;return assertIs(n,"acroCheckBox",[[PDFAcroCheckBox,"PDFAcroCheckBox"]]),Re.acroField=n,Re}return t.prototype.check=function(){var n,Ce=(n=this.acroField.getOnValue())!==null&&n!==void 0?n:PDFName.of("Yes");this.markAsDirty(),this.acroField.setValue(Ce)},t.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},t.prototype.isChecked=function(){var n=this.acroField.getOnValue();return!!n&&n===this.acroField.getValue()},t.prototype.addToPage=function(n,Ce){var Te,Re,Be,Ue,Oe,Me;assertIs(n,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(Ce),Ce||(Ce={}),"textColor"in Ce||(Ce.textColor=rgb(0,0,0)),"backgroundColor"in Ce||(Ce.backgroundColor=rgb(1,1,1)),"borderColor"in Ce||(Ce.borderColor=rgb(0,0,0)),"borderWidth"in Ce||(Ce.borderWidth=1);var Qe=this.createWidget({x:(Te=Ce.x)!==null&&Te!==void 0?Te:0,y:(Re=Ce.y)!==null&&Re!==void 0?Re:0,width:(Be=Ce.width)!==null&&Be!==void 0?Be:50,height:(Ue=Ce.height)!==null&&Ue!==void 0?Ue:50,textColor:Ce.textColor,backgroundColor:Ce.backgroundColor,borderColor:Ce.borderColor,borderWidth:(Oe=Ce.borderWidth)!==null&&Oe!==void 0?Oe:0,rotate:(Me=Ce.rotate)!==null&&Me!==void 0?Me:degrees(0),hidden:Ce.hidden,page:n.ref}),Ke=this.doc.context.register(Qe.dict);this.acroField.addWidget(Ke),Qe.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance(Qe,PDFName.of("Yes")),n.node.addAnnot(Ke)},t.prototype.needsAppearancesUpdate=function(){for(var n,Ce=this.acroField.getWidgets(),Te=0,Re=Ce.length;Te<Re;Te++){var Be=Ce[Te],Ue=Be.getAppearanceState(),Oe=(n=Be.getAppearances())===null||n===void 0?void 0:n.normal;if(!(Oe instanceof PDFDict)||Ue&&!Oe.has(Ue))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(n){var Ce;assertOrUndefined(n,"provider",[Function]);for(var Te=this.acroField.getWidgets(),Re=0,Be=Te.length;Re<Be;Re++){var Ue=Te[Re],Oe=(Ce=Ue.getOnValue())!==null&&Ce!==void 0?Ce:PDFName.of("Yes");Oe&&this.updateWidgetAppearance(Ue,Oe,n)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(n,Ce,Te){var Re=Te??defaultCheckBoxAppearanceProvider,Be=normalizeAppearance(Re(this,n));this.updateOnOffWidgetAppearance(n,Ce,Be)},t.of=function(n,Ce,Te){return new t(n,Ce,Te)},t})(PDFField),PDFDropdown=(function(Ee){__extends(t,Ee);function t(n,Ce,Te){var Re=Ee.call(this,n,Ce,Te)||this;return assertIs(n,"acroComboBox",[[PDFAcroComboBox,"PDFAcroComboBox"]]),Re.acroField=n,Re}return t.prototype.getOptions=function(){for(var n=this.acroField.getOptions(),Ce=new Array(n.length),Te=0,Re=Ce.length;Te<Re;Te++){var Be=n[Te],Ue=Be.display,Oe=Be.value;Ce[Te]=(Ue??Oe).decodeText()}return Ce},t.prototype.getSelected=function(){for(var n=this.acroField.getValues(),Ce=new Array(n.length),Te=0,Re=n.length;Te<Re;Te++)Ce[Te]=n[Te].decodeText();return Ce},t.prototype.setOptions=function(n){assertIs(n,"options",[Array]);for(var Ce=new Array(n.length),Te=0,Re=n.length;Te<Re;Te++)Ce[Te]={value:PDFHexString.fromText(n[Te])};this.acroField.setOptions(Ce)},t.prototype.addOptions=function(n){assertIs(n,"options",["string",Array]);for(var Ce=Array.isArray(n)?n:[n],Te=this.acroField.getOptions(),Re=new Array(Ce.length),Be=0,Ue=Ce.length;Be<Ue;Be++)Re[Be]={value:PDFHexString.fromText(Ce[Be])};this.acroField.setOptions(Te.concat(Re))},t.prototype.select=function(n,Ce){Ce===void 0&&(Ce=!1),assertIs(n,"options",["string",Array]),assertIs(Ce,"merge",["boolean"]);var Te=Array.isArray(n)?n:[n],Re=this.getOptions(),Be=Te.find(function(Ke){return!Re.includes(Ke)});Be&&this.enableEditing(),this.markAsDirty(),(Te.length>1||Te.length===1&&Ce)&&this.enableMultiselect();for(var Ue=new Array(Te.length),Oe=0,Me=Te.length;Oe<Me;Oe++)Ue[Oe]=PDFHexString.fromText(Te[Oe]);if(Ce){var Qe=this.acroField.getValues();this.acroField.setValues(Qe.concat(Ue))}else this.acroField.setValues(Ue)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(n){assertPositive(n,"fontSize"),this.acroField.setFontSize(n),this.markAsDirty()},t.prototype.isEditable=function(){return this.acroField.hasFlag(AcroChoiceFlags.Edit)},t.prototype.enableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!0)},t.prototype.disableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!1)},t.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroChoiceFlags.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!0)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},t.prototype.addToPage=function(n,Ce){var Te,Re,Be,Ue,Oe,Me,Qe;assertIs(n,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(Ce),Ce||(Ce={}),"textColor"in Ce||(Ce.textColor=rgb(0,0,0)),"backgroundColor"in Ce||(Ce.backgroundColor=rgb(1,1,1)),"borderColor"in Ce||(Ce.borderColor=rgb(0,0,0)),"borderWidth"in Ce||(Ce.borderWidth=1);var Ke=this.createWidget({x:(Te=Ce.x)!==null&&Te!==void 0?Te:0,y:(Re=Ce.y)!==null&&Re!==void 0?Re:0,width:(Be=Ce.width)!==null&&Be!==void 0?Be:200,height:(Ue=Ce.height)!==null&&Ue!==void 0?Ue:50,textColor:Ce.textColor,backgroundColor:Ce.backgroundColor,borderColor:Ce.borderColor,borderWidth:(Oe=Ce.borderWidth)!==null&&Oe!==void 0?Oe:0,rotate:(Me=Ce.rotate)!==null&&Me!==void 0?Me:degrees(0),hidden:Ce.hidden,page:n.ref}),Ge=this.doc.context.register(Ke.dict);this.acroField.addWidget(Ge);var qe=(Qe=Ce.font)!==null&&Qe!==void 0?Qe:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(Ke,qe),n.node.addAnnot(Ge)},t.prototype.needsAppearancesUpdate=function(){var n;if(this.isDirty())return!0;for(var Ce=this.acroField.getWidgets(),Te=0,Re=Ce.length;Te<Re;Te++){var Be=Ce[Te],Ue=((n=Be.getAppearances())===null||n===void 0?void 0:n.normal)instanceof PDFStream;if(!Ue)return!0}return!1},t.prototype.defaultUpdateAppearances=function(n){assertIs(n,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(n)},t.prototype.updateAppearances=function(n,Ce){assertIs(n,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(Ce,"provider",[Function]);for(var Te=this.acroField.getWidgets(),Re=0,Be=Te.length;Re<Be;Re++){var Ue=Te[Re];this.updateWidgetAppearance(Ue,n,Ce)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(n,Ce,Te){var Re=Te??defaultDropdownAppearanceProvider,Be=normalizeAppearance(Re(this,n,Ce));this.updateWidgetAppearanceWithFont(n,Ce,Be)},t.of=function(n,Ce,Te){return new t(n,Ce,Te)},t})(PDFField),PDFOptionList=(function(Ee){__extends(t,Ee);function t(n,Ce,Te){var Re=Ee.call(this,n,Ce,Te)||this;return assertIs(n,"acroListBox",[[PDFAcroListBox,"PDFAcroListBox"]]),Re.acroField=n,Re}return t.prototype.getOptions=function(){for(var n=this.acroField.getOptions(),Ce=new Array(n.length),Te=0,Re=Ce.length;Te<Re;Te++){var Be=n[Te],Ue=Be.display,Oe=Be.value;Ce[Te]=(Ue??Oe).decodeText()}return Ce},t.prototype.getSelected=function(){for(var n=this.acroField.getValues(),Ce=new Array(n.length),Te=0,Re=n.length;Te<Re;Te++)Ce[Te]=n[Te].decodeText();return Ce},t.prototype.setOptions=function(n){assertIs(n,"options",[Array]),this.markAsDirty();for(var Ce=new Array(n.length),Te=0,Re=n.length;Te<Re;Te++)Ce[Te]={value:PDFHexString.fromText(n[Te])};this.acroField.setOptions(Ce)},t.prototype.addOptions=function(n){assertIs(n,"options",["string",Array]),this.markAsDirty();for(var Ce=Array.isArray(n)?n:[n],Te=this.acroField.getOptions(),Re=new Array(Ce.length),Be=0,Ue=Ce.length;Be<Ue;Be++)Re[Be]={value:PDFHexString.fromText(Ce[Be])};this.acroField.setOptions(Te.concat(Re))},t.prototype.select=function(n,Ce){Ce===void 0&&(Ce=!1),assertIs(n,"options",["string",Array]),assertIs(Ce,"merge",["boolean"]);var Te=Array.isArray(n)?n:[n],Re=this.getOptions();assertIsSubset(Te,"option",Re),this.markAsDirty(),(Te.length>1||Te.length===1&&Ce)&&this.enableMultiselect();for(var Be=new Array(Te.length),Ue=0,Oe=Te.length;Ue<Oe;Ue++)Be[Ue]=PDFHexString.fromText(Te[Ue]);if(Ce){var Me=this.acroField.getValues();this.acroField.setValues(Me.concat(Be))}else this.acroField.setValues(Be)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(n){assertPositive(n,"fontSize"),this.acroField.setFontSize(n),this.markAsDirty()},t.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},t.prototype.addToPage=function(n,Ce){var Te,Re,Be,Ue,Oe,Me,Qe;assertIs(n,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(Ce),Ce||(Ce={}),"textColor"in Ce||(Ce.textColor=rgb(0,0,0)),"backgroundColor"in Ce||(Ce.backgroundColor=rgb(1,1,1)),"borderColor"in Ce||(Ce.borderColor=rgb(0,0,0)),"borderWidth"in Ce||(Ce.borderWidth=1);var Ke=this.createWidget({x:(Te=Ce.x)!==null&&Te!==void 0?Te:0,y:(Re=Ce.y)!==null&&Re!==void 0?Re:0,width:(Be=Ce.width)!==null&&Be!==void 0?Be:200,height:(Ue=Ce.height)!==null&&Ue!==void 0?Ue:100,textColor:Ce.textColor,backgroundColor:Ce.backgroundColor,borderColor:Ce.borderColor,borderWidth:(Oe=Ce.borderWidth)!==null&&Oe!==void 0?Oe:0,rotate:(Me=Ce.rotate)!==null&&Me!==void 0?Me:degrees(0),hidden:Ce.hidden,page:n.ref}),Ge=this.doc.context.register(Ke.dict);this.acroField.addWidget(Ge);var qe=(Qe=Ce.font)!==null&&Qe!==void 0?Qe:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(Ke,qe),n.node.addAnnot(Ge)},t.prototype.needsAppearancesUpdate=function(){var n;if(this.isDirty())return!0;for(var Ce=this.acroField.getWidgets(),Te=0,Re=Ce.length;Te<Re;Te++){var Be=Ce[Te],Ue=((n=Be.getAppearances())===null||n===void 0?void 0:n.normal)instanceof PDFStream;if(!Ue)return!0}return!1},t.prototype.defaultUpdateAppearances=function(n){assertIs(n,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(n)},t.prototype.updateAppearances=function(n,Ce){assertIs(n,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(Ce,"provider",[Function]);for(var Te=this.acroField.getWidgets(),Re=0,Be=Te.length;Re<Be;Re++){var Ue=Te[Re];this.updateWidgetAppearance(Ue,n,Ce)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(n,Ce,Te){var Re=Te??defaultOptionListAppearanceProvider,Be=normalizeAppearance(Re(this,n,Ce));this.updateWidgetAppearanceWithFont(n,Ce,Be)},t.of=function(n,Ce,Te){return new t(n,Ce,Te)},t})(PDFField),PDFRadioGroup=(function(Ee){__extends(t,Ee);function t(n,Ce,Te){var Re=Ee.call(this,n,Ce,Te)||this;return assertIs(n,"acroRadioButton",[[PDFAcroRadioButton,"PDFAcroRadioButton"]]),Re.acroField=n,Re}return t.prototype.getOptions=function(){var n=this.acroField.getExportValues();if(n){for(var Ce=new Array(n.length),Te=0,Re=n.length;Te<Re;Te++)Ce[Te]=n[Te].decodeText();return Ce}for(var Be=this.acroField.getOnValues(),Ue=new Array(Be.length),Te=0,Re=Ue.length;Te<Re;Te++)Ue[Te]=Be[Te].decodeText();return Ue},t.prototype.getSelected=function(){var n=this.acroField.getValue();if(n!==PDFName.of("Off")){var Ce=this.acroField.getExportValues();if(Ce){for(var Te=this.acroField.getOnValues(),Re=0,Be=Te.length;Re<Be;Re++)if(Te[Re]===n)return Ce[Re].decodeText()}return n.decodeText()}},t.prototype.select=function(n){assertIs(n,"option",["string"]);var Ce=this.getOptions();assertIsOneOf(n,"option",Ce),this.markAsDirty();var Te=this.acroField.getOnValues(),Re=this.acroField.getExportValues();if(Re)for(var Be=0,Ue=Re.length;Be<Ue;Be++)Re[Be].decodeText()===n&&this.acroField.setValue(Te[Be]);else for(var Be=0,Ue=Te.length;Be<Ue;Be++){var Oe=Te[Be];Oe.decodeText()===n&&this.acroField.setValue(Oe)}},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},t.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(AcroButtonFlags.NoToggleToOff)},t.prototype.enableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!1)},t.prototype.disableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!0)},t.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(AcroButtonFlags.RadiosInUnison)},t.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!1)},t.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!0)},t.prototype.addOptionToPage=function(n,Ce,Te){var Re,Be,Ue,Oe,Me,Qe,Ke,Ge,qe;assertIs(n,"option",["string"]),assertIs(Ce,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(Te);var Xe=this.createWidget({x:(Re=Te==null?void 0:Te.x)!==null&&Re!==void 0?Re:0,y:(Be=Te==null?void 0:Te.y)!==null&&Be!==void 0?Be:0,width:(Ue=Te==null?void 0:Te.width)!==null&&Ue!==void 0?Ue:50,height:(Oe=Te==null?void 0:Te.height)!==null&&Oe!==void 0?Oe:50,textColor:(Me=Te==null?void 0:Te.textColor)!==null&&Me!==void 0?Me:rgb(0,0,0),backgroundColor:(Qe=Te==null?void 0:Te.backgroundColor)!==null&&Qe!==void 0?Qe:rgb(1,1,1),borderColor:(Ke=Te==null?void 0:Te.borderColor)!==null&&Ke!==void 0?Ke:rgb(0,0,0),borderWidth:(Ge=Te==null?void 0:Te.borderWidth)!==null&&Ge!==void 0?Ge:1,rotate:(qe=Te==null?void 0:Te.rotate)!==null&&qe!==void 0?qe:degrees(0),hidden:Te==null?void 0:Te.hidden,page:Ce.ref}),tr=this.doc.context.register(Xe.dict),Je=this.acroField.addWidgetWithOpt(tr,PDFHexString.fromText(n),!this.isMutuallyExclusive());Xe.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance(Xe,Je),Ce.node.addAnnot(tr)},t.prototype.needsAppearancesUpdate=function(){for(var n,Ce=this.acroField.getWidgets(),Te=0,Re=Ce.length;Te<Re;Te++){var Be=Ce[Te],Ue=Be.getAppearanceState(),Oe=(n=Be.getAppearances())===null||n===void 0?void 0:n.normal;if(!(Oe instanceof PDFDict)||Ue&&!Oe.has(Ue))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(n){assertOrUndefined(n,"provider",[Function]);for(var Ce=this.acroField.getWidgets(),Te=0,Re=Ce.length;Te<Re;Te++){var Be=Ce[Te],Ue=Be.getOnValue();Ue&&this.updateWidgetAppearance(Be,Ue,n)}},t.prototype.updateWidgetAppearance=function(n,Ce,Te){var Re=Te??defaultRadioGroupAppearanceProvider,Be=normalizeAppearance(Re(this,n));this.updateOnOffWidgetAppearance(n,Ce,Be)},t.of=function(n,Ce,Te){return new t(n,Ce,Te)},t})(PDFField),PDFSignature=(function(Ee){__extends(t,Ee);function t(n,Ce,Te){var Re=Ee.call(this,n,Ce,Te)||this;return assertIs(n,"acroSignature",[[PDFAcroSignature,"PDFAcroSignature"]]),Re.acroField=n,Re}return t.prototype.needsAppearancesUpdate=function(){return!1},t.of=function(n,Ce,Te){return new t(n,Ce,Te)},t})(PDFField),PDFTextField=(function(Ee){__extends(t,Ee);function t(n,Ce,Te){var Re=Ee.call(this,n,Ce,Te)||this;return assertIs(n,"acroText",[[PDFAcroText,"PDFAcroText"]]),Re.acroField=n,Re}return t.prototype.getText=function(){var n=this.acroField.getValue();if(!n&&this.isRichFormatted())throw new RichTextFieldReadError(this.getName());return n==null?void 0:n.decodeText()},t.prototype.setText=function(n){assertOrUndefined(n,"text",["string"]);var Ce=this.getMaxLength();if(Ce!==void 0&&n&&n.length>Ce)throw new ExceededMaxLengthError(n.length,Ce,this.getName());this.markAsDirty(),this.disableRichFormatting(),n?this.acroField.setValue(PDFHexString.fromText(n)):this.acroField.removeValue()},t.prototype.getAlignment=function(){var n=this.acroField.getQuadding();return n===0?TextAlignment.Left:n===1?TextAlignment.Center:n===2?TextAlignment.Right:TextAlignment.Left},t.prototype.setAlignment=function(n){assertIsOneOf(n,"alignment",TextAlignment),this.markAsDirty(),this.acroField.setQuadding(n)},t.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},t.prototype.setMaxLength=function(n){if(assertRangeOrUndefined(n,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),n===void 0)this.acroField.removeMaxLength();else{var Ce=this.getText();if(Ce&&Ce.length>n)throw new InvalidMaxLengthError(Ce.length,n,this.getName());this.acroField.setMaxLength(n)}},t.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},t.prototype.setImage=function(n){for(var Ce=this.getAlignment(),Te=Ce===TextAlignment.Center?ImageAlignment.Center:Ce===TextAlignment.Right?ImageAlignment.Right:ImageAlignment.Left,Re=this.acroField.getWidgets(),Be=0,Ue=Re.length;Be<Ue;Be++){var Oe=Re[Be],Me=this.createImageAppearanceStream(Oe,n,Te);this.updateWidgetAppearances(Oe,{normal:Me})}this.markAsClean()},t.prototype.setFontSize=function(n){assertPositive(n,"fontSize"),this.acroField.setFontSize(n),this.markAsDirty()},t.prototype.isMultiline=function(){return this.acroField.hasFlag(AcroTextFlags.Multiline)},t.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!0)},t.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!1)},t.prototype.isPassword=function(){return this.acroField.hasFlag(AcroTextFlags.Password)},t.prototype.enablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!0)},t.prototype.disablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!1)},t.prototype.isFileSelector=function(){return this.acroField.hasFlag(AcroTextFlags.FileSelect)},t.prototype.enableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!0)},t.prototype.disableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!0)},t.prototype.isScrollable=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotScroll)},t.prototype.enableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!1)},t.prototype.disableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!0)},t.prototype.isCombed=function(){return this.acroField.hasFlag(AcroTextFlags.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},t.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var n="PDFTextFields must have a max length in order to be combed";console.warn(n)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(AcroTextFlags.Comb,!0)},t.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Comb,!1)},t.prototype.isRichFormatted=function(){return this.acroField.hasFlag(AcroTextFlags.RichText)},t.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!0)},t.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!1)},t.prototype.addToPage=function(n,Ce){var Te,Re,Be,Ue,Oe,Me,Qe;assertIs(n,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(Ce),Ce||(Ce={}),"textColor"in Ce||(Ce.textColor=rgb(0,0,0)),"backgroundColor"in Ce||(Ce.backgroundColor=rgb(1,1,1)),"borderColor"in Ce||(Ce.borderColor=rgb(0,0,0)),"borderWidth"in Ce||(Ce.borderWidth=1);var Ke=this.createWidget({x:(Te=Ce.x)!==null&&Te!==void 0?Te:0,y:(Re=Ce.y)!==null&&Re!==void 0?Re:0,width:(Be=Ce.width)!==null&&Be!==void 0?Be:200,height:(Ue=Ce.height)!==null&&Ue!==void 0?Ue:50,textColor:Ce.textColor,backgroundColor:Ce.backgroundColor,borderColor:Ce.borderColor,borderWidth:(Oe=Ce.borderWidth)!==null&&Oe!==void 0?Oe:0,rotate:(Me=Ce.rotate)!==null&&Me!==void 0?Me:degrees(0),hidden:Ce.hidden,page:n.ref}),Ge=this.doc.context.register(Ke.dict);this.acroField.addWidget(Ge);var qe=(Qe=Ce.font)!==null&&Qe!==void 0?Qe:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(Ke,qe),n.node.addAnnot(Ge)},t.prototype.needsAppearancesUpdate=function(){var n;if(this.isDirty())return!0;for(var Ce=this.acroField.getWidgets(),Te=0,Re=Ce.length;Te<Re;Te++){var Be=Ce[Te],Ue=((n=Be.getAppearances())===null||n===void 0?void 0:n.normal)instanceof PDFStream;if(!Ue)return!0}return!1},t.prototype.defaultUpdateAppearances=function(n){assertIs(n,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(n)},t.prototype.updateAppearances=function(n,Ce){assertIs(n,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(Ce,"provider",[Function]);for(var Te=this.acroField.getWidgets(),Re=0,Be=Te.length;Re<Be;Re++){var Ue=Te[Re];this.updateWidgetAppearance(Ue,n,Ce)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(n,Ce,Te){var Re=Te??defaultTextFieldAppearanceProvider,Be=normalizeAppearance(Re(this,n,Ce));this.updateWidgetAppearanceWithFont(n,Ce,Be)},t.of=function(n,Ce,Te){return new t(n,Ce,Te)},t})(PDFField),StandardFonts;(function(Ee){Ee.Courier="Courier",Ee.CourierBold="Courier-Bold",Ee.CourierOblique="Courier-Oblique",Ee.CourierBoldOblique="Courier-BoldOblique",Ee.Helvetica="Helvetica",Ee.HelveticaBold="Helvetica-Bold",Ee.HelveticaOblique="Helvetica-Oblique",Ee.HelveticaBoldOblique="Helvetica-BoldOblique",Ee.TimesRoman="Times-Roman",Ee.TimesRomanBold="Times-Bold",Ee.TimesRomanItalic="Times-Italic",Ee.TimesRomanBoldItalic="Times-BoldItalic",Ee.Symbol="Symbol",Ee.ZapfDingbats="ZapfDingbats"})(StandardFonts||(StandardFonts={}));var PDFForm=(function(){function Ee(t,n){var Ce=this;this.embedDefaultFont=function(){return Ce.doc.embedStandardFont(StandardFonts.Helvetica)},assertIs(t,"acroForm",[[PDFAcroForm,"PDFAcroForm"]]),assertIs(n,"doc",[[PDFDocument,"PDFDocument"]]),this.acroForm=t,this.doc=n,this.dirtyFields=new Set,this.defaultFontCache=Cache.populatedBy(this.embedDefaultFont)}return Ee.prototype.hasXFA=function(){return this.acroForm.dict.has(PDFName.of("XFA"))},Ee.prototype.deleteXFA=function(){this.acroForm.dict.delete(PDFName.of("XFA"))},Ee.prototype.getFields=function(){for(var t=this.acroForm.getAllFields(),n=[],Ce=0,Te=t.length;Ce<Te;Ce++){var Re=t[Ce],Be=Re[0],Ue=Re[1],Oe=convertToPDFField(Be,Ue,this.doc);Oe&&n.push(Oe)}return n},Ee.prototype.getFieldMaybe=function(t){assertIs(t,"name",["string"]);for(var n=this.getFields(),Ce=0,Te=n.length;Ce<Te;Ce++){var Re=n[Ce];if(Re.getName()===t)return Re}},Ee.prototype.getField=function(t){assertIs(t,"name",["string"]);var n=this.getFieldMaybe(t);if(n)return n;throw new NoSuchFieldError(t)},Ee.prototype.getButton=function(t){assertIs(t,"name",["string"]);var n=this.getField(t);if(n instanceof PDFButton)return n;throw new UnexpectedFieldTypeError(t,PDFButton,n)},Ee.prototype.getCheckBox=function(t){assertIs(t,"name",["string"]);var n=this.getField(t);if(n instanceof PDFCheckBox)return n;throw new UnexpectedFieldTypeError(t,PDFCheckBox,n)},Ee.prototype.getDropdown=function(t){assertIs(t,"name",["string"]);var n=this.getField(t);if(n instanceof PDFDropdown)return n;throw new UnexpectedFieldTypeError(t,PDFDropdown,n)},Ee.prototype.getOptionList=function(t){assertIs(t,"name",["string"]);var n=this.getField(t);if(n instanceof PDFOptionList)return n;throw new UnexpectedFieldTypeError(t,PDFOptionList,n)},Ee.prototype.getRadioGroup=function(t){assertIs(t,"name",["string"]);var n=this.getField(t);if(n instanceof PDFRadioGroup)return n;throw new UnexpectedFieldTypeError(t,PDFRadioGroup,n)},Ee.prototype.getSignature=function(t){assertIs(t,"name",["string"]);var n=this.getField(t);if(n instanceof PDFSignature)return n;throw new UnexpectedFieldTypeError(t,PDFSignature,n)},Ee.prototype.getTextField=function(t){assertIs(t,"name",["string"]);var n=this.getField(t);if(n instanceof PDFTextField)return n;throw new UnexpectedFieldTypeError(t,PDFTextField,n)},Ee.prototype.createButton=function(t){assertIs(t,"name",["string"]);var n=splitFieldName(t),Ce=this.findOrCreateNonTerminals(n.nonTerminal),Te=PDFAcroPushButton.create(this.doc.context);return Te.setPartialName(n.terminal),addFieldToParent(Ce,[Te,Te.ref],n.terminal),PDFButton.of(Te,Te.ref,this.doc)},Ee.prototype.createCheckBox=function(t){assertIs(t,"name",["string"]);var n=splitFieldName(t),Ce=this.findOrCreateNonTerminals(n.nonTerminal),Te=PDFAcroCheckBox.create(this.doc.context);return Te.setPartialName(n.terminal),addFieldToParent(Ce,[Te,Te.ref],n.terminal),PDFCheckBox.of(Te,Te.ref,this.doc)},Ee.prototype.createDropdown=function(t){assertIs(t,"name",["string"]);var n=splitFieldName(t),Ce=this.findOrCreateNonTerminals(n.nonTerminal),Te=PDFAcroComboBox.create(this.doc.context);return Te.setPartialName(n.terminal),addFieldToParent(Ce,[Te,Te.ref],n.terminal),PDFDropdown.of(Te,Te.ref,this.doc)},Ee.prototype.createOptionList=function(t){assertIs(t,"name",["string"]);var n=splitFieldName(t),Ce=this.findOrCreateNonTerminals(n.nonTerminal),Te=PDFAcroListBox.create(this.doc.context);return Te.setPartialName(n.terminal),addFieldToParent(Ce,[Te,Te.ref],n.terminal),PDFOptionList.of(Te,Te.ref,this.doc)},Ee.prototype.createRadioGroup=function(t){assertIs(t,"name",["string"]);var n=splitFieldName(t),Ce=this.findOrCreateNonTerminals(n.nonTerminal),Te=PDFAcroRadioButton.create(this.doc.context);return Te.setPartialName(n.terminal),addFieldToParent(Ce,[Te,Te.ref],n.terminal),PDFRadioGroup.of(Te,Te.ref,this.doc)},Ee.prototype.createTextField=function(t){assertIs(t,"name",["string"]);var n=splitFieldName(t),Ce=this.findOrCreateNonTerminals(n.nonTerminal),Te=PDFAcroText.create(this.doc.context);return Te.setPartialName(n.terminal),addFieldToParent(Ce,[Te,Te.ref],n.terminal),PDFTextField.of(Te,Te.ref,this.doc)},Ee.prototype.flatten=function(t){t===void 0&&(t={updateFieldAppearances:!0}),t.updateFieldAppearances&&this.updateFieldAppearances();for(var n=this.getFields(),Ce=0,Te=n.length;Ce<Te;Ce++){for(var Re=n[Ce],Be=Re.acroField.getWidgets(),Ue=0,Oe=Be.length;Ue<Oe;Ue++){var Me=Be[Ue],Qe=this.findWidgetPage(Me),Ke=this.findWidgetAppearanceRef(Re,Me),Ge=Qe.node.newXObject("FlatWidget",Ke),qe=Me.getRectangle(),Xe=__spreadArrays([pushGraphicsState(),translate(qe.x,qe.y)],rotateInPlace(__assign(__assign({},qe),{rotation:0})),[drawObject(Ge),popGraphicsState()]).filter(Boolean);Qe.pushOperators.apply(Qe,Xe)}this.removeField(Re)}},Ee.prototype.removeField=function(t){for(var n=t.acroField.getWidgets(),Ce=new Set,Te=0,Re=n.length;Te<Re;Te++){var Be=n[Te],Ue=this.findWidgetAppearanceRef(t,Be),Oe=this.findWidgetPage(Be);Ce.add(Oe),Oe.node.removeAnnot(Ue)}Ce.forEach(function(qe){return qe.node.removeAnnot(t.ref)}),this.acroForm.removeField(t.acroField);for(var Me=t.acroField.normalizedEntries().Kids,Qe=Me.size(),Ke=0;Ke<Qe;Ke++){var Ge=Me.get(Ke);Ge instanceof PDFRef&&this.doc.context.delete(Ge)}this.doc.context.delete(t.ref)},Ee.prototype.updateFieldAppearances=function(t){assertOrUndefined(t,"font",[[PDFFont,"PDFFont"]]),t=t??this.getDefaultFont();for(var n=this.getFields(),Ce=0,Te=n.length;Ce<Te;Ce++){var Re=n[Ce];Re.needsAppearancesUpdate()&&Re.defaultUpdateAppearances(t)}},Ee.prototype.markFieldAsDirty=function(t){assertOrUndefined(t,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.add(t)},Ee.prototype.markFieldAsClean=function(t){assertOrUndefined(t,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.delete(t)},Ee.prototype.fieldIsDirty=function(t){return assertOrUndefined(t,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.has(t)},Ee.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},Ee.prototype.findWidgetPage=function(t){var n=t.P(),Ce=this.doc.getPages().find(function(Re){return Re.ref===n});if(Ce===void 0){var Te=this.doc.context.getObjectRef(t.dict);if(Te===void 0)throw new Error("Could not find PDFRef for PDFObject");if(Ce=this.doc.findPageForAnnotationRef(Te),Ce===void 0)throw new Error("Could not find page for PDFRef "+Te)}return Ce},Ee.prototype.findWidgetAppearanceRef=function(t,n){var Ce,Te=n.getNormalAppearance();if(Te instanceof PDFDict&&(t instanceof PDFCheckBox||t instanceof PDFRadioGroup)){var Re=t.acroField.getValue(),Be=(Ce=Te.get(Re))!==null&&Ce!==void 0?Ce:Te.get(PDFName.of("Off"));Be instanceof PDFRef&&(Te=Be)}if(!(Te instanceof PDFRef)){var Ue=t.getName();throw new Error("Failed to extract appearance ref for: "+Ue)}return Te},Ee.prototype.findOrCreateNonTerminals=function(t){for(var n=[this.acroForm],Ce=0,Te=t.length;Ce<Te;Ce++){var Re=t[Ce];if(!Re)throw new InvalidFieldNamePartError(Re);var Be=n[0],Ue=n[1],Oe=this.findNonTerminal(Re,Be);if(Oe)n=Oe;else{var Me=PDFAcroNonTerminal.create(this.doc.context);Me.setPartialName(Re),Me.setParent(Ue);var Qe=this.doc.context.register(Me.dict);Be.addField(Qe),n=[Me,Qe]}}return n},Ee.prototype.findNonTerminal=function(t,n){for(var Ce=n instanceof PDFAcroForm?this.acroForm.getFields():createPDFAcroFields(n.Kids()),Te=0,Re=Ce.length;Te<Re;Te++){var Be=Ce[Te],Ue=Be[0],Oe=Be[1];if(Ue.getPartialName()===t){if(Ue instanceof PDFAcroNonTerminal)return[Ue,Oe];throw new FieldAlreadyExistsError(t)}}},Ee.of=function(t,n){return new Ee(t,n)},Ee})(),convertToPDFField=function(Ee,t,n){if(Ee instanceof PDFAcroPushButton)return PDFButton.of(Ee,t,n);if(Ee instanceof PDFAcroCheckBox)return PDFCheckBox.of(Ee,t,n);if(Ee instanceof PDFAcroComboBox)return PDFDropdown.of(Ee,t,n);if(Ee instanceof PDFAcroListBox)return PDFOptionList.of(Ee,t,n);if(Ee instanceof PDFAcroText)return PDFTextField.of(Ee,t,n);if(Ee instanceof PDFAcroRadioButton)return PDFRadioGroup.of(Ee,t,n);if(Ee instanceof PDFAcroSignature)return PDFSignature.of(Ee,t,n)},splitFieldName=function(Ee){if(Ee.length===0)throw new Error("PDF field names must not be empty strings");for(var t=Ee.split("."),n=0,Ce=t.length;n<Ce;n++)if(t[n]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+Ee+'"');return t.length===1?{nonTerminal:[],terminal:t[0]}:{nonTerminal:t.slice(0,t.length-1),terminal:t[t.length-1]}},addFieldToParent=function(Ee,t,n){for(var Ce=Ee[0],Te=Ee[1],Re=t[0],Be=t[1],Ue=Ce.normalizedEntries(),Oe=createPDFAcroFields("Kids"in Ue?Ue.Kids:Ue.Fields),Me=0,Qe=Oe.length;Me<Qe;Me++)if(Oe[Me][0].getPartialName()===n)throw new FieldAlreadyExistsError(n);Ce.addField(Be),Re.setParent(Te)},PageSizes={A4:[595.28,841.89]},ParseSpeeds;(function(Ee){Ee[Ee.Fastest=1/0]="Fastest",Ee[Ee.Fast=1500]="Fast",Ee[Ee.Medium=500]="Medium",Ee[Ee.Slow=100]="Slow"})(ParseSpeeds||(ParseSpeeds={}));var PDFEmbeddedFile=(function(){function Ee(t,n,Ce){this.alreadyEmbedded=!1,this.ref=t,this.doc=n,this.embedder=Ce}return Ee.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){var t,n,Ce,Te,Re;return __generator(this,function(Be){switch(Be.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:t=Be.sent(),this.doc.catalog.has(PDFName.of("Names"))||this.doc.catalog.set(PDFName.of("Names"),this.doc.context.obj({})),n=this.doc.catalog.lookup(PDFName.of("Names"),PDFDict),n.has(PDFName.of("EmbeddedFiles"))||n.set(PDFName.of("EmbeddedFiles"),this.doc.context.obj({})),Ce=n.lookup(PDFName.of("EmbeddedFiles"),PDFDict),Ce.has(PDFName.of("Names"))||Ce.set(PDFName.of("Names"),this.doc.context.obj([])),Te=Ce.lookup(PDFName.of("Names"),PDFArray),Te.push(PDFHexString.fromText(this.embedder.fileName)),Te.push(t),this.doc.catalog.has(PDFName.of("AF"))||this.doc.catalog.set(PDFName.of("AF"),this.doc.context.obj([])),Re=this.doc.catalog.lookup(PDFName.of("AF"),PDFArray),Re.push(t),this.alreadyEmbedded=!0,Be.label=2;case 2:return[2]}})})},Ee.of=function(t,n,Ce){return new Ee(t,n,Ce)},Ee})(),PDFJavaScript=(function(){function Ee(t,n,Ce){this.alreadyEmbedded=!1,this.ref=t,this.doc=n,this.embedder=Ce}return Ee.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){var t,n,Ce,Te,Re,Be,Ue;return __generator(this,function(Oe){switch(Oe.label){case 0:return this.alreadyEmbedded?[3,2]:(t=this.doc,n=t.catalog,Ce=t.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:Te=Oe.sent(),n.has(PDFName.of("Names"))||n.set(PDFName.of("Names"),Ce.obj({})),Re=n.lookup(PDFName.of("Names"),PDFDict),Re.has(PDFName.of("JavaScript"))||Re.set(PDFName.of("JavaScript"),Ce.obj({})),Be=Re.lookup(PDFName.of("JavaScript"),PDFDict),Be.has(PDFName.of("Names"))||Be.set(PDFName.of("Names"),Ce.obj([])),Ue=Be.lookup(PDFName.of("Names"),PDFArray),Ue.push(PDFHexString.fromText(this.embedder.scriptName)),Ue.push(Te),this.alreadyEmbedded=!0,Oe.label=2;case 2:return[2]}})})},Ee.of=function(t,n,Ce){return new Ee(t,n,Ce)},Ee})(),JavaScriptEmbedder=(function(){function Ee(t,n){this.script=t,this.scriptName=n}return Ee.for=function(t,n){return new Ee(t,n)},Ee.prototype.embedIntoContext=function(t,n){return __awaiter$1(this,void 0,void 0,function(){var Ce;return __generator(this,function(Te){return Ce=t.obj({Type:"Action",S:"JavaScript",JS:PDFHexString.fromText(this.script)}),n?(t.assign(n,Ce),[2,n]):[2,t.register(Ce)]})})},Ee})(),PDFDocument=(function(){function Ee(t,n,Ce){var Te=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var Re=[];return Te.catalog.Pages().traverse(function(Be,Ue){if(Be instanceof PDFPageLeaf){var Oe=Te.pageMap.get(Be);Oe||(Oe=PDFPage.of(Be,Ue,Te),Te.pageMap.set(Be,Oe)),Re.push(Oe)}}),Re},this.getOrCreateForm=function(){var Re=Te.catalog.getOrCreateAcroForm();return PDFForm.of(Re,Te)},assertIs(t,"context",[[PDFContext,"PDFContext"]]),assertIs(n,"ignoreEncryption",["boolean"]),this.context=t,this.catalog=t.lookup(t.trailerInfo.Root),this.isEncrypted=!!t.lookup(t.trailerInfo.Encrypt),this.pageCache=Cache.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Cache.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!n&&this.isEncrypted)throw new EncryptedPDFError;Ce&&this.updateInfoDict()}return Ee.load=function(t,n){return n===void 0&&(n={}),__awaiter$1(this,void 0,void 0,function(){var Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke,Ge,qe,Xe;return __generator(this,function(tr){switch(tr.label){case 0:return Ce=n.ignoreEncryption,Te=Ce===void 0?!1:Ce,Re=n.parseSpeed,Be=Re===void 0?ParseSpeeds.Slow:Re,Ue=n.throwOnInvalidObject,Oe=Ue===void 0?!1:Ue,Me=n.updateMetadata,Qe=Me===void 0?!0:Me,Ke=n.capNumbers,Ge=Ke===void 0?!1:Ke,assertIs(t,"pdf",["string",Uint8Array,ArrayBuffer]),assertIs(Te,"ignoreEncryption",["boolean"]),assertIs(Be,"parseSpeed",["number"]),assertIs(Oe,"throwOnInvalidObject",["boolean"]),qe=toUint8Array(t),[4,PDFParser.forBytesWithOptions(qe,Be,Oe,Ge).parseDocument()];case 1:return Xe=tr.sent(),[2,new Ee(Xe,Te,Qe)]}})})},Ee.create=function(t){return t===void 0&&(t={}),__awaiter$1(this,void 0,void 0,function(){var n,Ce,Te,Re,Be,Ue;return __generator(this,function(Oe){return n=t.updateMetadata,Ce=n===void 0?!0:n,Te=PDFContext.create(),Re=PDFPageTree.withContext(Te),Be=Te.register(Re),Ue=PDFCatalog.withContextAndPages(Te,Be),Te.trailerInfo.Root=Te.register(Ue),[2,new Ee(Te,!1,Ce)]})})},Ee.prototype.registerFontkit=function(t){this.fontkit=t},Ee.prototype.getForm=function(){var t=this.formCache.access();return t.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),t.deleteXFA()),t},Ee.prototype.getTitle=function(){var t=this.getInfoDict().lookup(PDFName.Title);if(t)return assertIsLiteralOrHexString(t),t.decodeText()},Ee.prototype.getAuthor=function(){var t=this.getInfoDict().lookup(PDFName.Author);if(t)return assertIsLiteralOrHexString(t),t.decodeText()},Ee.prototype.getSubject=function(){var t=this.getInfoDict().lookup(PDFName.Subject);if(t)return assertIsLiteralOrHexString(t),t.decodeText()},Ee.prototype.getKeywords=function(){var t=this.getInfoDict().lookup(PDFName.Keywords);if(t)return assertIsLiteralOrHexString(t),t.decodeText()},Ee.prototype.getCreator=function(){var t=this.getInfoDict().lookup(PDFName.Creator);if(t)return assertIsLiteralOrHexString(t),t.decodeText()},Ee.prototype.getProducer=function(){var t=this.getInfoDict().lookup(PDFName.Producer);if(t)return assertIsLiteralOrHexString(t),t.decodeText()},Ee.prototype.getCreationDate=function(){var t=this.getInfoDict().lookup(PDFName.CreationDate);if(t)return assertIsLiteralOrHexString(t),t.decodeDate()},Ee.prototype.getModificationDate=function(){var t=this.getInfoDict().lookup(PDFName.ModDate);if(t)return assertIsLiteralOrHexString(t),t.decodeDate()},Ee.prototype.setTitle=function(t,n){assertIs(t,"title",["string"]);var Ce=PDFName.of("Title");if(this.getInfoDict().set(Ce,PDFHexString.fromText(t)),n!=null&&n.showInWindowTitleBar){var Te=this.catalog.getOrCreateViewerPreferences();Te.setDisplayDocTitle(!0)}},Ee.prototype.setAuthor=function(t){assertIs(t,"author",["string"]);var n=PDFName.of("Author");this.getInfoDict().set(n,PDFHexString.fromText(t))},Ee.prototype.setSubject=function(t){assertIs(t,"author",["string"]);var n=PDFName.of("Subject");this.getInfoDict().set(n,PDFHexString.fromText(t))},Ee.prototype.setKeywords=function(t){assertIs(t,"keywords",[Array]);var n=PDFName.of("Keywords");this.getInfoDict().set(n,PDFHexString.fromText(t.join(" ")))},Ee.prototype.setCreator=function(t){assertIs(t,"creator",["string"]);var n=PDFName.of("Creator");this.getInfoDict().set(n,PDFHexString.fromText(t))},Ee.prototype.setProducer=function(t){assertIs(t,"creator",["string"]);var n=PDFName.of("Producer");this.getInfoDict().set(n,PDFHexString.fromText(t))},Ee.prototype.setLanguage=function(t){assertIs(t,"language",["string"]);var n=PDFName.of("Lang");this.catalog.set(n,PDFString.of(t))},Ee.prototype.setCreationDate=function(t){assertIs(t,"creationDate",[[Date,"Date"]]);var n=PDFName.of("CreationDate");this.getInfoDict().set(n,PDFString.fromDate(t))},Ee.prototype.setModificationDate=function(t){assertIs(t,"modificationDate",[[Date,"Date"]]);var n=PDFName.of("ModDate");this.getInfoDict().set(n,PDFString.fromDate(t))},Ee.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},Ee.prototype.getPages=function(){return this.pageCache.access()},Ee.prototype.getPage=function(t){var n=this.getPages();return assertRange(t,"index",0,n.length-1),n[t]},Ee.prototype.getPageIndices=function(){return range(0,this.getPageCount())},Ee.prototype.removePage=function(t){var n=this.getPageCount();if(this.pageCount===0)throw new RemovePageFromEmptyDocumentError;assertRange(t,"index",0,n-1),this.catalog.removeLeafNode(t),this.pageCount=n-1},Ee.prototype.addPage=function(t){return assertIs(t,"page",["undefined",[PDFPage,"PDFPage"],Array]),this.insertPage(this.getPageCount(),t)},Ee.prototype.insertPage=function(t,n){var Ce=this.getPageCount();if(assertRange(t,"index",0,Ce),assertIs(n,"page",["undefined",[PDFPage,"PDFPage"],Array]),!n||Array.isArray(n)){var Te=Array.isArray(n)?n:PageSizes.A4;n=PDFPage.create(this),n.setSize.apply(n,Te)}else if(n.doc!==this)throw new ForeignPageError;var Re=this.catalog.insertLeafNode(n.ref,t);return n.node.setParent(Re),this.pageMap.set(n.node,n),this.pageCache.invalidate(),this.pageCount=Ce+1,n},Ee.prototype.copyPages=function(t,n){return __awaiter$1(this,void 0,void 0,function(){var Ce,Te,Re,Be,Ue,Oe,Me,Qe;return __generator(this,function(Ke){switch(Ke.label){case 0:return assertIs(t,"srcDoc",[[Ee,"PDFDocument"]]),assertIs(n,"indices",[Array]),[4,t.flush()];case 1:for(Ke.sent(),Ce=PDFObjectCopier.for(t.context,this.context),Te=t.getPages(),Re=new Array(n.length),Be=0,Ue=n.length;Be<Ue;Be++)Oe=Te[n[Be]],Me=Ce.copy(Oe.node),Qe=this.context.register(Me),Re[Be]=PDFPage.of(Me,Qe,this);return[2,Re]}})})},Ee.prototype.copy=function(){return __awaiter$1(this,void 0,void 0,function(){var t,n,Ce,Te;return __generator(this,function(Re){switch(Re.label){case 0:return[4,Ee.create()];case 1:return t=Re.sent(),[4,t.copyPages(this,this.getPageIndices())];case 2:for(n=Re.sent(),Ce=0,Te=n.length;Ce<Te;Ce++)t.addPage(n[Ce]);return this.getAuthor()!==void 0&&t.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&t.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&t.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&t.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&t.setProducer(this.getProducer()),this.getSubject()!==void 0&&t.setSubject(this.getSubject()),this.getTitle()!==void 0&&t.setTitle(this.getTitle()),t.defaultWordBreaks=this.defaultWordBreaks,[2,t]}})})},Ee.prototype.addJavaScript=function(t,n){assertIs(t,"name",["string"]),assertIs(n,"script",["string"]);var Ce=JavaScriptEmbedder.for(n,t),Te=this.context.nextRef(),Re=PDFJavaScript.of(Te,this,Ce);this.javaScripts.push(Re)},Ee.prototype.attach=function(t,n,Ce){return Ce===void 0&&(Ce={}),__awaiter$1(this,void 0,void 0,function(){var Te,Re,Be,Ue;return __generator(this,function(Oe){return assertIs(t,"attachment",["string",Uint8Array,ArrayBuffer]),assertIs(n,"name",["string"]),assertOrUndefined(Ce.mimeType,"mimeType",["string"]),assertOrUndefined(Ce.description,"description",["string"]),assertOrUndefined(Ce.creationDate,"options.creationDate",[Date]),assertOrUndefined(Ce.modificationDate,"options.modificationDate",[Date]),assertIsOneOfOrUndefined(Ce.afRelationship,"options.afRelationship",AFRelationship),Te=toUint8Array(t),Re=FileEmbedder.for(Te,n,Ce),Be=this.context.nextRef(),Ue=PDFEmbeddedFile.of(Be,this,Re),this.embeddedFiles.push(Ue),[2]})})},Ee.prototype.embedFont=function(t,n){return n===void 0&&(n={}),__awaiter$1(this,void 0,void 0,function(){var Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke,Ge;return __generator(this,function(qe){switch(qe.label){case 0:return Ce=n.subset,Te=Ce===void 0?!1:Ce,Re=n.customName,Be=n.features,assertIs(t,"font",["string",Uint8Array,ArrayBuffer]),assertIs(Te,"subset",["boolean"]),isStandardFont(t)?(Ue=StandardFontEmbedder.for(t,Re),[3,7]):[3,1];case 1:return canBeConvertedToUint8Array(t)?(Oe=toUint8Array(t),Me=this.assertFontkit(),Te?[4,CustomFontSubsetEmbedder.for(Me,Oe,Re,Be)]:[3,3]):[3,6];case 2:return Qe=qe.sent(),[3,5];case 3:return[4,CustomFontEmbedder.for(Me,Oe,Re,Be)];case 4:Qe=qe.sent(),qe.label=5;case 5:return Ue=Qe,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return Ke=this.context.nextRef(),Ge=PDFFont.of(Ke,this,Ue),this.fonts.push(Ge),[2,Ge]}})})},Ee.prototype.embedStandardFont=function(t,n){if(assertIs(t,"font",["string"]),!isStandardFont(t))throw new TypeError("`font` must be one of type `StandardFonts`");var Ce=StandardFontEmbedder.for(t,n),Te=this.context.nextRef(),Re=PDFFont.of(Te,this,Ce);return this.fonts.push(Re),Re},Ee.prototype.embedJpg=function(t){return __awaiter$1(this,void 0,void 0,function(){var n,Ce,Te,Re;return __generator(this,function(Be){switch(Be.label){case 0:return assertIs(t,"jpg",["string",Uint8Array,ArrayBuffer]),n=toUint8Array(t),[4,JpegEmbedder.for(n)];case 1:return Ce=Be.sent(),Te=this.context.nextRef(),Re=PDFImage.of(Te,this,Ce),this.images.push(Re),[2,Re]}})})},Ee.prototype.embedPng=function(t){return __awaiter$1(this,void 0,void 0,function(){var n,Ce,Te,Re;return __generator(this,function(Be){switch(Be.label){case 0:return assertIs(t,"png",["string",Uint8Array,ArrayBuffer]),n=toUint8Array(t),[4,PngEmbedder.for(n)];case 1:return Ce=Be.sent(),Te=this.context.nextRef(),Re=PDFImage.of(Te,this,Ce),this.images.push(Re),[2,Re]}})})},Ee.prototype.embedPdf=function(t,n){return n===void 0&&(n=[0]),__awaiter$1(this,void 0,void 0,function(){var Ce,Te,Re;return __generator(this,function(Be){switch(Be.label){case 0:return assertIs(t,"pdf",["string",Uint8Array,ArrayBuffer,[Ee,"PDFDocument"]]),assertIs(n,"indices",[Array]),t instanceof Ee?(Te=t,[3,3]):[3,1];case 1:return[4,Ee.load(t)];case 2:Te=Be.sent(),Be.label=3;case 3:return Ce=Te,Re=pluckIndices(Ce.getPages(),n),[2,this.embedPages(Re)]}})})},Ee.prototype.embedPage=function(t,n,Ce){return __awaiter$1(this,void 0,void 0,function(){var Te;return __generator(this,function(Re){switch(Re.label){case 0:return assertIs(t,"page",[[PDFPage,"PDFPage"]]),[4,this.embedPages([t],[n],[Ce])];case 1:return Te=Re.sent()[0],[2,Te]}})})},Ee.prototype.embedPages=function(t,n,Ce){return n===void 0&&(n=[]),Ce===void 0&&(Ce=[]),__awaiter$1(this,void 0,void 0,function(){var Me,Qe,Te,Re,Be,Ue,Oe,Me,Qe,Ke,Ge,qe,Xe,tr,Je;return __generator(this,function(Ye){switch(Ye.label){case 0:if(t.length===0)return[2,[]];for(Me=0,Qe=t.length-1;Me<Qe;Me++)if(Te=t[Me],Re=t[Me+1],Te.node.context!==Re.node.context)throw new PageEmbeddingMismatchedContextError;Be=t[0].node.context,Ue=Be===this.context?function(lr){return lr}:PDFObjectCopier.for(Be,this.context).copy,Oe=new Array(t.length),Me=0,Qe=t.length,Ye.label=1;case 1:return Me<Qe?(Ke=Ue(t[Me].node),Ge=n[Me],qe=Ce[Me],[4,PDFPageEmbedder.for(Ke,Ge,qe)]):[3,4];case 2:Xe=Ye.sent(),tr=this.context.nextRef(),Oe[Me]=PDFEmbeddedPage.of(tr,this,Xe),Ye.label=3;case 3:return Me++,[3,1];case 4:return(Je=this.embeddedPages).push.apply(Je,Oe),[2,Oe]}})})},Ee.prototype.flush=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return t.sent(),[4,this.embedAll(this.images)];case 2:return t.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return t.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return t.sent(),[4,this.embedAll(this.javaScripts)];case 5:return t.sent(),[2]}})})},Ee.prototype.save=function(t){return t===void 0&&(t={}),__awaiter$1(this,void 0,void 0,function(){var n,Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke;return __generator(this,function(Ge){switch(Ge.label){case 0:return n=t.useObjectStreams,Ce=n===void 0?!0:n,Te=t.addDefaultPage,Re=Te===void 0?!0:Te,Be=t.objectsPerTick,Ue=Be===void 0?50:Be,Oe=t.updateFieldAppearances,Me=Oe===void 0?!0:Oe,assertIs(Ce,"useObjectStreams",["boolean"]),assertIs(Re,"addDefaultPage",["boolean"]),assertIs(Ue,"objectsPerTick",["number"]),assertIs(Me,"updateFieldAppearances",["boolean"]),Re&&this.getPageCount()===0&&this.addPage(),Me&&(Qe=this.formCache.getValue(),Qe&&Qe.updateFieldAppearances()),[4,this.flush()];case 1:return Ge.sent(),Ke=Ce?PDFStreamWriter:PDFWriter,[2,Ke.forContext(this.context,Ue).serializeToBuffer()]}})})},Ee.prototype.saveAsBase64=function(t){return t===void 0&&(t={}),__awaiter$1(this,void 0,void 0,function(){var n,Ce,Te,Re,Be;return __generator(this,function(Ue){switch(Ue.label){case 0:return n=t.dataUri,Ce=n===void 0?!1:n,Te=__rest$2(t,["dataUri"]),assertIs(Ce,"dataUri",["boolean"]),[4,this.save(Te)];case 1:return Re=Ue.sent(),Be=encodeToBase64(Re),[2,Ce?"data:application/pdf;base64,"+Be:Be]}})})},Ee.prototype.findPageForAnnotationRef=function(t){for(var n=this.getPages(),Ce=0,Te=n.length;Ce<Te;Ce++){var Re=n[Ce],Be=Re.node.Annots();if((Be==null?void 0:Be.indexOf(t))!==void 0)return Re}},Ee.prototype.embedAll=function(t){return __awaiter$1(this,void 0,void 0,function(){var n,Ce;return __generator(this,function(Te){switch(Te.label){case 0:n=0,Ce=t.length,Te.label=1;case 1:return n<Ce?[4,t[n].embed()]:[3,4];case 2:Te.sent(),Te.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},Ee.prototype.updateInfoDict=function(){var t="pdf-lib (https://github.com/Hopding/pdf-lib)",n=new Date,Ce=this.getInfoDict();this.setProducer(t),this.setModificationDate(n),Ce.get(PDFName.of("Creator"))||this.setCreator(t),Ce.get(PDFName.of("CreationDate"))||this.setCreationDate(n)},Ee.prototype.getInfoDict=function(){var t=this.context.lookup(this.context.trailerInfo.Info);if(t instanceof PDFDict)return t;var n=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(n),n},Ee.prototype.assertFontkit=function(){if(!this.fontkit)throw new FontkitNotRegisteredError;return this.fontkit},Ee})();function assertIsLiteralOrHexString(Ee){if(!(Ee instanceof PDFHexString)&&!(Ee instanceof PDFString))throw new UnexpectedObjectTypeError([PDFHexString,PDFString],Ee)}var BlendMode;(function(Ee){Ee.Normal="Normal",Ee.Multiply="Multiply",Ee.Screen="Screen",Ee.Overlay="Overlay",Ee.Darken="Darken",Ee.Lighten="Lighten",Ee.ColorDodge="ColorDodge",Ee.ColorBurn="ColorBurn",Ee.HardLight="HardLight",Ee.SoftLight="SoftLight",Ee.Difference="Difference",Ee.Exclusion="Exclusion"})(BlendMode||(BlendMode={}));var PDFPage=(function(){function Ee(t,n,Ce){this.fontSize=24,this.fontColor=rgb(0,0,0),this.lineHeight=24,this.x=0,this.y=0,assertIs(t,"leafNode",[[PDFPageLeaf,"PDFPageLeaf"]]),assertIs(n,"ref",[[PDFRef,"PDFRef"]]),assertIs(Ce,"doc",[[PDFDocument,"PDFDocument"]]),this.node=t,this.ref=n,this.doc=Ce}return Ee.prototype.setRotation=function(t){var n=toDegrees(t);assertMultiple(n,"degreesAngle",90),this.node.set(PDFName.of("Rotate"),this.doc.context.obj(n))},Ee.prototype.getRotation=function(){var t=this.node.Rotate();return degrees(t?t.asNumber():0)},Ee.prototype.setSize=function(t,n){assertIs(t,"width",["number"]),assertIs(n,"height",["number"]);var Ce=this.getMediaBox();this.setMediaBox(Ce.x,Ce.y,t,n);var Te=this.getCropBox(),Re=this.getBleedBox(),Be=this.getTrimBox(),Ue=this.getArtBox(),Oe=this.node.CropBox(),Me=this.node.BleedBox(),Qe=this.node.TrimBox(),Ke=this.node.ArtBox();Oe&&rectanglesAreEqual(Te,Ce)&&this.setCropBox(Ce.x,Ce.y,t,n),Me&&rectanglesAreEqual(Re,Ce)&&this.setBleedBox(Ce.x,Ce.y,t,n),Qe&&rectanglesAreEqual(Be,Ce)&&this.setTrimBox(Ce.x,Ce.y,t,n),Ke&&rectanglesAreEqual(Ue,Ce)&&this.setArtBox(Ce.x,Ce.y,t,n)},Ee.prototype.setWidth=function(t){assertIs(t,"width",["number"]),this.setSize(t,this.getSize().height)},Ee.prototype.setHeight=function(t){assertIs(t,"height",["number"]),this.setSize(this.getSize().width,t)},Ee.prototype.setMediaBox=function(t,n,Ce,Te){assertIs(t,"x",["number"]),assertIs(n,"y",["number"]),assertIs(Ce,"width",["number"]),assertIs(Te,"height",["number"]);var Re=this.doc.context.obj([t,n,t+Ce,n+Te]);this.node.set(PDFName.MediaBox,Re)},Ee.prototype.setCropBox=function(t,n,Ce,Te){assertIs(t,"x",["number"]),assertIs(n,"y",["number"]),assertIs(Ce,"width",["number"]),assertIs(Te,"height",["number"]);var Re=this.doc.context.obj([t,n,t+Ce,n+Te]);this.node.set(PDFName.CropBox,Re)},Ee.prototype.setBleedBox=function(t,n,Ce,Te){assertIs(t,"x",["number"]),assertIs(n,"y",["number"]),assertIs(Ce,"width",["number"]),assertIs(Te,"height",["number"]);var Re=this.doc.context.obj([t,n,t+Ce,n+Te]);this.node.set(PDFName.BleedBox,Re)},Ee.prototype.setTrimBox=function(t,n,Ce,Te){assertIs(t,"x",["number"]),assertIs(n,"y",["number"]),assertIs(Ce,"width",["number"]),assertIs(Te,"height",["number"]);var Re=this.doc.context.obj([t,n,t+Ce,n+Te]);this.node.set(PDFName.TrimBox,Re)},Ee.prototype.setArtBox=function(t,n,Ce,Te){assertIs(t,"x",["number"]),assertIs(n,"y",["number"]),assertIs(Ce,"width",["number"]),assertIs(Te,"height",["number"]);var Re=this.doc.context.obj([t,n,t+Ce,n+Te]);this.node.set(PDFName.ArtBox,Re)},Ee.prototype.getSize=function(){var t=this.getMediaBox(),n=t.width,Ce=t.height;return{width:n,height:Ce}},Ee.prototype.getWidth=function(){return this.getSize().width},Ee.prototype.getHeight=function(){return this.getSize().height},Ee.prototype.getMediaBox=function(){var t=this.node.MediaBox();return t.asRectangle()},Ee.prototype.getCropBox=function(){var t,n=this.node.CropBox();return(t=n==null?void 0:n.asRectangle())!==null&&t!==void 0?t:this.getMediaBox()},Ee.prototype.getBleedBox=function(){var t,n=this.node.BleedBox();return(t=n==null?void 0:n.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},Ee.prototype.getTrimBox=function(){var t,n=this.node.TrimBox();return(t=n==null?void 0:n.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},Ee.prototype.getArtBox=function(){var t,n=this.node.ArtBox();return(t=n==null?void 0:n.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},Ee.prototype.translateContent=function(t,n){assertIs(t,"x",["number"]),assertIs(n,"y",["number"]),this.node.normalize(),this.getContentStream();var Ce=this.createContentStream(pushGraphicsState(),translate(t,n)),Te=this.doc.context.register(Ce),Re=this.createContentStream(popGraphicsState()),Be=this.doc.context.register(Re);this.node.wrapContentStreams(Te,Be)},Ee.prototype.scale=function(t,n){assertIs(t,"x",["number"]),assertIs(n,"y",["number"]),this.setSize(this.getWidth()*t,this.getHeight()*n),this.scaleContent(t,n),this.scaleAnnotations(t,n)},Ee.prototype.scaleContent=function(t,n){assertIs(t,"x",["number"]),assertIs(n,"y",["number"]),this.node.normalize(),this.getContentStream();var Ce=this.createContentStream(pushGraphicsState(),scale(t,n)),Te=this.doc.context.register(Ce),Re=this.createContentStream(popGraphicsState()),Be=this.doc.context.register(Re);this.node.wrapContentStreams(Te,Be)},Ee.prototype.scaleAnnotations=function(t,n){assertIs(t,"x",["number"]),assertIs(n,"y",["number"]);var Ce=this.node.Annots();if(Ce)for(var Te=0;Te<Ce.size();Te++){var Re=Ce.lookup(Te);Re instanceof PDFDict&&this.scaleAnnot(Re,t,n)}},Ee.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},Ee.prototype.setFont=function(t){assertIs(t,"font",[[PDFFont,"PDFFont"]]),this.font=t,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},Ee.prototype.setFontSize=function(t){assertIs(t,"fontSize",["number"]),this.fontSize=t},Ee.prototype.setFontColor=function(t){assertIs(t,"fontColor",[[Object,"Color"]]),this.fontColor=t},Ee.prototype.setLineHeight=function(t){assertIs(t,"lineHeight",["number"]),this.lineHeight=t},Ee.prototype.getPosition=function(){return{x:this.x,y:this.y}},Ee.prototype.getX=function(){return this.x},Ee.prototype.getY=function(){return this.y},Ee.prototype.moveTo=function(t,n){assertIs(t,"x",["number"]),assertIs(n,"y",["number"]),this.x=t,this.y=n},Ee.prototype.moveDown=function(t){assertIs(t,"yDecrease",["number"]),this.y-=t},Ee.prototype.moveUp=function(t){assertIs(t,"yIncrease",["number"]),this.y+=t},Ee.prototype.moveLeft=function(t){assertIs(t,"xDecrease",["number"]),this.x-=t},Ee.prototype.moveRight=function(t){assertIs(t,"xIncrease",["number"]),this.x+=t},Ee.prototype.pushOperators=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];assertEachIs(t,"operator",[[PDFOperator,"PDFOperator"]]);var Ce=this.getContentStream();Ce.push.apply(Ce,t)},Ee.prototype.drawText=function(t,n){var Ce,Te,Re,Be,Ue,Oe,Me;n===void 0&&(n={}),assertIs(t,"text",["string"]),assertOrUndefined(n.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(n.opacity,"opacity.opacity",0,1),assertOrUndefined(n.font,"options.font",[[PDFFont,"PDFFont"]]),assertOrUndefined(n.size,"options.size",["number"]),assertOrUndefined(n.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(n.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(n.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(n.x,"options.x",["number"]),assertOrUndefined(n.y,"options.y",["number"]),assertOrUndefined(n.lineHeight,"options.lineHeight",["number"]),assertOrUndefined(n.maxWidth,"options.maxWidth",["number"]),assertOrUndefined(n.wordBreaks,"options.wordBreaks",[Array]),assertIsOneOfOrUndefined(n.blendMode,"options.blendMode",BlendMode);for(var Qe=this.setOrEmbedFont(n.font),Ke=Qe.oldFont,Ge=Qe.newFont,qe=Qe.newFontKey,Xe=n.size||this.fontSize,tr=n.wordBreaks||this.doc.defaultWordBreaks,Je=function(er){return Ge.widthOfTextAtSize(er,Xe)},Ye=n.maxWidth===void 0?lineSplit(cleanText(t)):breakTextIntoLines(t,tr,n.maxWidth,Je),lr=new Array(Ye.length),cr=0,hr=Ye.length;cr<hr;cr++)lr[cr]=Ge.encodeText(Ye[cr]);var ur=this.maybeEmbedGraphicsState({opacity:n.opacity,blendMode:n.blendMode}),fr=this.getContentStream();fr.push.apply(fr,drawLinesOfText(lr,{color:(Ce=n.color)!==null&&Ce!==void 0?Ce:this.fontColor,font:qe,size:Xe,rotate:(Te=n.rotate)!==null&&Te!==void 0?Te:degrees(0),xSkew:(Re=n.xSkew)!==null&&Re!==void 0?Re:degrees(0),ySkew:(Be=n.ySkew)!==null&&Be!==void 0?Be:degrees(0),x:(Ue=n.x)!==null&&Ue!==void 0?Ue:this.x,y:(Oe=n.y)!==null&&Oe!==void 0?Oe:this.y,lineHeight:(Me=n.lineHeight)!==null&&Me!==void 0?Me:this.lineHeight,graphicsState:ur})),n.font&&(Ke?this.setFont(Ke):this.resetFont())},Ee.prototype.drawImage=function(t,n){var Ce,Te,Re,Be,Ue,Oe,Me;n===void 0&&(n={}),assertIs(t,"image",[[PDFImage,"PDFImage"]]),assertOrUndefined(n.x,"options.x",["number"]),assertOrUndefined(n.y,"options.y",["number"]),assertOrUndefined(n.width,"options.width",["number"]),assertOrUndefined(n.height,"options.height",["number"]),assertOrUndefined(n.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(n.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(n.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(n.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(n.blendMode,"options.blendMode",BlendMode);var Qe=this.node.newXObject("Image",t.ref),Ke=this.maybeEmbedGraphicsState({opacity:n.opacity,blendMode:n.blendMode}),Ge=this.getContentStream();Ge.push.apply(Ge,drawImage(Qe,{x:(Ce=n.x)!==null&&Ce!==void 0?Ce:this.x,y:(Te=n.y)!==null&&Te!==void 0?Te:this.y,width:(Re=n.width)!==null&&Re!==void 0?Re:t.size().width,height:(Be=n.height)!==null&&Be!==void 0?Be:t.size().height,rotate:(Ue=n.rotate)!==null&&Ue!==void 0?Ue:degrees(0),xSkew:(Oe=n.xSkew)!==null&&Oe!==void 0?Oe:degrees(0),ySkew:(Me=n.ySkew)!==null&&Me!==void 0?Me:degrees(0),graphicsState:Ke}))},Ee.prototype.drawPage=function(t,n){var Ce,Te,Re,Be,Ue;n===void 0&&(n={}),assertIs(t,"embeddedPage",[[PDFEmbeddedPage,"PDFEmbeddedPage"]]),assertOrUndefined(n.x,"options.x",["number"]),assertOrUndefined(n.y,"options.y",["number"]),assertOrUndefined(n.xScale,"options.xScale",["number"]),assertOrUndefined(n.yScale,"options.yScale",["number"]),assertOrUndefined(n.width,"options.width",["number"]),assertOrUndefined(n.height,"options.height",["number"]),assertOrUndefined(n.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(n.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(n.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(n.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(n.blendMode,"options.blendMode",BlendMode);var Oe=this.node.newXObject("EmbeddedPdfPage",t.ref),Me=this.maybeEmbedGraphicsState({opacity:n.opacity,blendMode:n.blendMode}),Qe=n.width!==void 0?n.width/t.width:n.xScale!==void 0?n.xScale:1,Ke=n.height!==void 0?n.height/t.height:n.yScale!==void 0?n.yScale:1,Ge=this.getContentStream();Ge.push.apply(Ge,drawPage(Oe,{x:(Ce=n.x)!==null&&Ce!==void 0?Ce:this.x,y:(Te=n.y)!==null&&Te!==void 0?Te:this.y,xScale:Qe,yScale:Ke,rotate:(Re=n.rotate)!==null&&Re!==void 0?Re:degrees(0),xSkew:(Be=n.xSkew)!==null&&Be!==void 0?Be:degrees(0),ySkew:(Ue=n.ySkew)!==null&&Ue!==void 0?Ue:degrees(0),graphicsState:Me}))},Ee.prototype.drawSvgPath=function(t,n){var Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke;n===void 0&&(n={}),assertIs(t,"path",["string"]),assertOrUndefined(n.x,"options.x",["number"]),assertOrUndefined(n.y,"options.y",["number"]),assertOrUndefined(n.scale,"options.scale",["number"]),assertOrUndefined(n.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(n.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(n.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(n.opacity,"opacity.opacity",0,1),assertOrUndefined(n.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(n.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(n.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(n.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(n.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(n.blendMode,"options.blendMode",BlendMode);var Ge=this.maybeEmbedGraphicsState({opacity:n.opacity,borderOpacity:n.borderOpacity,blendMode:n.blendMode});!("color"in n)&&!("borderColor"in n)&&(n.borderColor=rgb(0,0,0));var qe=this.getContentStream();qe.push.apply(qe,drawSvgPath(t,{x:(Ce=n.x)!==null&&Ce!==void 0?Ce:this.x,y:(Te=n.y)!==null&&Te!==void 0?Te:this.y,scale:n.scale,rotate:(Re=n.rotate)!==null&&Re!==void 0?Re:degrees(0),color:(Be=n.color)!==null&&Be!==void 0?Be:void 0,borderColor:(Ue=n.borderColor)!==null&&Ue!==void 0?Ue:void 0,borderWidth:(Oe=n.borderWidth)!==null&&Oe!==void 0?Oe:0,borderDashArray:(Me=n.borderDashArray)!==null&&Me!==void 0?Me:void 0,borderDashPhase:(Qe=n.borderDashPhase)!==null&&Qe!==void 0?Qe:void 0,borderLineCap:(Ke=n.borderLineCap)!==null&&Ke!==void 0?Ke:void 0,graphicsState:Ge}))},Ee.prototype.drawLine=function(t){var n,Ce,Te,Re,Be;assertIs(t.start,"options.start",[[Object,"{ x: number, y: number }"]]),assertIs(t.end,"options.end",[[Object,"{ x: number, y: number }"]]),assertIs(t.start.x,"options.start.x",["number"]),assertIs(t.start.y,"options.start.y",["number"]),assertIs(t.end.x,"options.end.x",["number"]),assertIs(t.end.y,"options.end.y",["number"]),assertOrUndefined(t.thickness,"options.thickness",["number"]),assertOrUndefined(t.color,"options.color",[[Object,"Color"]]),assertOrUndefined(t.dashArray,"options.dashArray",[Array]),assertOrUndefined(t.dashPhase,"options.dashPhase",["number"]),assertIsOneOfOrUndefined(t.lineCap,"options.lineCap",LineCapStyle),assertRangeOrUndefined(t.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(t.blendMode,"options.blendMode",BlendMode);var Ue=this.maybeEmbedGraphicsState({borderOpacity:t.opacity,blendMode:t.blendMode});"color"in t||(t.color=rgb(0,0,0));var Oe=this.getContentStream();Oe.push.apply(Oe,drawLine({start:t.start,end:t.end,thickness:(n=t.thickness)!==null&&n!==void 0?n:1,color:(Ce=t.color)!==null&&Ce!==void 0?Ce:void 0,dashArray:(Te=t.dashArray)!==null&&Te!==void 0?Te:void 0,dashPhase:(Re=t.dashPhase)!==null&&Re!==void 0?Re:void 0,lineCap:(Be=t.lineCap)!==null&&Be!==void 0?Be:void 0,graphicsState:Ue}))},Ee.prototype.drawRectangle=function(t){var n,Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke,Ge,qe,Xe;t===void 0&&(t={}),assertOrUndefined(t.x,"options.x",["number"]),assertOrUndefined(t.y,"options.y",["number"]),assertOrUndefined(t.width,"options.width",["number"]),assertOrUndefined(t.height,"options.height",["number"]),assertOrUndefined(t.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(t.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(t.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(t.opacity,"opacity.opacity",0,1),assertOrUndefined(t.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(t.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(t.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(t.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(t.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(t.blendMode,"options.blendMode",BlendMode);var tr=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});!("color"in t)&&!("borderColor"in t)&&(t.color=rgb(0,0,0));var Je=this.getContentStream();Je.push.apply(Je,drawRectangle({x:(n=t.x)!==null&&n!==void 0?n:this.x,y:(Ce=t.y)!==null&&Ce!==void 0?Ce:this.y,width:(Te=t.width)!==null&&Te!==void 0?Te:150,height:(Re=t.height)!==null&&Re!==void 0?Re:100,rotate:(Be=t.rotate)!==null&&Be!==void 0?Be:degrees(0),xSkew:(Ue=t.xSkew)!==null&&Ue!==void 0?Ue:degrees(0),ySkew:(Oe=t.ySkew)!==null&&Oe!==void 0?Oe:degrees(0),borderWidth:(Me=t.borderWidth)!==null&&Me!==void 0?Me:0,color:(Qe=t.color)!==null&&Qe!==void 0?Qe:void 0,borderColor:(Ke=t.borderColor)!==null&&Ke!==void 0?Ke:void 0,borderDashArray:(Ge=t.borderDashArray)!==null&&Ge!==void 0?Ge:void 0,borderDashPhase:(qe=t.borderDashPhase)!==null&&qe!==void 0?qe:void 0,graphicsState:tr,borderLineCap:(Xe=t.borderLineCap)!==null&&Xe!==void 0?Xe:void 0}))},Ee.prototype.drawSquare=function(t){t===void 0&&(t={});var n=t.size;assertOrUndefined(n,"size",["number"]),this.drawRectangle(__assign(__assign({},t),{width:n,height:n}))},Ee.prototype.drawEllipse=function(t){var n,Ce,Te,Re,Be,Ue,Oe,Me,Qe,Ke,Ge;t===void 0&&(t={}),assertOrUndefined(t.x,"options.x",["number"]),assertOrUndefined(t.y,"options.y",["number"]),assertOrUndefined(t.xScale,"options.xScale",["number"]),assertOrUndefined(t.yScale,"options.yScale",["number"]),assertOrUndefined(t.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(t.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(t.opacity,"opacity.opacity",0,1),assertOrUndefined(t.borderColor,"options.borderColor",[[Object,"Color"]]),assertRangeOrUndefined(t.borderOpacity,"options.borderOpacity",0,1),assertOrUndefined(t.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(t.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(t.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(t.borderLineCap,"options.borderLineCap",LineCapStyle),assertIsOneOfOrUndefined(t.blendMode,"options.blendMode",BlendMode);var qe=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});!("color"in t)&&!("borderColor"in t)&&(t.color=rgb(0,0,0));var Xe=this.getContentStream();Xe.push.apply(Xe,drawEllipse({x:(n=t.x)!==null&&n!==void 0?n:this.x,y:(Ce=t.y)!==null&&Ce!==void 0?Ce:this.y,xScale:(Te=t.xScale)!==null&&Te!==void 0?Te:100,yScale:(Re=t.yScale)!==null&&Re!==void 0?Re:100,rotate:(Be=t.rotate)!==null&&Be!==void 0?Be:void 0,color:(Ue=t.color)!==null&&Ue!==void 0?Ue:void 0,borderColor:(Oe=t.borderColor)!==null&&Oe!==void 0?Oe:void 0,borderWidth:(Me=t.borderWidth)!==null&&Me!==void 0?Me:0,borderDashArray:(Qe=t.borderDashArray)!==null&&Qe!==void 0?Qe:void 0,borderDashPhase:(Ke=t.borderDashPhase)!==null&&Ke!==void 0?Ke:void 0,borderLineCap:(Ge=t.borderLineCap)!==null&&Ge!==void 0?Ge:void 0,graphicsState:qe}))},Ee.prototype.drawCircle=function(t){t===void 0&&(t={});var n=t.size,Ce=n===void 0?100:n;assertOrUndefined(Ce,"size",["number"]),this.drawEllipse(__assign(__assign({},t),{xScale:Ce,yScale:Ce}))},Ee.prototype.setOrEmbedFont=function(t){var n=this.font,Ce=this.fontKey;t?this.setFont(t):this.getFont();var Te=this.font,Re=this.fontKey;return{oldFont:n,oldFontKey:Ce,newFont:Te,newFontKey:Re}},Ee.prototype.getFont=function(){if(!this.font||!this.fontKey){var t=this.doc.embedStandardFont(StandardFonts.Helvetica);this.setFont(t)}return[this.font,this.fontKey]},Ee.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},Ee.prototype.getContentStream=function(t){return t===void 0&&(t=!0),t&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},Ee.prototype.createContentStream=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var Ce=this.doc.context.obj({}),Te=PDFContentStream.of(Ce,t);return Te},Ee.prototype.maybeEmbedGraphicsState=function(t){var n=t.opacity,Ce=t.borderOpacity,Te=t.blendMode;if(!(n===void 0&&Ce===void 0&&Te===void 0)){var Re=this.doc.context.obj({Type:"ExtGState",ca:n,CA:Ce,BM:Te}),Be=this.node.newExtGState("GS",Re);return Be}},Ee.prototype.scaleAnnot=function(t,n,Ce){for(var Te=["RD","CL","Vertices","QuadPoints","L","Rect"],Re=0,Be=Te.length;Re<Be;Re++){var Ue=t.lookup(PDFName.of(Te[Re]));Ue instanceof PDFArray&&Ue.scalePDFNumbers(n,Ce)}var Oe=t.lookup(PDFName.of("InkList"));if(Oe instanceof PDFArray)for(var Re=0,Be=Oe.size();Re<Be;Re++){var Me=Oe.lookup(Re);Me instanceof PDFArray&&Me.scalePDFNumbers(n,Ce)}},Ee.of=function(t,n,Ce){return new Ee(t,n,Ce)},Ee.create=function(t){assertIs(t,"doc",[[PDFDocument,"PDFDocument"]]);var n=PDFRef.of(-1),Ce=PDFPageLeaf.withContextAndParent(t.context,n),Te=t.context.register(Ce);return new Ee(Ce,Te,t)},Ee})(),PDFButton=(function(Ee){__extends(t,Ee);function t(n,Ce,Te){var Re=Ee.call(this,n,Ce,Te)||this;return assertIs(n,"acroButton",[[PDFAcroPushButton,"PDFAcroPushButton"]]),Re.acroField=n,Re}return t.prototype.setImage=function(n,Ce){Ce===void 0&&(Ce=ImageAlignment.Center);for(var Te=this.acroField.getWidgets(),Re=0,Be=Te.length;Re<Be;Re++){var Ue=Te[Re],Oe=this.createImageAppearanceStream(Ue,n,Ce);this.updateWidgetAppearances(Ue,{normal:Oe})}this.markAsClean()},t.prototype.setFontSize=function(n){assertPositive(n,"fontSize"),this.acroField.setFontSize(n),this.markAsDirty()},t.prototype.addToPage=function(n,Ce,Te){var Re,Be,Ue,Oe,Me,Qe,Ke,Ge,qe,Xe,tr;assertOrUndefined(n,"text",["string"]),assertOrUndefined(Ce,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(Te);var Je=this.createWidget({x:((Re=Te==null?void 0:Te.x)!==null&&Re!==void 0?Re:0)-((Be=Te==null?void 0:Te.borderWidth)!==null&&Be!==void 0?Be:0)/2,y:((Ue=Te==null?void 0:Te.y)!==null&&Ue!==void 0?Ue:0)-((Oe=Te==null?void 0:Te.borderWidth)!==null&&Oe!==void 0?Oe:0)/2,width:(Me=Te==null?void 0:Te.width)!==null&&Me!==void 0?Me:100,height:(Qe=Te==null?void 0:Te.height)!==null&&Qe!==void 0?Qe:50,textColor:(Ke=Te==null?void 0:Te.textColor)!==null&&Ke!==void 0?Ke:rgb(0,0,0),backgroundColor:(Ge=Te==null?void 0:Te.backgroundColor)!==null&&Ge!==void 0?Ge:rgb(.75,.75,.75),borderColor:Te==null?void 0:Te.borderColor,borderWidth:(qe=Te==null?void 0:Te.borderWidth)!==null&&qe!==void 0?qe:0,rotate:(Xe=Te==null?void 0:Te.rotate)!==null&&Xe!==void 0?Xe:degrees(0),caption:n,hidden:Te==null?void 0:Te.hidden,page:Ce.ref}),Ye=this.doc.context.register(Je.dict);this.acroField.addWidget(Ye);var lr=(tr=Te==null?void 0:Te.font)!==null&&tr!==void 0?tr:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(Je,lr),Ce.node.addAnnot(Ye)},t.prototype.needsAppearancesUpdate=function(){var n;if(this.isDirty())return!0;for(var Ce=this.acroField.getWidgets(),Te=0,Re=Ce.length;Te<Re;Te++){var Be=Ce[Te],Ue=((n=Be.getAppearances())===null||n===void 0?void 0:n.normal)instanceof PDFStream;if(!Ue)return!0}return!1},t.prototype.defaultUpdateAppearances=function(n){assertIs(n,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(n)},t.prototype.updateAppearances=function(n,Ce){assertIs(n,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(Ce,"provider",[Function]);for(var Te=this.acroField.getWidgets(),Re=0,Be=Te.length;Re<Be;Re++){var Ue=Te[Re];this.updateWidgetAppearance(Ue,n,Ce)}},t.prototype.updateWidgetAppearance=function(n,Ce,Te){var Re=Te??defaultButtonAppearanceProvider,Be=normalizeAppearance(Re(this,n,Ce));this.updateWidgetAppearanceWithFont(n,Ce,Be)},t.of=function(n,Ce,Te){return new t(n,Ce,Te)},t})(PDFField);function commonjsRequire(Ee){throw new Error('Could not dynamically require "'+Ee+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,(function(module,exports){(function(t,n){module.exports=t.pdfjsLib=n()})(globalThis,()=>(()=>{var __webpack_modules__=[,((Ee,t)=>{var Sn;Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.RenderingIntentFlag=t.PromiseCapability=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.MAX_IMAGE_SIZE_TO_CACHE=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.BASELINE_FACTOR=t.AnnotationType=t.AnnotationReplyType=t.AnnotationPrefix=t.AnnotationMode=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.assert=Nr,t.bytesToString=gn,t.createValidAbsoluteUrl=Mr,t.getModificationDate=Yn,t.getUuid=An,t.getVerbosityLevel=Ur,t.info=Fr,t.isArrayBuffer=In,t.isArrayEqual=$n,t.isNodeJS=void 0,t.normalizeUnicode=dr,t.objectFromMap=Yr,t.objectSize=wn,t.setVerbosityLevel=Tr,t.shadow=_r,t.string32=Fn,t.stringToBytes=fn,t.stringToPDFString=jn,t.stringToUTF8String=Kn,t.unreachable=jr,t.utf8StringToString=Xn,t.warn=Er;const n=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");t.isNodeJS=n;const Ce=[1,0,0,1,0,0];t.IDENTITY_MATRIX=Ce;const Te=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=Te;const Re=1e7;t.MAX_IMAGE_SIZE_TO_CACHE=Re;const Be=1.35;t.LINE_FACTOR=Be;const Ue=.35;t.LINE_DESCENT_FACTOR=Ue;const Oe=Ue/Be;t.BASELINE_FACTOR=Oe;const Me={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};t.RenderingIntentFlag=Me;const Qe={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};t.AnnotationMode=Qe;const Ke="pdfjs_internal_editor_";t.AnnotationEditorPrefix=Ke;const Ge={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};t.AnnotationEditorType=Ge;const qe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};t.AnnotationEditorParamsType=qe;const Xe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=Xe;const tr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=tr;const Je={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=Je;const Ye={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=Ye;const lr={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=lr;const cr={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=cr;const hr={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=hr;const ur={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=ur;const fr={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.AnnotationActionEventType=fr;const er={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.DocumentActionEventType=er;const nr={O:"PageOpen",C:"PageClose"};t.PageActionEventType=nr;const ir={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=ir;const mr={NONE:0,BINARY:1};t.CMapCompressionType=mr;const $e={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=$e;const Ar={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=Ar;let or=ir.WARNINGS;function Tr(wr){Number.isInteger(wr)&&(or=wr)}function Ur(){return or}function Fr(wr){or>=ir.INFOS&&console.log(`Info: ${wr}`)}function Er(wr){or>=ir.WARNINGS&&console.log(`Warning: ${wr}`)}function jr(wr){throw new Error(wr)}function Nr(wr,Or){wr||jr(Or)}function Br(wr){switch(wr==null?void 0:wr.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Mr(wr,Or=null,Ze=null){if(!wr)return null;try{if(Ze&&typeof wr=="string"){if(Ze.addDefaultProtocol&&wr.startsWith("www.")){const Mn=wr.match(/\./g);(Mn==null?void 0:Mn.length)>=2&&(wr=`http://${wr}`)}if(Ze.tryConvertEncoding)try{wr=Kn(wr)}catch{}}const Jr=Or?new URL(wr,Or):new URL(wr);if(Br(Jr))return Jr}catch{}return null}function _r(wr,Or,Ze,Jr=!1){return Object.defineProperty(wr,Or,{value:Ze,enumerable:!Jr,configurable:!0,writable:!1}),Ze}const gr=(function(){function Or(Ze,Jr){this.constructor===Or&&jr("Cannot initialize BaseException."),this.message=Ze,this.name=Jr}return Or.prototype=new Error,Or.constructor=Or,Or})();t.BaseException=gr;class yr extends gr{constructor(Or,Ze){super(Or,"PasswordException"),this.code=Ze}}t.PasswordException=yr;class Rr extends gr{constructor(Or,Ze){super(Or,"UnknownErrorException"),this.details=Ze}}t.UnknownErrorException=Rr;class Ir extends gr{constructor(Or){super(Or,"InvalidPDFException")}}t.InvalidPDFException=Ir;class Qr extends gr{constructor(Or){super(Or,"MissingPDFException")}}t.MissingPDFException=Qr;class Vr extends gr{constructor(Or,Ze){super(Or,"UnexpectedResponseException"),this.status=Ze}}t.UnexpectedResponseException=Vr;class Wr extends gr{constructor(Or){super(Or,"FormatError")}}t.FormatError=Wr;class mn extends gr{constructor(Or){super(Or,"AbortException")}}t.AbortException=mn;function gn(wr){(typeof wr!="object"||(wr==null?void 0:wr.length)===void 0)&&jr("Invalid argument for bytesToString");const Or=wr.length,Ze=8192;if(Or<Ze)return String.fromCharCode.apply(null,wr);const Jr=[];for(let Mn=0;Mn<Or;Mn+=Ze){const ze=Math.min(Mn+Ze,Or),Cr=wr.subarray(Mn,ze);Jr.push(String.fromCharCode.apply(null,Cr))}return Jr.join("")}function fn(wr){typeof wr!="string"&&jr("Invalid argument for stringToBytes");const Or=wr.length,Ze=new Uint8Array(Or);for(let Jr=0;Jr<Or;++Jr)Ze[Jr]=wr.charCodeAt(Jr)&255;return Ze}function Fn(wr){return String.fromCharCode(wr>>24&255,wr>>16&255,wr>>8&255,wr&255)}function wn(wr){return Object.keys(wr).length}function Yr(wr){const Or=Object.create(null);for(const[Ze,Jr]of wr)Or[Ze]=Jr;return Or}function Rn(){const wr=new Uint8Array(4);return wr[0]=1,new Uint32Array(wr.buffer,0,1)[0]===1}function bn(){try{return new Function(""),!0}catch{return!1}}class zr{static get isLittleEndian(){return _r(this,"isLittleEndian",Rn())}static get isEvalSupported(){return _r(this,"isEvalSupported",bn())}static get isOffscreenCanvasSupported(){return _r(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?_r(this,"platform",{isWin:!1,isMac:!1}):_r(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Or,Ze;return _r(this,"isCSSRoundSupported",(Ze=(Or=globalThis.CSS)==null?void 0:Or.supports)==null?void 0:Ze.call(Or,"width: round(1.5px, 1px)"))}}t.FeatureTest=zr;const $r=[...Array(256).keys()].map(wr=>wr.toString(16).padStart(2,"0"));class Bn{static makeHexColor(Or,Ze,Jr){return`#${$r[Or]}${$r[Ze]}${$r[Jr]}`}static scaleMinMax(Or,Ze){let Jr;Or[0]?(Or[0]<0&&(Jr=Ze[0],Ze[0]=Ze[1],Ze[1]=Jr),Ze[0]*=Or[0],Ze[1]*=Or[0],Or[3]<0&&(Jr=Ze[2],Ze[2]=Ze[3],Ze[3]=Jr),Ze[2]*=Or[3],Ze[3]*=Or[3]):(Jr=Ze[0],Ze[0]=Ze[2],Ze[2]=Jr,Jr=Ze[1],Ze[1]=Ze[3],Ze[3]=Jr,Or[1]<0&&(Jr=Ze[2],Ze[2]=Ze[3],Ze[3]=Jr),Ze[2]*=Or[1],Ze[3]*=Or[1],Or[2]<0&&(Jr=Ze[0],Ze[0]=Ze[1],Ze[1]=Jr),Ze[0]*=Or[2],Ze[1]*=Or[2]),Ze[0]+=Or[4],Ze[1]+=Or[4],Ze[2]+=Or[5],Ze[3]+=Or[5]}static transform(Or,Ze){return[Or[0]*Ze[0]+Or[2]*Ze[1],Or[1]*Ze[0]+Or[3]*Ze[1],Or[0]*Ze[2]+Or[2]*Ze[3],Or[1]*Ze[2]+Or[3]*Ze[3],Or[0]*Ze[4]+Or[2]*Ze[5]+Or[4],Or[1]*Ze[4]+Or[3]*Ze[5]+Or[5]]}static applyTransform(Or,Ze){const Jr=Or[0]*Ze[0]+Or[1]*Ze[2]+Ze[4],Mn=Or[0]*Ze[1]+Or[1]*Ze[3]+Ze[5];return[Jr,Mn]}static applyInverseTransform(Or,Ze){const Jr=Ze[0]*Ze[3]-Ze[1]*Ze[2],Mn=(Or[0]*Ze[3]-Or[1]*Ze[2]+Ze[2]*Ze[5]-Ze[4]*Ze[3])/Jr,ze=(-Or[0]*Ze[1]+Or[1]*Ze[0]+Ze[4]*Ze[1]-Ze[5]*Ze[0])/Jr;return[Mn,ze]}static getAxialAlignedBoundingBox(Or,Ze){const Jr=this.applyTransform(Or,Ze),Mn=this.applyTransform(Or.slice(2,4),Ze),ze=this.applyTransform([Or[0],Or[3]],Ze),Cr=this.applyTransform([Or[2],Or[1]],Ze);return[Math.min(Jr[0],Mn[0],ze[0],Cr[0]),Math.min(Jr[1],Mn[1],ze[1],Cr[1]),Math.max(Jr[0],Mn[0],ze[0],Cr[0]),Math.max(Jr[1],Mn[1],ze[1],Cr[1])]}static inverseTransform(Or){const Ze=Or[0]*Or[3]-Or[1]*Or[2];return[Or[3]/Ze,-Or[1]/Ze,-Or[2]/Ze,Or[0]/Ze,(Or[2]*Or[5]-Or[4]*Or[3])/Ze,(Or[4]*Or[1]-Or[5]*Or[0])/Ze]}static singularValueDecompose2dScale(Or){const Ze=[Or[0],Or[2],Or[1],Or[3]],Jr=Or[0]*Ze[0]+Or[1]*Ze[2],Mn=Or[0]*Ze[1]+Or[1]*Ze[3],ze=Or[2]*Ze[0]+Or[3]*Ze[2],Cr=Or[2]*Ze[1]+Or[3]*Ze[3],kr=(Jr+Cr)/2,rr=Math.sqrt((Jr+Cr)**2-4*(Jr*Cr-ze*Mn))/2,xr=kr+rr||1,Kr=kr-rr||1;return[Math.sqrt(xr),Math.sqrt(Kr)]}static normalizeRect(Or){const Ze=Or.slice(0);return Or[0]>Or[2]&&(Ze[0]=Or[2],Ze[2]=Or[0]),Or[1]>Or[3]&&(Ze[1]=Or[3],Ze[3]=Or[1]),Ze}static intersect(Or,Ze){const Jr=Math.max(Math.min(Or[0],Or[2]),Math.min(Ze[0],Ze[2])),Mn=Math.min(Math.max(Or[0],Or[2]),Math.max(Ze[0],Ze[2]));if(Jr>Mn)return null;const ze=Math.max(Math.min(Or[1],Or[3]),Math.min(Ze[1],Ze[3])),Cr=Math.min(Math.max(Or[1],Or[3]),Math.max(Ze[1],Ze[3]));return ze>Cr?null:[Jr,ze,Mn,Cr]}static bezierBoundingBox(Or,Ze,Jr,Mn,ze,Cr,kr,rr){const xr=[],Kr=[[],[]];let Dn,Gr,Hr,dn,Qn,kn,On,zn;for(let Ni=0;Ni<2;++Ni){if(Ni===0?(Gr=6*Or-12*Jr+6*ze,Dn=-3*Or+9*Jr-9*ze+3*kr,Hr=3*Jr-3*Or):(Gr=6*Ze-12*Mn+6*Cr,Dn=-3*Ze+9*Mn-9*Cr+3*rr,Hr=3*Mn-3*Ze),Math.abs(Dn)<1e-12){if(Math.abs(Gr)<1e-12)continue;dn=-Hr/Gr,0<dn&&dn<1&&xr.push(dn);continue}On=Gr*Gr-4*Hr*Dn,zn=Math.sqrt(On),!(On<0)&&(Qn=(-Gr+zn)/(2*Dn),0<Qn&&Qn<1&&xr.push(Qn),kn=(-Gr-zn)/(2*Dn),0<kn&&kn<1&&xr.push(kn))}let hi=xr.length,pi;const mi=hi;for(;hi--;)dn=xr[hi],pi=1-dn,Kr[0][hi]=pi*pi*pi*Or+3*pi*pi*dn*Jr+3*pi*dn*dn*ze+dn*dn*dn*kr,Kr[1][hi]=pi*pi*pi*Ze+3*pi*pi*dn*Mn+3*pi*dn*dn*Cr+dn*dn*dn*rr;return Kr[0][mi]=Or,Kr[1][mi]=Ze,Kr[0][mi+1]=kr,Kr[1][mi+1]=rr,Kr[0].length=Kr[1].length=mi+2,[Math.min(...Kr[0]),Math.min(...Kr[1]),Math.max(...Kr[0]),Math.max(...Kr[1])]}}t.Util=Bn;const Pn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function jn(wr){if(wr[0]>=""){let Ze;if(wr[0]===""&&wr[1]===""?Ze="utf-16be":wr[0]===""&&wr[1]===""?Ze="utf-16le":wr[0]===""&&wr[1]===""&&wr[2]===""&&(Ze="utf-8"),Ze)try{const Jr=new TextDecoder(Ze,{fatal:!0}),Mn=fn(wr);return Jr.decode(Mn)}catch(Jr){Er(`stringToPDFString: "${Jr}".`)}}const Or=[];for(let Ze=0,Jr=wr.length;Ze<Jr;Ze++){const Mn=Pn[wr.charCodeAt(Ze)];Or.push(Mn?String.fromCharCode(Mn):wr.charAt(Ze))}return Or.join("")}function Kn(wr){return decodeURIComponent(escape(wr))}function Xn(wr){return unescape(encodeURIComponent(wr))}function In(wr){return typeof wr=="object"&&(wr==null?void 0:wr.byteLength)!==void 0}function $n(wr,Or){if(wr.length!==Or.length)return!1;for(let Ze=0,Jr=wr.length;Ze<Jr;Ze++)if(wr[Ze]!==Or[Ze])return!1;return!0}function Yn(wr=new Date){return[wr.getUTCFullYear().toString(),(wr.getUTCMonth()+1).toString().padStart(2,"0"),wr.getUTCDate().toString().padStart(2,"0"),wr.getUTCHours().toString().padStart(2,"0"),wr.getUTCMinutes().toString().padStart(2,"0"),wr.getUTCSeconds().toString().padStart(2,"0")].join("")}class si{constructor(){Jn(this,Sn,!1);this.promise=new Promise((Or,Ze)=>{this.resolve=Jr=>{ti(this,Sn,!0),Or(Jr)},this.reject=Jr=>{ti(this,Sn,!0),Ze(Jr)}})}get settled(){return Lr(this,Sn)}}Sn=new WeakMap,t.PromiseCapability=si;let ai=null,Ci=null;function dr(wr){return ai||(ai=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ci=new Map([["","t"]])),wr.replaceAll(ai,(Or,Ze,Jr)=>Ze?Ze.normalize("NFKC"):Ci.get(Jr))}function An(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const wr=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(wr);else for(let Or=0;Or<32;Or++)wr[Or]=Math.floor(Math.random()*255);return gn(wr)}const vn="pdfjs_internal_id_";t.AnnotationPrefix=vn}),((__unused_webpack_module,exports,__w_pdfjs_require__)=>{var Ee,n,Ce,Te,cu,fd,Ue,Oe,Me,Qe,Ke,Ge,qe,Xe,tr,pd,Ye,lr,Uf,hr,ur;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(er){if(typeof er=="string"||er instanceof URL?er={url:er}:(0,_util.isArrayBuffer)(er)&&(er={data:er}),typeof er!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!er.url&&!er.data&&!er.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const nr=new PDFDocumentLoadingTask,{docId:ir}=nr,mr=er.url?getUrlProp(er.url):null,$e=er.data?getDataProp(er.data):null,Ar=er.httpHeaders||null,or=er.withCredentials===!0,Tr=er.password??null,Ur=er.range instanceof PDFDataRangeTransport?er.range:null,Fr=Number.isInteger(er.rangeChunkSize)&&er.rangeChunkSize>0?er.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Er=er.worker instanceof PDFWorker?er.worker:null;const jr=er.verbosity,Nr=typeof er.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(er.docBaseUrl)?er.docBaseUrl:null,Br=typeof er.cMapUrl=="string"?er.cMapUrl:null,Mr=er.cMapPacked!==!1,_r=er.CMapReaderFactory||DefaultCMapReaderFactory,gr=typeof er.standardFontDataUrl=="string"?er.standardFontDataUrl:null,yr=er.StandardFontDataFactory||DefaultStandardFontDataFactory,Rr=er.stopAtErrors!==!0,Ir=Number.isInteger(er.maxImageSize)&&er.maxImageSize>-1?er.maxImageSize:-1,Qr=er.isEvalSupported!==!1,Vr=typeof er.isOffscreenCanvasSupported=="boolean"?er.isOffscreenCanvasSupported:!_util.isNodeJS,Wr=Number.isInteger(er.canvasMaxAreaInBytes)?er.canvasMaxAreaInBytes:-1,mn=typeof er.disableFontFace=="boolean"?er.disableFontFace:_util.isNodeJS,gn=er.fontExtraProperties===!0,fn=er.enableXfa===!0,Fn=er.ownerDocument||globalThis.document,wn=er.disableRange===!0,Yr=er.disableStream===!0,Rn=er.disableAutoFetch===!0,bn=er.pdfBug===!0,zr=Ur?Ur.length:er.length??NaN,$r=typeof er.useSystemFonts=="boolean"?er.useSystemFonts:!_util.isNodeJS&&!mn,Bn=typeof er.useWorkerFetch=="boolean"?er.useWorkerFetch:_r===_display_utils.DOMCMapReaderFactory&&yr===_display_utils.DOMStandardFontDataFactory&&Br&&gr&&(0,_display_utils.isValidFetchUrl)(Br,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(gr,document.baseURI),Pn=er.canvasFactory||new DefaultCanvasFactory({ownerDocument:Fn}),jn=er.filterFactory||new DefaultFilterFactory({docId:ir,ownerDocument:Fn}),Kn=null;(0,_util.setVerbosityLevel)(jr);const Xn={canvasFactory:Pn,filterFactory:jn};if(Bn||(Xn.cMapReaderFactory=new _r({baseUrl:Br,isCompressed:Mr}),Xn.standardFontDataFactory=new yr({baseUrl:gr})),!Er){const Yn={verbosity:jr,port:_worker_options.GlobalWorkerOptions.workerPort};Er=Yn.port?PDFWorker.fromPort(Yn):new PDFWorker(Yn),nr._worker=Er}const In={docId:ir,apiVersion:"3.11.174",data:$e,password:Tr,disableAutoFetch:Rn,rangeChunkSize:Fr,length:zr,docBaseUrl:Nr,enableXfa:fn,evaluatorOptions:{maxImageSize:Ir,disableFontFace:mn,ignoreErrors:Rr,isEvalSupported:Qr,isOffscreenCanvasSupported:Vr,canvasMaxAreaInBytes:Wr,fontExtraProperties:gn,useSystemFonts:$r,cMapUrl:Bn?Br:null,standardFontDataUrl:Bn?gr:null}},$n={ignoreErrors:Rr,isEvalSupported:Qr,disableFontFace:mn,fontExtraProperties:gn,enableXfa:fn,ownerDocument:Fn,disableAutoFetch:Rn,pdfBug:bn,styleElement:Kn};return Er.promise.then(function(){if(nr.destroyed)throw new Error("Loading aborted");const Yn=_fetchDocument(Er,In),si=new Promise(function(ai){let Ci;Ur?Ci=new _transport_stream.PDFDataTransportStream({length:zr,initialData:Ur.initialData,progressiveDone:Ur.progressiveDone,contentDispositionFilename:Ur.contentDispositionFilename,disableRange:wn,disableStream:Yr},Ur):$e||(Ci=(An=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(An):(0,_display_utils.isValidFetchUrl)(An.url)?new _displayFetch_stream.PDFFetchStream(An):new _displayNetwork.PDFNetworkStream(An))({url:mr,length:zr,httpHeaders:Ar,withCredentials:or,rangeChunkSize:Fr,disableRange:wn,disableStream:Yr})),ai(Ci)});return Promise.all([Yn,si]).then(function([ai,Ci]){if(nr.destroyed)throw new Error("Loading aborted");const dr=new _message_handler.MessageHandler(ir,ai,Er.port),An=new WorkerTransport(dr,nr,Ci,$n,Xn);nr._transport=An,dr.send("Ready",null)})}).catch(nr._capability.reject),nr}async function _fetchDocument(er,nr){if(er.destroyed)throw new Error("Worker was destroyed");const ir=await er.messageHandler.sendWithPromise("GetDocRequest",nr,nr.data?[nr.data.buffer]:null);if(er.destroyed)throw new Error("Worker was destroyed");return ir}function getUrlProp(er){if(er instanceof URL)return er.href;try{return new URL(er,window.location).href}catch{if(_util.isNodeJS&&typeof er=="string")return er}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(er){if(_util.isNodeJS&&typeof Buffer<"u"&&er instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(er instanceof Uint8Array&&er.byteLength===er.buffer.byteLength)return er;if(typeof er=="string")return(0,_util.stringToBytes)(er);if(typeof er=="object"&&!isNaN(er==null?void 0:er.length)||(0,_util.isArrayBuffer)(er))return new Uint8Array(er);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const t=class t{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${ah(t,Ee)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var nr,ir,mr;this.destroyed=!0;try{(nr=this._worker)!=null&&nr.port&&(this._worker._pendingDestroy=!0),await((ir=this._transport)==null?void 0:ir.destroy())}catch($e){throw(mr=this._worker)!=null&&mr.port&&delete this._worker._pendingDestroy,$e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Ee=new WeakMap,Jn(t,Ee,0);let PDFDocumentLoadingTask=t;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(nr,ir,mr=!1,$e=null){this.length=nr,this.initialData=ir,this.progressiveDone=mr,this.contentDispositionFilename=$e,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(nr){this._rangeListeners.push(nr)}addProgressListener(nr){this._progressListeners.push(nr)}addProgressiveReadListener(nr){this._progressiveReadListeners.push(nr)}addProgressiveDoneListener(nr){this._progressiveDoneListeners.push(nr)}onDataRange(nr,ir){for(const mr of this._rangeListeners)mr(nr,ir)}onDataProgress(nr,ir){this._readyCapability.promise.then(()=>{for(const mr of this._progressListeners)mr(nr,ir)})}onDataProgressiveRead(nr){this._readyCapability.promise.then(()=>{for(const ir of this._progressiveReadListeners)ir(nr)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const nr of this._progressiveDoneListeners)nr()})}transportReady(){this._readyCapability.resolve()}requestDataRange(nr,ir){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(nr,ir){this._pdfInfo=nr,this._transport=ir,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(mr=>{if(!mr)return mr;const $e=[];for(const Ar in mr)$e.push(...mr[Ar]);return $e}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(nr){return this._transport.getPage(nr)}getPageIndex(nr){return this._transport.getPageIndex(nr)}getDestinations(){return this._transport.getDestinations()}getDestination(nr){return this._transport.getDestination(nr)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(nr=!1){return this._transport.startCleanup(nr||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(nr,ir,mr,$e=!1){Jn(this,Te);Jn(this,n,null);Jn(this,Ce,!1);this._pageIndex=nr,this._pageInfo=ir,this._transport=mr,this._stats=$e?new _display_utils.StatTimer:null,this._pdfBug=$e,this.commonObjs=mr.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:nr,rotation:ir=this.rotate,offsetX:mr=0,offsetY:$e=0,dontFlip:Ar=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:nr,rotation:ir,offsetX:mr,offsetY:$e,dontFlip:Ar})}getAnnotations({intent:nr="display"}={}){const ir=this._transport.getRenderingIntent(nr);return this._transport.getAnnotations(this._pageIndex,ir.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var nr;return((nr=this._transport._htmlForXfa)==null?void 0:nr.children[this._pageIndex])||null}render({canvasContext:nr,viewport:ir,intent:mr="display",annotationMode:$e=_util.AnnotationMode.ENABLE,transform:Ar=null,background:or=null,optionalContentConfigPromise:Tr=null,annotationCanvasMap:Ur=null,pageColors:Fr=null,printAnnotationStorage:Er=null}){var yr,Rr;(yr=this._stats)==null||yr.time("Overall");const jr=this._transport.getRenderingIntent(mr,$e,Er);ti(this,Ce,!1),qn(this,Te,fd).call(this),Tr||(Tr=this._transport.getOptionalContentConfig());let Nr=this._intentStates.get(jr.cacheKey);Nr||(Nr=Object.create(null),this._intentStates.set(jr.cacheKey,Nr)),Nr.streamReaderCancelTimeout&&(clearTimeout(Nr.streamReaderCancelTimeout),Nr.streamReaderCancelTimeout=null);const Br=!!(jr.renderingIntent&_util.RenderingIntentFlag.PRINT);Nr.displayReadyCapability||(Nr.displayReadyCapability=new _util.PromiseCapability,Nr.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Rr=this._stats)==null||Rr.time("Page Request"),this._pumpOperatorList(jr));const Mr=Ir=>{var Qr,Vr;Nr.renderTasks.delete(_r),(this._maybeCleanupAfterRender||Br)&&ti(this,Ce,!0),qn(this,Te,cu).call(this,!Br),Ir?(_r.capability.reject(Ir),this._abortOperatorList({intentState:Nr,reason:Ir instanceof Error?Ir:new Error(Ir)})):_r.capability.resolve(),(Qr=this._stats)==null||Qr.timeEnd("Rendering"),(Vr=this._stats)==null||Vr.timeEnd("Overall")},_r=new InternalRenderTask({callback:Mr,params:{canvasContext:nr,viewport:ir,transform:Ar,background:or},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Ur,operatorList:Nr.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Br,pdfBug:this._pdfBug,pageColors:Fr});(Nr.renderTasks||(Nr.renderTasks=new Set)).add(_r);const gr=_r.task;return Promise.all([Nr.displayReadyCapability.promise,Tr]).then(([Ir,Qr])=>{var Vr;if(this.destroyed){Mr();return}(Vr=this._stats)==null||Vr.time("Rendering"),_r.initializeGraphics({transparency:Ir,optionalContentConfig:Qr}),_r.operatorListChanged()}).catch(Mr),gr}getOperatorList({intent:nr="display",annotationMode:ir=_util.AnnotationMode.ENABLE,printAnnotationStorage:mr=null}={}){var Ur;function $e(){or.operatorList.lastChunk&&(or.opListReadCapability.resolve(or.operatorList),or.renderTasks.delete(Tr))}const Ar=this._transport.getRenderingIntent(nr,ir,mr,!0);let or=this._intentStates.get(Ar.cacheKey);or||(or=Object.create(null),this._intentStates.set(Ar.cacheKey,or));let Tr;return or.opListReadCapability||(Tr=Object.create(null),Tr.operatorListChanged=$e,or.opListReadCapability=new _util.PromiseCapability,(or.renderTasks||(or.renderTasks=new Set)).add(Tr),or.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ur=this._stats)==null||Ur.time("Page Request"),this._pumpOperatorList(Ar)),or.opListReadCapability.promise}streamTextContent({includeMarkedContent:nr=!1,disableNormalization:ir=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:nr===!0,disableNormalization:ir===!0},{highWaterMark:100,size($e){return $e.items.length}})}getTextContent(nr={}){if(this._transport._htmlForXfa)return this.getXfa().then(mr=>_xfa_text.XfaText.textContent(mr));const ir=this.streamTextContent(nr);return new Promise(function(mr,$e){function Ar(){or.read().then(function({value:Ur,done:Fr}){if(Fr){mr(Tr);return}Object.assign(Tr.styles,Ur.styles),Tr.items.push(...Ur.items),Ar()},$e)}const or=ir.getReader(),Tr={items:[],styles:Object.create(null)};Ar()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const nr=[];for(const ir of this._intentStates.values())if(this._abortOperatorList({intentState:ir,reason:new Error("Page was destroyed."),force:!0}),!ir.opListReadCapability)for(const mr of ir.renderTasks)nr.push(mr.completed),mr.cancel();return this.objs.clear(),ti(this,Ce,!1),qn(this,Te,fd).call(this),Promise.all(nr)}cleanup(nr=!1){ti(this,Ce,!0);const ir=qn(this,Te,cu).call(this,!1);return nr&&ir&&this._stats&&(this._stats=new _display_utils.StatTimer),ir}_startRenderPage(nr,ir){var $e,Ar;const mr=this._intentStates.get(ir);mr&&(($e=this._stats)==null||$e.timeEnd("Page Request"),(Ar=mr.displayReadyCapability)==null||Ar.resolve(nr))}_renderPageChunk(nr,ir){for(let mr=0,$e=nr.length;mr<$e;mr++)ir.operatorList.fnArray.push(nr.fnArray[mr]),ir.operatorList.argsArray.push(nr.argsArray[mr]);ir.operatorList.lastChunk=nr.lastChunk,ir.operatorList.separateAnnots=nr.separateAnnots;for(const mr of ir.renderTasks)mr.operatorListChanged();nr.lastChunk&&qn(this,Te,cu).call(this,!0)}_pumpOperatorList({renderingIntent:nr,cacheKey:ir,annotationStorageSerializable:mr}){const{map:$e,transfers:Ar}=mr,Tr=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:nr,cacheKey:ir,annotationStorage:$e},Ar).getReader(),Ur=this._intentStates.get(ir);Ur.streamReader=Tr;const Fr=()=>{Tr.read().then(({value:Er,done:jr})=>{if(jr){Ur.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Er,Ur),Fr())},Er=>{if(Ur.streamReader=null,!this._transport.destroyed){if(Ur.operatorList){Ur.operatorList.lastChunk=!0;for(const jr of Ur.renderTasks)jr.operatorListChanged();qn(this,Te,cu).call(this,!0)}if(Ur.displayReadyCapability)Ur.displayReadyCapability.reject(Er);else if(Ur.opListReadCapability)Ur.opListReadCapability.reject(Er);else throw Er}})};Fr()}_abortOperatorList({intentState:nr,reason:ir,force:mr=!1}){if(nr.streamReader){if(nr.streamReaderCancelTimeout&&(clearTimeout(nr.streamReaderCancelTimeout),nr.streamReaderCancelTimeout=null),!mr){if(nr.renderTasks.size>0)return;if(ir instanceof _display_utils.RenderingCancelledException){let $e=RENDERING_CANCELLED_TIMEOUT;ir.extraDelay>0&&ir.extraDelay<1e3&&($e+=ir.extraDelay),nr.streamReaderCancelTimeout=setTimeout(()=>{nr.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:nr,reason:ir,force:!0})},$e);return}}if(nr.streamReader.cancel(new _util.AbortException(ir.message)).catch(()=>{}),nr.streamReader=null,!this._transport.destroyed){for(const[$e,Ar]of this._intentStates)if(Ar===nr){this._intentStates.delete($e);break}this.cleanup()}}}get stats(){return this._stats}}n=new WeakMap,Ce=new WeakMap,Te=new WeakSet,cu=function(nr=!1){if(qn(this,Te,fd).call(this),!Lr(this,Ce)||this.destroyed)return!1;if(nr)return ti(this,n,setTimeout(()=>{ti(this,n,null),qn(this,Te,cu).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ir,operatorList:mr}of this._intentStates.values())if(ir.size>0||!mr.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ti(this,Ce,!1),!0},fd=function(){Lr(this,n)&&(clearTimeout(Lr(this,n)),ti(this,n,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Jn(this,Ue,new Set);Jn(this,Oe,Promise.resolve())}postMessage(nr,ir){const mr={data:structuredClone(nr,ir?{transfer:ir}:null)};Lr(this,Oe).then(()=>{for(const $e of Lr(this,Ue))$e.call(this,mr)})}addEventListener(nr,ir){Lr(this,Ue).add(ir)}removeEventListener(nr,ir){Lr(this,Ue).delete(ir)}terminate(){Lr(this,Ue).clear()}}Ue=new WeakMap,Oe=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const er=(Me=document==null?void 0:document.currentScript)==null?void 0:Me.src;er&&(PDFWorkerUtil.fallbackWorkerSrc=er.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(er,nr){let ir;try{if(ir=new URL(er),!ir.origin||ir.origin==="null")return!1}catch{return!1}const mr=new URL(nr,ir);return ir.origin===mr.origin},PDFWorkerUtil.createCDNWrapper=function(er){const nr=`importScripts("${er}");`;return URL.createObjectURL(new Blob([nr]))}}const _PDFWorker=class _PDFWorker{constructor({name:er=null,port:nr=null,verbosity:ir=(0,_util.getVerbosityLevel)()}={}){var mr;if(this.name=er,this.destroyed=!1,this.verbosity=ir,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,nr){if((mr=Lr(_PDFWorker,Qe))!=null&&mr.has(nr))throw new Error("Cannot use more than one PDFWorker per port.");(Lr(_PDFWorker,Qe)||ti(_PDFWorker,Qe,new WeakMap)).set(nr,this),this._initializeFromPort(nr);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(er){this._port=er,this._messageHandler=new _message_handler.MessageHandler("main","worker",er),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:er}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,er)||(er=PDFWorkerUtil.createCDNWrapper(new URL(er,window.location).href));const nr=new Worker(er),ir=new _message_handler.MessageHandler("main","worker",nr),mr=()=>{nr.removeEventListener("error",$e),ir.destroy(),nr.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},$e=()=>{this._webWorker||mr()};nr.addEventListener("error",$e),ir.on("test",or=>{if(nr.removeEventListener("error",$e),this.destroyed){mr();return}or?(this._messageHandler=ir,this._port=nr,this._webWorker=nr,this._readyCapability.resolve(),ir.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),ir.destroy(),nr.terminate())}),ir.on("ready",or=>{if(nr.removeEventListener("error",$e),this.destroyed){mr();return}try{Ar()}catch{this._setupFakeWorker()}});const Ar=()=>{const or=new Uint8Array;ir.send("test",or,[or.buffer])};Ar();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(er=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const nr=new LoopbackPort;this._port=nr;const ir=`fake${PDFWorkerUtil.fakeWorkerId++}`,mr=new _message_handler.MessageHandler(ir+"_worker",ir,nr);er.setup(mr,nr);const $e=new _message_handler.MessageHandler(ir,ir+"_worker",nr);this._messageHandler=$e,this._readyCapability.resolve(),$e.send("configure",{verbosity:this.verbosity})}).catch(er=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${er.message}".`))})}destroy(){var er;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(er=Lr(_PDFWorker,Qe))==null||er.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(er){var ir;if(!(er!=null&&er.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const nr=(ir=Lr(this,Qe))==null?void 0:ir.get(er.port);if(nr){if(nr._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return nr}return new _PDFWorker(er)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var er;try{return((er=globalThis.pdfjsWorker)==null?void 0:er.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};Qe=new WeakMap,Jn(_PDFWorker,Qe);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(nr,ir,mr,$e,Ar){Jn(this,tr);Jn(this,Ke,new Map);Jn(this,Ge,new Map);Jn(this,qe,new Map);Jn(this,Xe,null);this.messageHandler=nr,this.loadingTask=ir,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:$e.ownerDocument,styleElement:$e.styleElement}),this._params=$e,this.canvasFactory=Ar.canvasFactory,this.filterFactory=Ar.filterFactory,this.cMapReaderFactory=Ar.cMapReaderFactory,this.standardFontDataFactory=Ar.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=mr,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(nr,ir=_util.AnnotationMode.ENABLE,mr=null,$e=!1){let Ar=_util.RenderingIntentFlag.DISPLAY,or=_annotation_storage.SerializableEmpty;switch(nr){case"any":Ar=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Ar=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${nr}`)}switch(ir){case _util.AnnotationMode.DISABLE:Ar+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Ar+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Ar+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,or=(Ar&_util.RenderingIntentFlag.PRINT&&mr instanceof _annotation_storage.PrintAnnotationStorage?mr:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${ir}`)}return $e&&(Ar+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Ar,cacheKey:`${Ar}_${or.hash}`,annotationStorageSerializable:or}}destroy(){var mr;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(mr=Lr(this,Xe))==null||mr.reject(new Error("Worker was destroyed during onPassword callback"));const nr=[];for(const $e of Lr(this,Ge).values())nr.push($e._destroy());Lr(this,Ge).clear(),Lr(this,qe).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ir=this.messageHandler.sendWithPromise("Terminate",null);return nr.push(ir),Promise.all(nr).then(()=>{var $e;this.commonObjs.clear(),this.fontLoader.clear(),Lr(this,Ke).clear(),this.filterFactory.destroy(),($e=this._networkStream)==null||$e.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:nr,loadingTask:ir}=this;nr.on("GetReader",(mr,$e)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Ar=>{this._lastProgress={loaded:Ar.loaded,total:Ar.total}},$e.onPull=()=>{this._fullReader.read().then(function({value:Ar,done:or}){if(or){$e.close();return}(0,_util.assert)(Ar instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),$e.enqueue(new Uint8Array(Ar),1,[Ar])}).catch(Ar=>{$e.error(Ar)})},$e.onCancel=Ar=>{this._fullReader.cancel(Ar),$e.ready.catch(or=>{if(!this.destroyed)throw or})}}),nr.on("ReaderHeadersReady",mr=>{const $e=new _util.PromiseCapability,Ar=this._fullReader;return Ar.headersReady.then(()=>{var or;(!Ar.isStreamingSupported||!Ar.isRangeSupported)&&(this._lastProgress&&((or=ir.onProgress)==null||or.call(ir,this._lastProgress)),Ar.onProgress=Tr=>{var Ur;(Ur=ir.onProgress)==null||Ur.call(ir,{loaded:Tr.loaded,total:Tr.total})}),$e.resolve({isStreamingSupported:Ar.isStreamingSupported,isRangeSupported:Ar.isRangeSupported,contentLength:Ar.contentLength})},$e.reject),$e.promise}),nr.on("GetRangeReader",(mr,$e)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Ar=this._networkStream.getRangeReader(mr.begin,mr.end);if(!Ar){$e.close();return}$e.onPull=()=>{Ar.read().then(function({value:or,done:Tr}){if(Tr){$e.close();return}(0,_util.assert)(or instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),$e.enqueue(new Uint8Array(or),1,[or])}).catch(or=>{$e.error(or)})},$e.onCancel=or=>{Ar.cancel(or),$e.ready.catch(Tr=>{if(!this.destroyed)throw Tr})}}),nr.on("GetDoc",({pdfInfo:mr})=>{this._numPages=mr.numPages,this._htmlForXfa=mr.htmlForXfa,delete mr.htmlForXfa,ir._capability.resolve(new PDFDocumentProxy(mr,this))}),nr.on("DocException",function(mr){let $e;switch(mr.name){case"PasswordException":$e=new _util.PasswordException(mr.message,mr.code);break;case"InvalidPDFException":$e=new _util.InvalidPDFException(mr.message);break;case"MissingPDFException":$e=new _util.MissingPDFException(mr.message);break;case"UnexpectedResponseException":$e=new _util.UnexpectedResponseException(mr.message,mr.status);break;case"UnknownErrorException":$e=new _util.UnknownErrorException(mr.message,mr.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}ir._capability.reject($e)}),nr.on("PasswordRequest",mr=>{if(ti(this,Xe,new _util.PromiseCapability),ir.onPassword){const $e=Ar=>{Ar instanceof Error?Lr(this,Xe).reject(Ar):Lr(this,Xe).resolve({password:Ar})};try{ir.onPassword($e,mr.code)}catch(Ar){Lr(this,Xe).reject(Ar)}}else Lr(this,Xe).reject(new _util.PasswordException(mr.message,mr.code));return Lr(this,Xe).promise}),nr.on("DataLoaded",mr=>{var $e;($e=ir.onProgress)==null||$e.call(ir,{loaded:mr.length,total:mr.length}),this.downloadInfoCapability.resolve(mr)}),nr.on("StartRenderPage",mr=>{if(this.destroyed)return;Lr(this,Ge).get(mr.pageIndex)._startRenderPage(mr.transparency,mr.cacheKey)}),nr.on("commonobj",([mr,$e,Ar])=>{var or;if(!this.destroyed&&!this.commonObjs.has(mr))switch($e){case"Font":const Tr=this._params;if("error"in Ar){const Er=Ar.error;(0,_util.warn)(`Error during font loading: ${Er}`),this.commonObjs.resolve(mr,Er);break}const Ur=Tr.pdfBug&&((or=globalThis.FontInspector)!=null&&or.enabled)?(Er,jr)=>globalThis.FontInspector.fontAdded(Er,jr):null,Fr=new _font_loader.FontFaceObject(Ar,{isEvalSupported:Tr.isEvalSupported,disableFontFace:Tr.disableFontFace,ignoreErrors:Tr.ignoreErrors,inspectFont:Ur});this.fontLoader.bind(Fr).catch(Er=>nr.sendWithPromise("FontFallback",{id:mr})).finally(()=>{!Tr.fontExtraProperties&&Fr.data&&(Fr.data=null),this.commonObjs.resolve(mr,Fr)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(mr,Ar);break;default:throw new Error(`Got unknown common object type ${$e}`)}}),nr.on("obj",([mr,$e,Ar,or])=>{var Ur;if(this.destroyed)return;const Tr=Lr(this,Ge).get($e);if(!Tr.objs.has(mr))switch(Ar){case"Image":if(Tr.objs.resolve(mr,or),or){let Fr;if(or.bitmap){const{width:Er,height:jr}=or;Fr=Er*jr*4}else Fr=((Ur=or.data)==null?void 0:Ur.length)||0;Fr>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Tr._maybeCleanupAfterRender=!0)}break;case"Pattern":Tr.objs.resolve(mr,or);break;default:throw new Error(`Got unknown object type ${Ar}`)}}),nr.on("DocProgress",mr=>{var $e;this.destroyed||($e=ir.onProgress)==null||$e.call(ir,{loaded:mr.loaded,total:mr.total})}),nr.on("FetchBuiltInCMap",mr=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(mr):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),nr.on("FetchStandardFontData",mr=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(mr):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var mr;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:nr,transfers:ir}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:nr,filename:((mr=this._fullReader)==null?void 0:mr.filename)??null},ir).finally(()=>{this.annotationStorage.resetModified()})}getPage(nr){if(!Number.isInteger(nr)||nr<=0||nr>this._numPages)return Promise.reject(new Error("Invalid page request."));const ir=nr-1,mr=Lr(this,qe).get(ir);if(mr)return mr;const $e=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ir}).then(Ar=>{if(this.destroyed)throw new Error("Transport destroyed");const or=new PDFPageProxy(ir,Ar,this,this._params.pdfBug);return Lr(this,Ge).set(ir,or),or});return Lr(this,qe).set(ir,$e),$e}getPageIndex(nr){return typeof nr!="object"||nr===null||!Number.isInteger(nr.num)||nr.num<0||!Number.isInteger(nr.gen)||nr.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:nr.num,gen:nr.gen})}getAnnotations(nr,ir){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:nr,intent:ir})}getFieldObjects(){return qn(this,tr,pd).call(this,"GetFieldObjects")}hasJSActions(){return qn(this,tr,pd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(nr){return typeof nr!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:nr})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return qn(this,tr,pd).call(this,"GetDocJSActions")}getPageJSActions(nr){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:nr})}getStructTree(nr){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:nr})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(nr=>new _optional_content_config.OptionalContentConfig(nr))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const nr="GetMetadata",ir=Lr(this,Ke).get(nr);if(ir)return ir;const mr=this.messageHandler.sendWithPromise(nr,null).then($e=>{var Ar,or;return{info:$e[0],metadata:$e[1]?new _metadata.Metadata($e[1]):null,contentDispositionFilename:((Ar=this._fullReader)==null?void 0:Ar.filename)??null,contentLength:((or=this._fullReader)==null?void 0:or.contentLength)??null}});return Lr(this,Ke).set(nr,mr),mr}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(nr=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ir of Lr(this,Ge).values())if(!ir.cleanup())throw new Error(`startCleanup: Page ${ir.pageNumber} is currently rendering.`);this.commonObjs.clear(),nr||this.fontLoader.clear(),Lr(this,Ke).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:nr,enableXfa:ir}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:nr,enableXfa:ir})}}Ke=new WeakMap,Ge=new WeakMap,qe=new WeakMap,Xe=new WeakMap,tr=new WeakSet,pd=function(nr,ir=null){const mr=Lr(this,Ke).get(nr);if(mr)return mr;const $e=this.messageHandler.sendWithPromise(nr,ir);return Lr(this,Ke).set(nr,$e),$e};class PDFObjects{constructor(){Jn(this,lr);Jn(this,Ye,Object.create(null))}get(nr,ir=null){if(ir){const $e=qn(this,lr,Uf).call(this,nr);return $e.capability.promise.then(()=>ir($e.data)),null}const mr=Lr(this,Ye)[nr];if(!(mr!=null&&mr.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${nr}.`);return mr.data}has(nr){const ir=Lr(this,Ye)[nr];return(ir==null?void 0:ir.capability.settled)||!1}resolve(nr,ir=null){const mr=qn(this,lr,Uf).call(this,nr);mr.data=ir,mr.capability.resolve()}clear(){var nr;for(const ir in Lr(this,Ye)){const{data:mr}=Lr(this,Ye)[ir];(nr=mr==null?void 0:mr.bitmap)==null||nr.close()}ti(this,Ye,Object.create(null))}}Ye=new WeakMap,lr=new WeakSet,Uf=function(nr){var ir;return(ir=Lr(this,Ye))[nr]||(ir[nr]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(nr){Jn(this,hr,null);ti(this,hr,nr),this.onContinue=null}get promise(){return Lr(this,hr).capability.promise}cancel(nr=0){Lr(this,hr).cancel(null,nr)}get separateAnnots(){const{separateAnnots:nr}=Lr(this,hr).operatorList;if(!nr)return!1;const{annotationCanvasMap:ir}=Lr(this,hr);return nr.form||nr.canvas&&(ir==null?void 0:ir.size)>0}}hr=new WeakMap,exports.RenderTask=RenderTask;const fr=class fr{constructor({callback:nr,params:ir,objs:mr,commonObjs:$e,annotationCanvasMap:Ar,operatorList:or,pageIndex:Tr,canvasFactory:Ur,filterFactory:Fr,useRequestAnimationFrame:Er=!1,pdfBug:jr=!1,pageColors:Nr=null}){this.callback=nr,this.params=ir,this.objs=mr,this.commonObjs=$e,this.annotationCanvasMap=Ar,this.operatorListIdx=null,this.operatorList=or,this._pageIndex=Tr,this.canvasFactory=Ur,this.filterFactory=Fr,this._pdfBug=jr,this.pageColors=Nr,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Er===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ir.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:nr=!1,optionalContentConfig:ir}){var Tr,Ur;if(this.cancelled)return;if(this._canvas){if(Lr(fr,ur).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Lr(fr,ur).add(this._canvas)}this._pdfBug&&((Tr=globalThis.StepperManager)!=null&&Tr.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:mr,viewport:$e,transform:Ar,background:or}=this.params;this.gfx=new _canvas.CanvasGraphics(mr,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ir},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Ar,viewport:$e,transparency:nr,background:or}),this.operatorListIdx=0,this.graphicsReady=!0,(Ur=this.graphicsReadyCallback)==null||Ur.call(this)}cancel(nr=null,ir=0){var mr;this.running=!1,this.cancelled=!0,(mr=this.gfx)==null||mr.endDrawing(),Lr(fr,ur).delete(this._canvas),this.callback(nr||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ir))}operatorListChanged(){var nr;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(nr=this.stepper)==null||nr.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Lr(fr,ur).delete(this._canvas),this.callback())))}};ur=new WeakMap,Jn(fr,ur,new WeakSet);let InternalRenderTask=fr;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build}),((Ee,t,n)=>{var Me,Qe,Ke,hm,qe;Object.defineProperty(t,"__esModule",{value:!0}),t.SerializableEmpty=t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var Ce=n(1),Te=n(4),Re=n(8);const Be=Object.freeze({map:null,hash:"",transfers:void 0});t.SerializableEmpty=Be;class Ue{constructor(){Jn(this,Ke);Jn(this,Me,!1);Jn(this,Qe,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(tr,Je){const Ye=Lr(this,Qe).get(tr);return Ye===void 0?Je:Object.assign(Je,Ye)}getRawValue(tr){return Lr(this,Qe).get(tr)}remove(tr){if(Lr(this,Qe).delete(tr),Lr(this,Qe).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const Je of Lr(this,Qe).values())if(Je instanceof Te.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(tr,Je){const Ye=Lr(this,Qe).get(tr);let lr=!1;if(Ye!==void 0)for(const[cr,hr]of Object.entries(Je))Ye[cr]!==hr&&(lr=!0,Ye[cr]=hr);else lr=!0,Lr(this,Qe).set(tr,Je);lr&&qn(this,Ke,hm).call(this),Je instanceof Te.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(Je.constructor._type)}has(tr){return Lr(this,Qe).has(tr)}getAll(){return Lr(this,Qe).size>0?(0,Ce.objectFromMap)(Lr(this,Qe)):null}setAll(tr){for(const[Je,Ye]of Object.entries(tr))this.setValue(Je,Ye)}get size(){return Lr(this,Qe).size}resetModified(){Lr(this,Me)&&(ti(this,Me,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Oe(this)}get serializable(){if(Lr(this,Qe).size===0)return Be;const tr=new Map,Je=new Re.MurmurHash3_64,Ye=[],lr=Object.create(null);let cr=!1;for(const[hr,ur]of Lr(this,Qe)){const fr=ur instanceof Te.AnnotationEditor?ur.serialize(!1,lr):ur;fr&&(tr.set(hr,fr),Je.update(`${hr}:${JSON.stringify(fr)}`),cr||(cr=!!fr.bitmap))}if(cr)for(const hr of tr.values())hr.bitmap&&Ye.push(hr.bitmap);return tr.size>0?{map:tr,hash:Je.hexdigest(),transfers:Ye}:Be}}Me=new WeakMap,Qe=new WeakMap,Ke=new WeakSet,hm=function(){Lr(this,Me)||(ti(this,Me,!0),typeof this.onSetModified=="function"&&this.onSetModified())},t.AnnotationStorage=Ue;class Oe extends Ue{constructor(Je){super();Jn(this,qe);const{map:Ye,hash:lr,transfers:cr}=Je.serializable,hr=structuredClone(Ye,cr?{transfer:cr}:null);ti(this,qe,{map:hr,hash:lr,transfers:cr})}get print(){(0,Ce.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Lr(this,qe)}}qe=new WeakMap,t.PrintAnnotationStorage=Oe}),((Ee,t,n)=>{var Oe,Me,Qe,Ke,Ge,qe,Xe,tr,Je,Ye,lr,cr,hr,ur,fr,Lf,Of,ir,kf,Mf,dm,fm,pm,jf,gm;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var Ce=n(5),Te=n(1),Re=n(6);const Er=class Er{constructor(Nr){Jn(this,fr);Jn(this,Oe,"");Jn(this,Me,!1);Jn(this,Qe,null);Jn(this,Ke,null);Jn(this,Ge,null);Jn(this,qe,!1);Jn(this,Xe,null);Jn(this,tr,this.focusin.bind(this));Jn(this,Je,this.focusout.bind(this));Jn(this,Ye,!1);Jn(this,lr,!1);Jn(this,cr,!1);zi(this,"_initialOptions",Object.create(null));zi(this,"_uiManager",null);zi(this,"_focusEventsAllowed",!0);zi(this,"_l10nPromise",null);Jn(this,hr,!1);Jn(this,ur,Er._zIndex++);this.constructor===Er&&(0,Te.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Nr.parent,this.id=Nr.id,this.width=this.height=null,this.pageIndex=Nr.parent.pageIndex,this.name=Nr.name,this.div=null,this._uiManager=Nr.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Nr.isCentered,this._structTreeParentId=null;const{rotation:Br,rawDims:{pageWidth:Mr,pageHeight:_r,pageX:gr,pageY:yr}}=this.parent.viewport;this.rotation=Br,this.pageRotation=(360+Br-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Mr,_r],this.pageTranslation=[gr,yr];const[Rr,Ir]=this.parentDimensions;this.x=Nr.x/Rr,this.y=Nr.y/Ir,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,Te.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Nr){const Br=new Ue({id:Nr.parent.getNextId(),parent:Nr.parent,uiManager:Nr._uiManager});Br.annotationElementId=Nr.annotationElementId,Br.deleted=!0,Br._uiManager.addToAnnotationStorage(Br)}static initialize(Nr,Br=null){if(Er._l10nPromise||(Er._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(_r=>[_r,Nr.get(_r)]))),Br!=null&&Br.strings)for(const _r of Br.strings)Er._l10nPromise.set(_r,Nr.get(_r));if(Er._borderLineWidth!==-1)return;const Mr=getComputedStyle(document.documentElement);Er._borderLineWidth=parseFloat(Mr.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Nr,Br){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Nr){return!1}static paste(Nr,Br){(0,Te.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Lr(this,hr)}set _isDraggable(Nr){var Br;ti(this,hr,Nr),(Br=this.div)==null||Br.classList.toggle("draggable",Nr)}center(){const[Nr,Br]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Br/(Nr*2),this.y+=this.width*Nr/(Br*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Br/(Nr*2),this.y-=this.width*Nr/(Br*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Nr){this._uiManager.addCommands(Nr)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Lr(this,ur)}setParent(Nr){Nr!==null&&(this.pageIndex=Nr.pageIndex,this.pageDimensions=Nr.pageDimensions),this.parent=Nr}focusin(Nr){this._focusEventsAllowed&&(Lr(this,Ye)?ti(this,Ye,!1):this.parent.setSelected(this))}focusout(Nr){var Mr;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Br=Nr.relatedTarget;Br!=null&&Br.closest(`#${this.id}`)||(Nr.preventDefault(),(Mr=this.parent)!=null&&Mr.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Nr,Br,Mr,_r){const[gr,yr]=this.parentDimensions;[Mr,_r]=this.screenToPageTranslation(Mr,_r),this.x=(Nr+Mr)/gr,this.y=(Br+_r)/yr,this.fixAndSetPosition()}translate(Nr,Br){qn(this,fr,Lf).call(this,this.parentDimensions,Nr,Br)}translateInPage(Nr,Br){qn(this,fr,Lf).call(this,this.pageDimensions,Nr,Br),this.div.scrollIntoView({block:"nearest"})}drag(Nr,Br){const[Mr,_r]=this.parentDimensions;if(this.x+=Nr/Mr,this.y+=Br/_r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Qr,y:Vr}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Qr,Vr)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:gr,y:yr}=this;const[Rr,Ir]=qn(this,fr,Of).call(this);gr+=Rr,yr+=Ir,this.div.style.left=`${(100*gr).toFixed(2)}%`,this.div.style.top=`${(100*yr).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Nr,Br]=this.pageDimensions;let{x:Mr,y:_r,width:gr,height:yr}=this;switch(gr*=Nr,yr*=Br,Mr*=Nr,_r*=Br,this.rotation){case 0:Mr=Math.max(0,Math.min(Nr-gr,Mr)),_r=Math.max(0,Math.min(Br-yr,_r));break;case 90:Mr=Math.max(0,Math.min(Nr-yr,Mr)),_r=Math.min(Br,Math.max(gr,_r));break;case 180:Mr=Math.min(Nr,Math.max(gr,Mr)),_r=Math.min(Br,Math.max(yr,_r));break;case 270:Mr=Math.min(Nr,Math.max(yr,Mr)),_r=Math.max(0,Math.min(Br-gr,_r));break}this.x=Mr/=Nr,this.y=_r/=Br;const[Rr,Ir]=qn(this,fr,Of).call(this);Mr+=Rr,_r+=Ir;const{style:Qr}=this.div;Qr.left=`${(100*Mr).toFixed(2)}%`,Qr.top=`${(100*_r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Nr,Br){var Mr;return qn(Mr=Er,ir,kf).call(Mr,Nr,Br,this.parentRotation)}pageTranslationToScreen(Nr,Br){var Mr;return qn(Mr=Er,ir,kf).call(Mr,Nr,Br,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Nr,pageDimensions:[Br,Mr]}=this,_r=Br*Nr,gr=Mr*Nr;return Te.FeatureTest.isCSSRoundSupported?[Math.round(_r),Math.round(gr)]:[_r,gr]}setDims(Nr,Br){var gr;const[Mr,_r]=this.parentDimensions;this.div.style.width=`${(100*Nr/Mr).toFixed(2)}%`,Lr(this,qe)||(this.div.style.height=`${(100*Br/_r).toFixed(2)}%`),(gr=Lr(this,Qe))==null||gr.classList.toggle("small",Nr<Er.SMALL_EDITOR_SIZE||Br<Er.SMALL_EDITOR_SIZE)}fixDims(){const{style:Nr}=this.div,{height:Br,width:Mr}=Nr,_r=Mr.endsWith("%"),gr=!Lr(this,qe)&&Br.endsWith("%");if(_r&&gr)return;const[yr,Rr]=this.parentDimensions;_r||(Nr.width=`${(100*parseFloat(Mr)/yr).toFixed(2)}%`),!Lr(this,qe)&&!gr&&(Nr.height=`${(100*parseFloat(Br)/Rr).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(Lr(this,Qe))return;const Nr=ti(this,Qe,document.createElement("button"));Nr.className="altText";const Br=await Er._l10nPromise.get("editor_alt_text_button_label");Nr.textContent=Br,Nr.setAttribute("aria-label",Br),Nr.tabIndex="0",Nr.addEventListener("contextmenu",Re.noContextMenu),Nr.addEventListener("pointerdown",Mr=>Mr.stopPropagation()),Nr.addEventListener("click",Mr=>{Mr.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Nr.addEventListener("keydown",Mr=>{Mr.target===Nr&&Mr.key==="Enter"&&(Mr.preventDefault(),this._uiManager.editAltText(this))}),qn(this,fr,jf).call(this),this.div.append(Nr),Er.SMALL_EDITOR_SIZE||(Er.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Nr.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:Lr(this,Oe),decorative:Lr(this,Me)}}set altTextData({altText:Nr,decorative:Br}){Lr(this,Oe)===Nr&&Lr(this,Me)===Br||(ti(this,Oe,Nr),ti(this,Me,Br),qn(this,fr,jf).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Lr(this,tr)),this.div.addEventListener("focusout",Lr(this,Je));const[Nr,Br]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Br/Nr).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Nr/Br).toFixed(2)}%`);const[Mr,_r]=this.getInitialTranslation();return this.translate(Mr,_r),(0,Ce.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Nr){const{isMac:Br}=Te.FeatureTest.platform;if(Nr.button!==0||Nr.ctrlKey&&Br){Nr.preventDefault();return}ti(this,Ye,!0),qn(this,fr,gm).call(this,Nr)}moveInDOM(){var Nr;(Nr=this.parent)==null||Nr.moveEditorInDOM(this)}_setParentAndPosition(Nr,Br,Mr){Nr.changeParent(this),this.x=Br,this.y=Mr,this.fixAndSetPosition()}getRect(Nr,Br){const Mr=this.parentScale,[_r,gr]=this.pageDimensions,[yr,Rr]=this.pageTranslation,Ir=Nr/Mr,Qr=Br/Mr,Vr=this.x*_r,Wr=this.y*gr,mn=this.width*_r,gn=this.height*gr;switch(this.rotation){case 0:return[Vr+Ir+yr,gr-Wr-Qr-gn+Rr,Vr+Ir+mn+yr,gr-Wr-Qr+Rr];case 90:return[Vr+Qr+yr,gr-Wr+Ir+Rr,Vr+Qr+gn+yr,gr-Wr+Ir+mn+Rr];case 180:return[Vr-Ir-mn+yr,gr-Wr+Qr+Rr,Vr-Ir+yr,gr-Wr+Qr+gn+Rr];case 270:return[Vr-Qr-gn+yr,gr-Wr-Ir-mn+Rr,Vr-Qr+yr,gr-Wr-Ir+Rr];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Nr,Br){const[Mr,_r,gr,yr]=Nr,Rr=gr-Mr,Ir=yr-_r;switch(this.rotation){case 0:return[Mr,Br-yr,Rr,Ir];case 90:return[Mr,Br-_r,Ir,Rr];case 180:return[gr,Br-_r,Rr,Ir];case 270:return[gr,Br-yr,Ir,Rr];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ti(this,cr,!0)}disableEditMode(){ti(this,cr,!1)}isInEditMode(){return Lr(this,cr)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Nr,Br;(Nr=this.div)==null||Nr.addEventListener("focusin",Lr(this,tr)),(Br=this.div)==null||Br.addEventListener("focusout",Lr(this,Je))}serialize(Nr=!1,Br=null){(0,Te.unreachable)("An editor must be serializable")}static deserialize(Nr,Br,Mr){const _r=new this.prototype.constructor({parent:Br,id:Br.getNextId(),uiManager:Mr});_r.rotation=Nr.rotation;const[gr,yr]=_r.pageDimensions,[Rr,Ir,Qr,Vr]=_r.getRectInCurrentCoords(Nr.rect,yr);return _r.x=Rr/gr,_r.y=Ir/yr,_r.width=Qr/gr,_r.height=Vr/yr,_r}remove(){var Nr;this.div.removeEventListener("focusin",Lr(this,tr)),this.div.removeEventListener("focusout",Lr(this,Je)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Nr=Lr(this,Qe))==null||Nr.remove(),ti(this,Qe,null),ti(this,Ke,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(qn(this,fr,dm).call(this),Lr(this,Xe).classList.remove("hidden"))}select(){var Nr;this.makeResizable(),(Nr=this.div)==null||Nr.classList.add("selectedEditor")}unselect(){var Nr,Br,Mr;(Nr=Lr(this,Xe))==null||Nr.classList.add("hidden"),(Br=this.div)==null||Br.classList.remove("selectedEditor"),(Mr=this.div)!=null&&Mr.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Nr,Br){}disableEditing(){Lr(this,Qe)&&(Lr(this,Qe).hidden=!0)}enableEditing(){Lr(this,Qe)&&(Lr(this,Qe).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return Lr(this,lr)}set isEditing(Nr){ti(this,lr,Nr),this.parent&&(Nr?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Nr,Br){ti(this,qe,!0);const Mr=Nr/Br,{style:_r}=this.div;_r.aspectRatio=Mr,_r.height="auto"}static get MIN_SIZE(){return 16}};Oe=new WeakMap,Me=new WeakMap,Qe=new WeakMap,Ke=new WeakMap,Ge=new WeakMap,qe=new WeakMap,Xe=new WeakMap,tr=new WeakMap,Je=new WeakMap,Ye=new WeakMap,lr=new WeakMap,cr=new WeakMap,hr=new WeakMap,ur=new WeakMap,fr=new WeakSet,Lf=function([Nr,Br],Mr,_r){[Mr,_r]=this.screenToPageTranslation(Mr,_r),this.x+=Mr/Nr,this.y+=_r/Br,this.fixAndSetPosition()},Of=function(){const[Nr,Br]=this.parentDimensions,{_borderLineWidth:Mr}=Er,_r=Mr/Nr,gr=Mr/Br;switch(this.rotation){case 90:return[-_r,gr];case 180:return[_r,gr];case 270:return[_r,-gr];default:return[-_r,-gr]}},ir=new WeakSet,kf=function(Nr,Br,Mr){switch(Mr){case 90:return[Br,-Nr];case 180:return[-Nr,-Br];case 270:return[-Br,Nr];default:return[Nr,Br]}},Mf=function(Nr){switch(Nr){case 90:{const[Br,Mr]=this.pageDimensions;return[0,-Br/Mr,Mr/Br,0]}case 180:return[-1,0,0,-1];case 270:{const[Br,Mr]=this.pageDimensions;return[0,Br/Mr,-Mr/Br,0]}default:return[1,0,0,1]}},dm=function(){if(Lr(this,Xe))return;ti(this,Xe,document.createElement("div")),Lr(this,Xe).classList.add("resizers");const Nr=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Nr.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Br of Nr){const Mr=document.createElement("div");Lr(this,Xe).append(Mr),Mr.classList.add("resizer",Br),Mr.addEventListener("pointerdown",qn(this,fr,fm).bind(this,Br)),Mr.addEventListener("contextmenu",Re.noContextMenu)}this.div.prepend(Lr(this,Xe))},fm=function(Nr,Br){Br.preventDefault();const{isMac:Mr}=Te.FeatureTest.platform;if(Br.button!==0||Br.ctrlKey&&Mr)return;const _r=qn(this,fr,pm).bind(this,Nr),gr=this._isDraggable;this._isDraggable=!1;const yr={passive:!0,capture:!0};window.addEventListener("pointermove",_r,yr);const Rr=this.x,Ir=this.y,Qr=this.width,Vr=this.height,Wr=this.parent.div.style.cursor,mn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Br.target).cursor;const gn=()=>{this._isDraggable=gr,window.removeEventListener("pointerup",gn),window.removeEventListener("blur",gn),window.removeEventListener("pointermove",_r,yr),this.parent.div.style.cursor=Wr,this.div.style.cursor=mn;const fn=this.x,Fn=this.y,wn=this.width,Yr=this.height;fn===Rr&&Fn===Ir&&wn===Qr&&Yr===Vr||this.addCommands({cmd:()=>{this.width=wn,this.height=Yr,this.x=fn,this.y=Fn;const[Rn,bn]=this.parentDimensions;this.setDims(Rn*wn,bn*Yr),this.fixAndSetPosition()},undo:()=>{this.width=Qr,this.height=Vr,this.x=Rr,this.y=Ir;const[Rn,bn]=this.parentDimensions;this.setDims(Rn*Qr,bn*Vr),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",gn),window.addEventListener("blur",gn)},pm=function(Nr,Br){const[Mr,_r]=this.parentDimensions,gr=this.x,yr=this.y,Rr=this.width,Ir=this.height,Qr=Er.MIN_SIZE/Mr,Vr=Er.MIN_SIZE/_r,Wr=dr=>Math.round(dr*1e4)/1e4,mn=qn(this,fr,Mf).call(this,this.rotation),gn=(dr,An)=>[mn[0]*dr+mn[2]*An,mn[1]*dr+mn[3]*An],fn=qn(this,fr,Mf).call(this,360-this.rotation),Fn=(dr,An)=>[fn[0]*dr+fn[2]*An,fn[1]*dr+fn[3]*An];let wn,Yr,Rn=!1,bn=!1;switch(Nr){case"topLeft":Rn=!0,wn=(dr,An)=>[0,0],Yr=(dr,An)=>[dr,An];break;case"topMiddle":wn=(dr,An)=>[dr/2,0],Yr=(dr,An)=>[dr/2,An];break;case"topRight":Rn=!0,wn=(dr,An)=>[dr,0],Yr=(dr,An)=>[0,An];break;case"middleRight":bn=!0,wn=(dr,An)=>[dr,An/2],Yr=(dr,An)=>[0,An/2];break;case"bottomRight":Rn=!0,wn=(dr,An)=>[dr,An],Yr=(dr,An)=>[0,0];break;case"bottomMiddle":wn=(dr,An)=>[dr/2,An],Yr=(dr,An)=>[dr/2,0];break;case"bottomLeft":Rn=!0,wn=(dr,An)=>[0,An],Yr=(dr,An)=>[dr,0];break;case"middleLeft":bn=!0,wn=(dr,An)=>[0,An/2],Yr=(dr,An)=>[dr,An/2];break}const zr=wn(Rr,Ir),$r=Yr(Rr,Ir);let Bn=gn(...$r);const Pn=Wr(gr+Bn[0]),jn=Wr(yr+Bn[1]);let Kn=1,Xn=1,[In,$n]=this.screenToPageTranslation(Br.movementX,Br.movementY);if([In,$n]=Fn(In/Mr,$n/_r),Rn){const dr=Math.hypot(Rr,Ir);Kn=Xn=Math.max(Math.min(Math.hypot($r[0]-zr[0]-In,$r[1]-zr[1]-$n)/dr,1/Rr,1/Ir),Qr/Rr,Vr/Ir)}else bn?Kn=Math.max(Qr,Math.min(1,Math.abs($r[0]-zr[0]-In)))/Rr:Xn=Math.max(Vr,Math.min(1,Math.abs($r[1]-zr[1]-$n)))/Ir;const Yn=Wr(Rr*Kn),si=Wr(Ir*Xn);Bn=gn(...Yr(Yn,si));const ai=Pn-Bn[0],Ci=jn-Bn[1];this.width=Yn,this.height=si,this.x=ai,this.y=Ci,this.setDims(Mr*Yn,_r*si),this.fixAndSetPosition()},jf=async function(){var Mr;const Nr=Lr(this,Qe);if(!Nr)return;if(!Lr(this,Oe)&&!Lr(this,Me)){Nr.classList.remove("done"),(Mr=Lr(this,Ke))==null||Mr.remove();return}Er._l10nPromise.get("editor_alt_text_edit_button_label").then(_r=>{Nr.setAttribute("aria-label",_r)});let Br=Lr(this,Ke);if(!Br){ti(this,Ke,Br=document.createElement("span")),Br.className="tooltip",Br.setAttribute("role","tooltip");const _r=Br.id=`alt-text-tooltip-${this.id}`;Nr.setAttribute("aria-describedby",_r);const gr=100;Nr.addEventListener("mouseenter",()=>{ti(this,Ge,setTimeout(()=>{ti(this,Ge,null),Lr(this,Ke).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},gr))}),Nr.addEventListener("mouseleave",()=>{var yr;clearTimeout(Lr(this,Ge)),ti(this,Ge,null),(yr=Lr(this,Ke))==null||yr.classList.remove("show")})}Nr.classList.add("done"),Br.innerText=Lr(this,Me)?await Er._l10nPromise.get("editor_alt_text_decorative_tooltip"):Lr(this,Oe),Br.parentNode||Nr.append(Br)},gm=function(Nr){if(!this._isDraggable)return;const Br=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Mr,_r;Br&&(Mr={passive:!0,capture:!0},_r=yr=>{const[Rr,Ir]=this.screenToPageTranslation(yr.movementX,yr.movementY);this._uiManager.dragSelectedEditors(Rr,Ir)},window.addEventListener("pointermove",_r,Mr));const gr=()=>{if(window.removeEventListener("pointerup",gr),window.removeEventListener("blur",gr),Br&&window.removeEventListener("pointermove",_r,Mr),ti(this,Ye,!1),!this._uiManager.endDragSession()){const{isMac:yr}=Te.FeatureTest.platform;Nr.ctrlKey&&!yr||Nr.shiftKey||Nr.metaKey&&yr?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",gr),window.addEventListener("blur",gr)},Jn(Er,ir),zi(Er,"_borderLineWidth",-1),zi(Er,"_colorManager",new Ce.ColorManager),zi(Er,"_zIndex",1),zi(Er,"SMALL_EDITOR_SIZE",0);let Be=Er;t.AnnotationEditor=Be;class Ue extends Be{constructor(Nr){super(Nr),this.annotationElementId=Nr.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}}),((Ee,t,n)=>{var qe,Xe,tr,Je,Ye,Vf,hr,ur,fr,er,nr,mm,$e,Ar,or,Tr,Ur,Fr,Er,jr,Nr,Br,Mr,_r,gr,yr,Rr,Ir,Qr,Vr,Wr,mn,gn,fn,Fn,wn,Yr,Rn,bn,zr,$r,Bn,Pn,jn,Kn,Xn,In,vm,Qf,Hf,gd,Kf,qf,bl,sh,_m,ym,zf,oh,Gf;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=Re,t.opacityToHex=Be;var Ce=n(1),Te=n(6);function Re(ze,Cr,kr){for(const rr of kr)Cr.addEventListener(rr,ze[rr].bind(ze))}function Be(ze){return Math.round(Math.min(255,Math.max(1,255*ze))).toString(16).padStart(2,"0")}class Ue{constructor(){Jn(this,qe,0)}getId(){return`${Ce.AnnotationEditorPrefix}${ah(this,qe)._++}`}}qe=new WeakMap;const cr=class cr{constructor(){Jn(this,Ye);Jn(this,Xe,(0,Ce.getUuid)());Jn(this,tr,0);Jn(this,Je,null)}static get _isSVGFittingCanvas(){const Cr='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',rr=new OffscreenCanvas(1,3).getContext("2d"),xr=new Image;xr.src=Cr;const Kr=xr.decode().then(()=>(rr.drawImage(xr,0,0,1,1,0,0,1,3),new Uint32Array(rr.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,Ce.shadow)(this,"_isSVGFittingCanvas",Kr)}async getFromFile(Cr){const{lastModified:kr,name:rr,size:xr,type:Kr}=Cr;return qn(this,Ye,Vf).call(this,`${kr}_${rr}_${xr}_${Kr}`,Cr)}async getFromUrl(Cr){return qn(this,Ye,Vf).call(this,Cr,Cr)}async getFromId(Cr){Lr(this,Je)||ti(this,Je,new Map);const kr=Lr(this,Je).get(Cr);return kr?kr.bitmap?(kr.refCounter+=1,kr):kr.file?this.getFromFile(kr.file):this.getFromUrl(kr.url):null}getSvgUrl(Cr){const kr=Lr(this,Je).get(Cr);return kr!=null&&kr.isSvg?kr.svgUrl:null}deleteId(Cr){Lr(this,Je)||ti(this,Je,new Map);const kr=Lr(this,Je).get(Cr);kr&&(kr.refCounter-=1,kr.refCounter===0&&(kr.bitmap=null))}isValidId(Cr){return Cr.startsWith(`image_${Lr(this,Xe)}_`)}};Xe=new WeakMap,tr=new WeakMap,Je=new WeakMap,Ye=new WeakSet,Vf=async function(Cr,kr){Lr(this,Je)||ti(this,Je,new Map);let rr=Lr(this,Je).get(Cr);if(rr===null)return null;if(rr!=null&&rr.bitmap)return rr.refCounter+=1,rr;try{rr||(rr={bitmap:null,id:`image_${Lr(this,Xe)}_${ah(this,tr)._++}`,refCounter:0,isSvg:!1});let xr;if(typeof kr=="string"){rr.url=kr;const Kr=await fetch(kr);if(!Kr.ok)throw new Error(Kr.statusText);xr=await Kr.blob()}else xr=rr.file=kr;if(xr.type==="image/svg+xml"){const Kr=cr._isSVGFittingCanvas,Dn=new FileReader,Gr=new Image,Hr=new Promise((dn,Qn)=>{Gr.onload=()=>{rr.bitmap=Gr,rr.isSvg=!0,dn()},Dn.onload=async()=>{const kn=rr.svgUrl=Dn.result;Gr.src=await Kr?`${kn}#svgView(preserveAspectRatio(none))`:kn},Gr.onerror=Dn.onerror=Qn});Dn.readAsDataURL(xr),await Hr}else rr.bitmap=await createImageBitmap(xr);rr.refCounter=1}catch(xr){console.error(xr),rr=null}return Lr(this,Je).set(Cr,rr),rr&&Lr(this,Je).set(rr.id,rr),rr};let Oe=cr;class Me{constructor(Cr=128){Jn(this,hr,[]);Jn(this,ur,!1);Jn(this,fr);Jn(this,er,-1);ti(this,fr,Cr)}add({cmd:Cr,undo:kr,mustExec:rr,type:xr=NaN,overwriteIfSameType:Kr=!1,keepUndo:Dn=!1}){if(rr&&Cr(),Lr(this,ur))return;const Gr={cmd:Cr,undo:kr,type:xr};if(Lr(this,er)===-1){Lr(this,hr).length>0&&(Lr(this,hr).length=0),ti(this,er,0),Lr(this,hr).push(Gr);return}if(Kr&&Lr(this,hr)[Lr(this,er)].type===xr){Dn&&(Gr.undo=Lr(this,hr)[Lr(this,er)].undo),Lr(this,hr)[Lr(this,er)]=Gr;return}const Hr=Lr(this,er)+1;Hr===Lr(this,fr)?Lr(this,hr).splice(0,1):(ti(this,er,Hr),Hr<Lr(this,hr).length&&Lr(this,hr).splice(Hr)),Lr(this,hr).push(Gr)}undo(){Lr(this,er)!==-1&&(ti(this,ur,!0),Lr(this,hr)[Lr(this,er)].undo(),ti(this,ur,!1),ti(this,er,Lr(this,er)-1))}redo(){Lr(this,er)<Lr(this,hr).length-1&&(ti(this,er,Lr(this,er)+1),ti(this,ur,!0),Lr(this,hr)[Lr(this,er)].cmd(),ti(this,ur,!1))}hasSomethingToUndo(){return Lr(this,er)!==-1}hasSomethingToRedo(){return Lr(this,er)<Lr(this,hr).length-1}destroy(){ti(this,hr,null)}}hr=new WeakMap,ur=new WeakMap,fr=new WeakMap,er=new WeakMap,t.CommandManager=Me;class Qe{constructor(Cr){Jn(this,nr);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:kr}=Ce.FeatureTest.platform;for(const[rr,xr,Kr={}]of Cr)for(const Dn of rr){const Gr=Dn.startsWith("mac+");kr&&Gr?(this.callbacks.set(Dn.slice(4),{callback:xr,options:Kr}),this.allKeys.add(Dn.split("+").at(-1))):!kr&&!Gr&&(this.callbacks.set(Dn,{callback:xr,options:Kr}),this.allKeys.add(Dn.split("+").at(-1)))}}exec(Cr,kr){if(!this.allKeys.has(kr.key))return;const rr=this.callbacks.get(qn(this,nr,mm).call(this,kr));if(!rr)return;const{callback:xr,options:{bubbles:Kr=!1,args:Dn=[],checker:Gr=null}}=rr;Gr&&!Gr(Cr,kr)||(xr.bind(Cr,...Dn)(),Kr||(kr.stopPropagation(),kr.preventDefault()))}}nr=new WeakSet,mm=function(Cr){Cr.altKey&&this.buffer.push("alt"),Cr.ctrlKey&&this.buffer.push("ctrl"),Cr.metaKey&&this.buffer.push("meta"),Cr.shiftKey&&this.buffer.push("shift"),this.buffer.push(Cr.key);const kr=this.buffer.join("+");return this.buffer.length=0,kr},t.KeyboardManager=Qe;const mr=class mr{get _colors(){const Cr=new Map([["CanvasText",null],["Canvas",null]]);return(0,Te.getColorValues)(Cr),(0,Ce.shadow)(this,"_colors",Cr)}convert(Cr){const kr=(0,Te.getRGB)(Cr);if(!window.matchMedia("(forced-colors: active)").matches)return kr;for(const[rr,xr]of this._colors)if(xr.every((Kr,Dn)=>Kr===kr[Dn]))return mr._colorsMapping.get(rr);return kr}getHexCode(Cr){const kr=this._colors.get(Cr);return kr?Ce.Util.makeHexColor(...kr):Cr}};zi(mr,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Ke=mr;t.ColorManager=Ke;const Mn=class Mn{constructor(Cr,kr,rr,xr,Kr,Dn){Jn(this,In);Jn(this,$e,null);Jn(this,Ar,new Map);Jn(this,or,new Map);Jn(this,Tr,null);Jn(this,Ur,null);Jn(this,Fr,new Me);Jn(this,Er,0);Jn(this,jr,new Set);Jn(this,Nr,null);Jn(this,Br,null);Jn(this,Mr,new Set);Jn(this,_r,null);Jn(this,gr,new Ue);Jn(this,yr,!1);Jn(this,Rr,!1);Jn(this,Ir,null);Jn(this,Qr,Ce.AnnotationEditorType.NONE);Jn(this,Vr,new Set);Jn(this,Wr,null);Jn(this,mn,this.blur.bind(this));Jn(this,gn,this.focus.bind(this));Jn(this,fn,this.copy.bind(this));Jn(this,Fn,this.cut.bind(this));Jn(this,wn,this.paste.bind(this));Jn(this,Yr,this.keydown.bind(this));Jn(this,Rn,this.onEditingAction.bind(this));Jn(this,bn,this.onPageChanging.bind(this));Jn(this,zr,this.onScaleChanging.bind(this));Jn(this,$r,this.onRotationChanging.bind(this));Jn(this,Bn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Jn(this,Pn,[0,0]);Jn(this,jn,null);Jn(this,Kn,null);Jn(this,Xn,null);ti(this,Kn,Cr),ti(this,Xn,kr),ti(this,Tr,rr),this._eventBus=xr,this._eventBus._on("editingaction",Lr(this,Rn)),this._eventBus._on("pagechanging",Lr(this,bn)),this._eventBus._on("scalechanging",Lr(this,zr)),this._eventBus._on("rotationchanging",Lr(this,$r)),ti(this,Ur,Kr.annotationStorage),ti(this,_r,Kr.filterFactory),ti(this,Wr,Dn),this.viewParameters={realScale:Te.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Cr=Mn.prototype,kr=Kr=>{const{activeElement:Dn}=document;return Dn&&Lr(Kr,Kn).contains(Dn)&&Kr.hasSomethingToControl()},rr=this.TRANSLATE_SMALL,xr=this.TRANSLATE_BIG;return(0,Ce.shadow)(this,"_keyboardManager",new Qe([[["ctrl+a","mac+meta+a"],Cr.selectAll],[["ctrl+z","mac+meta+z"],Cr.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Cr.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Cr.delete],[["Escape","mac+Escape"],Cr.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Cr.translateSelectedEditors,{args:[-rr,0],checker:kr}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Cr.translateSelectedEditors,{args:[-xr,0],checker:kr}],[["ArrowRight","mac+ArrowRight"],Cr.translateSelectedEditors,{args:[rr,0],checker:kr}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Cr.translateSelectedEditors,{args:[xr,0],checker:kr}],[["ArrowUp","mac+ArrowUp"],Cr.translateSelectedEditors,{args:[0,-rr],checker:kr}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Cr.translateSelectedEditors,{args:[0,-xr],checker:kr}],[["ArrowDown","mac+ArrowDown"],Cr.translateSelectedEditors,{args:[0,rr],checker:kr}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Cr.translateSelectedEditors,{args:[0,xr],checker:kr}]]))}destroy(){qn(this,In,gd).call(this),qn(this,In,Qf).call(this),this._eventBus._off("editingaction",Lr(this,Rn)),this._eventBus._off("pagechanging",Lr(this,bn)),this._eventBus._off("scalechanging",Lr(this,zr)),this._eventBus._off("rotationchanging",Lr(this,$r));for(const Cr of Lr(this,or).values())Cr.destroy();Lr(this,or).clear(),Lr(this,Ar).clear(),Lr(this,Mr).clear(),ti(this,$e,null),Lr(this,Vr).clear(),Lr(this,Fr).destroy(),Lr(this,Tr).destroy()}get hcmFilter(){return(0,Ce.shadow)(this,"hcmFilter",Lr(this,Wr)?Lr(this,_r).addHCMFilter(Lr(this,Wr).foreground,Lr(this,Wr).background):"none")}get direction(){return(0,Ce.shadow)(this,"direction",getComputedStyle(Lr(this,Kn)).direction)}editAltText(Cr){var kr;(kr=Lr(this,Tr))==null||kr.editAltText(this,Cr)}onPageChanging({pageNumber:Cr}){ti(this,Er,Cr-1)}focusMainContainer(){Lr(this,Kn).focus()}findParent(Cr,kr){for(const rr of Lr(this,or).values()){const{x:xr,y:Kr,width:Dn,height:Gr}=rr.div.getBoundingClientRect();if(Cr>=xr&&Cr<=xr+Dn&&kr>=Kr&&kr<=Kr+Gr)return rr}return null}disableUserSelect(Cr=!1){Lr(this,Xn).classList.toggle("noUserSelect",Cr)}addShouldRescale(Cr){Lr(this,Mr).add(Cr)}removeShouldRescale(Cr){Lr(this,Mr).delete(Cr)}onScaleChanging({scale:Cr}){this.commitOrRemove(),this.viewParameters.realScale=Cr*Te.PixelsPerInch.PDF_TO_CSS_UNITS;for(const kr of Lr(this,Mr))kr.onScaleChanging()}onRotationChanging({pagesRotation:Cr}){this.commitOrRemove(),this.viewParameters.rotation=Cr}addToAnnotationStorage(Cr){!Cr.isEmpty()&&Lr(this,Ur)&&!Lr(this,Ur).has(Cr.id)&&Lr(this,Ur).setValue(Cr.id,Cr)}blur(){if(!this.hasSelection)return;const{activeElement:Cr}=document;for(const kr of Lr(this,Vr))if(kr.div.contains(Cr)){ti(this,Ir,[kr,Cr]),kr._focusEventsAllowed=!1;break}}focus(){if(!Lr(this,Ir))return;const[Cr,kr]=Lr(this,Ir);ti(this,Ir,null),kr.addEventListener("focusin",()=>{Cr._focusEventsAllowed=!0},{once:!0}),kr.focus()}addEditListeners(){qn(this,In,Hf).call(this),qn(this,In,Kf).call(this)}removeEditListeners(){qn(this,In,gd).call(this),qn(this,In,qf).call(this)}copy(Cr){var rr;if(Cr.preventDefault(),(rr=Lr(this,$e))==null||rr.commitOrRemove(),!this.hasSelection)return;const kr=[];for(const xr of Lr(this,Vr)){const Kr=xr.serialize(!0);Kr&&kr.push(Kr)}kr.length!==0&&Cr.clipboardData.setData("application/pdfjs",JSON.stringify(kr))}cut(Cr){this.copy(Cr),this.delete()}paste(Cr){Cr.preventDefault();const{clipboardData:kr}=Cr;for(const Kr of kr.items)for(const Dn of Lr(this,Br))if(Dn.isHandlingMimeForPasting(Kr.type)){Dn.paste(Kr,this.currentLayer);return}let rr=kr.getData("application/pdfjs");if(!rr)return;try{rr=JSON.parse(rr)}catch(Kr){(0,Ce.warn)(`paste: "${Kr.message}".`);return}if(!Array.isArray(rr))return;this.unselectAll();const xr=this.currentLayer;try{const Kr=[];for(const Hr of rr){const dn=xr.deserialize(Hr);if(!dn)return;Kr.push(dn)}const Dn=()=>{for(const Hr of Kr)qn(this,In,zf).call(this,Hr);qn(this,In,Gf).call(this,Kr)},Gr=()=>{for(const Hr of Kr)Hr.remove()};this.addCommands({cmd:Dn,undo:Gr,mustExec:!0})}catch(Kr){(0,Ce.warn)(`paste: "${Kr.message}".`)}}keydown(Cr){var kr;(kr=this.getActive())!=null&&kr.shouldGetKeyboardEvents()||Mn._keyboardManager.exec(this,Cr)}onEditingAction(Cr){["undo","redo","delete","selectAll"].includes(Cr.name)&&this[Cr.name]()}setEditingState(Cr){Cr?(qn(this,In,vm).call(this),qn(this,In,Hf).call(this),qn(this,In,Kf).call(this),qn(this,In,bl).call(this,{isEditing:Lr(this,Qr)!==Ce.AnnotationEditorType.NONE,isEmpty:qn(this,In,oh).call(this),hasSomethingToUndo:Lr(this,Fr).hasSomethingToUndo(),hasSomethingToRedo:Lr(this,Fr).hasSomethingToRedo(),hasSelectedEditor:!1})):(qn(this,In,Qf).call(this),qn(this,In,gd).call(this),qn(this,In,qf).call(this),qn(this,In,bl).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Cr){if(!Lr(this,Br)){ti(this,Br,Cr);for(const kr of Lr(this,Br))qn(this,In,sh).call(this,kr.defaultPropertiesToUpdate)}}getId(){return Lr(this,gr).getId()}get currentLayer(){return Lr(this,or).get(Lr(this,Er))}getLayer(Cr){return Lr(this,or).get(Cr)}get currentPageIndex(){return Lr(this,Er)}addLayer(Cr){Lr(this,or).set(Cr.pageIndex,Cr),Lr(this,yr)?Cr.enable():Cr.disable()}removeLayer(Cr){Lr(this,or).delete(Cr.pageIndex)}updateMode(Cr,kr=null){if(Lr(this,Qr)!==Cr){if(ti(this,Qr,Cr),Cr===Ce.AnnotationEditorType.NONE){this.setEditingState(!1),qn(this,In,ym).call(this);return}this.setEditingState(!0),qn(this,In,_m).call(this),this.unselectAll();for(const rr of Lr(this,or).values())rr.updateMode(Cr);if(kr){for(const rr of Lr(this,Ar).values())if(rr.annotationElementId===kr){this.setSelected(rr),rr.enterInEditMode();break}}}}updateToolbar(Cr){Cr!==Lr(this,Qr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Cr})}updateParams(Cr,kr){if(Lr(this,Br)){if(Cr===Ce.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Cr);return}for(const rr of Lr(this,Vr))rr.updateParams(Cr,kr);for(const rr of Lr(this,Br))rr.updateDefaultParams(Cr,kr)}}enableWaiting(Cr=!1){if(Lr(this,Rr)!==Cr){ti(this,Rr,Cr);for(const kr of Lr(this,or).values())Cr?kr.disableClick():kr.enableClick(),kr.div.classList.toggle("waiting",Cr)}}getEditors(Cr){const kr=[];for(const rr of Lr(this,Ar).values())rr.pageIndex===Cr&&kr.push(rr);return kr}getEditor(Cr){return Lr(this,Ar).get(Cr)}addEditor(Cr){Lr(this,Ar).set(Cr.id,Cr)}removeEditor(Cr){var kr;Lr(this,Ar).delete(Cr.id),this.unselect(Cr),(!Cr.annotationElementId||!Lr(this,jr).has(Cr.annotationElementId))&&((kr=Lr(this,Ur))==null||kr.remove(Cr.id))}addDeletedAnnotationElement(Cr){Lr(this,jr).add(Cr.annotationElementId),Cr.deleted=!0}isDeletedAnnotationElement(Cr){return Lr(this,jr).has(Cr)}removeDeletedAnnotationElement(Cr){Lr(this,jr).delete(Cr.annotationElementId),Cr.deleted=!1}setActiveEditor(Cr){Lr(this,$e)!==Cr&&(ti(this,$e,Cr),Cr&&qn(this,In,sh).call(this,Cr.propertiesToUpdate))}toggleSelected(Cr){if(Lr(this,Vr).has(Cr)){Lr(this,Vr).delete(Cr),Cr.unselect(),qn(this,In,bl).call(this,{hasSelectedEditor:this.hasSelection});return}Lr(this,Vr).add(Cr),Cr.select(),qn(this,In,sh).call(this,Cr.propertiesToUpdate),qn(this,In,bl).call(this,{hasSelectedEditor:!0})}setSelected(Cr){for(const kr of Lr(this,Vr))kr!==Cr&&kr.unselect();Lr(this,Vr).clear(),Lr(this,Vr).add(Cr),Cr.select(),qn(this,In,sh).call(this,Cr.propertiesToUpdate),qn(this,In,bl).call(this,{hasSelectedEditor:!0})}isSelected(Cr){return Lr(this,Vr).has(Cr)}unselect(Cr){Cr.unselect(),Lr(this,Vr).delete(Cr),qn(this,In,bl).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Lr(this,Vr).size!==0}undo(){Lr(this,Fr).undo(),qn(this,In,bl).call(this,{hasSomethingToUndo:Lr(this,Fr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:qn(this,In,oh).call(this)})}redo(){Lr(this,Fr).redo(),qn(this,In,bl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Lr(this,Fr).hasSomethingToRedo(),isEmpty:qn(this,In,oh).call(this)})}addCommands(Cr){Lr(this,Fr).add(Cr),qn(this,In,bl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:qn(this,In,oh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Cr=[...Lr(this,Vr)],kr=()=>{for(const xr of Cr)xr.remove()},rr=()=>{for(const xr of Cr)qn(this,In,zf).call(this,xr)};this.addCommands({cmd:kr,undo:rr,mustExec:!0})}commitOrRemove(){var Cr;(Cr=Lr(this,$e))==null||Cr.commitOrRemove()}hasSomethingToControl(){return Lr(this,$e)||this.hasSelection}selectAll(){for(const Cr of Lr(this,Vr))Cr.commit();qn(this,In,Gf).call(this,Lr(this,Ar).values())}unselectAll(){if(Lr(this,$e)){Lr(this,$e).commitOrRemove();return}if(this.hasSelection){for(const Cr of Lr(this,Vr))Cr.unselect();Lr(this,Vr).clear(),qn(this,In,bl).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Cr,kr,rr=!1){if(rr||this.commitOrRemove(),!this.hasSelection)return;Lr(this,Pn)[0]+=Cr,Lr(this,Pn)[1]+=kr;const[xr,Kr]=Lr(this,Pn),Dn=[...Lr(this,Vr)],Gr=1e3;Lr(this,jn)&&clearTimeout(Lr(this,jn)),ti(this,jn,setTimeout(()=>{ti(this,jn,null),Lr(this,Pn)[0]=Lr(this,Pn)[1]=0,this.addCommands({cmd:()=>{for(const Hr of Dn)Lr(this,Ar).has(Hr.id)&&Hr.translateInPage(xr,Kr)},undo:()=>{for(const Hr of Dn)Lr(this,Ar).has(Hr.id)&&Hr.translateInPage(-xr,-Kr)},mustExec:!1})},Gr));for(const Hr of Dn)Hr.translateInPage(Cr,kr)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ti(this,Nr,new Map);for(const Cr of Lr(this,Vr))Lr(this,Nr).set(Cr,{savedX:Cr.x,savedY:Cr.y,savedPageIndex:Cr.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Lr(this,Nr))return!1;this.disableUserSelect(!1);const Cr=Lr(this,Nr);ti(this,Nr,null);let kr=!1;for(const[{x:xr,y:Kr,pageIndex:Dn},Gr]of Cr)Gr.newX=xr,Gr.newY=Kr,Gr.newPageIndex=Dn,kr||(kr=xr!==Gr.savedX||Kr!==Gr.savedY||Dn!==Gr.savedPageIndex);if(!kr)return!1;const rr=(xr,Kr,Dn,Gr)=>{if(Lr(this,Ar).has(xr.id)){const Hr=Lr(this,or).get(Gr);Hr?xr._setParentAndPosition(Hr,Kr,Dn):(xr.pageIndex=Gr,xr.x=Kr,xr.y=Dn)}};return this.addCommands({cmd:()=>{for(const[xr,{newX:Kr,newY:Dn,newPageIndex:Gr}]of Cr)rr(xr,Kr,Dn,Gr)},undo:()=>{for(const[xr,{savedX:Kr,savedY:Dn,savedPageIndex:Gr}]of Cr)rr(xr,Kr,Dn,Gr)},mustExec:!0}),!0}dragSelectedEditors(Cr,kr){if(Lr(this,Nr))for(const rr of Lr(this,Nr).keys())rr.drag(Cr,kr)}rebuild(Cr){if(Cr.parent===null){const kr=this.getLayer(Cr.pageIndex);kr?(kr.changeParent(Cr),kr.addOrRebuild(Cr)):(this.addEditor(Cr),this.addToAnnotationStorage(Cr),Cr.rebuild())}else Cr.parent.addOrRebuild(Cr)}isActive(Cr){return Lr(this,$e)===Cr}getActive(){return Lr(this,$e)}getMode(){return Lr(this,Qr)}get imageManager(){return(0,Ce.shadow)(this,"imageManager",new Oe)}};$e=new WeakMap,Ar=new WeakMap,or=new WeakMap,Tr=new WeakMap,Ur=new WeakMap,Fr=new WeakMap,Er=new WeakMap,jr=new WeakMap,Nr=new WeakMap,Br=new WeakMap,Mr=new WeakMap,_r=new WeakMap,gr=new WeakMap,yr=new WeakMap,Rr=new WeakMap,Ir=new WeakMap,Qr=new WeakMap,Vr=new WeakMap,Wr=new WeakMap,mn=new WeakMap,gn=new WeakMap,fn=new WeakMap,Fn=new WeakMap,wn=new WeakMap,Yr=new WeakMap,Rn=new WeakMap,bn=new WeakMap,zr=new WeakMap,$r=new WeakMap,Bn=new WeakMap,Pn=new WeakMap,jn=new WeakMap,Kn=new WeakMap,Xn=new WeakMap,In=new WeakSet,vm=function(){window.addEventListener("focus",Lr(this,gn)),window.addEventListener("blur",Lr(this,mn))},Qf=function(){window.removeEventListener("focus",Lr(this,gn)),window.removeEventListener("blur",Lr(this,mn))},Hf=function(){window.addEventListener("keydown",Lr(this,Yr),{capture:!0})},gd=function(){window.removeEventListener("keydown",Lr(this,Yr),{capture:!0})},Kf=function(){document.addEventListener("copy",Lr(this,fn)),document.addEventListener("cut",Lr(this,Fn)),document.addEventListener("paste",Lr(this,wn))},qf=function(){document.removeEventListener("copy",Lr(this,fn)),document.removeEventListener("cut",Lr(this,Fn)),document.removeEventListener("paste",Lr(this,wn))},bl=function(Cr){Object.entries(Cr).some(([rr,xr])=>Lr(this,Bn)[rr]!==xr)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Lr(this,Bn),Cr)})},sh=function(Cr){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Cr})},_m=function(){if(!Lr(this,yr)){ti(this,yr,!0);for(const Cr of Lr(this,or).values())Cr.enable()}},ym=function(){if(this.unselectAll(),Lr(this,yr)){ti(this,yr,!1);for(const Cr of Lr(this,or).values())Cr.disable()}},zf=function(Cr){const kr=Lr(this,or).get(Cr.pageIndex);kr?kr.addOrRebuild(Cr):this.addEditor(Cr)},oh=function(){if(Lr(this,Ar).size===0)return!0;if(Lr(this,Ar).size===1)for(const Cr of Lr(this,Ar).values())return Cr.isEmpty();return!1},Gf=function(Cr){Lr(this,Vr).clear();for(const kr of Cr)kr.isEmpty()||(Lr(this,Vr).add(kr),kr.select());qn(this,In,bl).call(this,{hasSelectedEditor:!0})},zi(Mn,"TRANSLATE_SMALL",1),zi(Mn,"TRANSLATE_BIG",10);let Ge=Mn;t.AnnotationEditorUIManager=Ge}),((Ee,t,n)=>{var Er,jr,Nr,Br,Mr,_r,gr,yr,Rr,Ir,Qr,Vr,uu,hu,Wf,md,vd,lh,Ah;Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMFilterFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=void 0,t.deprecated=er,t.getColorValues=Ar,t.getCurrentTransform=or,t.getCurrentTransformInverse=Tr,t.getFilenameFromUrl=Ye,t.getPdfFilenameFromUrl=lr,t.getRGB=$e,t.getXfaPageViewport=mr,t.isDataScheme=tr,t.isPdfFile=Je,t.isValidFetchUrl=hr,t.loadScript=fr,t.noContextMenu=ur,t.setLayerDimensions=Ur;var Ce=n(7),Te=n(1);const Re="http://www.w3.org/2000/svg",Fr=class Fr{};zi(Fr,"CSS",96),zi(Fr,"PDF",72),zi(Fr,"PDF_TO_CSS_UNITS",Fr.CSS/Fr.PDF);let Be=Fr;t.PixelsPerInch=Be;class Ue extends Ce.BaseFilterFactory{constructor({docId:zr,ownerDocument:$r=globalThis.document}={}){super();Jn(this,Vr);Jn(this,Er);Jn(this,jr);Jn(this,Nr);Jn(this,Br);Jn(this,Mr);Jn(this,_r);Jn(this,gr);Jn(this,yr);Jn(this,Rr);Jn(this,Ir);Jn(this,Qr,0);ti(this,Nr,zr),ti(this,Br,$r)}addFilter(zr){if(!zr)return"none";let $r=Lr(this,Vr,uu).get(zr);if($r)return $r;let Bn,Pn,jn,Kn;if(zr.length===1){const Yn=zr[0],si=new Array(256);for(let ai=0;ai<256;ai++)si[ai]=Yn[ai]/255;Kn=Bn=Pn=jn=si.join(",")}else{const[Yn,si,ai]=zr,Ci=new Array(256),dr=new Array(256),An=new Array(256);for(let vn=0;vn<256;vn++)Ci[vn]=Yn[vn]/255,dr[vn]=si[vn]/255,An[vn]=ai[vn]/255;Bn=Ci.join(","),Pn=dr.join(","),jn=An.join(","),Kn=`${Bn}${Pn}${jn}`}if($r=Lr(this,Vr,uu).get(Kn),$r)return Lr(this,Vr,uu).set(zr,$r),$r;const Xn=`g_${Lr(this,Nr)}_transfer_map_${ah(this,Qr)._++}`,In=`url(#${Xn})`;Lr(this,Vr,uu).set(zr,In),Lr(this,Vr,uu).set(Kn,In);const $n=qn(this,Vr,md).call(this,Xn);return qn(this,Vr,lh).call(this,Bn,Pn,jn,$n),In}addHCMFilter(zr,$r){var si;const Bn=`${zr}-${$r}`;if(Lr(this,_r)===Bn)return Lr(this,gr);if(ti(this,_r,Bn),ti(this,gr,"none"),(si=Lr(this,Mr))==null||si.remove(),!zr||!$r)return Lr(this,gr);const Pn=qn(this,Vr,Ah).call(this,zr);zr=Te.Util.makeHexColor(...Pn);const jn=qn(this,Vr,Ah).call(this,$r);if($r=Te.Util.makeHexColor(...jn),Lr(this,Vr,hu).style.color="",zr==="#000000"&&$r==="#ffffff"||zr===$r)return Lr(this,gr);const Kn=new Array(256);for(let ai=0;ai<=255;ai++){const Ci=ai/255;Kn[ai]=Ci<=.03928?Ci/12.92:((Ci+.055)/1.055)**2.4}const Xn=Kn.join(","),In=`g_${Lr(this,Nr)}_hcm_filter`,$n=ti(this,yr,qn(this,Vr,md).call(this,In));qn(this,Vr,lh).call(this,Xn,Xn,Xn,$n),qn(this,Vr,Wf).call(this,$n);const Yn=(ai,Ci)=>{const dr=Pn[ai]/255,An=jn[ai]/255,vn=new Array(Ci+1);for(let Sn=0;Sn<=Ci;Sn++)vn[Sn]=dr+Sn/Ci*(An-dr);return vn.join(",")};return qn(this,Vr,lh).call(this,Yn(0,5),Yn(1,5),Yn(2,5),$n),ti(this,gr,`url(#${In})`),Lr(this,gr)}addHighlightHCMFilter(zr,$r,Bn,Pn){var An;const jn=`${zr}-${$r}-${Bn}-${Pn}`;if(Lr(this,Rr)===jn)return Lr(this,Ir);if(ti(this,Rr,jn),ti(this,Ir,"none"),(An=Lr(this,yr))==null||An.remove(),!zr||!$r)return Lr(this,Ir);const[Kn,Xn]=[zr,$r].map(qn(this,Vr,Ah).bind(this));let In=Math.round(.2126*Kn[0]+.7152*Kn[1]+.0722*Kn[2]),$n=Math.round(.2126*Xn[0]+.7152*Xn[1]+.0722*Xn[2]),[Yn,si]=[Bn,Pn].map(qn(this,Vr,Ah).bind(this));$n<In&&([In,$n,Yn,si]=[$n,In,si,Yn]),Lr(this,Vr,hu).style.color="";const ai=(vn,Sn,wr)=>{const Or=new Array(256),Ze=($n-In)/wr,Jr=vn/255,Mn=(Sn-vn)/(255*wr);let ze=0;for(let Cr=0;Cr<=wr;Cr++){const kr=Math.round(In+Cr*Ze),rr=Jr+Cr*Mn;for(let xr=ze;xr<=kr;xr++)Or[xr]=rr;ze=kr+1}for(let Cr=ze;Cr<256;Cr++)Or[Cr]=Or[ze-1];return Or.join(",")},Ci=`g_${Lr(this,Nr)}_hcm_highlight_filter`,dr=ti(this,yr,qn(this,Vr,md).call(this,Ci));return qn(this,Vr,Wf).call(this,dr),qn(this,Vr,lh).call(this,ai(Yn[0],si[0],5),ai(Yn[1],si[1],5),ai(Yn[2],si[2],5),dr),ti(this,Ir,`url(#${Ci})`),Lr(this,Ir)}destroy(zr=!1){zr&&(Lr(this,gr)||Lr(this,Ir))||(Lr(this,jr)&&(Lr(this,jr).parentNode.parentNode.remove(),ti(this,jr,null)),Lr(this,Er)&&(Lr(this,Er).clear(),ti(this,Er,null)),ti(this,Qr,0))}}Er=new WeakMap,jr=new WeakMap,Nr=new WeakMap,Br=new WeakMap,Mr=new WeakMap,_r=new WeakMap,gr=new WeakMap,yr=new WeakMap,Rr=new WeakMap,Ir=new WeakMap,Qr=new WeakMap,Vr=new WeakSet,uu=function(){return Lr(this,Er)||ti(this,Er,new Map)},hu=function(){if(!Lr(this,jr)){const zr=Lr(this,Br).createElement("div"),{style:$r}=zr;$r.visibility="hidden",$r.contain="strict",$r.width=$r.height=0,$r.position="absolute",$r.top=$r.left=0,$r.zIndex=-1;const Bn=Lr(this,Br).createElementNS(Re,"svg");Bn.setAttribute("width",0),Bn.setAttribute("height",0),ti(this,jr,Lr(this,Br).createElementNS(Re,"defs")),zr.append(Bn),Bn.append(Lr(this,jr)),Lr(this,Br).body.append(zr)}return Lr(this,jr)},Wf=function(zr){const $r=Lr(this,Br).createElementNS(Re,"feColorMatrix");$r.setAttribute("type","matrix"),$r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),zr.append($r)},md=function(zr){const $r=Lr(this,Br).createElementNS(Re,"filter");return $r.setAttribute("color-interpolation-filters","sRGB"),$r.setAttribute("id",zr),Lr(this,Vr,hu).append($r),$r},vd=function(zr,$r,Bn){const Pn=Lr(this,Br).createElementNS(Re,$r);Pn.setAttribute("type","discrete"),Pn.setAttribute("tableValues",Bn),zr.append(Pn)},lh=function(zr,$r,Bn,Pn){const jn=Lr(this,Br).createElementNS(Re,"feComponentTransfer");Pn.append(jn),qn(this,Vr,vd).call(this,jn,"feFuncR",zr),qn(this,Vr,vd).call(this,jn,"feFuncG",$r),qn(this,Vr,vd).call(this,jn,"feFuncB",Bn)},Ah=function(zr){return Lr(this,Vr,hu).style.color=zr,$e(getComputedStyle(Lr(this,Vr,hu)).getPropertyValue("color"))},t.DOMFilterFactory=Ue;class Oe extends Ce.BaseCanvasFactory{constructor({ownerDocument:bn=globalThis.document}={}){super(),this._document=bn}_createCanvas(bn,zr){const $r=this._document.createElement("canvas");return $r.width=bn,$r.height=zr,$r}}t.DOMCanvasFactory=Oe;async function Me(Rn,bn=!1){if(hr(Rn,document.baseURI)){const zr=await fetch(Rn);if(!zr.ok)throw new Error(zr.statusText);return bn?new Uint8Array(await zr.arrayBuffer()):(0,Te.stringToBytes)(await zr.text())}return new Promise((zr,$r)=>{const Bn=new XMLHttpRequest;Bn.open("GET",Rn,!0),bn&&(Bn.responseType="arraybuffer"),Bn.onreadystatechange=()=>{if(Bn.readyState===XMLHttpRequest.DONE){if(Bn.status===200||Bn.status===0){let Pn;if(bn&&Bn.response?Pn=new Uint8Array(Bn.response):!bn&&Bn.responseText&&(Pn=(0,Te.stringToBytes)(Bn.responseText)),Pn){zr(Pn);return}}$r(new Error(Bn.statusText))}},Bn.send(null)})}class Qe extends Ce.BaseCMapReaderFactory{_fetchData(bn,zr){return Me(bn,this.isCompressed).then($r=>({cMapData:$r,compressionType:zr}))}}t.DOMCMapReaderFactory=Qe;class Ke extends Ce.BaseStandardFontDataFactory{_fetchData(bn){return Me(bn,!0)}}t.DOMStandardFontDataFactory=Ke;class Ge extends Ce.BaseSVGFactory{_createSVG(bn){return document.createElementNS(Re,bn)}}t.DOMSVGFactory=Ge;class qe{constructor({viewBox:bn,scale:zr,rotation:$r,offsetX:Bn=0,offsetY:Pn=0,dontFlip:jn=!1}){this.viewBox=bn,this.scale=zr,this.rotation=$r,this.offsetX=Bn,this.offsetY=Pn;const Kn=(bn[2]+bn[0])/2,Xn=(bn[3]+bn[1])/2;let In,$n,Yn,si;switch($r%=360,$r<0&&($r+=360),$r){case 180:In=-1,$n=0,Yn=0,si=1;break;case 90:In=0,$n=1,Yn=1,si=0;break;case 270:In=0,$n=-1,Yn=-1,si=0;break;case 0:In=1,$n=0,Yn=0,si=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}jn&&(Yn=-Yn,si=-si);let ai,Ci,dr,An;In===0?(ai=Math.abs(Xn-bn[1])*zr+Bn,Ci=Math.abs(Kn-bn[0])*zr+Pn,dr=(bn[3]-bn[1])*zr,An=(bn[2]-bn[0])*zr):(ai=Math.abs(Kn-bn[0])*zr+Bn,Ci=Math.abs(Xn-bn[1])*zr+Pn,dr=(bn[2]-bn[0])*zr,An=(bn[3]-bn[1])*zr),this.transform=[In*zr,$n*zr,Yn*zr,si*zr,ai-In*zr*Kn-Yn*zr*Xn,Ci-$n*zr*Kn-si*zr*Xn],this.width=dr,this.height=An}get rawDims(){const{viewBox:bn}=this;return(0,Te.shadow)(this,"rawDims",{pageWidth:bn[2]-bn[0],pageHeight:bn[3]-bn[1],pageX:bn[0],pageY:bn[1]})}clone({scale:bn=this.scale,rotation:zr=this.rotation,offsetX:$r=this.offsetX,offsetY:Bn=this.offsetY,dontFlip:Pn=!1}={}){return new qe({viewBox:this.viewBox.slice(),scale:bn,rotation:zr,offsetX:$r,offsetY:Bn,dontFlip:Pn})}convertToViewportPoint(bn,zr){return Te.Util.applyTransform([bn,zr],this.transform)}convertToViewportRectangle(bn){const zr=Te.Util.applyTransform([bn[0],bn[1]],this.transform),$r=Te.Util.applyTransform([bn[2],bn[3]],this.transform);return[zr[0],zr[1],$r[0],$r[1]]}convertToPdfPoint(bn,zr){return Te.Util.applyInverseTransform([bn,zr],this.transform)}}t.PageViewport=qe;class Xe extends Te.BaseException{constructor(bn,zr=0){super(bn,"RenderingCancelledException"),this.extraDelay=zr}}t.RenderingCancelledException=Xe;function tr(Rn){const bn=Rn.length;let zr=0;for(;zr<bn&&Rn[zr].trim()==="";)zr++;return Rn.substring(zr,zr+5).toLowerCase()==="data:"}function Je(Rn){return typeof Rn=="string"&&/\.pdf$/i.test(Rn)}function Ye(Rn,bn=!1){return bn||([Rn]=Rn.split(/[#?]/,1)),Rn.substring(Rn.lastIndexOf("/")+1)}function lr(Rn,bn="document.pdf"){if(typeof Rn!="string")return bn;if(tr(Rn))return(0,Te.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),bn;const zr=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,$r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Bn=zr.exec(Rn);let Pn=$r.exec(Bn[1])||$r.exec(Bn[2])||$r.exec(Bn[3]);if(Pn&&(Pn=Pn[0],Pn.includes("%")))try{Pn=$r.exec(decodeURIComponent(Pn))[0]}catch{}return Pn||bn}class cr{constructor(){zi(this,"started",Object.create(null));zi(this,"times",[])}time(bn){bn in this.started&&(0,Te.warn)(`Timer is already running for ${bn}`),this.started[bn]=Date.now()}timeEnd(bn){bn in this.started||(0,Te.warn)(`Timer has not been started for ${bn}`),this.times.push({name:bn,start:this.started[bn],end:Date.now()}),delete this.started[bn]}toString(){const bn=[];let zr=0;for(const{name:$r}of this.times)zr=Math.max($r.length,zr);for(const{name:$r,start:Bn,end:Pn}of this.times)bn.push(`${$r.padEnd(zr)} ${Pn-Bn}ms
`);return bn.join("")}}t.StatTimer=cr;function hr(Rn,bn){try{const{protocol:zr}=bn?new URL(Rn,bn):new URL(Rn);return zr==="http:"||zr==="https:"}catch{return!1}}function ur(Rn){Rn.preventDefault()}function fr(Rn,bn=!1){return new Promise((zr,$r)=>{const Bn=document.createElement("script");Bn.src=Rn,Bn.onload=function(Pn){bn&&Bn.remove(),zr(Pn)},Bn.onerror=function(){$r(new Error(`Cannot load script at: ${Bn.src}`))},(document.head||document.documentElement).append(Bn)})}function er(Rn){console.log("Deprecated API usage: "+Rn)}let nr;class ir{static toDateObject(bn){if(!bn||typeof bn!="string")return null;nr||(nr=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const zr=nr.exec(bn);if(!zr)return null;const $r=parseInt(zr[1],10);let Bn=parseInt(zr[2],10);Bn=Bn>=1&&Bn<=12?Bn-1:0;let Pn=parseInt(zr[3],10);Pn=Pn>=1&&Pn<=31?Pn:1;let jn=parseInt(zr[4],10);jn=jn>=0&&jn<=23?jn:0;let Kn=parseInt(zr[5],10);Kn=Kn>=0&&Kn<=59?Kn:0;let Xn=parseInt(zr[6],10);Xn=Xn>=0&&Xn<=59?Xn:0;const In=zr[7]||"Z";let $n=parseInt(zr[8],10);$n=$n>=0&&$n<=23?$n:0;let Yn=parseInt(zr[9],10)||0;return Yn=Yn>=0&&Yn<=59?Yn:0,In==="-"?(jn+=$n,Kn+=Yn):In==="+"&&(jn-=$n,Kn-=Yn),new Date(Date.UTC($r,Bn,Pn,jn,Kn,Xn))}}t.PDFDateString=ir;function mr(Rn,{scale:bn=1,rotation:zr=0}){const{width:$r,height:Bn}=Rn.attributes.style,Pn=[0,0,parseInt($r),parseInt(Bn)];return new qe({viewBox:Pn,scale:bn,rotation:zr})}function $e(Rn){if(Rn.startsWith("#")){const bn=parseInt(Rn.slice(1),16);return[(bn&16711680)>>16,(bn&65280)>>8,bn&255]}return Rn.startsWith("rgb(")?Rn.slice(4,-1).split(",").map(bn=>parseInt(bn)):Rn.startsWith("rgba(")?Rn.slice(5,-1).split(",").map(bn=>parseInt(bn)).slice(0,3):((0,Te.warn)(`Not a valid color format: "${Rn}"`),[0,0,0])}function Ar(Rn){const bn=document.createElement("span");bn.style.visibility="hidden",document.body.append(bn);for(const zr of Rn.keys()){bn.style.color=zr;const $r=window.getComputedStyle(bn).color;Rn.set(zr,$e($r))}bn.remove()}function or(Rn){const{a:bn,b:zr,c:$r,d:Bn,e:Pn,f:jn}=Rn.getTransform();return[bn,zr,$r,Bn,Pn,jn]}function Tr(Rn){const{a:bn,b:zr,c:$r,d:Bn,e:Pn,f:jn}=Rn.getTransform().invertSelf();return[bn,zr,$r,Bn,Pn,jn]}function Ur(Rn,bn,zr=!1,$r=!0){if(bn instanceof qe){const{pageWidth:Bn,pageHeight:Pn}=bn.rawDims,{style:jn}=Rn,Kn=Te.FeatureTest.isCSSRoundSupported,Xn=`var(--scale-factor) * ${Bn}px`,In=`var(--scale-factor) * ${Pn}px`,$n=Kn?`round(${Xn}, 1px)`:`calc(${Xn})`,Yn=Kn?`round(${In}, 1px)`:`calc(${In})`;!zr||bn.rotation%180===0?(jn.width=$n,jn.height=Yn):(jn.width=Yn,jn.height=$n)}$r&&Rn.setAttribute("data-main-rotation",bn.rotation)}}),((Ee,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseFilterFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var Ce=n(1);class Te{constructor(){this.constructor===Te&&(0,Ce.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(Qe){return"none"}addHCMFilter(Qe,Ke){return"none"}addHighlightHCMFilter(Qe,Ke,Ge,qe){return"none"}destroy(Qe=!1){}}t.BaseFilterFactory=Te;class Re{constructor(){this.constructor===Re&&(0,Ce.unreachable)("Cannot initialize BaseCanvasFactory.")}create(Qe,Ke){if(Qe<=0||Ke<=0)throw new Error("Invalid canvas size");const Ge=this._createCanvas(Qe,Ke);return{canvas:Ge,context:Ge.getContext("2d")}}reset(Qe,Ke,Ge){if(!Qe.canvas)throw new Error("Canvas is not specified");if(Ke<=0||Ge<=0)throw new Error("Invalid canvas size");Qe.canvas.width=Ke,Qe.canvas.height=Ge}destroy(Qe){if(!Qe.canvas)throw new Error("Canvas is not specified");Qe.canvas.width=0,Qe.canvas.height=0,Qe.canvas=null,Qe.context=null}_createCanvas(Qe,Ke){(0,Ce.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=Re;class Be{constructor({baseUrl:Qe=null,isCompressed:Ke=!0}){this.constructor===Be&&(0,Ce.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=Qe,this.isCompressed=Ke}async fetch({name:Qe}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!Qe)throw new Error("CMap name must be specified.");const Ke=this.baseUrl+Qe+(this.isCompressed?".bcmap":""),Ge=this.isCompressed?Ce.CMapCompressionType.BINARY:Ce.CMapCompressionType.NONE;return this._fetchData(Ke,Ge).catch(qe=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Ke}`)})}_fetchData(Qe,Ke){(0,Ce.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=Be;class Ue{constructor({baseUrl:Qe=null}){this.constructor===Ue&&(0,Ce.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=Qe}async fetch({filename:Qe}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!Qe)throw new Error("Font filename must be specified.");const Ke=`${this.baseUrl}${Qe}`;return this._fetchData(Ke).catch(Ge=>{throw new Error(`Unable to load font data at: ${Ke}`)})}_fetchData(Qe){(0,Ce.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=Ue;class Oe{constructor(){this.constructor===Oe&&(0,Ce.unreachable)("Cannot initialize BaseSVGFactory.")}create(Qe,Ke,Ge=!1){if(Qe<=0||Ke<=0)throw new Error("Invalid SVG dimensions");const qe=this._createSVG("svg:svg");return qe.setAttribute("version","1.1"),Ge||(qe.setAttribute("width",`${Qe}px`),qe.setAttribute("height",`${Ke}px`)),qe.setAttribute("preserveAspectRatio","none"),qe.setAttribute("viewBox",`0 0 ${Qe} ${Ke}`),qe}createElement(Qe){if(typeof Qe!="string")throw new Error("Invalid SVG element type");return this._createSVG(Qe)}_createSVG(Qe){(0,Ce.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=Oe}),((Ee,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var Ce=n(1);const Te=3285377520,Re=4294901760,Be=65535;class Ue{constructor(Me){this.h1=Me?Me&4294967295:Te,this.h2=Me?Me&4294967295:Te}update(Me){let Qe,Ke;if(typeof Me=="string"){Qe=new Uint8Array(Me.length*2),Ke=0;for(let er=0,nr=Me.length;er<nr;er++){const ir=Me.charCodeAt(er);ir<=255?Qe[Ke++]=ir:(Qe[Ke++]=ir>>>8,Qe[Ke++]=ir&255)}}else if((0,Ce.isArrayBuffer)(Me))Qe=Me.slice(),Ke=Qe.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const Ge=Ke>>2,qe=Ke-Ge*4,Xe=new Uint32Array(Qe.buffer,0,Ge);let tr=0,Je=0,Ye=this.h1,lr=this.h2;const cr=3432918353,hr=461845907,ur=cr&Be,fr=hr&Be;for(let er=0;er<Ge;er++)er&1?(tr=Xe[er],tr=tr*cr&Re|tr*ur&Be,tr=tr<<15|tr>>>17,tr=tr*hr&Re|tr*fr&Be,Ye^=tr,Ye=Ye<<13|Ye>>>19,Ye=Ye*5+3864292196):(Je=Xe[er],Je=Je*cr&Re|Je*ur&Be,Je=Je<<15|Je>>>17,Je=Je*hr&Re|Je*fr&Be,lr^=Je,lr=lr<<13|lr>>>19,lr=lr*5+3864292196);switch(tr=0,qe){case 3:tr^=Qe[Ge*4+2]<<16;case 2:tr^=Qe[Ge*4+1]<<8;case 1:tr^=Qe[Ge*4],tr=tr*cr&Re|tr*ur&Be,tr=tr<<15|tr>>>17,tr=tr*hr&Re|tr*fr&Be,Ge&1?Ye^=tr:lr^=tr}this.h1=Ye,this.h2=lr}hexdigest(){let Me=this.h1,Qe=this.h2;return Me^=Qe>>>1,Me=Me*3981806797&Re|Me*36045&Be,Qe=Qe*4283543511&Re|((Qe<<16|Me>>>16)*2950163797&Re)>>>16,Me^=Qe>>>1,Me=Me*444984403&Re|Me*60499&Be,Qe=Qe*3301882366&Re|((Qe<<16|Me>>>16)*3120437893&Re)>>>16,Me^=Qe>>>1,(Me>>>0).toString(16).padStart(8,"0")+(Qe>>>0).toString(16).padStart(8,"0")}}t.MurmurHash3_64=Ue}),((Ee,t,n)=>{var Be;Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var Ce=n(1);class Te{constructor({ownerDocument:Oe=globalThis.document,styleElement:Me=null}){Jn(this,Be,new Set);this._document=Oe,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(Oe){this.nativeFontFaces.add(Oe),this._document.fonts.add(Oe)}removeNativeFontFace(Oe){this.nativeFontFaces.delete(Oe),this._document.fonts.delete(Oe)}insertRule(Oe){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const Me=this.styleElement.sheet;Me.insertRule(Oe,Me.cssRules.length)}clear(){for(const Oe of this.nativeFontFaces)this._document.fonts.delete(Oe);this.nativeFontFaces.clear(),Lr(this,Be).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(Oe){if(!(!Oe||Lr(this,Be).has(Oe.loadedName))){if((0,Ce.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:Me,src:Qe,style:Ke}=Oe,Ge=new FontFace(Me,Qe,Ke);this.addNativeFontFace(Ge);try{await Ge.load(),Lr(this,Be).add(Me)}catch{(0,Ce.warn)(`Cannot load system font: ${Oe.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Ge)}return}(0,Ce.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(Oe){if(Oe.attached||Oe.missingFile&&!Oe.systemFontInfo)return;if(Oe.attached=!0,Oe.systemFontInfo){await this.loadSystemFont(Oe.systemFontInfo);return}if(this.isFontLoadingAPISupported){const Qe=Oe.createNativeFontFace();if(Qe){this.addNativeFontFace(Qe);try{await Qe.loaded}catch(Ke){throw(0,Ce.warn)(`Failed to load font '${Qe.family}': '${Ke}'.`),Oe.disableFontFace=!0,Ke}}return}const Me=Oe.createFontFaceRule();if(Me){if(this.insertRule(Me),this.isSyncFontLoadingSupported)return;await new Promise(Qe=>{const Ke=this._queueLoadingCallback(Qe);this._prepareFontLoadEvent(Oe,Ke)})}}get isFontLoadingAPISupported(){var Me;const Oe=!!((Me=this._document)!=null&&Me.fonts);return(0,Ce.shadow)(this,"isFontLoadingAPISupported",Oe)}get isSyncFontLoadingSupported(){let Oe=!1;return(Ce.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(Oe=!0),(0,Ce.shadow)(this,"isSyncFontLoadingSupported",Oe)}_queueLoadingCallback(Oe){function Me(){for((0,Ce.assert)(!Ke.done,"completeRequest() cannot be called twice."),Ke.done=!0;Qe.length>0&&Qe[0].done;){const Ge=Qe.shift();setTimeout(Ge.callback,0)}}const{loadingRequests:Qe}=this,Ke={done:!1,complete:Me,callback:Oe};return Qe.push(Ke),Ke}get _loadTestFont(){const Oe=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,Ce.shadow)(this,"_loadTestFont",Oe)}_prepareFontLoadEvent(Oe,Me){function Qe($e,Ar){return $e.charCodeAt(Ar)<<24|$e.charCodeAt(Ar+1)<<16|$e.charCodeAt(Ar+2)<<8|$e.charCodeAt(Ar+3)&255}function Ke($e,Ar,or,Tr){const Ur=$e.substring(0,Ar),Fr=$e.substring(Ar+or);return Ur+Tr+Fr}let Ge,qe;const Xe=this._document.createElement("canvas");Xe.width=1,Xe.height=1;const tr=Xe.getContext("2d");let Je=0;function Ye($e,Ar){if(++Je>30){(0,Ce.warn)("Load test font never loaded."),Ar();return}if(tr.font="30px "+$e,tr.fillText(".",0,20),tr.getImageData(0,0,1,1).data[3]>0){Ar();return}setTimeout(Ye.bind(null,$e,Ar))}const lr=`lt${Date.now()}${this.loadTestFontId++}`;let cr=this._loadTestFont;cr=Ke(cr,976,lr.length,lr);const ur=16,fr=1482184792;let er=Qe(cr,ur);for(Ge=0,qe=lr.length-3;Ge<qe;Ge+=4)er=er-fr+Qe(lr,Ge)|0;Ge<lr.length&&(er=er-fr+Qe(lr+"XXX",Ge)|0),cr=Ke(cr,ur,4,(0,Ce.string32)(er));const nr=`url(data:font/opentype;base64,${btoa(cr)});`,ir=`@font-face {font-family:"${lr}";src:${nr}}`;this.insertRule(ir);const mr=this._document.createElement("div");mr.style.visibility="hidden",mr.style.width=mr.style.height="10px",mr.style.position="absolute",mr.style.top=mr.style.left="0px";for(const $e of[Oe.loadedName,lr]){const Ar=this._document.createElement("span");Ar.textContent="Hi",Ar.style.fontFamily=$e,mr.append(Ar)}this._document.body.append(mr),Ye(lr,()=>{mr.remove(),Me.complete()})}}Be=new WeakMap,t.FontLoader=Te;class Re{constructor(Oe,{isEvalSupported:Me=!0,disableFontFace:Qe=!1,ignoreErrors:Ke=!1,inspectFont:Ge=null}){this.compiledGlyphs=Object.create(null);for(const qe in Oe)this[qe]=Oe[qe];this.isEvalSupported=Me!==!1,this.disableFontFace=Qe===!0,this.ignoreErrors=Ke===!0,this._inspectFont=Ge}createNativeFontFace(){var Me;if(!this.data||this.disableFontFace)return null;let Oe;if(!this.cssFontInfo)Oe=new FontFace(this.loadedName,this.data,{});else{const Qe={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(Qe.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Oe=new FontFace(this.cssFontInfo.fontFamily,this.data,Qe)}return(Me=this._inspectFont)==null||Me.call(this,this),Oe}createFontFaceRule(){var Ke;if(!this.data||this.disableFontFace)return null;const Oe=(0,Ce.bytesToString)(this.data),Me=`url(data:${this.mimetype};base64,${btoa(Oe)});`;let Qe;if(!this.cssFontInfo)Qe=`@font-face {font-family:"${this.loadedName}";src:${Me}}`;else{let Ge=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Ge+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),Qe=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Ge}src:${Me}}`}return(Ke=this._inspectFont)==null||Ke.call(this,this,Me),Qe}getPathGenerator(Oe,Me){if(this.compiledGlyphs[Me]!==void 0)return this.compiledGlyphs[Me];let Qe;try{Qe=Oe.get(this.loadedName+"_path_"+Me)}catch(Ke){if(!this.ignoreErrors)throw Ke;return(0,Ce.warn)(`getPathGenerator - ignoring character: "${Ke}".`),this.compiledGlyphs[Me]=function(Ge,qe){}}if(this.isEvalSupported&&Ce.FeatureTest.isEvalSupported){const Ke=[];for(const Ge of Qe){const qe=Ge.args!==void 0?Ge.args.join(","):"";Ke.push("c.",Ge.cmd,"(",qe,`);
`)}return this.compiledGlyphs[Me]=new Function("c","size",Ke.join(""))}return this.compiledGlyphs[Me]=function(Ke,Ge){for(const qe of Qe)qe.cmd==="scale"&&(qe.args=[Ge,-Ge]),Ke[qe.cmd].apply(Ke,qe.args)}}}t.FontFaceObject=Re}),((Ee,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeFilterFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var Ce=n(7);n(1);const Te=function(Me){return new Promise((Qe,Ke)=>{require$$5.readFile(Me,(qe,Xe)=>{if(qe||!Xe){Ke(new Error(qe));return}Qe(new Uint8Array(Xe))})})};class Re extends Ce.BaseFilterFactory{}t.NodeFilterFactory=Re;class Be extends Ce.BaseCanvasFactory{_createCanvas(Qe,Ke){return require$$5.createCanvas(Qe,Ke)}}t.NodeCanvasFactory=Be;class Ue extends Ce.BaseCMapReaderFactory{_fetchData(Qe,Ke){return Te(Qe).then(Ge=>({cMapData:Ge,compressionType:Ke}))}}t.NodeCMapReaderFactory=Ue;class Oe extends Ce.BaseStandardFontDataFactory{_fetchData(Qe){return Te(Qe)}}t.NodeStandardFontDataFactory=Oe}),((Ee,t,n)=>{var jr,Xf,Yf;Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var Ce=n(1),Te=n(6),Re=n(12),Be=n(13);const Ue=16,Oe=100,Me=4096,Qe=15,Ke=10,Ge=1e3,qe=16;function Xe(_r,gr){if(_r._removeMirroring)throw new Error("Context is already forwarding operations.");_r.__originalSave=_r.save,_r.__originalRestore=_r.restore,_r.__originalRotate=_r.rotate,_r.__originalScale=_r.scale,_r.__originalTranslate=_r.translate,_r.__originalTransform=_r.transform,_r.__originalSetTransform=_r.setTransform,_r.__originalResetTransform=_r.resetTransform,_r.__originalClip=_r.clip,_r.__originalMoveTo=_r.moveTo,_r.__originalLineTo=_r.lineTo,_r.__originalBezierCurveTo=_r.bezierCurveTo,_r.__originalRect=_r.rect,_r.__originalClosePath=_r.closePath,_r.__originalBeginPath=_r.beginPath,_r._removeMirroring=()=>{_r.save=_r.__originalSave,_r.restore=_r.__originalRestore,_r.rotate=_r.__originalRotate,_r.scale=_r.__originalScale,_r.translate=_r.__originalTranslate,_r.transform=_r.__originalTransform,_r.setTransform=_r.__originalSetTransform,_r.resetTransform=_r.__originalResetTransform,_r.clip=_r.__originalClip,_r.moveTo=_r.__originalMoveTo,_r.lineTo=_r.__originalLineTo,_r.bezierCurveTo=_r.__originalBezierCurveTo,_r.rect=_r.__originalRect,_r.closePath=_r.__originalClosePath,_r.beginPath=_r.__originalBeginPath,delete _r._removeMirroring},_r.save=function(){gr.save(),this.__originalSave()},_r.restore=function(){gr.restore(),this.__originalRestore()},_r.translate=function(Rr,Ir){gr.translate(Rr,Ir),this.__originalTranslate(Rr,Ir)},_r.scale=function(Rr,Ir){gr.scale(Rr,Ir),this.__originalScale(Rr,Ir)},_r.transform=function(Rr,Ir,Qr,Vr,Wr,mn){gr.transform(Rr,Ir,Qr,Vr,Wr,mn),this.__originalTransform(Rr,Ir,Qr,Vr,Wr,mn)},_r.setTransform=function(Rr,Ir,Qr,Vr,Wr,mn){gr.setTransform(Rr,Ir,Qr,Vr,Wr,mn),this.__originalSetTransform(Rr,Ir,Qr,Vr,Wr,mn)},_r.resetTransform=function(){gr.resetTransform(),this.__originalResetTransform()},_r.rotate=function(Rr){gr.rotate(Rr),this.__originalRotate(Rr)},_r.clip=function(Rr){gr.clip(Rr),this.__originalClip(Rr)},_r.moveTo=function(yr,Rr){gr.moveTo(yr,Rr),this.__originalMoveTo(yr,Rr)},_r.lineTo=function(yr,Rr){gr.lineTo(yr,Rr),this.__originalLineTo(yr,Rr)},_r.bezierCurveTo=function(yr,Rr,Ir,Qr,Vr,Wr){gr.bezierCurveTo(yr,Rr,Ir,Qr,Vr,Wr),this.__originalBezierCurveTo(yr,Rr,Ir,Qr,Vr,Wr)},_r.rect=function(yr,Rr,Ir,Qr){gr.rect(yr,Rr,Ir,Qr),this.__originalRect(yr,Rr,Ir,Qr)},_r.closePath=function(){gr.closePath(),this.__originalClosePath()},_r.beginPath=function(){gr.beginPath(),this.__originalBeginPath()}}class tr{constructor(gr){this.canvasFactory=gr,this.cache=Object.create(null)}getCanvas(gr,yr,Rr){let Ir;return this.cache[gr]!==void 0?(Ir=this.cache[gr],this.canvasFactory.reset(Ir,yr,Rr)):(Ir=this.canvasFactory.create(yr,Rr),this.cache[gr]=Ir),Ir}delete(gr){delete this.cache[gr]}clear(){for(const gr in this.cache){const yr=this.cache[gr];this.canvasFactory.destroy(yr),delete this.cache[gr]}}}function Je(_r,gr,yr,Rr,Ir,Qr,Vr,Wr,mn,gn){const[fn,Fn,wn,Yr,Rn,bn]=(0,Te.getCurrentTransform)(_r);if(Fn===0&&wn===0){const Bn=Vr*fn+Rn,Pn=Math.round(Bn),jn=Wr*Yr+bn,Kn=Math.round(jn),Xn=(Vr+mn)*fn+Rn,In=Math.abs(Math.round(Xn)-Pn)||1,$n=(Wr+gn)*Yr+bn,Yn=Math.abs(Math.round($n)-Kn)||1;return _r.setTransform(Math.sign(fn),0,0,Math.sign(Yr),Pn,Kn),_r.drawImage(gr,yr,Rr,Ir,Qr,0,0,In,Yn),_r.setTransform(fn,Fn,wn,Yr,Rn,bn),[In,Yn]}if(fn===0&&Yr===0){const Bn=Wr*wn+Rn,Pn=Math.round(Bn),jn=Vr*Fn+bn,Kn=Math.round(jn),Xn=(Wr+gn)*wn+Rn,In=Math.abs(Math.round(Xn)-Pn)||1,$n=(Vr+mn)*Fn+bn,Yn=Math.abs(Math.round($n)-Kn)||1;return _r.setTransform(0,Math.sign(Fn),Math.sign(wn),0,Pn,Kn),_r.drawImage(gr,yr,Rr,Ir,Qr,0,0,Yn,In),_r.setTransform(fn,Fn,wn,Yr,Rn,bn),[Yn,In]}_r.drawImage(gr,yr,Rr,Ir,Qr,Vr,Wr,mn,gn);const zr=Math.hypot(fn,Fn),$r=Math.hypot(wn,Yr);return[zr*mn,$r*gn]}function Ye(_r){const{width:gr,height:yr}=_r;if(gr>Ge||yr>Ge)return null;const Rr=1e3,Ir=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Qr=gr+1;let Vr=new Uint8Array(Qr*(yr+1)),Wr,mn,gn;const fn=gr+7&-8;let Fn=new Uint8Array(fn*yr),wn=0;for(const $r of _r.data){let Bn=128;for(;Bn>0;)Fn[wn++]=$r&Bn?0:255,Bn>>=1}let Yr=0;for(wn=0,Fn[wn]!==0&&(Vr[0]=1,++Yr),mn=1;mn<gr;mn++)Fn[wn]!==Fn[wn+1]&&(Vr[mn]=Fn[wn]?2:1,++Yr),wn++;for(Fn[wn]!==0&&(Vr[mn]=2,++Yr),Wr=1;Wr<yr;Wr++){wn=Wr*fn,gn=Wr*Qr,Fn[wn-fn]!==Fn[wn]&&(Vr[gn]=Fn[wn]?1:8,++Yr);let $r=(Fn[wn]?4:0)+(Fn[wn-fn]?8:0);for(mn=1;mn<gr;mn++)$r=($r>>2)+(Fn[wn+1]?4:0)+(Fn[wn-fn+1]?8:0),Ir[$r]&&(Vr[gn+mn]=Ir[$r],++Yr),wn++;if(Fn[wn-fn]!==Fn[wn]&&(Vr[gn+mn]=Fn[wn]?2:4,++Yr),Yr>Rr)return null}for(wn=fn*(yr-1),gn=Wr*Qr,Fn[wn]!==0&&(Vr[gn]=8,++Yr),mn=1;mn<gr;mn++)Fn[wn]!==Fn[wn+1]&&(Vr[gn+mn]=Fn[wn]?4:8,++Yr),wn++;if(Fn[wn]!==0&&(Vr[gn+mn]=4,++Yr),Yr>Rr)return null;const Rn=new Int32Array([0,Qr,-1,0,-Qr,0,0,0,1]),bn=new Path2D;for(Wr=0;Yr&&Wr<=yr;Wr++){let $r=Wr*Qr;const Bn=$r+gr;for(;$r<Bn&&!Vr[$r];)$r++;if($r===Bn)continue;bn.moveTo($r%Qr,Wr);const Pn=$r;let jn=Vr[$r];do{const Kn=Rn[jn];do $r+=Kn;while(!Vr[$r]);const Xn=Vr[$r];Xn!==5&&Xn!==10?(jn=Xn,Vr[$r]=0):(jn=Xn&51*jn>>4,Vr[$r]&=jn>>2|jn<<2),bn.lineTo($r%Qr,$r/Qr|0),Vr[$r]||--Yr}while(Pn!==$r);--Wr}return Fn=null,Vr=null,function($r){$r.save(),$r.scale(1/gr,-1/yr),$r.translate(0,-yr),$r.fill(bn),$r.beginPath(),$r.restore()}}class lr{constructor(gr,yr){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Ce.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=Ce.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Ce.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,gr,yr])}clone(){const gr=Object.create(this);return gr.clipBox=this.clipBox.slice(),gr}setCurrentPoint(gr,yr){this.x=gr,this.y=yr}updatePathMinMax(gr,yr,Rr){[yr,Rr]=Ce.Util.applyTransform([yr,Rr],gr),this.minX=Math.min(this.minX,yr),this.minY=Math.min(this.minY,Rr),this.maxX=Math.max(this.maxX,yr),this.maxY=Math.max(this.maxY,Rr)}updateRectMinMax(gr,yr){const Rr=Ce.Util.applyTransform(yr,gr),Ir=Ce.Util.applyTransform(yr.slice(2),gr);this.minX=Math.min(this.minX,Rr[0],Ir[0]),this.minY=Math.min(this.minY,Rr[1],Ir[1]),this.maxX=Math.max(this.maxX,Rr[0],Ir[0]),this.maxY=Math.max(this.maxY,Rr[1],Ir[1])}updateScalingPathMinMax(gr,yr){Ce.Util.scaleMinMax(gr,yr),this.minX=Math.min(this.minX,yr[0]),this.maxX=Math.max(this.maxX,yr[1]),this.minY=Math.min(this.minY,yr[2]),this.maxY=Math.max(this.maxY,yr[3])}updateCurvePathMinMax(gr,yr,Rr,Ir,Qr,Vr,Wr,mn,gn,fn){const Fn=Ce.Util.bezierBoundingBox(yr,Rr,Ir,Qr,Vr,Wr,mn,gn);if(fn){fn[0]=Math.min(fn[0],Fn[0],Fn[2]),fn[1]=Math.max(fn[1],Fn[0],Fn[2]),fn[2]=Math.min(fn[2],Fn[1],Fn[3]),fn[3]=Math.max(fn[3],Fn[1],Fn[3]);return}this.updateRectMinMax(gr,Fn)}getPathBoundingBox(gr=Re.PathType.FILL,yr=null){const Rr=[this.minX,this.minY,this.maxX,this.maxY];if(gr===Re.PathType.STROKE){yr||(0,Ce.unreachable)("Stroke bounding box must include transform.");const Ir=Ce.Util.singularValueDecompose2dScale(yr),Qr=Ir[0]*this.lineWidth/2,Vr=Ir[1]*this.lineWidth/2;Rr[0]-=Qr,Rr[1]-=Vr,Rr[2]+=Qr,Rr[3]+=Vr}return Rr}updateClipFromPath(){const gr=Ce.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(gr||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(gr){this.clipBox=gr,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(gr=Re.PathType.FILL,yr=null){return Ce.Util.intersect(this.clipBox,this.getPathBoundingBox(gr,yr))}}function cr(_r,gr){if(typeof ImageData<"u"&&gr instanceof ImageData){_r.putImageData(gr,0,0);return}const yr=gr.height,Rr=gr.width,Ir=yr%qe,Qr=(yr-Ir)/qe,Vr=Ir===0?Qr:Qr+1,Wr=_r.createImageData(Rr,qe);let mn=0,gn;const fn=gr.data,Fn=Wr.data;let wn,Yr,Rn,bn;if(gr.kind===Ce.ImageKind.GRAYSCALE_1BPP){const zr=fn.byteLength,$r=new Uint32Array(Fn.buffer,0,Fn.byteLength>>2),Bn=$r.length,Pn=Rr+7>>3,jn=4294967295,Kn=Ce.FeatureTest.isLittleEndian?4278190080:255;for(wn=0;wn<Vr;wn++){for(Rn=wn<Qr?qe:Ir,gn=0,Yr=0;Yr<Rn;Yr++){const Xn=zr-mn;let In=0;const $n=Xn>Pn?Rr:Xn*8-7,Yn=$n&-8;let si=0,ai=0;for(;In<Yn;In+=8)ai=fn[mn++],$r[gn++]=ai&128?jn:Kn,$r[gn++]=ai&64?jn:Kn,$r[gn++]=ai&32?jn:Kn,$r[gn++]=ai&16?jn:Kn,$r[gn++]=ai&8?jn:Kn,$r[gn++]=ai&4?jn:Kn,$r[gn++]=ai&2?jn:Kn,$r[gn++]=ai&1?jn:Kn;for(;In<$n;In++)si===0&&(ai=fn[mn++],si=128),$r[gn++]=ai&si?jn:Kn,si>>=1}for(;gn<Bn;)$r[gn++]=0;_r.putImageData(Wr,0,wn*qe)}}else if(gr.kind===Ce.ImageKind.RGBA_32BPP){for(Yr=0,bn=Rr*qe*4,wn=0;wn<Qr;wn++)Fn.set(fn.subarray(mn,mn+bn)),mn+=bn,_r.putImageData(Wr,0,Yr),Yr+=qe;wn<Vr&&(bn=Rr*Ir*4,Fn.set(fn.subarray(mn,mn+bn)),_r.putImageData(Wr,0,Yr))}else if(gr.kind===Ce.ImageKind.RGB_24BPP)for(Rn=qe,bn=Rr*Rn,wn=0;wn<Vr;wn++){for(wn>=Qr&&(Rn=Ir,bn=Rr*Rn),gn=0,Yr=bn;Yr--;)Fn[gn++]=fn[mn++],Fn[gn++]=fn[mn++],Fn[gn++]=fn[mn++],Fn[gn++]=255;_r.putImageData(Wr,0,wn*qe)}else throw new Error(`bad image kind: ${gr.kind}`)}function hr(_r,gr){if(gr.bitmap){_r.drawImage(gr.bitmap,0,0);return}const yr=gr.height,Rr=gr.width,Ir=yr%qe,Qr=(yr-Ir)/qe,Vr=Ir===0?Qr:Qr+1,Wr=_r.createImageData(Rr,qe);let mn=0;const gn=gr.data,fn=Wr.data;for(let Fn=0;Fn<Vr;Fn++){const wn=Fn<Qr?qe:Ir;({srcPos:mn}=(0,Be.convertBlackAndWhiteToRGBA)({src:gn,srcPos:mn,dest:fn,width:Rr,height:wn,nonBlackColor:0})),_r.putImageData(Wr,0,Fn*qe)}}function ur(_r,gr){const yr=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Rr of yr)_r[Rr]!==void 0&&(gr[Rr]=_r[Rr]);_r.setLineDash!==void 0&&(gr.setLineDash(_r.getLineDash()),gr.lineDashOffset=_r.lineDashOffset)}function fr(_r){if(_r.strokeStyle=_r.fillStyle="#000000",_r.fillRule="nonzero",_r.globalAlpha=1,_r.lineWidth=1,_r.lineCap="butt",_r.lineJoin="miter",_r.miterLimit=10,_r.globalCompositeOperation="source-over",_r.font="10px sans-serif",_r.setLineDash!==void 0&&(_r.setLineDash([]),_r.lineDashOffset=0),!Ce.isNodeJS){const{filter:gr}=_r;gr!=="none"&&gr!==""&&(_r.filter="none")}}function er(_r,gr,yr,Rr){const Ir=_r.length;for(let Qr=3;Qr<Ir;Qr+=4){const Vr=_r[Qr];if(Vr===0)_r[Qr-3]=gr,_r[Qr-2]=yr,_r[Qr-1]=Rr;else if(Vr<255){const Wr=255-Vr;_r[Qr-3]=_r[Qr-3]*Vr+gr*Wr>>8,_r[Qr-2]=_r[Qr-2]*Vr+yr*Wr>>8,_r[Qr-1]=_r[Qr-1]*Vr+Rr*Wr>>8}}}function nr(_r,gr,yr){const Rr=_r.length,Ir=1/255;for(let Qr=3;Qr<Rr;Qr+=4){const Vr=yr?yr[_r[Qr]]:_r[Qr];gr[Qr]=gr[Qr]*Vr*Ir|0}}function ir(_r,gr,yr){const Rr=_r.length;for(let Ir=3;Ir<Rr;Ir+=4){const Qr=_r[Ir-3]*77+_r[Ir-2]*152+_r[Ir-1]*28;gr[Ir]=yr?gr[Ir]*yr[Qr>>8]>>8:gr[Ir]*Qr>>16}}function mr(_r,gr,yr,Rr,Ir,Qr,Vr,Wr,mn,gn,fn){const Fn=!!Qr,wn=Fn?Qr[0]:0,Yr=Fn?Qr[1]:0,Rn=Fn?Qr[2]:0,bn=Ir==="Luminosity"?ir:nr,$r=Math.min(Rr,Math.ceil(1048576/yr));for(let Bn=0;Bn<Rr;Bn+=$r){const Pn=Math.min($r,Rr-Bn),jn=_r.getImageData(Wr-gn,Bn+(mn-fn),yr,Pn),Kn=gr.getImageData(Wr,Bn+mn,yr,Pn);Fn&&er(jn.data,wn,Yr,Rn),bn(jn.data,Kn.data,Vr),gr.putImageData(Kn,Wr,Bn+mn)}}function $e(_r,gr,yr,Rr){const Ir=Rr[0],Qr=Rr[1],Vr=Rr[2]-Ir,Wr=Rr[3]-Qr;Vr===0||Wr===0||(mr(gr.context,yr,Vr,Wr,gr.subtype,gr.backdrop,gr.transferMap,Ir,Qr,gr.offsetX,gr.offsetY),_r.save(),_r.globalAlpha=1,_r.globalCompositeOperation="source-over",_r.setTransform(1,0,0,1,0,0),_r.drawImage(yr.canvas,0,0),_r.restore())}function Ar(_r,gr){const yr=Ce.Util.singularValueDecompose2dScale(_r);yr[0]=Math.fround(yr[0]),yr[1]=Math.fround(yr[1]);const Rr=Math.fround((globalThis.devicePixelRatio||1)*Te.PixelsPerInch.PDF_TO_CSS_UNITS);return gr!==void 0?gr:yr[0]<=Rr||yr[1]<=Rr}const or=["butt","round","square"],Tr=["miter","round","bevel"],Ur={},Fr={},Mr=class Mr{constructor(gr,yr,Rr,Ir,Qr,{optionalContentConfig:Vr,markedContentStack:Wr=null},mn,gn){Jn(this,jr);this.ctx=gr,this.current=new lr(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=yr,this.objs=Rr,this.canvasFactory=Ir,this.filterFactory=Qr,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Wr||[],this.optionalContentConfig=Vr,this.cachedCanvases=new tr(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=mn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=gn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(gr,yr=null){return typeof gr=="string"?gr.startsWith("g_")?this.commonObjs.get(gr):this.objs.get(gr):yr}beginDrawing({transform:gr,viewport:yr,transparency:Rr=!1,background:Ir=null}){const Qr=this.ctx.canvas.width,Vr=this.ctx.canvas.height,Wr=this.ctx.fillStyle;if(this.ctx.fillStyle=Ir||"#ffffff",this.ctx.fillRect(0,0,Qr,Vr),this.ctx.fillStyle=Wr,Rr){const mn=this.cachedCanvases.getCanvas("transparent",Qr,Vr);this.compositeCtx=this.ctx,this.transparentCanvas=mn.canvas,this.ctx=mn.context,this.ctx.save(),this.ctx.transform(...(0,Te.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),fr(this.ctx),gr&&(this.ctx.transform(...gr),this.outputScaleX=gr[0],this.outputScaleY=gr[0]),this.ctx.transform(...yr.transform),this.viewportScale=yr.scale,this.baseTransform=(0,Te.getCurrentTransform)(this.ctx)}executeOperatorList(gr,yr,Rr,Ir){const Qr=gr.argsArray,Vr=gr.fnArray;let Wr=yr||0;const mn=Qr.length;if(mn===Wr)return Wr;const gn=mn-Wr>Ke&&typeof Rr=="function",fn=gn?Date.now()+Qe:0;let Fn=0;const wn=this.commonObjs,Yr=this.objs;let Rn;for(;;){if(Ir!==void 0&&Wr===Ir.nextBreakPoint)return Ir.breakIt(Wr,Rr),Wr;if(Rn=Vr[Wr],Rn!==Ce.OPS.dependency)this[Rn].apply(this,Qr[Wr]);else for(const bn of Qr[Wr]){const zr=bn.startsWith("g_")?wn:Yr;if(!zr.has(bn))return zr.get(bn,Rr),Wr}if(Wr++,Wr===mn)return Wr;if(gn&&++Fn>Ke){if(Date.now()>fn)return Rr(),Wr;Fn=0}}}endDrawing(){qn(this,jr,Xf).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const gr of this._cachedBitmapsMap.values()){for(const yr of gr.values())typeof HTMLCanvasElement<"u"&&yr instanceof HTMLCanvasElement&&(yr.width=yr.height=0);gr.clear()}this._cachedBitmapsMap.clear(),qn(this,jr,Yf).call(this)}_scaleImage(gr,yr){const Rr=gr.width,Ir=gr.height;let Qr=Math.max(Math.hypot(yr[0],yr[1]),1),Vr=Math.max(Math.hypot(yr[2],yr[3]),1),Wr=Rr,mn=Ir,gn="prescale1",fn,Fn;for(;Qr>2&&Wr>1||Vr>2&&mn>1;){let wn=Wr,Yr=mn;Qr>2&&Wr>1&&(wn=Wr>=16384?Math.floor(Wr/2)-1||1:Math.ceil(Wr/2),Qr/=Wr/wn),Vr>2&&mn>1&&(Yr=mn>=16384?Math.floor(mn/2)-1||1:Math.ceil(mn)/2,Vr/=mn/Yr),fn=this.cachedCanvases.getCanvas(gn,wn,Yr),Fn=fn.context,Fn.clearRect(0,0,wn,Yr),Fn.drawImage(gr,0,0,Wr,mn,0,0,wn,Yr),gr=fn.canvas,Wr=wn,mn=Yr,gn=gn==="prescale1"?"prescale2":"prescale1"}return{img:gr,paintWidth:Wr,paintHeight:mn}}_createMaskCanvas(gr){const yr=this.ctx,{width:Rr,height:Ir}=gr,Qr=this.current.fillColor,Vr=this.current.patternFill,Wr=(0,Te.getCurrentTransform)(yr);let mn,gn,fn,Fn;if((gr.bitmap||gr.data)&&gr.count>1){const In=gr.bitmap||gr.data.buffer;gn=JSON.stringify(Vr?Wr:[Wr.slice(0,4),Qr]),mn=this._cachedBitmapsMap.get(In),mn||(mn=new Map,this._cachedBitmapsMap.set(In,mn));const $n=mn.get(gn);if($n&&!Vr){const Yn=Math.round(Math.min(Wr[0],Wr[2])+Wr[4]),si=Math.round(Math.min(Wr[1],Wr[3])+Wr[5]);return{canvas:$n,offsetX:Yn,offsetY:si}}fn=$n}fn||(Fn=this.cachedCanvases.getCanvas("maskCanvas",Rr,Ir),hr(Fn.context,gr));let wn=Ce.Util.transform(Wr,[1/Rr,0,0,-1/Ir,0,0]);wn=Ce.Util.transform(wn,[1,0,0,1,0,-Ir]);const Yr=Ce.Util.applyTransform([0,0],wn),Rn=Ce.Util.applyTransform([Rr,Ir],wn),bn=Ce.Util.normalizeRect([Yr[0],Yr[1],Rn[0],Rn[1]]),zr=Math.round(bn[2]-bn[0])||1,$r=Math.round(bn[3]-bn[1])||1,Bn=this.cachedCanvases.getCanvas("fillCanvas",zr,$r),Pn=Bn.context,jn=Math.min(Yr[0],Rn[0]),Kn=Math.min(Yr[1],Rn[1]);Pn.translate(-jn,-Kn),Pn.transform(...wn),fn||(fn=this._scaleImage(Fn.canvas,(0,Te.getCurrentTransformInverse)(Pn)),fn=fn.img,mn&&Vr&&mn.set(gn,fn)),Pn.imageSmoothingEnabled=Ar((0,Te.getCurrentTransform)(Pn),gr.interpolate),Je(Pn,fn,0,0,fn.width,fn.height,0,0,Rr,Ir),Pn.globalCompositeOperation="source-in";const Xn=Ce.Util.transform((0,Te.getCurrentTransformInverse)(Pn),[1,0,0,1,-jn,-Kn]);return Pn.fillStyle=Vr?Qr.getPattern(yr,this,Xn,Re.PathType.FILL):Qr,Pn.fillRect(0,0,Rr,Ir),mn&&!Vr&&(this.cachedCanvases.delete("fillCanvas"),mn.set(gn,Bn.canvas)),{canvas:Bn.canvas,offsetX:Math.round(jn),offsetY:Math.round(Kn)}}setLineWidth(gr){gr!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=gr,this.ctx.lineWidth=gr}setLineCap(gr){this.ctx.lineCap=or[gr]}setLineJoin(gr){this.ctx.lineJoin=Tr[gr]}setMiterLimit(gr){this.ctx.miterLimit=gr}setDash(gr,yr){const Rr=this.ctx;Rr.setLineDash!==void 0&&(Rr.setLineDash(gr),Rr.lineDashOffset=yr)}setRenderingIntent(gr){}setFlatness(gr){}setGState(gr){for(const[yr,Rr]of gr)switch(yr){case"LW":this.setLineWidth(Rr);break;case"LC":this.setLineCap(Rr);break;case"LJ":this.setLineJoin(Rr);break;case"ML":this.setMiterLimit(Rr);break;case"D":this.setDash(Rr[0],Rr[1]);break;case"RI":this.setRenderingIntent(Rr);break;case"FL":this.setFlatness(Rr);break;case"Font":this.setFont(Rr[0],Rr[1]);break;case"CA":this.current.strokeAlpha=Rr;break;case"ca":this.current.fillAlpha=Rr,this.ctx.globalAlpha=Rr;break;case"BM":this.ctx.globalCompositeOperation=Rr;break;case"SMask":this.current.activeSMask=Rr?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Rr);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const gr=this.inSMaskMode;this.current.activeSMask&&!gr?this.beginSMaskMode():!this.current.activeSMask&&gr&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const gr=this.ctx.canvas.width,yr=this.ctx.canvas.height,Rr="smaskGroupAt"+this.groupLevel,Ir=this.cachedCanvases.getCanvas(Rr,gr,yr);this.suspendedCtx=this.ctx,this.ctx=Ir.context;const Qr=this.ctx;Qr.setTransform(...(0,Te.getCurrentTransform)(this.suspendedCtx)),ur(this.suspendedCtx,Qr),Xe(Qr,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ur(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(gr){if(!this.current.activeSMask)return;gr?(gr[0]=Math.floor(gr[0]),gr[1]=Math.floor(gr[1]),gr[2]=Math.ceil(gr[2]),gr[3]=Math.ceil(gr[3])):gr=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const yr=this.current.activeSMask,Rr=this.suspendedCtx;$e(Rr,yr,this.ctx,gr),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ur(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const gr=this.current;this.stateStack.push(gr),this.current=gr.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ur(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(gr,yr,Rr,Ir,Qr,Vr){this.ctx.transform(gr,yr,Rr,Ir,Qr,Vr),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(gr,yr,Rr){const Ir=this.ctx,Qr=this.current;let Vr=Qr.x,Wr=Qr.y,mn,gn;const fn=(0,Te.getCurrentTransform)(Ir),Fn=fn[0]===0&&fn[3]===0||fn[1]===0&&fn[2]===0,wn=Fn?Rr.slice(0):null;for(let Yr=0,Rn=0,bn=gr.length;Yr<bn;Yr++)switch(gr[Yr]|0){case Ce.OPS.rectangle:Vr=yr[Rn++],Wr=yr[Rn++];const zr=yr[Rn++],$r=yr[Rn++],Bn=Vr+zr,Pn=Wr+$r;Ir.moveTo(Vr,Wr),zr===0||$r===0?Ir.lineTo(Bn,Pn):(Ir.lineTo(Bn,Wr),Ir.lineTo(Bn,Pn),Ir.lineTo(Vr,Pn)),Fn||Qr.updateRectMinMax(fn,[Vr,Wr,Bn,Pn]),Ir.closePath();break;case Ce.OPS.moveTo:Vr=yr[Rn++],Wr=yr[Rn++],Ir.moveTo(Vr,Wr),Fn||Qr.updatePathMinMax(fn,Vr,Wr);break;case Ce.OPS.lineTo:Vr=yr[Rn++],Wr=yr[Rn++],Ir.lineTo(Vr,Wr),Fn||Qr.updatePathMinMax(fn,Vr,Wr);break;case Ce.OPS.curveTo:mn=Vr,gn=Wr,Vr=yr[Rn+4],Wr=yr[Rn+5],Ir.bezierCurveTo(yr[Rn],yr[Rn+1],yr[Rn+2],yr[Rn+3],Vr,Wr),Qr.updateCurvePathMinMax(fn,mn,gn,yr[Rn],yr[Rn+1],yr[Rn+2],yr[Rn+3],Vr,Wr,wn),Rn+=6;break;case Ce.OPS.curveTo2:mn=Vr,gn=Wr,Ir.bezierCurveTo(Vr,Wr,yr[Rn],yr[Rn+1],yr[Rn+2],yr[Rn+3]),Qr.updateCurvePathMinMax(fn,mn,gn,Vr,Wr,yr[Rn],yr[Rn+1],yr[Rn+2],yr[Rn+3],wn),Vr=yr[Rn+2],Wr=yr[Rn+3],Rn+=4;break;case Ce.OPS.curveTo3:mn=Vr,gn=Wr,Vr=yr[Rn+2],Wr=yr[Rn+3],Ir.bezierCurveTo(yr[Rn],yr[Rn+1],Vr,Wr,Vr,Wr),Qr.updateCurvePathMinMax(fn,mn,gn,yr[Rn],yr[Rn+1],Vr,Wr,Vr,Wr,wn),Rn+=4;break;case Ce.OPS.closePath:Ir.closePath();break}Fn&&Qr.updateScalingPathMinMax(fn,wn),Qr.setCurrentPoint(Vr,Wr)}closePath(){this.ctx.closePath()}stroke(gr=!0){const yr=this.ctx,Rr=this.current.strokeColor;yr.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Rr=="object"&&(Rr!=null&&Rr.getPattern)?(yr.save(),yr.strokeStyle=Rr.getPattern(yr,this,(0,Te.getCurrentTransformInverse)(yr),Re.PathType.STROKE),this.rescaleAndStroke(!1),yr.restore()):this.rescaleAndStroke(!0)),gr&&this.consumePath(this.current.getClippedPathBoundingBox()),yr.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(gr=!0){const yr=this.ctx,Rr=this.current.fillColor,Ir=this.current.patternFill;let Qr=!1;Ir&&(yr.save(),yr.fillStyle=Rr.getPattern(yr,this,(0,Te.getCurrentTransformInverse)(yr),Re.PathType.FILL),Qr=!0);const Vr=this.current.getClippedPathBoundingBox();this.contentVisible&&Vr!==null&&(this.pendingEOFill?(yr.fill("evenodd"),this.pendingEOFill=!1):yr.fill()),Qr&&yr.restore(),gr&&this.consumePath(Vr)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ur}eoClip(){this.pendingClip=Fr}beginText(){this.current.textMatrix=Ce.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const gr=this.pendingTextPaths,yr=this.ctx;if(gr===void 0){yr.beginPath();return}yr.save(),yr.beginPath();for(const Rr of gr)yr.setTransform(...Rr.transform),yr.translate(Rr.x,Rr.y),Rr.addToPath(yr,Rr.fontSize);yr.restore(),yr.clip(),yr.beginPath(),delete this.pendingTextPaths}setCharSpacing(gr){this.current.charSpacing=gr}setWordSpacing(gr){this.current.wordSpacing=gr}setHScale(gr){this.current.textHScale=gr/100}setLeading(gr){this.current.leading=-gr}setFont(gr,yr){var fn;const Rr=this.commonObjs.get(gr),Ir=this.current;if(!Rr)throw new Error(`Can't find font for ${gr}`);if(Ir.fontMatrix=Rr.fontMatrix||Ce.FONT_IDENTITY_MATRIX,(Ir.fontMatrix[0]===0||Ir.fontMatrix[3]===0)&&(0,Ce.warn)("Invalid font matrix for font "+gr),yr<0?(yr=-yr,Ir.fontDirection=-1):Ir.fontDirection=1,this.current.font=Rr,this.current.fontSize=yr,Rr.isType3Font)return;const Qr=Rr.loadedName||"sans-serif",Vr=((fn=Rr.systemFontInfo)==null?void 0:fn.css)||`"${Qr}", ${Rr.fallbackName}`;let Wr="normal";Rr.black?Wr="900":Rr.bold&&(Wr="bold");const mn=Rr.italic?"italic":"normal";let gn=yr;yr<Ue?gn=Ue:yr>Oe&&(gn=Oe),this.current.fontSizeScale=yr/gn,this.ctx.font=`${mn} ${Wr} ${gn}px ${Vr}`}setTextRenderingMode(gr){this.current.textRenderingMode=gr}setTextRise(gr){this.current.textRise=gr}moveText(gr,yr){this.current.x=this.current.lineX+=gr,this.current.y=this.current.lineY+=yr}setLeadingMoveText(gr,yr){this.setLeading(-yr),this.moveText(gr,yr)}setTextMatrix(gr,yr,Rr,Ir,Qr,Vr){this.current.textMatrix=[gr,yr,Rr,Ir,Qr,Vr],this.current.textMatrixScale=Math.hypot(gr,yr),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(gr,yr,Rr,Ir){const Qr=this.ctx,Vr=this.current,Wr=Vr.font,mn=Vr.textRenderingMode,gn=Vr.fontSize/Vr.fontSizeScale,fn=mn&Ce.TextRenderingMode.FILL_STROKE_MASK,Fn=!!(mn&Ce.TextRenderingMode.ADD_TO_PATH_FLAG),wn=Vr.patternFill&&!Wr.missingFile;let Yr;(Wr.disableFontFace||Fn||wn)&&(Yr=Wr.getPathGenerator(this.commonObjs,gr)),Wr.disableFontFace||wn?(Qr.save(),Qr.translate(yr,Rr),Qr.beginPath(),Yr(Qr,gn),Ir&&Qr.setTransform(...Ir),(fn===Ce.TextRenderingMode.FILL||fn===Ce.TextRenderingMode.FILL_STROKE)&&Qr.fill(),(fn===Ce.TextRenderingMode.STROKE||fn===Ce.TextRenderingMode.FILL_STROKE)&&Qr.stroke(),Qr.restore()):((fn===Ce.TextRenderingMode.FILL||fn===Ce.TextRenderingMode.FILL_STROKE)&&Qr.fillText(gr,yr,Rr),(fn===Ce.TextRenderingMode.STROKE||fn===Ce.TextRenderingMode.FILL_STROKE)&&Qr.strokeText(gr,yr,Rr)),Fn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,Te.getCurrentTransform)(Qr),x:yr,y:Rr,fontSize:gn,addToPath:Yr})}get isFontSubpixelAAEnabled(){const{context:gr}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);gr.scale(1.5,1),gr.fillText("I",0,10);const yr=gr.getImageData(0,0,10,10).data;let Rr=!1;for(let Ir=3;Ir<yr.length;Ir+=4)if(yr[Ir]>0&&yr[Ir]<255){Rr=!0;break}return(0,Ce.shadow)(this,"isFontSubpixelAAEnabled",Rr)}showText(gr){const yr=this.current,Rr=yr.font;if(Rr.isType3Font)return this.showType3Text(gr);const Ir=yr.fontSize;if(Ir===0)return;const Qr=this.ctx,Vr=yr.fontSizeScale,Wr=yr.charSpacing,mn=yr.wordSpacing,gn=yr.fontDirection,fn=yr.textHScale*gn,Fn=gr.length,wn=Rr.vertical,Yr=wn?1:-1,Rn=Rr.defaultVMetrics,bn=Ir*yr.fontMatrix[0],zr=yr.textRenderingMode===Ce.TextRenderingMode.FILL&&!Rr.disableFontFace&&!yr.patternFill;Qr.save(),Qr.transform(...yr.textMatrix),Qr.translate(yr.x,yr.y+yr.textRise),gn>0?Qr.scale(fn,-1):Qr.scale(fn,1);let $r;if(yr.patternFill){Qr.save();const Xn=yr.fillColor.getPattern(Qr,this,(0,Te.getCurrentTransformInverse)(Qr),Re.PathType.FILL);$r=(0,Te.getCurrentTransform)(Qr),Qr.restore(),Qr.fillStyle=Xn}let Bn=yr.lineWidth;const Pn=yr.textMatrixScale;if(Pn===0||Bn===0){const Xn=yr.textRenderingMode&Ce.TextRenderingMode.FILL_STROKE_MASK;(Xn===Ce.TextRenderingMode.STROKE||Xn===Ce.TextRenderingMode.FILL_STROKE)&&(Bn=this.getSinglePixelWidth())}else Bn/=Pn;if(Vr!==1&&(Qr.scale(Vr,Vr),Bn/=Vr),Qr.lineWidth=Bn,Rr.isInvalidPDFjsFont){const Xn=[];let In=0;for(const $n of gr)Xn.push($n.unicode),In+=$n.width;Qr.fillText(Xn.join(""),0,0),yr.x+=In*bn*fn,Qr.restore(),this.compose();return}let jn=0,Kn;for(Kn=0;Kn<Fn;++Kn){const Xn=gr[Kn];if(typeof Xn=="number"){jn+=Yr*Xn*Ir/1e3;continue}let In=!1;const $n=(Xn.isSpace?mn:0)+Wr,Yn=Xn.fontChar,si=Xn.accent;let ai,Ci,dr=Xn.width;if(wn){const vn=Xn.vmetric||Rn,Sn=-(Xn.vmetric?vn[1]:dr*.5)*bn,wr=vn[2]*bn;dr=vn?-vn[0]:dr,ai=Sn/Vr,Ci=(jn+wr)/Vr}else ai=jn/Vr,Ci=0;if(Rr.remeasure&&dr>0){const vn=Qr.measureText(Yn).width*1e3/Ir*Vr;if(dr<vn&&this.isFontSubpixelAAEnabled){const Sn=dr/vn;In=!0,Qr.save(),Qr.scale(Sn,1),ai/=Sn}else dr!==vn&&(ai+=(dr-vn)/2e3*Ir/Vr)}if(this.contentVisible&&(Xn.isInFont||Rr.missingFile)){if(zr&&!si)Qr.fillText(Yn,ai,Ci);else if(this.paintChar(Yn,ai,Ci,$r),si){const vn=ai+Ir*si.offset.x/Vr,Sn=Ci-Ir*si.offset.y/Vr;this.paintChar(si.fontChar,vn,Sn,$r)}}const An=wn?dr*bn-$n*gn:dr*bn+$n*gn;jn+=An,In&&Qr.restore()}wn?yr.y-=jn:yr.x+=jn*fn,Qr.restore(),this.compose()}showType3Text(gr){const yr=this.ctx,Rr=this.current,Ir=Rr.font,Qr=Rr.fontSize,Vr=Rr.fontDirection,Wr=Ir.vertical?1:-1,mn=Rr.charSpacing,gn=Rr.wordSpacing,fn=Rr.textHScale*Vr,Fn=Rr.fontMatrix||Ce.FONT_IDENTITY_MATRIX,wn=gr.length,Yr=Rr.textRenderingMode===Ce.TextRenderingMode.INVISIBLE;let Rn,bn,zr,$r;if(!(Yr||Qr===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,yr.save(),yr.transform(...Rr.textMatrix),yr.translate(Rr.x,Rr.y),yr.scale(fn,Vr),Rn=0;Rn<wn;++Rn){if(bn=gr[Rn],typeof bn=="number"){$r=Wr*bn*Qr/1e3,this.ctx.translate($r,0),Rr.x+=$r*fn;continue}const Bn=(bn.isSpace?gn:0)+mn,Pn=Ir.charProcOperatorList[bn.operatorListId];if(!Pn){(0,Ce.warn)(`Type3 character "${bn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=bn,this.save(),yr.scale(Qr,Qr),yr.transform(...Fn),this.executeOperatorList(Pn),this.restore()),zr=Ce.Util.applyTransform([bn.width,0],Fn)[0]*Qr+Bn,yr.translate(zr,0),Rr.x+=zr*fn}yr.restore(),this.processingType3=null}}setCharWidth(gr,yr){}setCharWidthAndBounds(gr,yr,Rr,Ir,Qr,Vr){this.ctx.rect(Rr,Ir,Qr-Rr,Vr-Ir),this.ctx.clip(),this.endPath()}getColorN_Pattern(gr){let yr;if(gr[0]==="TilingPattern"){const Rr=gr[1],Ir=this.baseTransform||(0,Te.getCurrentTransform)(this.ctx),Qr={createCanvasGraphics:Vr=>new Mr(Vr,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};yr=new Re.TilingPattern(gr,Rr,this.ctx,Qr,Ir)}else yr=this._getPattern(gr[1],gr[2]);return yr}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(gr,yr,Rr){const Ir=Ce.Util.makeHexColor(gr,yr,Rr);this.ctx.strokeStyle=Ir,this.current.strokeColor=Ir}setFillRGBColor(gr,yr,Rr){const Ir=Ce.Util.makeHexColor(gr,yr,Rr);this.ctx.fillStyle=Ir,this.current.fillColor=Ir,this.current.patternFill=!1}_getPattern(gr,yr=null){let Rr;return this.cachedPatterns.has(gr)?Rr=this.cachedPatterns.get(gr):(Rr=(0,Re.getShadingPattern)(this.getObject(gr)),this.cachedPatterns.set(gr,Rr)),yr&&(Rr.matrix=yr),Rr}shadingFill(gr){if(!this.contentVisible)return;const yr=this.ctx;this.save();const Rr=this._getPattern(gr);yr.fillStyle=Rr.getPattern(yr,this,(0,Te.getCurrentTransformInverse)(yr),Re.PathType.SHADING);const Ir=(0,Te.getCurrentTransformInverse)(yr);if(Ir){const{width:Qr,height:Vr}=yr.canvas,[Wr,mn,gn,fn]=Ce.Util.getAxialAlignedBoundingBox([0,0,Qr,Vr],Ir);this.ctx.fillRect(Wr,mn,gn-Wr,fn-mn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,Ce.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,Ce.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(gr,yr){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(gr)&&gr.length===6&&this.transform(...gr),this.baseTransform=(0,Te.getCurrentTransform)(this.ctx),yr)){const Rr=yr[2]-yr[0],Ir=yr[3]-yr[1];this.ctx.rect(yr[0],yr[1],Rr,Ir),this.current.updateRectMinMax((0,Te.getCurrentTransform)(this.ctx),yr),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(gr){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const yr=this.ctx;gr.isolated||(0,Ce.info)("TODO: Support non-isolated groups."),gr.knockout&&(0,Ce.warn)("Knockout groups not supported.");const Rr=(0,Te.getCurrentTransform)(yr);if(gr.matrix&&yr.transform(...gr.matrix),!gr.bbox)throw new Error("Bounding box is required.");let Ir=Ce.Util.getAxialAlignedBoundingBox(gr.bbox,(0,Te.getCurrentTransform)(yr));const Qr=[0,0,yr.canvas.width,yr.canvas.height];Ir=Ce.Util.intersect(Ir,Qr)||[0,0,0,0];const Vr=Math.floor(Ir[0]),Wr=Math.floor(Ir[1]);let mn=Math.max(Math.ceil(Ir[2])-Vr,1),gn=Math.max(Math.ceil(Ir[3])-Wr,1),fn=1,Fn=1;mn>Me&&(fn=mn/Me,mn=Me),gn>Me&&(Fn=gn/Me,gn=Me),this.current.startNewPathAndClipBox([0,0,mn,gn]);let wn="groupAt"+this.groupLevel;gr.smask&&(wn+="_smask_"+this.smaskCounter++%2);const Yr=this.cachedCanvases.getCanvas(wn,mn,gn),Rn=Yr.context;Rn.scale(1/fn,1/Fn),Rn.translate(-Vr,-Wr),Rn.transform(...Rr),gr.smask?this.smaskStack.push({canvas:Yr.canvas,context:Rn,offsetX:Vr,offsetY:Wr,scaleX:fn,scaleY:Fn,subtype:gr.smask.subtype,backdrop:gr.smask.backdrop,transferMap:gr.smask.transferMap||null,startTransformInverse:null}):(yr.setTransform(1,0,0,1,0,0),yr.translate(Vr,Wr),yr.scale(fn,Fn),yr.save()),ur(yr,Rn),this.ctx=Rn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(yr),this.groupLevel++}endGroup(gr){if(!this.contentVisible)return;this.groupLevel--;const yr=this.ctx,Rr=this.groupStack.pop();if(this.ctx=Rr,this.ctx.imageSmoothingEnabled=!1,gr.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Ir=(0,Te.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Ir);const Qr=Ce.Util.getAxialAlignedBoundingBox([0,0,yr.canvas.width,yr.canvas.height],Ir);this.ctx.drawImage(yr.canvas,0,0),this.ctx.restore(),this.compose(Qr)}}beginAnnotation(gr,yr,Rr,Ir,Qr){if(qn(this,jr,Xf).call(this),fr(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(yr)&&yr.length===4){const Vr=yr[2]-yr[0],Wr=yr[3]-yr[1];if(Qr&&this.annotationCanvasMap){Rr=Rr.slice(),Rr[4]-=yr[0],Rr[5]-=yr[1],yr=yr.slice(),yr[0]=yr[1]=0,yr[2]=Vr,yr[3]=Wr;const[mn,gn]=Ce.Util.singularValueDecompose2dScale((0,Te.getCurrentTransform)(this.ctx)),{viewportScale:fn}=this,Fn=Math.ceil(Vr*this.outputScaleX*fn),wn=Math.ceil(Wr*this.outputScaleY*fn);this.annotationCanvas=this.canvasFactory.create(Fn,wn);const{canvas:Yr,context:Rn}=this.annotationCanvas;this.annotationCanvasMap.set(gr,Yr),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Rn,this.ctx.save(),this.ctx.setTransform(mn,0,0,-gn,0,Wr*gn),fr(this.ctx)}else fr(this.ctx),this.ctx.rect(yr[0],yr[1],Vr,Wr),this.ctx.clip(),this.endPath()}this.current=new lr(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Rr),this.transform(...Ir)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),qn(this,jr,Yf).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(gr){if(!this.contentVisible)return;const yr=gr.count;gr=this.getObject(gr.data,gr),gr.count=yr;const Rr=this.ctx,Ir=this.processingType3;if(Ir&&(Ir.compiled===void 0&&(Ir.compiled=Ye(gr)),Ir.compiled)){Ir.compiled(Rr);return}const Qr=this._createMaskCanvas(gr),Vr=Qr.canvas;Rr.save(),Rr.setTransform(1,0,0,1,0,0),Rr.drawImage(Vr,Qr.offsetX,Qr.offsetY),Rr.restore(),this.compose()}paintImageMaskXObjectRepeat(gr,yr,Rr=0,Ir=0,Qr,Vr){if(!this.contentVisible)return;gr=this.getObject(gr.data,gr);const Wr=this.ctx;Wr.save();const mn=(0,Te.getCurrentTransform)(Wr);Wr.transform(yr,Rr,Ir,Qr,0,0);const gn=this._createMaskCanvas(gr);Wr.setTransform(1,0,0,1,gn.offsetX-mn[4],gn.offsetY-mn[5]);for(let fn=0,Fn=Vr.length;fn<Fn;fn+=2){const wn=Ce.Util.transform(mn,[yr,Rr,Ir,Qr,Vr[fn],Vr[fn+1]]),[Yr,Rn]=Ce.Util.applyTransform([0,0],wn);Wr.drawImage(gn.canvas,Yr,Rn)}Wr.restore(),this.compose()}paintImageMaskXObjectGroup(gr){if(!this.contentVisible)return;const yr=this.ctx,Rr=this.current.fillColor,Ir=this.current.patternFill;for(const Qr of gr){const{data:Vr,width:Wr,height:mn,transform:gn}=Qr,fn=this.cachedCanvases.getCanvas("maskCanvas",Wr,mn),Fn=fn.context;Fn.save();const wn=this.getObject(Vr,Qr);hr(Fn,wn),Fn.globalCompositeOperation="source-in",Fn.fillStyle=Ir?Rr.getPattern(Fn,this,(0,Te.getCurrentTransformInverse)(yr),Re.PathType.FILL):Rr,Fn.fillRect(0,0,Wr,mn),Fn.restore(),yr.save(),yr.transform(...gn),yr.scale(1,-1),Je(yr,fn.canvas,0,0,Wr,mn,0,-1,1,1),yr.restore()}this.compose()}paintImageXObject(gr){if(!this.contentVisible)return;const yr=this.getObject(gr);if(!yr){(0,Ce.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(yr)}paintImageXObjectRepeat(gr,yr,Rr,Ir){if(!this.contentVisible)return;const Qr=this.getObject(gr);if(!Qr){(0,Ce.warn)("Dependent image isn't ready yet");return}const Vr=Qr.width,Wr=Qr.height,mn=[];for(let gn=0,fn=Ir.length;gn<fn;gn+=2)mn.push({transform:[yr,0,0,Rr,Ir[gn],Ir[gn+1]],x:0,y:0,w:Vr,h:Wr});this.paintInlineImageXObjectGroup(Qr,mn)}applyTransferMapsToCanvas(gr){return this.current.transferMaps!=="none"&&(gr.filter=this.current.transferMaps,gr.drawImage(gr.canvas,0,0),gr.filter="none"),gr.canvas}applyTransferMapsToBitmap(gr){if(this.current.transferMaps==="none")return gr.bitmap;const{bitmap:yr,width:Rr,height:Ir}=gr,Qr=this.cachedCanvases.getCanvas("inlineImage",Rr,Ir),Vr=Qr.context;return Vr.filter=this.current.transferMaps,Vr.drawImage(yr,0,0),Vr.filter="none",Qr.canvas}paintInlineImageXObject(gr){if(!this.contentVisible)return;const yr=gr.width,Rr=gr.height,Ir=this.ctx;if(this.save(),!Ce.isNodeJS){const{filter:Wr}=Ir;Wr!=="none"&&Wr!==""&&(Ir.filter="none")}Ir.scale(1/yr,-1/Rr);let Qr;if(gr.bitmap)Qr=this.applyTransferMapsToBitmap(gr);else if(typeof HTMLElement=="function"&&gr instanceof HTMLElement||!gr.data)Qr=gr;else{const mn=this.cachedCanvases.getCanvas("inlineImage",yr,Rr).context;cr(mn,gr),Qr=this.applyTransferMapsToCanvas(mn)}const Vr=this._scaleImage(Qr,(0,Te.getCurrentTransformInverse)(Ir));Ir.imageSmoothingEnabled=Ar((0,Te.getCurrentTransform)(Ir),gr.interpolate),Je(Ir,Vr.img,0,0,Vr.paintWidth,Vr.paintHeight,0,-Rr,yr,Rr),this.compose(),this.restore()}paintInlineImageXObjectGroup(gr,yr){if(!this.contentVisible)return;const Rr=this.ctx;let Ir;if(gr.bitmap)Ir=gr.bitmap;else{const Qr=gr.width,Vr=gr.height,mn=this.cachedCanvases.getCanvas("inlineImage",Qr,Vr).context;cr(mn,gr),Ir=this.applyTransferMapsToCanvas(mn)}for(const Qr of yr)Rr.save(),Rr.transform(...Qr.transform),Rr.scale(1,-1),Je(Rr,Ir,Qr.x,Qr.y,Qr.w,Qr.h,0,-1,1,1),Rr.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(gr){}markPointProps(gr,yr){}beginMarkedContent(gr){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(gr,yr){gr==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(yr)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(gr){const yr=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(gr);const Rr=this.ctx;this.pendingClip&&(yr||(this.pendingClip===Fr?Rr.clip("evenodd"):Rr.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Rr.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const gr=(0,Te.getCurrentTransform)(this.ctx);if(gr[1]===0&&gr[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(gr[0]),Math.abs(gr[3]));else{const yr=Math.abs(gr[0]*gr[3]-gr[2]*gr[1]),Rr=Math.hypot(gr[0],gr[2]),Ir=Math.hypot(gr[1],gr[3]);this._cachedGetSinglePixelWidth=Math.max(Rr,Ir)/yr}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:gr}=this.current,{a:yr,b:Rr,c:Ir,d:Qr}=this.ctx.getTransform();let Vr,Wr;if(Rr===0&&Ir===0){const mn=Math.abs(yr),gn=Math.abs(Qr);if(mn===gn)if(gr===0)Vr=Wr=1/mn;else{const fn=mn*gr;Vr=Wr=fn<1?1/fn:1}else if(gr===0)Vr=1/mn,Wr=1/gn;else{const fn=mn*gr,Fn=gn*gr;Vr=fn<1?1/fn:1,Wr=Fn<1?1/Fn:1}}else{const mn=Math.abs(yr*Qr-Rr*Ir),gn=Math.hypot(yr,Rr),fn=Math.hypot(Ir,Qr);if(gr===0)Vr=fn/mn,Wr=gn/mn;else{const Fn=gr*mn;Vr=fn>Fn?fn/Fn:1,Wr=gn>Fn?gn/Fn:1}}this._cachedScaleForStroking[0]=Vr,this._cachedScaleForStroking[1]=Wr}return this._cachedScaleForStroking}rescaleAndStroke(gr){const{ctx:yr}=this,{lineWidth:Rr}=this.current,[Ir,Qr]=this.getScaleForStroking();if(yr.lineWidth=Rr||1,Ir===1&&Qr===1){yr.stroke();return}const Vr=yr.getLineDash();if(gr&&yr.save(),yr.scale(Ir,Qr),Vr.length>0){const Wr=Math.max(Ir,Qr);yr.setLineDash(Vr.map(mn=>mn/Wr)),yr.lineDashOffset/=Wr}yr.stroke(),gr&&yr.restore()}isContentVisible(){for(let gr=this.markedContentStack.length-1;gr>=0;gr--)if(!this.markedContentStack[gr].visible)return!1;return!0}};jr=new WeakSet,Xf=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Yf=function(){if(this.pageColors){const gr=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(gr!=="none"){const yr=this.ctx.filter;this.ctx.filter=gr,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=yr}}};let Er=Mr;t.CanvasGraphics=Er;for(const _r in Ce.OPS)Er.prototype[_r]!==void 0&&(Er.prototype[Ce.OPS[_r]]=Er.prototype[_r])}),((Ee,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=qe;var Ce=n(1),Te=n(6);const Re={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};t.PathType=Re;function Be(Ye,lr){if(!lr)return;const cr=lr[2]-lr[0],hr=lr[3]-lr[1],ur=new Path2D;ur.rect(lr[0],lr[1],cr,hr),Ye.clip(ur)}class Ue{constructor(){this.constructor===Ue&&(0,Ce.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,Ce.unreachable)("Abstract method `getPattern` called.")}}class Oe extends Ue{constructor(lr){super(),this._type=lr[1],this._bbox=lr[2],this._colorStops=lr[3],this._p0=lr[4],this._p1=lr[5],this._r0=lr[6],this._r1=lr[7],this.matrix=null}_createGradient(lr){let cr;this._type==="axial"?cr=lr.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(cr=lr.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const hr of this._colorStops)cr.addColorStop(hr[0],hr[1]);return cr}getPattern(lr,cr,hr,ur){let fr;if(ur===Re.STROKE||ur===Re.FILL){const er=cr.current.getClippedPathBoundingBox(ur,(0,Te.getCurrentTransform)(lr))||[0,0,0,0],nr=Math.ceil(er[2]-er[0])||1,ir=Math.ceil(er[3]-er[1])||1,mr=cr.cachedCanvases.getCanvas("pattern",nr,ir,!0),$e=mr.context;$e.clearRect(0,0,$e.canvas.width,$e.canvas.height),$e.beginPath(),$e.rect(0,0,$e.canvas.width,$e.canvas.height),$e.translate(-er[0],-er[1]),hr=Ce.Util.transform(hr,[1,0,0,1,er[0],er[1]]),$e.transform(...cr.baseTransform),this.matrix&&$e.transform(...this.matrix),Be($e,this._bbox),$e.fillStyle=this._createGradient($e),$e.fill(),fr=lr.createPattern(mr.canvas,"no-repeat");const Ar=new DOMMatrix(hr);fr.setTransform(Ar)}else Be(lr,this._bbox),fr=this._createGradient(lr);return fr}}function Me(Ye,lr,cr,hr,ur,fr,er,nr){const ir=lr.coords,mr=lr.colors,$e=Ye.data,Ar=Ye.width*4;let or;ir[cr+1]>ir[hr+1]&&(or=cr,cr=hr,hr=or,or=fr,fr=er,er=or),ir[hr+1]>ir[ur+1]&&(or=hr,hr=ur,ur=or,or=er,er=nr,nr=or),ir[cr+1]>ir[hr+1]&&(or=cr,cr=hr,hr=or,or=fr,fr=er,er=or);const Tr=(ir[cr]+lr.offsetX)*lr.scaleX,Ur=(ir[cr+1]+lr.offsetY)*lr.scaleY,Fr=(ir[hr]+lr.offsetX)*lr.scaleX,Er=(ir[hr+1]+lr.offsetY)*lr.scaleY,jr=(ir[ur]+lr.offsetX)*lr.scaleX,Nr=(ir[ur+1]+lr.offsetY)*lr.scaleY;if(Ur>=Nr)return;const Br=mr[fr],Mr=mr[fr+1],_r=mr[fr+2],gr=mr[er],yr=mr[er+1],Rr=mr[er+2],Ir=mr[nr],Qr=mr[nr+1],Vr=mr[nr+2],Wr=Math.round(Ur),mn=Math.round(Nr);let gn,fn,Fn,wn,Yr,Rn,bn,zr;for(let $r=Wr;$r<=mn;$r++){if($r<Er){const Xn=$r<Ur?0:(Ur-$r)/(Ur-Er);gn=Tr-(Tr-Fr)*Xn,fn=Br-(Br-gr)*Xn,Fn=Mr-(Mr-yr)*Xn,wn=_r-(_r-Rr)*Xn}else{let Xn;$r>Nr?Xn=1:Er===Nr?Xn=0:Xn=(Er-$r)/(Er-Nr),gn=Fr-(Fr-jr)*Xn,fn=gr-(gr-Ir)*Xn,Fn=yr-(yr-Qr)*Xn,wn=Rr-(Rr-Vr)*Xn}let Bn;$r<Ur?Bn=0:$r>Nr?Bn=1:Bn=(Ur-$r)/(Ur-Nr),Yr=Tr-(Tr-jr)*Bn,Rn=Br-(Br-Ir)*Bn,bn=Mr-(Mr-Qr)*Bn,zr=_r-(_r-Vr)*Bn;const Pn=Math.round(Math.min(gn,Yr)),jn=Math.round(Math.max(gn,Yr));let Kn=Ar*$r+Pn*4;for(let Xn=Pn;Xn<=jn;Xn++)Bn=(gn-Xn)/(gn-Yr),Bn<0?Bn=0:Bn>1&&(Bn=1),$e[Kn++]=fn-(fn-Rn)*Bn|0,$e[Kn++]=Fn-(Fn-bn)*Bn|0,$e[Kn++]=wn-(wn-zr)*Bn|0,$e[Kn++]=255}}function Qe(Ye,lr,cr){const hr=lr.coords,ur=lr.colors;let fr,er;switch(lr.type){case"lattice":const nr=lr.verticesPerRow,ir=Math.floor(hr.length/nr)-1,mr=nr-1;for(fr=0;fr<ir;fr++){let $e=fr*nr;for(let Ar=0;Ar<mr;Ar++,$e++)Me(Ye,cr,hr[$e],hr[$e+1],hr[$e+nr],ur[$e],ur[$e+1],ur[$e+nr]),Me(Ye,cr,hr[$e+nr+1],hr[$e+1],hr[$e+nr],ur[$e+nr+1],ur[$e+1],ur[$e+nr])}break;case"triangles":for(fr=0,er=hr.length;fr<er;fr+=3)Me(Ye,cr,hr[fr],hr[fr+1],hr[fr+2],ur[fr],ur[fr+1],ur[fr+2]);break;default:throw new Error("illegal figure")}}class Ke extends Ue{constructor(lr){super(),this._coords=lr[2],this._colors=lr[3],this._figures=lr[4],this._bounds=lr[5],this._bbox=lr[7],this._background=lr[8],this.matrix=null}_createMeshCanvas(lr,cr,hr){const nr=Math.floor(this._bounds[0]),ir=Math.floor(this._bounds[1]),mr=Math.ceil(this._bounds[2])-nr,$e=Math.ceil(this._bounds[3])-ir,Ar=Math.min(Math.ceil(Math.abs(mr*lr[0]*1.1)),3e3),or=Math.min(Math.ceil(Math.abs($e*lr[1]*1.1)),3e3),Tr=mr/Ar,Ur=$e/or,Fr={coords:this._coords,colors:this._colors,offsetX:-nr,offsetY:-ir,scaleX:1/Tr,scaleY:1/Ur},Er=Ar+4,jr=or+4,Nr=hr.getCanvas("mesh",Er,jr,!1),Br=Nr.context,Mr=Br.createImageData(Ar,or);if(cr){const gr=Mr.data;for(let yr=0,Rr=gr.length;yr<Rr;yr+=4)gr[yr]=cr[0],gr[yr+1]=cr[1],gr[yr+2]=cr[2],gr[yr+3]=255}for(const gr of this._figures)Qe(Mr,gr,Fr);return Br.putImageData(Mr,2,2),{canvas:Nr.canvas,offsetX:nr-2*Tr,offsetY:ir-2*Ur,scaleX:Tr,scaleY:Ur}}getPattern(lr,cr,hr,ur){Be(lr,this._bbox);let fr;if(ur===Re.SHADING)fr=Ce.Util.singularValueDecompose2dScale((0,Te.getCurrentTransform)(lr));else if(fr=Ce.Util.singularValueDecompose2dScale(cr.baseTransform),this.matrix){const nr=Ce.Util.singularValueDecompose2dScale(this.matrix);fr=[fr[0]*nr[0],fr[1]*nr[1]]}const er=this._createMeshCanvas(fr,ur===Re.SHADING?null:this._background,cr.cachedCanvases);return ur!==Re.SHADING&&(lr.setTransform(...cr.baseTransform),this.matrix&&lr.transform(...this.matrix)),lr.translate(er.offsetX,er.offsetY),lr.scale(er.scaleX,er.scaleY),lr.createPattern(er.canvas,"no-repeat")}}class Ge extends Ue{getPattern(){return"hotpink"}}function qe(Ye){switch(Ye[0]){case"RadialAxial":return new Oe(Ye);case"Mesh":return new Ke(Ye);case"Dummy":return new Ge}throw new Error(`Unknown IR type: ${Ye[0]}`)}const Xe={COLORED:1,UNCOLORED:2},Je=class Je{constructor(lr,cr,hr,ur,fr){this.operatorList=lr[2],this.matrix=lr[3]||[1,0,0,1,0,0],this.bbox=lr[4],this.xstep=lr[5],this.ystep=lr[6],this.paintType=lr[7],this.tilingType=lr[8],this.color=cr,this.ctx=hr,this.canvasGraphicsFactory=ur,this.baseTransform=fr}createPatternCanvas(lr){const cr=this.operatorList,hr=this.bbox,ur=this.xstep,fr=this.ystep,er=this.paintType,nr=this.tilingType,ir=this.color,mr=this.canvasGraphicsFactory;(0,Ce.info)("TilingType: "+nr);const $e=hr[0],Ar=hr[1],or=hr[2],Tr=hr[3],Ur=Ce.Util.singularValueDecompose2dScale(this.matrix),Fr=Ce.Util.singularValueDecompose2dScale(this.baseTransform),Er=[Ur[0]*Fr[0],Ur[1]*Fr[1]],jr=this.getSizeAndScale(ur,this.ctx.canvas.width,Er[0]),Nr=this.getSizeAndScale(fr,this.ctx.canvas.height,Er[1]),Br=lr.cachedCanvases.getCanvas("pattern",jr.size,Nr.size,!0),Mr=Br.context,_r=mr.createCanvasGraphics(Mr);_r.groupLevel=lr.groupLevel,this.setFillAndStrokeStyleToContext(_r,er,ir);let gr=$e,yr=Ar,Rr=or,Ir=Tr;return $e<0&&(gr=0,Rr+=Math.abs($e)),Ar<0&&(yr=0,Ir+=Math.abs(Ar)),Mr.translate(-(jr.scale*gr),-(Nr.scale*yr)),_r.transform(jr.scale,0,0,Nr.scale,0,0),Mr.save(),this.clipBbox(_r,gr,yr,Rr,Ir),_r.baseTransform=(0,Te.getCurrentTransform)(_r.ctx),_r.executeOperatorList(cr),_r.endDrawing(),{canvas:Br.canvas,scaleX:jr.scale,scaleY:Nr.scale,offsetX:gr,offsetY:yr}}getSizeAndScale(lr,cr,hr){lr=Math.abs(lr);const ur=Math.max(Je.MAX_PATTERN_SIZE,cr);let fr=Math.ceil(lr*hr);return fr>=ur?fr=ur:hr=fr/lr,{scale:hr,size:fr}}clipBbox(lr,cr,hr,ur,fr){const er=ur-cr,nr=fr-hr;lr.ctx.rect(cr,hr,er,nr),lr.current.updateRectMinMax((0,Te.getCurrentTransform)(lr.ctx),[cr,hr,ur,fr]),lr.clip(),lr.endPath()}setFillAndStrokeStyleToContext(lr,cr,hr){const ur=lr.ctx,fr=lr.current;switch(cr){case Xe.COLORED:const er=this.ctx;ur.fillStyle=er.fillStyle,ur.strokeStyle=er.strokeStyle,fr.fillColor=er.fillStyle,fr.strokeColor=er.strokeStyle;break;case Xe.UNCOLORED:const nr=Ce.Util.makeHexColor(hr[0],hr[1],hr[2]);ur.fillStyle=nr,ur.strokeStyle=nr,fr.fillColor=nr,fr.strokeColor=nr;break;default:throw new Ce.FormatError(`Unsupported paint type: ${cr}`)}}getPattern(lr,cr,hr,ur){let fr=hr;ur!==Re.SHADING&&(fr=Ce.Util.transform(fr,cr.baseTransform),this.matrix&&(fr=Ce.Util.transform(fr,this.matrix)));const er=this.createPatternCanvas(cr);let nr=new DOMMatrix(fr);nr=nr.translate(er.offsetX,er.offsetY),nr=nr.scale(1/er.scaleX,1/er.scaleY);const ir=lr.createPattern(er.canvas,"repeat");return ir.setTransform(nr),ir}};zi(Je,"MAX_PATTERN_SIZE",3e3);let tr=Je;t.TilingPattern=tr}),((Ee,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlackAndWhiteToRGBA=Re,t.convertToRGBA=Te,t.grayToRGBA=Ue;var Ce=n(1);function Te(Oe){switch(Oe.kind){case Ce.ImageKind.GRAYSCALE_1BPP:return Re(Oe);case Ce.ImageKind.RGB_24BPP:return Be(Oe)}return null}function Re({src:Oe,srcPos:Me=0,dest:Qe,width:Ke,height:Ge,nonBlackColor:qe=4294967295,inverseDecode:Xe=!1}){const tr=Ce.FeatureTest.isLittleEndian?4278190080:255,[Je,Ye]=Xe?[qe,tr]:[tr,qe],lr=Ke>>3,cr=Ke&7,hr=Oe.length;Qe=new Uint32Array(Qe.buffer);let ur=0;for(let fr=0;fr<Ge;fr++){for(const nr=Me+lr;Me<nr;Me++){const ir=Me<hr?Oe[Me]:255;Qe[ur++]=ir&128?Ye:Je,Qe[ur++]=ir&64?Ye:Je,Qe[ur++]=ir&32?Ye:Je,Qe[ur++]=ir&16?Ye:Je,Qe[ur++]=ir&8?Ye:Je,Qe[ur++]=ir&4?Ye:Je,Qe[ur++]=ir&2?Ye:Je,Qe[ur++]=ir&1?Ye:Je}if(cr===0)continue;const er=Me<hr?Oe[Me++]:255;for(let nr=0;nr<cr;nr++)Qe[ur++]=er&1<<7-nr?Ye:Je}return{srcPos:Me,destPos:ur}}function Be({src:Oe,srcPos:Me=0,dest:Qe,destPos:Ke=0,width:Ge,height:qe}){let Xe=0;const tr=Oe.length>>2,Je=new Uint32Array(Oe.buffer,Me,tr);if(Ce.FeatureTest.isLittleEndian){for(;Xe<tr-2;Xe+=3,Ke+=4){const Ye=Je[Xe],lr=Je[Xe+1],cr=Je[Xe+2];Qe[Ke]=Ye|4278190080,Qe[Ke+1]=Ye>>>24|lr<<8|4278190080,Qe[Ke+2]=lr>>>16|cr<<16|4278190080,Qe[Ke+3]=cr>>>8|4278190080}for(let Ye=Xe*4,lr=Oe.length;Ye<lr;Ye+=3)Qe[Ke++]=Oe[Ye]|Oe[Ye+1]<<8|Oe[Ye+2]<<16|4278190080}else{for(;Xe<tr-2;Xe+=3,Ke+=4){const Ye=Je[Xe],lr=Je[Xe+1],cr=Je[Xe+2];Qe[Ke]=Ye|255,Qe[Ke+1]=Ye<<24|lr>>>8|255,Qe[Ke+2]=lr<<16|cr>>>16|255,Qe[Ke+3]=cr<<8|255}for(let Ye=Xe*4,lr=Oe.length;Ye<lr;Ye+=3)Qe[Ke++]=Oe[Ye]<<24|Oe[Ye+1]<<16|Oe[Ye+2]<<8|255}return{srcPos:Me,destPos:Ke}}function Ue(Oe,Me){if(Ce.FeatureTest.isLittleEndian)for(let Qe=0,Ke=Oe.length;Qe<Ke;Qe++)Me[Qe]=Oe[Qe]*65793|4278190080;else for(let Qe=0,Ke=Oe.length;Qe<Ke;Qe++)Me[Qe]=Oe[Qe]*16843008|255}}),((Ee,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=null,n.workerSrc=""}),((Ee,t,n)=>{var Oe,Em,bm,_d;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var Ce=n(1);const Te={DATA:1,ERROR:2},Re={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Be(Ge){switch(Ge instanceof Error||typeof Ge=="object"&&Ge!==null||(0,Ce.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Ge.name){case"AbortException":return new Ce.AbortException(Ge.message);case"MissingPDFException":return new Ce.MissingPDFException(Ge.message);case"PasswordException":return new Ce.PasswordException(Ge.message,Ge.code);case"UnexpectedResponseException":return new Ce.UnexpectedResponseException(Ge.message,Ge.status);case"UnknownErrorException":return new Ce.UnknownErrorException(Ge.message,Ge.details);default:return new Ce.UnknownErrorException(Ge.message,Ge.toString())}}class Ue{constructor(qe,Xe,tr){Jn(this,Oe);this.sourceName=qe,this.targetName=Xe,this.comObj=tr,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Je=>{const Ye=Je.data;if(Ye.targetName!==this.sourceName)return;if(Ye.stream){qn(this,Oe,bm).call(this,Ye);return}if(Ye.callback){const cr=Ye.callbackId,hr=this.callbackCapabilities[cr];if(!hr)throw new Error(`Cannot resolve callback ${cr}`);if(delete this.callbackCapabilities[cr],Ye.callback===Te.DATA)hr.resolve(Ye.data);else if(Ye.callback===Te.ERROR)hr.reject(Be(Ye.reason));else throw new Error("Unexpected callback case");return}const lr=this.actionHandler[Ye.action];if(!lr)throw new Error(`Unknown action from worker: ${Ye.action}`);if(Ye.callbackId){const cr=this.sourceName,hr=Ye.sourceName;new Promise(function(ur){ur(lr(Ye.data))}).then(function(ur){tr.postMessage({sourceName:cr,targetName:hr,callback:Te.DATA,callbackId:Ye.callbackId,data:ur})},function(ur){tr.postMessage({sourceName:cr,targetName:hr,callback:Te.ERROR,callbackId:Ye.callbackId,reason:Be(ur)})});return}if(Ye.streamId){qn(this,Oe,Em).call(this,Ye);return}lr(Ye.data)},tr.addEventListener("message",this._onComObjOnMessage)}on(qe,Xe){const tr=this.actionHandler;if(tr[qe])throw new Error(`There is already an actionName called "${qe}"`);tr[qe]=Xe}send(qe,Xe,tr){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:qe,data:Xe},tr)}sendWithPromise(qe,Xe,tr){const Je=this.callbackId++,Ye=new Ce.PromiseCapability;this.callbackCapabilities[Je]=Ye;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:qe,callbackId:Je,data:Xe},tr)}catch(lr){Ye.reject(lr)}return Ye.promise}sendWithStream(qe,Xe,tr,Je){const Ye=this.streamId++,lr=this.sourceName,cr=this.targetName,hr=this.comObj;return new ReadableStream({start:ur=>{const fr=new Ce.PromiseCapability;return this.streamControllers[Ye]={controller:ur,startCall:fr,pullCall:null,cancelCall:null,isClosed:!1},hr.postMessage({sourceName:lr,targetName:cr,action:qe,streamId:Ye,data:Xe,desiredSize:ur.desiredSize},Je),fr.promise},pull:ur=>{const fr=new Ce.PromiseCapability;return this.streamControllers[Ye].pullCall=fr,hr.postMessage({sourceName:lr,targetName:cr,stream:Re.PULL,streamId:Ye,desiredSize:ur.desiredSize}),fr.promise},cancel:ur=>{(0,Ce.assert)(ur instanceof Error,"cancel must have a valid reason");const fr=new Ce.PromiseCapability;return this.streamControllers[Ye].cancelCall=fr,this.streamControllers[Ye].isClosed=!0,hr.postMessage({sourceName:lr,targetName:cr,stream:Re.CANCEL,streamId:Ye,reason:Be(ur)}),fr.promise}},tr)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Oe=new WeakSet,Em=function(qe){const Xe=qe.streamId,tr=this.sourceName,Je=qe.sourceName,Ye=this.comObj,lr=this,cr=this.actionHandler[qe.action],hr={enqueue(ur,fr=1,er){if(this.isCancelled)return;const nr=this.desiredSize;this.desiredSize-=fr,nr>0&&this.desiredSize<=0&&(this.sinkCapability=new Ce.PromiseCapability,this.ready=this.sinkCapability.promise),Ye.postMessage({sourceName:tr,targetName:Je,stream:Re.ENQUEUE,streamId:Xe,chunk:ur},er)},close(){this.isCancelled||(this.isCancelled=!0,Ye.postMessage({sourceName:tr,targetName:Je,stream:Re.CLOSE,streamId:Xe}),delete lr.streamSinks[Xe])},error(ur){(0,Ce.assert)(ur instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Ye.postMessage({sourceName:tr,targetName:Je,stream:Re.ERROR,streamId:Xe,reason:Be(ur)}))},sinkCapability:new Ce.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:qe.desiredSize,ready:null};hr.sinkCapability.resolve(),hr.ready=hr.sinkCapability.promise,this.streamSinks[Xe]=hr,new Promise(function(ur){ur(cr(qe.data,hr))}).then(function(){Ye.postMessage({sourceName:tr,targetName:Je,stream:Re.START_COMPLETE,streamId:Xe,success:!0})},function(ur){Ye.postMessage({sourceName:tr,targetName:Je,stream:Re.START_COMPLETE,streamId:Xe,reason:Be(ur)})})},bm=function(qe){const Xe=qe.streamId,tr=this.sourceName,Je=qe.sourceName,Ye=this.comObj,lr=this.streamControllers[Xe],cr=this.streamSinks[Xe];switch(qe.stream){case Re.START_COMPLETE:qe.success?lr.startCall.resolve():lr.startCall.reject(Be(qe.reason));break;case Re.PULL_COMPLETE:qe.success?lr.pullCall.resolve():lr.pullCall.reject(Be(qe.reason));break;case Re.PULL:if(!cr){Ye.postMessage({sourceName:tr,targetName:Je,stream:Re.PULL_COMPLETE,streamId:Xe,success:!0});break}cr.desiredSize<=0&&qe.desiredSize>0&&cr.sinkCapability.resolve(),cr.desiredSize=qe.desiredSize,new Promise(function(hr){var ur;hr((ur=cr.onPull)==null?void 0:ur.call(cr))}).then(function(){Ye.postMessage({sourceName:tr,targetName:Je,stream:Re.PULL_COMPLETE,streamId:Xe,success:!0})},function(hr){Ye.postMessage({sourceName:tr,targetName:Je,stream:Re.PULL_COMPLETE,streamId:Xe,reason:Be(hr)})});break;case Re.ENQUEUE:if((0,Ce.assert)(lr,"enqueue should have stream controller"),lr.isClosed)break;lr.controller.enqueue(qe.chunk);break;case Re.CLOSE:if((0,Ce.assert)(lr,"close should have stream controller"),lr.isClosed)break;lr.isClosed=!0,lr.controller.close(),qn(this,Oe,_d).call(this,lr,Xe);break;case Re.ERROR:(0,Ce.assert)(lr,"error should have stream controller"),lr.controller.error(Be(qe.reason)),qn(this,Oe,_d).call(this,lr,Xe);break;case Re.CANCEL_COMPLETE:qe.success?lr.cancelCall.resolve():lr.cancelCall.reject(Be(qe.reason)),qn(this,Oe,_d).call(this,lr,Xe);break;case Re.CANCEL:if(!cr)break;new Promise(function(hr){var ur;hr((ur=cr.onCancel)==null?void 0:ur.call(cr,Be(qe.reason)))}).then(function(){Ye.postMessage({sourceName:tr,targetName:Je,stream:Re.CANCEL_COMPLETE,streamId:Xe,success:!0})},function(hr){Ye.postMessage({sourceName:tr,targetName:Je,stream:Re.CANCEL_COMPLETE,streamId:Xe,reason:Be(hr)})}),cr.sinkCapability.reject(Be(qe.reason)),cr.isCancelled=!0,delete this.streamSinks[Xe];break;default:throw new Error("Unexpected stream case")}},_d=async function(qe,Xe){var tr,Je,Ye;await Promise.allSettled([(tr=qe.startCall)==null?void 0:tr.promise,(Je=qe.pullCall)==null?void 0:Je.promise,(Ye=qe.cancelCall)==null?void 0:Ye.promise]),delete this.streamControllers[Xe]},t.MessageHandler=Ue}),((Ee,t,n)=>{var Re,Be;Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var Ce=n(1);class Te{constructor({parsedData:Oe,rawData:Me}){Jn(this,Re);Jn(this,Be);ti(this,Re,Oe),ti(this,Be,Me)}getRaw(){return Lr(this,Be)}get(Oe){return Lr(this,Re).get(Oe)??null}getAll(){return(0,Ce.objectFromMap)(Lr(this,Re))}has(Oe){return Lr(this,Re).has(Oe)}}Re=new WeakMap,Be=new WeakMap,t.Metadata=Te}),((Ee,t,n)=>{var Oe,Me,Qe,Ke,Ge,qe,Zf;Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var Ce=n(1),Te=n(8);const Re=Symbol("INTERNAL");class Be{constructor(Je,Ye){Jn(this,Oe,!0);this.name=Je,this.intent=Ye}get visible(){return Lr(this,Oe)}_setVisible(Je,Ye){Je!==Re&&(0,Ce.unreachable)("Internal method `_setVisible` called."),ti(this,Oe,Ye)}}Oe=new WeakMap;class Ue{constructor(Je){Jn(this,qe);Jn(this,Me,null);Jn(this,Qe,new Map);Jn(this,Ke,null);Jn(this,Ge,null);if(this.name=null,this.creator=null,Je!==null){this.name=Je.name,this.creator=Je.creator,ti(this,Ge,Je.order);for(const Ye of Je.groups)Lr(this,Qe).set(Ye.id,new Be(Ye.name,Ye.intent));if(Je.baseState==="OFF")for(const Ye of Lr(this,Qe).values())Ye._setVisible(Re,!1);for(const Ye of Je.on)Lr(this,Qe).get(Ye)._setVisible(Re,!0);for(const Ye of Je.off)Lr(this,Qe).get(Ye)._setVisible(Re,!1);ti(this,Ke,this.getHash())}}isVisible(Je){if(Lr(this,Qe).size===0)return!0;if(!Je)return(0,Ce.warn)("Optional content group not defined."),!0;if(Je.type==="OCG")return Lr(this,Qe).has(Je.id)?Lr(this,Qe).get(Je.id).visible:((0,Ce.warn)(`Optional content group not found: ${Je.id}`),!0);if(Je.type==="OCMD"){if(Je.expression)return qn(this,qe,Zf).call(this,Je.expression);if(!Je.policy||Je.policy==="AnyOn"){for(const Ye of Je.ids){if(!Lr(this,Qe).has(Ye))return(0,Ce.warn)(`Optional content group not found: ${Ye}`),!0;if(Lr(this,Qe).get(Ye).visible)return!0}return!1}else if(Je.policy==="AllOn"){for(const Ye of Je.ids){if(!Lr(this,Qe).has(Ye))return(0,Ce.warn)(`Optional content group not found: ${Ye}`),!0;if(!Lr(this,Qe).get(Ye).visible)return!1}return!0}else if(Je.policy==="AnyOff"){for(const Ye of Je.ids){if(!Lr(this,Qe).has(Ye))return(0,Ce.warn)(`Optional content group not found: ${Ye}`),!0;if(!Lr(this,Qe).get(Ye).visible)return!0}return!1}else if(Je.policy==="AllOff"){for(const Ye of Je.ids){if(!Lr(this,Qe).has(Ye))return(0,Ce.warn)(`Optional content group not found: ${Ye}`),!0;if(Lr(this,Qe).get(Ye).visible)return!1}return!0}return(0,Ce.warn)(`Unknown optional content policy ${Je.policy}.`),!0}return(0,Ce.warn)(`Unknown group type ${Je.type}.`),!0}setVisibility(Je,Ye=!0){if(!Lr(this,Qe).has(Je)){(0,Ce.warn)(`Optional content group not found: ${Je}`);return}Lr(this,Qe).get(Je)._setVisible(Re,!!Ye),ti(this,Me,null)}get hasInitialVisibility(){return Lr(this,Ke)===null||this.getHash()===Lr(this,Ke)}getOrder(){return Lr(this,Qe).size?Lr(this,Ge)?Lr(this,Ge).slice():[...Lr(this,Qe).keys()]:null}getGroups(){return Lr(this,Qe).size>0?(0,Ce.objectFromMap)(Lr(this,Qe)):null}getGroup(Je){return Lr(this,Qe).get(Je)||null}getHash(){if(Lr(this,Me)!==null)return Lr(this,Me);const Je=new Te.MurmurHash3_64;for(const[Ye,lr]of Lr(this,Qe))Je.update(`${Ye}:${lr.visible}`);return ti(this,Me,Je.hexdigest())}}Me=new WeakMap,Qe=new WeakMap,Ke=new WeakMap,Ge=new WeakMap,qe=new WeakSet,Zf=function(Je){const Ye=Je.length;if(Ye<2)return!0;const lr=Je[0];for(let cr=1;cr<Ye;cr++){const hr=Je[cr];let ur;if(Array.isArray(hr))ur=qn(this,qe,Zf).call(this,hr);else if(Lr(this,Qe).has(hr))ur=Lr(this,Qe).get(hr).visible;else return(0,Ce.warn)(`Optional content group not found: ${hr}`),!0;switch(lr){case"And":if(!ur)return!1;break;case"Or":if(ur)return!0;break;case"Not":return!ur;default:return!0}}return lr==="And"},t.OptionalContentConfig=Ue}),((Ee,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var Ce=n(1),Te=n(6);class Re{constructor({length:Me,initialData:Qe,progressiveDone:Ke=!1,contentDispositionFilename:Ge=null,disableRange:qe=!1,disableStream:Xe=!1},tr){if((0,Ce.assert)(tr,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Ke,this._contentDispositionFilename=Ge,(Qe==null?void 0:Qe.length)>0){const Je=Qe instanceof Uint8Array&&Qe.byteLength===Qe.buffer.byteLength?Qe.buffer:new Uint8Array(Qe).buffer;this._queuedChunks.push(Je)}this._pdfDataRangeTransport=tr,this._isStreamingSupported=!Xe,this._isRangeSupported=!qe,this._contentLength=Me,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((Je,Ye)=>{this._onReceiveData({begin:Je,chunk:Ye})}),this._pdfDataRangeTransport.addProgressListener((Je,Ye)=>{this._onProgress({loaded:Je,total:Ye})}),this._pdfDataRangeTransport.addProgressiveReadListener(Je=>{this._onReceiveData({chunk:Je})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:Me,chunk:Qe}){const Ke=Qe instanceof Uint8Array&&Qe.byteLength===Qe.buffer.byteLength?Qe.buffer:new Uint8Array(Qe).buffer;if(Me===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Ke):this._queuedChunks.push(Ke);else{const Ge=this._rangeReaders.some(function(qe){return qe._begin!==Me?!1:(qe._enqueue(Ke),!0)});(0,Ce.assert)(Ge,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var Me;return((Me=this._fullRequestReader)==null?void 0:Me._loaded)??0}_onProgress(Me){var Qe,Ke,Ge,qe;Me.total===void 0?(Ke=(Qe=this._rangeReaders[0])==null?void 0:Qe.onProgress)==null||Ke.call(Qe,{loaded:Me.loaded}):(qe=(Ge=this._fullRequestReader)==null?void 0:Ge.onProgress)==null||qe.call(Ge,{loaded:Me.loaded,total:Me.total})}_onProgressiveDone(){var Me;(Me=this._fullRequestReader)==null||Me.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(Me){const Qe=this._rangeReaders.indexOf(Me);Qe>=0&&this._rangeReaders.splice(Qe,1)}getFullReader(){(0,Ce.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const Me=this._queuedChunks;return this._queuedChunks=null,new Be(this,Me,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(Me,Qe){if(Qe<=this._progressiveDataLength)return null;const Ke=new Ue(this,Me,Qe);return this._pdfDataRangeTransport.requestDataRange(Me,Qe),this._rangeReaders.push(Ke),Ke}cancelAllRequests(Me){var Qe;(Qe=this._fullRequestReader)==null||Qe.cancel(Me);for(const Ke of this._rangeReaders.slice(0))Ke.cancel(Me);this._pdfDataRangeTransport.abort()}}t.PDFDataTransportStream=Re;class Be{constructor(Me,Qe,Ke=!1,Ge=null){this._stream=Me,this._done=Ke||!1,this._filename=(0,Te.isPdfFile)(Ge)?Ge:null,this._queuedChunks=Qe||[],this._loaded=0;for(const qe of this._queuedChunks)this._loaded+=qe.byteLength;this._requests=[],this._headersReady=Promise.resolve(),Me._fullRequestReader=this,this.onProgress=null}_enqueue(Me){this._done||(this._requests.length>0?this._requests.shift().resolve({value:Me,done:!1}):this._queuedChunks.push(Me),this._loaded+=Me.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Me=new Ce.PromiseCapability;return this._requests.push(Me),Me.promise}cancel(Me){this._done=!0;for(const Qe of this._requests)Qe.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Ue{constructor(Me,Qe,Ke){this._stream=Me,this._begin=Qe,this._end=Ke,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(Me){if(!this._done){if(this._requests.length===0)this._queuedChunk=Me;else{this._requests.shift().resolve({value:Me,done:!1});for(const Ke of this._requests)Ke.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const Qe=this._queuedChunk;return this._queuedChunk=null,{value:Qe,done:!1}}if(this._done)return{value:void 0,done:!0};const Me=new Ce.PromiseCapability;return this._requests.push(Me),Me.promise}cancel(Me){this._done=!0;for(const Qe of this._requests)Qe.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}}),((Ee,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var Ce=n(1),Te=n(20);function Re(Ke,Ge,qe){return{method:"GET",headers:Ke,signal:qe.signal,mode:"cors",credentials:Ge?"include":"same-origin",redirect:"follow"}}function Be(Ke){const Ge=new Headers;for(const qe in Ke){const Xe=Ke[qe];Xe!==void 0&&Ge.append(qe,Xe)}return Ge}function Ue(Ke){return Ke instanceof Uint8Array?Ke.buffer:Ke instanceof ArrayBuffer?Ke:((0,Ce.warn)(`getArrayBuffer - unexpected data format: ${Ke}`),new Uint8Array(Ke).buffer)}class Oe{constructor(Ge){this.source=Ge,this.isHttp=/^https?:/i.test(Ge.url),this.httpHeaders=this.isHttp&&Ge.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Ge;return((Ge=this._fullRequestReader)==null?void 0:Ge._loaded)??0}getFullReader(){return(0,Ce.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Me(this),this._fullRequestReader}getRangeReader(Ge,qe){if(qe<=this._progressiveDataLength)return null;const Xe=new Qe(this,Ge,qe);return this._rangeRequestReaders.push(Xe),Xe}cancelAllRequests(Ge){var qe;(qe=this._fullRequestReader)==null||qe.cancel(Ge);for(const Xe of this._rangeRequestReaders.slice(0))Xe.cancel(Ge)}}t.PDFFetchStream=Oe;class Me{constructor(Ge){this._stream=Ge,this._reader=null,this._loaded=0,this._filename=null;const qe=Ge.source;this._withCredentials=qe.withCredentials||!1,this._contentLength=qe.length,this._headersCapability=new Ce.PromiseCapability,this._disableRange=qe.disableRange||!1,this._rangeChunkSize=qe.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!qe.disableStream,this._isRangeSupported=!qe.disableRange,this._headers=Be(this._stream.httpHeaders);const Xe=qe.url;fetch(Xe,Re(this._headers,this._withCredentials,this._abortController)).then(tr=>{if(!(0,Te.validateResponseStatus)(tr.status))throw(0,Te.createResponseStatusError)(tr.status,Xe);this._reader=tr.body.getReader(),this._headersCapability.resolve();const Je=cr=>tr.headers.get(cr),{allowRangeRequests:Ye,suggestedLength:lr}=(0,Te.validateRangeRequestCapabilities)({getResponseHeader:Je,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ye,this._contentLength=lr||this._contentLength,this._filename=(0,Te.extractFilenameFromHeader)(Je),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ce.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Xe;await this._headersCapability.promise;const{value:Ge,done:qe}=await this._reader.read();return qe?{value:Ge,done:qe}:(this._loaded+=Ge.byteLength,(Xe=this.onProgress)==null||Xe.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Ue(Ge),done:!1})}cancel(Ge){var qe;(qe=this._reader)==null||qe.cancel(Ge),this._abortController.abort()}}class Qe{constructor(Ge,qe,Xe){this._stream=Ge,this._reader=null,this._loaded=0;const tr=Ge.source;this._withCredentials=tr.withCredentials||!1,this._readCapability=new Ce.PromiseCapability,this._isStreamingSupported=!tr.disableStream,this._abortController=new AbortController,this._headers=Be(this._stream.httpHeaders),this._headers.append("Range",`bytes=${qe}-${Xe-1}`);const Je=tr.url;fetch(Je,Re(this._headers,this._withCredentials,this._abortController)).then(Ye=>{if(!(0,Te.validateResponseStatus)(Ye.status))throw(0,Te.createResponseStatusError)(Ye.status,Je);this._readCapability.resolve(),this._reader=Ye.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Xe;await this._readCapability.promise;const{value:Ge,done:qe}=await this._reader.read();return qe?{value:Ge,done:qe}:(this._loaded+=Ge.byteLength,(Xe=this.onProgress)==null||Xe.call(this,{loaded:this._loaded}),{value:Ue(Ge),done:!1})}cancel(Ge){var qe;(qe=this._reader)==null||qe.cancel(Ge),this._abortController.abort()}}}),((Ee,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=Oe,t.extractFilenameFromHeader=Ue,t.validateRangeRequestCapabilities=Be,t.validateResponseStatus=Me;var Ce=n(1),Te=n(21),Re=n(6);function Be({getResponseHeader:Qe,isHttp:Ke,rangeChunkSize:Ge,disableRange:qe}){const Xe={allowRangeRequests:!1,suggestedLength:void 0},tr=parseInt(Qe("Content-Length"),10);return!Number.isInteger(tr)||(Xe.suggestedLength=tr,tr<=2*Ge)||qe||!Ke||Qe("Accept-Ranges")!=="bytes"||(Qe("Content-Encoding")||"identity")!=="identity"||(Xe.allowRangeRequests=!0),Xe}function Ue(Qe){const Ke=Qe("Content-Disposition");if(Ke){let Ge=(0,Te.getFilenameFromContentDispositionHeader)(Ke);if(Ge.includes("%"))try{Ge=decodeURIComponent(Ge)}catch{}if((0,Re.isPdfFile)(Ge))return Ge}return null}function Oe(Qe,Ke){return Qe===404||Qe===0&&Ke.startsWith("file:")?new Ce.MissingPDFException('Missing PDF "'+Ke+'".'):new Ce.UnexpectedResponseException(`Unexpected server response (${Qe}) while retrieving PDF "${Ke}".`,Qe)}function Me(Qe){return Qe===200||Qe===206}}),((Ee,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=Te;var Ce=n(1);function Te(Re){let Be=!0,Ue=Oe("filename\\*","i").exec(Re);if(Ue){Ue=Ue[1];let tr=Ge(Ue);return tr=unescape(tr),tr=qe(tr),tr=Xe(tr),Qe(tr)}if(Ue=Ke(Re),Ue){const tr=Xe(Ue);return Qe(tr)}if(Ue=Oe("filename","i").exec(Re),Ue){Ue=Ue[1];let tr=Ge(Ue);return tr=Xe(tr),Qe(tr)}function Oe(tr,Je){return new RegExp("(?:^|;)\\s*"+tr+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Je)}function Me(tr,Je){if(tr){if(!/^[\x00-\xFF]+$/.test(Je))return Je;try{const Ye=new TextDecoder(tr,{fatal:!0}),lr=(0,Ce.stringToBytes)(Je);Je=Ye.decode(lr),Be=!1}catch{}}return Je}function Qe(tr){return Be&&/[\x80-\xff]/.test(tr)&&(tr=Me("utf-8",tr),Be&&(tr=Me("iso-8859-1",tr))),tr}function Ke(tr){const Je=[];let Ye;const lr=Oe("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Ye=lr.exec(tr))!==null;){let[,hr,ur,fr]=Ye;if(hr=parseInt(hr,10),hr in Je){if(hr===0)break;continue}Je[hr]=[ur,fr]}const cr=[];for(let hr=0;hr<Je.length&&hr in Je;++hr){let[ur,fr]=Je[hr];fr=Ge(fr),ur&&(fr=unescape(fr),hr===0&&(fr=qe(fr))),cr.push(fr)}return cr.join("")}function Ge(tr){if(tr.startsWith('"')){const Je=tr.slice(1).split('\\"');for(let Ye=0;Ye<Je.length;++Ye){const lr=Je[Ye].indexOf('"');lr!==-1&&(Je[Ye]=Je[Ye].slice(0,lr),Je.length=Ye+1),Je[Ye]=Je[Ye].replaceAll(/\\(.)/g,"$1")}tr=Je.join('"')}return tr}function qe(tr){const Je=tr.indexOf("'");if(Je===-1)return tr;const Ye=tr.slice(0,Je),cr=tr.slice(Je+1).replace(/^[^']*'/,"");return Me(Ye,cr)}function Xe(tr){return!tr.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(tr)?tr:tr.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Je,Ye,lr,cr){if(lr==="q"||lr==="Q")return cr=cr.replaceAll("_"," "),cr=cr.replaceAll(/=([0-9a-fA-F]{2})/g,function(hr,ur){return String.fromCharCode(parseInt(ur,16))}),Me(Ye,cr);try{cr=atob(cr)}catch{}return Me(Ye,cr)})}return""}}),((Ee,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var Ce=n(1),Te=n(20);const Re=200,Be=206;function Ue(Ge){const qe=Ge.response;return typeof qe!="string"?qe:(0,Ce.stringToBytes)(qe).buffer}class Oe{constructor(qe,Xe={}){this.url=qe,this.isHttp=/^https?:/i.test(qe),this.httpHeaders=this.isHttp&&Xe.httpHeaders||Object.create(null),this.withCredentials=Xe.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(qe,Xe,tr){const Je={begin:qe,end:Xe};for(const Ye in tr)Je[Ye]=tr[Ye];return this.request(Je)}requestFull(qe){return this.request(qe)}request(qe){const Xe=new XMLHttpRequest,tr=this.currXhrId++,Je=this.pendingRequests[tr]={xhr:Xe};Xe.open("GET",this.url),Xe.withCredentials=this.withCredentials;for(const Ye in this.httpHeaders){const lr=this.httpHeaders[Ye];lr!==void 0&&Xe.setRequestHeader(Ye,lr)}return this.isHttp&&"begin"in qe&&"end"in qe?(Xe.setRequestHeader("Range",`bytes=${qe.begin}-${qe.end-1}`),Je.expectedStatus=Be):Je.expectedStatus=Re,Xe.responseType="arraybuffer",qe.onError&&(Xe.onerror=function(Ye){qe.onError(Xe.status)}),Xe.onreadystatechange=this.onStateChange.bind(this,tr),Xe.onprogress=this.onProgress.bind(this,tr),Je.onHeadersReceived=qe.onHeadersReceived,Je.onDone=qe.onDone,Je.onError=qe.onError,Je.onProgress=qe.onProgress,Xe.send(null),tr}onProgress(qe,Xe){var Je;const tr=this.pendingRequests[qe];tr&&((Je=tr.onProgress)==null||Je.call(tr,Xe))}onStateChange(qe,Xe){var hr,ur,fr;const tr=this.pendingRequests[qe];if(!tr)return;const Je=tr.xhr;if(Je.readyState>=2&&tr.onHeadersReceived&&(tr.onHeadersReceived(),delete tr.onHeadersReceived),Je.readyState!==4||!(qe in this.pendingRequests))return;if(delete this.pendingRequests[qe],Je.status===0&&this.isHttp){(hr=tr.onError)==null||hr.call(tr,Je.status);return}const Ye=Je.status||Re;if(!(Ye===Re&&tr.expectedStatus===Be)&&Ye!==tr.expectedStatus){(ur=tr.onError)==null||ur.call(tr,Je.status);return}const cr=Ue(Je);if(Ye===Be){const er=Je.getResponseHeader("Content-Range"),nr=/bytes (\d+)-(\d+)\/(\d+)/.exec(er);tr.onDone({begin:parseInt(nr[1],10),chunk:cr})}else cr?tr.onDone({begin:0,chunk:cr}):(fr=tr.onError)==null||fr.call(tr,Je.status)}getRequestXhr(qe){return this.pendingRequests[qe].xhr}isPendingRequest(qe){return qe in this.pendingRequests}abortRequest(qe){const Xe=this.pendingRequests[qe].xhr;delete this.pendingRequests[qe],Xe.abort()}}class Me{constructor(qe){this._source=qe,this._manager=new Oe(qe.url,{httpHeaders:qe.httpHeaders,withCredentials:qe.withCredentials}),this._rangeChunkSize=qe.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(qe){const Xe=this._rangeRequestReaders.indexOf(qe);Xe>=0&&this._rangeRequestReaders.splice(Xe,1)}getFullReader(){return(0,Ce.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Qe(this._manager,this._source),this._fullRequestReader}getRangeReader(qe,Xe){const tr=new Ke(this._manager,qe,Xe);return tr.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(tr),tr}cancelAllRequests(qe){var Xe;(Xe=this._fullRequestReader)==null||Xe.cancel(qe);for(const tr of this._rangeRequestReaders.slice(0))tr.cancel(qe)}}t.PDFNetworkStream=Me;class Qe{constructor(qe,Xe){this._manager=qe;const tr={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Xe.url,this._fullRequestId=qe.requestFull(tr),this._headersReceivedCapability=new Ce.PromiseCapability,this._disableRange=Xe.disableRange||!1,this._contentLength=Xe.length,this._rangeChunkSize=Xe.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const qe=this._fullRequestId,Xe=this._manager.getRequestXhr(qe),tr=lr=>Xe.getResponseHeader(lr),{allowRangeRequests:Je,suggestedLength:Ye}=(0,Te.validateRangeRequestCapabilities)({getResponseHeader:tr,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});Je&&(this._isRangeSupported=!0),this._contentLength=Ye||this._contentLength,this._filename=(0,Te.extractFilenameFromHeader)(tr),this._isRangeSupported&&this._manager.abortRequest(qe),this._headersReceivedCapability.resolve()}_onDone(qe){if(qe&&(this._requests.length>0?this._requests.shift().resolve({value:qe.chunk,done:!1}):this._cachedChunks.push(qe.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Xe of this._requests)Xe.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(qe){this._storedError=(0,Te.createResponseStatusError)(qe,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Xe of this._requests)Xe.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(qe){var Xe;(Xe=this.onProgress)==null||Xe.call(this,{loaded:qe.loaded,total:qe.lengthComputable?qe.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const qe=new Ce.PromiseCapability;return this._requests.push(qe),qe.promise}cancel(qe){this._done=!0,this._headersReceivedCapability.reject(qe);for(const Xe of this._requests)Xe.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Ke{constructor(qe,Xe,tr){this._manager=qe;const Je={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=qe.url,this._requestId=qe.requestRange(Xe,tr,Je),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var qe;(qe=this.onClosed)==null||qe.call(this,this)}_onDone(qe){const Xe=qe.chunk;this._requests.length>0?this._requests.shift().resolve({value:Xe,done:!1}):this._queuedChunk=Xe,this._done=!0;for(const tr of this._requests)tr.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(qe){this._storedError=(0,Te.createResponseStatusError)(qe,this._url);for(const Xe of this._requests)Xe.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(qe){var Xe;this.isStreamingSupported||(Xe=this.onProgress)==null||Xe.call(this,{loaded:qe.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Xe=this._queuedChunk;return this._queuedChunk=null,{value:Xe,done:!1}}if(this._done)return{value:void 0,done:!0};const qe=new Ce.PromiseCapability;return this._requests.push(qe),qe.promise}cancel(qe){this._done=!0;for(const Xe of this._requests)Xe.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}),((Ee,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var Ce=n(1),Te=n(20);const Re=/^file:\/\/\/[a-zA-Z]:\//;function Be(tr){const Je=require$$5,Ye=Je.parse(tr);return Ye.protocol==="file:"||Ye.host?Ye:/^[a-z]:[/\\]/i.test(tr)?Je.parse(`file:///${tr}`):(Ye.host||(Ye.protocol="file:"),Ye)}class Ue{constructor(Je){this.source=Je,this.url=Be(Je.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Je.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Je;return((Je=this._fullRequestReader)==null?void 0:Je._loaded)??0}getFullReader(){return(0,Ce.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new qe(this):new Ke(this),this._fullRequestReader}getRangeReader(Je,Ye){if(Ye<=this._progressiveDataLength)return null;const lr=this.isFsUrl?new Xe(this,Je,Ye):new Ge(this,Je,Ye);return this._rangeRequestReaders.push(lr),lr}cancelAllRequests(Je){var Ye;(Ye=this._fullRequestReader)==null||Ye.cancel(Je);for(const lr of this._rangeRequestReaders.slice(0))lr.cancel(Je)}}t.PDFNodeStream=Ue;class Oe{constructor(Je){this._url=Je.url,this._done=!1,this._storedError=null,this.onProgress=null;const Ye=Je.source;this._contentLength=Ye.length,this._loaded=0,this._filename=null,this._disableRange=Ye.disableRange||!1,this._rangeChunkSize=Ye.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Ye.disableStream,this._isRangeSupported=!Ye.disableRange,this._readableStream=null,this._readCapability=new Ce.PromiseCapability,this._headersCapability=new Ce.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var lr;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Je=this._readableStream.read();return Je===null?(this._readCapability=new Ce.PromiseCapability,this.read()):(this._loaded+=Je.length,(lr=this.onProgress)==null||lr.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Je).buffer,done:!1})}cancel(Je){if(!this._readableStream){this._error(Je);return}this._readableStream.destroy(Je)}_error(Je){this._storedError=Je,this._readCapability.resolve()}_setReadableStream(Je){this._readableStream=Je,Je.on("readable",()=>{this._readCapability.resolve()}),Je.on("end",()=>{Je.destroy(),this._done=!0,this._readCapability.resolve()}),Je.on("error",Ye=>{this._error(Ye)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ce.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Me{constructor(Je){this._url=Je.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new Ce.PromiseCapability;const Ye=Je.source;this._isStreamingSupported=!Ye.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var lr;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Je=this._readableStream.read();return Je===null?(this._readCapability=new Ce.PromiseCapability,this.read()):(this._loaded+=Je.length,(lr=this.onProgress)==null||lr.call(this,{loaded:this._loaded}),{value:new Uint8Array(Je).buffer,done:!1})}cancel(Je){if(!this._readableStream){this._error(Je);return}this._readableStream.destroy(Je)}_error(Je){this._storedError=Je,this._readCapability.resolve()}_setReadableStream(Je){this._readableStream=Je,Je.on("readable",()=>{this._readCapability.resolve()}),Je.on("end",()=>{Je.destroy(),this._done=!0,this._readCapability.resolve()}),Je.on("error",Ye=>{this._error(Ye)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Qe(tr,Je){return{protocol:tr.protocol,auth:tr.auth,host:tr.hostname,port:tr.port,path:tr.path,method:"GET",headers:Je}}class Ke extends Oe{constructor(Je){super(Je);const Ye=lr=>{if(lr.statusCode===404){const fr=new Ce.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=fr,this._headersCapability.reject(fr);return}this._headersCapability.resolve(),this._setReadableStream(lr);const cr=fr=>this._readableStream.headers[fr.toLowerCase()],{allowRangeRequests:hr,suggestedLength:ur}=(0,Te.validateRangeRequestCapabilities)({getResponseHeader:cr,isHttp:Je.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=hr,this._contentLength=ur||this._contentLength,this._filename=(0,Te.extractFilenameFromHeader)(cr)};if(this._request=null,this._url.protocol==="http:"){const lr=require$$5;this._request=lr.request(Qe(this._url,Je.httpHeaders),Ye)}else{const lr=require$$5;this._request=lr.request(Qe(this._url,Je.httpHeaders),Ye)}this._request.on("error",lr=>{this._storedError=lr,this._headersCapability.reject(lr)}),this._request.end()}}class Ge extends Me{constructor(Je,Ye,lr){super(Je),this._httpHeaders={};for(const hr in Je.httpHeaders){const ur=Je.httpHeaders[hr];ur!==void 0&&(this._httpHeaders[hr]=ur)}this._httpHeaders.Range=`bytes=${Ye}-${lr-1}`;const cr=hr=>{if(hr.statusCode===404){const ur=new Ce.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ur;return}this._setReadableStream(hr)};if(this._request=null,this._url.protocol==="http:"){const hr=require$$5;this._request=hr.request(Qe(this._url,this._httpHeaders),cr)}else{const hr=require$$5;this._request=hr.request(Qe(this._url,this._httpHeaders),cr)}this._request.on("error",hr=>{this._storedError=hr}),this._request.end()}}class qe extends Oe{constructor(Je){super(Je);let Ye=decodeURIComponent(this._url.path);Re.test(this._url.href)&&(Ye=Ye.replace(/^\//,""));const lr=require$$5;lr.lstat(Ye,(cr,hr)=>{if(cr){cr.code==="ENOENT"&&(cr=new Ce.MissingPDFException(`Missing PDF "${Ye}".`)),this._storedError=cr,this._headersCapability.reject(cr);return}this._contentLength=hr.size,this._setReadableStream(lr.createReadStream(Ye)),this._headersCapability.resolve()})}}class Xe extends Me{constructor(Je,Ye,lr){super(Je);let cr=decodeURIComponent(this._url.path);Re.test(this._url.href)&&(cr=cr.replace(/^\//,""));const hr=require$$5;this._setReadableStream(hr.createReadStream(cr,{start:Ye,end:lr-1}))}}}),((Ee,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var Ce=n(6),Te=n(1);const Re={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Be="http://www.w3.org/XML/1998/namespace",Ue="http://www.w3.org/1999/xlink",Oe=["butt","round","square"],Me=["miter","round","bevel"],Qe=function(hr,ur="",fr=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!fr)return URL.createObjectURL(new Blob([hr],{type:ur}));const er="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let nr=`data:${ur};base64,`;for(let ir=0,mr=hr.length;ir<mr;ir+=3){const $e=hr[ir]&255,Ar=hr[ir+1]&255,or=hr[ir+2]&255,Tr=$e>>2,Ur=($e&3)<<4|Ar>>4,Fr=ir+1<mr?(Ar&15)<<2|or>>6:64,Er=ir+2<mr?or&63:64;nr+=er[Tr]+er[Ur]+er[Fr]+er[Er]}return nr},Ke=(function(){const hr=new Uint8Array([137,80,78,71,13,10,26,10]),ur=12,fr=new Int32Array(256);for(let or=0;or<256;or++){let Tr=or;for(let Ur=0;Ur<8;Ur++)Tr=Tr&1?3988292384^Tr>>1&2147483647:Tr>>1&2147483647;fr[or]=Tr}function er(or,Tr,Ur){let Fr=-1;for(let Er=Tr;Er<Ur;Er++){const jr=(Fr^or[Er])&255,Nr=fr[jr];Fr=Fr>>>8^Nr}return Fr^-1}function nr(or,Tr,Ur,Fr){let Er=Fr;const jr=Tr.length;Ur[Er]=jr>>24&255,Ur[Er+1]=jr>>16&255,Ur[Er+2]=jr>>8&255,Ur[Er+3]=jr&255,Er+=4,Ur[Er]=or.charCodeAt(0)&255,Ur[Er+1]=or.charCodeAt(1)&255,Ur[Er+2]=or.charCodeAt(2)&255,Ur[Er+3]=or.charCodeAt(3)&255,Er+=4,Ur.set(Tr,Er),Er+=Tr.length;const Nr=er(Ur,Fr+4,Er);Ur[Er]=Nr>>24&255,Ur[Er+1]=Nr>>16&255,Ur[Er+2]=Nr>>8&255,Ur[Er+3]=Nr&255}function ir(or,Tr,Ur){let Fr=1,Er=0;for(let jr=Tr;jr<Ur;++jr)Fr=(Fr+(or[jr]&255))%65521,Er=(Er+Fr)%65521;return Er<<16|Fr}function mr(or){if(!Te.isNodeJS)return $e(or);try{const Tr=parseInt(process.versions.node)>=8?or:Buffer.from(or),Ur=require$$5.deflateSync(Tr,{level:9});return Ur instanceof Uint8Array?Ur:new Uint8Array(Ur)}catch(Tr){(0,Te.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Tr)}return $e(or)}function $e(or){let Tr=or.length;const Ur=65535,Fr=Math.ceil(Tr/Ur),Er=new Uint8Array(2+Tr+Fr*5+4);let jr=0;Er[jr++]=120,Er[jr++]=156;let Nr=0;for(;Tr>Ur;)Er[jr++]=0,Er[jr++]=255,Er[jr++]=255,Er[jr++]=0,Er[jr++]=0,Er.set(or.subarray(Nr,Nr+Ur),jr),jr+=Ur,Nr+=Ur,Tr-=Ur;Er[jr++]=1,Er[jr++]=Tr&255,Er[jr++]=Tr>>8&255,Er[jr++]=~Tr&65535&255,Er[jr++]=(~Tr&65535)>>8&255,Er.set(or.subarray(Nr),jr),jr+=or.length-Nr;const Br=ir(or,0,or.length);return Er[jr++]=Br>>24&255,Er[jr++]=Br>>16&255,Er[jr++]=Br>>8&255,Er[jr++]=Br&255,Er}function Ar(or,Tr,Ur,Fr){const Er=or.width,jr=or.height;let Nr,Br,Mr;const _r=or.data;switch(Tr){case Te.ImageKind.GRAYSCALE_1BPP:Br=0,Nr=1,Mr=Er+7>>3;break;case Te.ImageKind.RGB_24BPP:Br=2,Nr=8,Mr=Er*3;break;case Te.ImageKind.RGBA_32BPP:Br=6,Nr=8,Mr=Er*4;break;default:throw new Error("invalid format")}const gr=new Uint8Array((1+Mr)*jr);let yr=0,Rr=0;for(let gn=0;gn<jr;++gn)gr[yr++]=0,gr.set(_r.subarray(Rr,Rr+Mr),yr),Rr+=Mr,yr+=Mr;if(Tr===Te.ImageKind.GRAYSCALE_1BPP&&Fr){yr=0;for(let gn=0;gn<jr;gn++){yr++;for(let fn=0;fn<Mr;fn++)gr[yr++]^=255}}const Ir=new Uint8Array([Er>>24&255,Er>>16&255,Er>>8&255,Er&255,jr>>24&255,jr>>16&255,jr>>8&255,jr&255,Nr,Br,0,0,0]),Qr=mr(gr),Vr=hr.length+ur*3+Ir.length+Qr.length,Wr=new Uint8Array(Vr);let mn=0;return Wr.set(hr,mn),mn+=hr.length,nr("IHDR",Ir,Wr,mn),mn+=ur+Ir.length,nr("IDATA",Qr,Wr,mn),mn+=ur+Qr.length,nr("IEND",new Uint8Array(0),Wr,mn),Qe(Wr,"image/png",Ur)}return function(Tr,Ur,Fr){const Er=Tr.kind===void 0?Te.ImageKind.GRAYSCALE_1BPP:Tr.kind;return Ar(Tr,Er,Ur,Fr)}})();class Ge{constructor(){this.fontSizeScale=1,this.fontWeight=Re.fontWeight,this.fontSize=0,this.textMatrix=Te.IDENTITY_MATRIX,this.fontMatrix=Te.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=Te.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Re.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ur,fr){this.x=ur,this.y=fr}}function qe(hr){let ur=[];const fr=[];for(const er of hr){if(er.fn==="save"){ur.push({fnId:92,fn:"group",items:[]}),fr.push(ur),ur=ur.at(-1).items;continue}er.fn==="restore"?ur=fr.pop():ur.push(er)}return ur}function Xe(hr){if(Number.isInteger(hr))return hr.toString();const ur=hr.toFixed(10);let fr=ur.length-1;if(ur[fr]!=="0")return ur;do fr--;while(ur[fr]==="0");return ur.substring(0,ur[fr]==="."?fr:fr+1)}function tr(hr){if(hr[4]===0&&hr[5]===0){if(hr[1]===0&&hr[2]===0)return hr[0]===1&&hr[3]===1?"":`scale(${Xe(hr[0])} ${Xe(hr[3])})`;if(hr[0]===hr[3]&&hr[1]===-hr[2]){const ur=Math.acos(hr[0])*180/Math.PI;return`rotate(${Xe(ur)})`}}else if(hr[0]===1&&hr[1]===0&&hr[2]===0&&hr[3]===1)return`translate(${Xe(hr[4])} ${Xe(hr[5])})`;return`matrix(${Xe(hr[0])} ${Xe(hr[1])} ${Xe(hr[2])} ${Xe(hr[3])} ${Xe(hr[4])} ${Xe(hr[5])})`}let Je=0,Ye=0,lr=0;class cr{constructor(ur,fr,er=!1){(0,Ce.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new Ce.DOMSVGFactory,this.current=new Ge,this.transformMatrix=Te.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ur,this.objs=fr,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!er,this._operatorIdMapping=[];for(const nr in Te.OPS)this._operatorIdMapping[Te.OPS[nr]]=nr}getObject(ur,fr=null){return typeof ur=="string"?ur.startsWith("g_")?this.commonObjs.get(ur):this.objs.get(ur):fr}save(){this.transformStack.push(this.transformMatrix);const ur=this.current;this.extraStack.push(ur),this.current=ur.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ur){this.save(),this.executeOpTree(ur),this.restore()}loadDependencies(ur){const fr=ur.fnArray,er=ur.argsArray;for(let nr=0,ir=fr.length;nr<ir;nr++)if(fr[nr]===Te.OPS.dependency)for(const mr of er[nr]){const $e=mr.startsWith("g_")?this.commonObjs:this.objs,Ar=new Promise(or=>{$e.get(mr,or)});this.current.dependencies.push(Ar)}return Promise.all(this.current.dependencies)}transform(ur,fr,er,nr,ir,mr){const $e=[ur,fr,er,nr,ir,mr];this.transformMatrix=Te.Util.transform(this.transformMatrix,$e),this.tgrp=null}getSVG(ur,fr){this.viewport=fr;const er=this._initialize(fr);return this.loadDependencies(ur).then(()=>(this.transformMatrix=Te.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ur)),er))}convertOpList(ur){const fr=this._operatorIdMapping,er=ur.argsArray,nr=ur.fnArray,ir=[];for(let mr=0,$e=nr.length;mr<$e;mr++){const Ar=nr[mr];ir.push({fnId:Ar,fn:fr[Ar],args:er[mr]})}return qe(ir)}executeOpTree(ur){for(const fr of ur){const er=fr.fn,nr=fr.fnId,ir=fr.args;switch(nr|0){case Te.OPS.beginText:this.beginText();break;case Te.OPS.dependency:break;case Te.OPS.setLeading:this.setLeading(ir);break;case Te.OPS.setLeadingMoveText:this.setLeadingMoveText(ir[0],ir[1]);break;case Te.OPS.setFont:this.setFont(ir);break;case Te.OPS.showText:this.showText(ir[0]);break;case Te.OPS.showSpacedText:this.showText(ir[0]);break;case Te.OPS.endText:this.endText();break;case Te.OPS.moveText:this.moveText(ir[0],ir[1]);break;case Te.OPS.setCharSpacing:this.setCharSpacing(ir[0]);break;case Te.OPS.setWordSpacing:this.setWordSpacing(ir[0]);break;case Te.OPS.setHScale:this.setHScale(ir[0]);break;case Te.OPS.setTextMatrix:this.setTextMatrix(ir[0],ir[1],ir[2],ir[3],ir[4],ir[5]);break;case Te.OPS.setTextRise:this.setTextRise(ir[0]);break;case Te.OPS.setTextRenderingMode:this.setTextRenderingMode(ir[0]);break;case Te.OPS.setLineWidth:this.setLineWidth(ir[0]);break;case Te.OPS.setLineJoin:this.setLineJoin(ir[0]);break;case Te.OPS.setLineCap:this.setLineCap(ir[0]);break;case Te.OPS.setMiterLimit:this.setMiterLimit(ir[0]);break;case Te.OPS.setFillRGBColor:this.setFillRGBColor(ir[0],ir[1],ir[2]);break;case Te.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ir[0],ir[1],ir[2]);break;case Te.OPS.setStrokeColorN:this.setStrokeColorN(ir);break;case Te.OPS.setFillColorN:this.setFillColorN(ir);break;case Te.OPS.shadingFill:this.shadingFill(ir[0]);break;case Te.OPS.setDash:this.setDash(ir[0],ir[1]);break;case Te.OPS.setRenderingIntent:this.setRenderingIntent(ir[0]);break;case Te.OPS.setFlatness:this.setFlatness(ir[0]);break;case Te.OPS.setGState:this.setGState(ir[0]);break;case Te.OPS.fill:this.fill();break;case Te.OPS.eoFill:this.eoFill();break;case Te.OPS.stroke:this.stroke();break;case Te.OPS.fillStroke:this.fillStroke();break;case Te.OPS.eoFillStroke:this.eoFillStroke();break;case Te.OPS.clip:this.clip("nonzero");break;case Te.OPS.eoClip:this.clip("evenodd");break;case Te.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case Te.OPS.paintImageXObject:this.paintImageXObject(ir[0]);break;case Te.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ir[0]);break;case Te.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ir[0]);break;case Te.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ir[0],ir[1]);break;case Te.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case Te.OPS.closePath:this.closePath();break;case Te.OPS.closeStroke:this.closeStroke();break;case Te.OPS.closeFillStroke:this.closeFillStroke();break;case Te.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case Te.OPS.nextLine:this.nextLine();break;case Te.OPS.transform:this.transform(ir[0],ir[1],ir[2],ir[3],ir[4],ir[5]);break;case Te.OPS.constructPath:this.constructPath(ir[0],ir[1]);break;case Te.OPS.endPath:this.endPath();break;case 92:this.group(fr.items);break;default:(0,Te.warn)(`Unimplemented operator ${er}`);break}}}setWordSpacing(ur){this.current.wordSpacing=ur}setCharSpacing(ur){this.current.charSpacing=ur}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ur,fr,er,nr,ir,mr){const $e=this.current;$e.textMatrix=$e.lineMatrix=[ur,fr,er,nr,ir,mr],$e.textMatrixScale=Math.hypot(ur,fr),$e.x=$e.lineX=0,$e.y=$e.lineY=0,$e.xcoords=[],$e.ycoords=[],$e.tspan=this.svgFactory.createElement("svg:tspan"),$e.tspan.setAttributeNS(null,"font-family",$e.fontFamily),$e.tspan.setAttributeNS(null,"font-size",`${Xe($e.fontSize)}px`),$e.tspan.setAttributeNS(null,"y",Xe(-$e.y)),$e.txtElement=this.svgFactory.createElement("svg:text"),$e.txtElement.append($e.tspan)}beginText(){const ur=this.current;ur.x=ur.lineX=0,ur.y=ur.lineY=0,ur.textMatrix=Te.IDENTITY_MATRIX,ur.lineMatrix=Te.IDENTITY_MATRIX,ur.textMatrixScale=1,ur.tspan=this.svgFactory.createElement("svg:tspan"),ur.txtElement=this.svgFactory.createElement("svg:text"),ur.txtgrp=this.svgFactory.createElement("svg:g"),ur.xcoords=[],ur.ycoords=[]}moveText(ur,fr){const er=this.current;er.x=er.lineX+=ur,er.y=er.lineY+=fr,er.xcoords=[],er.ycoords=[],er.tspan=this.svgFactory.createElement("svg:tspan"),er.tspan.setAttributeNS(null,"font-family",er.fontFamily),er.tspan.setAttributeNS(null,"font-size",`${Xe(er.fontSize)}px`),er.tspan.setAttributeNS(null,"y",Xe(-er.y))}showText(ur){const fr=this.current,er=fr.font,nr=fr.fontSize;if(nr===0)return;const ir=fr.fontSizeScale,mr=fr.charSpacing,$e=fr.wordSpacing,Ar=fr.fontDirection,or=fr.textHScale*Ar,Tr=er.vertical,Ur=Tr?1:-1,Fr=er.defaultVMetrics,Er=nr*fr.fontMatrix[0];let jr=0;for(const Mr of ur){if(Mr===null){jr+=Ar*$e;continue}else if(typeof Mr=="number"){jr+=Ur*Mr*nr/1e3;continue}const _r=(Mr.isSpace?$e:0)+mr,gr=Mr.fontChar;let yr,Rr,Ir=Mr.width;if(Tr){let Vr;const Wr=Mr.vmetric||Fr;Vr=Mr.vmetric?Wr[1]:Ir*.5,Vr=-Vr*Er;const mn=Wr[2]*Er;Ir=Wr?-Wr[0]:Ir,yr=Vr/ir,Rr=(jr+mn)/ir}else yr=jr/ir,Rr=0;(Mr.isInFont||er.missingFile)&&(fr.xcoords.push(fr.x+yr),Tr&&fr.ycoords.push(-fr.y+Rr),fr.tspan.textContent+=gr);const Qr=Tr?Ir*Er-_r*Ar:Ir*Er+_r*Ar;jr+=Qr}fr.tspan.setAttributeNS(null,"x",fr.xcoords.map(Xe).join(" ")),Tr?fr.tspan.setAttributeNS(null,"y",fr.ycoords.map(Xe).join(" ")):fr.tspan.setAttributeNS(null,"y",Xe(-fr.y)),Tr?fr.y-=jr:fr.x+=jr*or,fr.tspan.setAttributeNS(null,"font-family",fr.fontFamily),fr.tspan.setAttributeNS(null,"font-size",`${Xe(fr.fontSize)}px`),fr.fontStyle!==Re.fontStyle&&fr.tspan.setAttributeNS(null,"font-style",fr.fontStyle),fr.fontWeight!==Re.fontWeight&&fr.tspan.setAttributeNS(null,"font-weight",fr.fontWeight);const Nr=fr.textRenderingMode&Te.TextRenderingMode.FILL_STROKE_MASK;if(Nr===Te.TextRenderingMode.FILL||Nr===Te.TextRenderingMode.FILL_STROKE?(fr.fillColor!==Re.fillColor&&fr.tspan.setAttributeNS(null,"fill",fr.fillColor),fr.fillAlpha<1&&fr.tspan.setAttributeNS(null,"fill-opacity",fr.fillAlpha)):fr.textRenderingMode===Te.TextRenderingMode.ADD_TO_PATH?fr.tspan.setAttributeNS(null,"fill","transparent"):fr.tspan.setAttributeNS(null,"fill","none"),Nr===Te.TextRenderingMode.STROKE||Nr===Te.TextRenderingMode.FILL_STROKE){const Mr=1/(fr.textMatrixScale||1);this._setStrokeAttributes(fr.tspan,Mr)}let Br=fr.textMatrix;fr.textRise!==0&&(Br=Br.slice(),Br[5]+=fr.textRise),fr.txtElement.setAttributeNS(null,"transform",`${tr(Br)} scale(${Xe(or)}, -1)`),fr.txtElement.setAttributeNS(Be,"xml:space","preserve"),fr.txtElement.append(fr.tspan),fr.txtgrp.append(fr.txtElement),this._ensureTransformGroup().append(fr.txtElement)}setLeadingMoveText(ur,fr){this.setLeading(-fr),this.moveText(ur,fr)}addFontStyle(ur){if(!ur.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const fr=Qe(ur.data,ur.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ur.loadedName}"; src: url(${fr}); }
`}setFont(ur){const fr=this.current,er=this.commonObjs.get(ur[0]);let nr=ur[1];fr.font=er,this.embedFonts&&!er.missingFile&&!this.embeddedFonts[er.loadedName]&&(this.addFontStyle(er),this.embeddedFonts[er.loadedName]=er),fr.fontMatrix=er.fontMatrix||Te.FONT_IDENTITY_MATRIX;let ir="normal";er.black?ir="900":er.bold&&(ir="bold");const mr=er.italic?"italic":"normal";nr<0?(nr=-nr,fr.fontDirection=-1):fr.fontDirection=1,fr.fontSize=nr,fr.fontFamily=er.loadedName,fr.fontWeight=ir,fr.fontStyle=mr,fr.tspan=this.svgFactory.createElement("svg:tspan"),fr.tspan.setAttributeNS(null,"y",Xe(-fr.y)),fr.xcoords=[],fr.ycoords=[]}endText(){var fr;const ur=this.current;ur.textRenderingMode&Te.TextRenderingMode.ADD_TO_PATH_FLAG&&((fr=ur.txtElement)!=null&&fr.hasChildNodes())&&(ur.element=ur.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ur){ur>0&&(this.current.lineWidth=ur)}setLineCap(ur){this.current.lineCap=Oe[ur]}setLineJoin(ur){this.current.lineJoin=Me[ur]}setMiterLimit(ur){this.current.miterLimit=ur}setStrokeAlpha(ur){this.current.strokeAlpha=ur}setStrokeRGBColor(ur,fr,er){this.current.strokeColor=Te.Util.makeHexColor(ur,fr,er)}setFillAlpha(ur){this.current.fillAlpha=ur}setFillRGBColor(ur,fr,er){this.current.fillColor=Te.Util.makeHexColor(ur,fr,er),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ur){this.current.strokeColor=this._makeColorN_Pattern(ur)}setFillColorN(ur){this.current.fillColor=this._makeColorN_Pattern(ur)}shadingFill(ur){const{width:fr,height:er}=this.viewport,nr=Te.Util.inverseTransform(this.transformMatrix),[ir,mr,$e,Ar]=Te.Util.getAxialAlignedBoundingBox([0,0,fr,er],nr),or=this.svgFactory.createElement("svg:rect");or.setAttributeNS(null,"x",ir),or.setAttributeNS(null,"y",mr),or.setAttributeNS(null,"width",$e-ir),or.setAttributeNS(null,"height",Ar-mr),or.setAttributeNS(null,"fill",this._makeShadingPattern(ur)),this.current.fillAlpha<1&&or.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(or)}_makeColorN_Pattern(ur){return ur[0]==="TilingPattern"?this._makeTilingPattern(ur):this._makeShadingPattern(ur)}_makeTilingPattern(ur){const fr=ur[1],er=ur[2],nr=ur[3]||Te.IDENTITY_MATRIX,[ir,mr,$e,Ar]=ur[4],or=ur[5],Tr=ur[6],Ur=ur[7],Fr=`shading${lr++}`,[Er,jr,Nr,Br]=Te.Util.normalizeRect([...Te.Util.applyTransform([ir,mr],nr),...Te.Util.applyTransform([$e,Ar],nr)]),[Mr,_r]=Te.Util.singularValueDecompose2dScale(nr),gr=or*Mr,yr=Tr*_r,Rr=this.svgFactory.createElement("svg:pattern");Rr.setAttributeNS(null,"id",Fr),Rr.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Rr.setAttributeNS(null,"width",gr),Rr.setAttributeNS(null,"height",yr),Rr.setAttributeNS(null,"x",`${Er}`),Rr.setAttributeNS(null,"y",`${jr}`);const Ir=this.svg,Qr=this.transformMatrix,Vr=this.current.fillColor,Wr=this.current.strokeColor,mn=this.svgFactory.create(Nr-Er,Br-jr);if(this.svg=mn,this.transformMatrix=nr,Ur===2){const gn=Te.Util.makeHexColor(...fr);this.current.fillColor=gn,this.current.strokeColor=gn}return this.executeOpTree(this.convertOpList(er)),this.svg=Ir,this.transformMatrix=Qr,this.current.fillColor=Vr,this.current.strokeColor=Wr,Rr.append(mn.childNodes[0]),this.defs.append(Rr),`url(#${Fr})`}_makeShadingPattern(ur){switch(typeof ur=="string"&&(ur=this.objs.get(ur)),ur[0]){case"RadialAxial":const fr=`shading${lr++}`,er=ur[3];let nr;switch(ur[1]){case"axial":const ir=ur[4],mr=ur[5];nr=this.svgFactory.createElement("svg:linearGradient"),nr.setAttributeNS(null,"id",fr),nr.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),nr.setAttributeNS(null,"x1",ir[0]),nr.setAttributeNS(null,"y1",ir[1]),nr.setAttributeNS(null,"x2",mr[0]),nr.setAttributeNS(null,"y2",mr[1]);break;case"radial":const $e=ur[4],Ar=ur[5],or=ur[6],Tr=ur[7];nr=this.svgFactory.createElement("svg:radialGradient"),nr.setAttributeNS(null,"id",fr),nr.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),nr.setAttributeNS(null,"cx",Ar[0]),nr.setAttributeNS(null,"cy",Ar[1]),nr.setAttributeNS(null,"r",Tr),nr.setAttributeNS(null,"fx",$e[0]),nr.setAttributeNS(null,"fy",$e[1]),nr.setAttributeNS(null,"fr",or);break;default:throw new Error(`Unknown RadialAxial type: ${ur[1]}`)}for(const ir of er){const mr=this.svgFactory.createElement("svg:stop");mr.setAttributeNS(null,"offset",ir[0]),mr.setAttributeNS(null,"stop-color",ir[1]),nr.append(mr)}return this.defs.append(nr),`url(#${fr})`;case"Mesh":return(0,Te.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ur[0]}`)}}setDash(ur,fr){this.current.dashArray=ur,this.current.dashPhase=fr}constructPath(ur,fr){const er=this.current;let nr=er.x,ir=er.y,mr=[],$e=0;for(const Ar of ur)switch(Ar|0){case Te.OPS.rectangle:nr=fr[$e++],ir=fr[$e++];const or=fr[$e++],Tr=fr[$e++],Ur=nr+or,Fr=ir+Tr;mr.push("M",Xe(nr),Xe(ir),"L",Xe(Ur),Xe(ir),"L",Xe(Ur),Xe(Fr),"L",Xe(nr),Xe(Fr),"Z");break;case Te.OPS.moveTo:nr=fr[$e++],ir=fr[$e++],mr.push("M",Xe(nr),Xe(ir));break;case Te.OPS.lineTo:nr=fr[$e++],ir=fr[$e++],mr.push("L",Xe(nr),Xe(ir));break;case Te.OPS.curveTo:nr=fr[$e+4],ir=fr[$e+5],mr.push("C",Xe(fr[$e]),Xe(fr[$e+1]),Xe(fr[$e+2]),Xe(fr[$e+3]),Xe(nr),Xe(ir)),$e+=6;break;case Te.OPS.curveTo2:mr.push("C",Xe(nr),Xe(ir),Xe(fr[$e]),Xe(fr[$e+1]),Xe(fr[$e+2]),Xe(fr[$e+3])),nr=fr[$e+2],ir=fr[$e+3],$e+=4;break;case Te.OPS.curveTo3:nr=fr[$e+2],ir=fr[$e+3],mr.push("C",Xe(fr[$e]),Xe(fr[$e+1]),Xe(nr),Xe(ir),Xe(nr),Xe(ir)),$e+=4;break;case Te.OPS.closePath:mr.push("Z");break}mr=mr.join(" "),er.path&&ur.length>0&&ur[0]!==Te.OPS.rectangle&&ur[0]!==Te.OPS.moveTo?mr=er.path.getAttributeNS(null,"d")+mr:(er.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(er.path)),er.path.setAttributeNS(null,"d",mr),er.path.setAttributeNS(null,"fill","none"),er.element=er.path,er.setCurrentPoint(nr,ir)}endPath(){const ur=this.current;if(ur.path=null,!this.pendingClip)return;if(!ur.element){this.pendingClip=null;return}const fr=`clippath${Je++}`,er=this.svgFactory.createElement("svg:clipPath");er.setAttributeNS(null,"id",fr),er.setAttributeNS(null,"transform",tr(this.transformMatrix));const nr=ur.element.cloneNode(!0);if(this.pendingClip==="evenodd"?nr.setAttributeNS(null,"clip-rule","evenodd"):nr.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,er.append(nr),this.defs.append(er),ur.activeClipUrl){ur.clipGroup=null;for(const ir of this.extraStack)ir.clipGroup=null;er.setAttributeNS(null,"clip-path",ur.activeClipUrl)}ur.activeClipUrl=`url(#${fr})`,this.tgrp=null}clip(ur){this.pendingClip=ur}closePath(){const ur=this.current;if(ur.path){const fr=`${ur.path.getAttributeNS(null,"d")}Z`;ur.path.setAttributeNS(null,"d",fr)}}setLeading(ur){this.current.leading=-ur}setTextRise(ur){this.current.textRise=ur}setTextRenderingMode(ur){this.current.textRenderingMode=ur}setHScale(ur){this.current.textHScale=ur/100}setRenderingIntent(ur){}setFlatness(ur){}setGState(ur){for(const[fr,er]of ur)switch(fr){case"LW":this.setLineWidth(er);break;case"LC":this.setLineCap(er);break;case"LJ":this.setLineJoin(er);break;case"ML":this.setMiterLimit(er);break;case"D":this.setDash(er[0],er[1]);break;case"RI":this.setRenderingIntent(er);break;case"FL":this.setFlatness(er);break;case"Font":this.setFont(er);break;case"CA":this.setStrokeAlpha(er);break;case"ca":this.setFillAlpha(er);break;default:(0,Te.warn)(`Unimplemented graphic state operator ${fr}`);break}}fill(){const ur=this.current;ur.element&&(ur.element.setAttributeNS(null,"fill",ur.fillColor),ur.element.setAttributeNS(null,"fill-opacity",ur.fillAlpha),this.endPath())}stroke(){const ur=this.current;ur.element&&(this._setStrokeAttributes(ur.element),ur.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ur,fr=1){const er=this.current;let nr=er.dashArray;fr!==1&&nr.length>0&&(nr=nr.map(function(ir){return fr*ir})),ur.setAttributeNS(null,"stroke",er.strokeColor),ur.setAttributeNS(null,"stroke-opacity",er.strokeAlpha),ur.setAttributeNS(null,"stroke-miterlimit",Xe(er.miterLimit)),ur.setAttributeNS(null,"stroke-linecap",er.lineCap),ur.setAttributeNS(null,"stroke-linejoin",er.lineJoin),ur.setAttributeNS(null,"stroke-width",Xe(fr*er.lineWidth)+"px"),ur.setAttributeNS(null,"stroke-dasharray",nr.map(Xe).join(" ")),ur.setAttributeNS(null,"stroke-dashoffset",Xe(fr*er.dashPhase)+"px")}eoFill(){var ur;(ur=this.current.element)==null||ur.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var ur;(ur=this.current.element)==null||ur.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ur=this.svgFactory.createElement("svg:rect");ur.setAttributeNS(null,"x","0"),ur.setAttributeNS(null,"y","0"),ur.setAttributeNS(null,"width","1px"),ur.setAttributeNS(null,"height","1px"),ur.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ur)}paintImageXObject(ur){const fr=this.getObject(ur);if(!fr){(0,Te.warn)(`Dependent image with object ID ${ur} is not ready yet`);return}this.paintInlineImageXObject(fr)}paintInlineImageXObject(ur,fr){const er=ur.width,nr=ur.height,ir=Ke(ur,this.forceDataSchema,!!fr),mr=this.svgFactory.createElement("svg:rect");mr.setAttributeNS(null,"x","0"),mr.setAttributeNS(null,"y","0"),mr.setAttributeNS(null,"width",Xe(er)),mr.setAttributeNS(null,"height",Xe(nr)),this.current.element=mr,this.clip("nonzero");const $e=this.svgFactory.createElement("svg:image");$e.setAttributeNS(Ue,"xlink:href",ir),$e.setAttributeNS(null,"x","0"),$e.setAttributeNS(null,"y",Xe(-nr)),$e.setAttributeNS(null,"width",Xe(er)+"px"),$e.setAttributeNS(null,"height",Xe(nr)+"px"),$e.setAttributeNS(null,"transform",`scale(${Xe(1/er)} ${Xe(-1/nr)})`),fr?fr.append($e):this._ensureTransformGroup().append($e)}paintImageMaskXObject(ur){const fr=this.getObject(ur.data,ur);if(fr.bitmap){(0,Te.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const er=this.current,nr=fr.width,ir=fr.height,mr=er.fillColor;er.maskId=`mask${Ye++}`;const $e=this.svgFactory.createElement("svg:mask");$e.setAttributeNS(null,"id",er.maskId);const Ar=this.svgFactory.createElement("svg:rect");Ar.setAttributeNS(null,"x","0"),Ar.setAttributeNS(null,"y","0"),Ar.setAttributeNS(null,"width",Xe(nr)),Ar.setAttributeNS(null,"height",Xe(ir)),Ar.setAttributeNS(null,"fill",mr),Ar.setAttributeNS(null,"mask",`url(#${er.maskId})`),this.defs.append($e),this._ensureTransformGroup().append(Ar),this.paintInlineImageXObject(fr,$e)}paintFormXObjectBegin(ur,fr){if(Array.isArray(ur)&&ur.length===6&&this.transform(ur[0],ur[1],ur[2],ur[3],ur[4],ur[5]),fr){const er=fr[2]-fr[0],nr=fr[3]-fr[1],ir=this.svgFactory.createElement("svg:rect");ir.setAttributeNS(null,"x",fr[0]),ir.setAttributeNS(null,"y",fr[1]),ir.setAttributeNS(null,"width",Xe(er)),ir.setAttributeNS(null,"height",Xe(nr)),this.current.element=ir,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ur){const fr=this.svgFactory.create(ur.width,ur.height),er=this.svgFactory.createElement("svg:defs");fr.append(er),this.defs=er;const nr=this.svgFactory.createElement("svg:g");return nr.setAttributeNS(null,"transform",tr(ur.transform)),fr.append(nr),this.svg=nr,fr}_ensureClipGroup(){if(!this.current.clipGroup){const ur=this.svgFactory.createElement("svg:g");ur.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ur),this.current.clipGroup=ur}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",tr(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}t.SVGGraphics=cr}),((Ee,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class n{static textContent(Te){const Re=[],Be={items:Re,styles:Object.create(null)};function Ue(Oe){var Ke;if(!Oe)return;let Me=null;const Qe=Oe.name;if(Qe==="#text")Me=Oe.value;else if(n.shouldBuildText(Qe))(Ke=Oe==null?void 0:Oe.attributes)!=null&&Ke.textContent?Me=Oe.attributes.textContent:Oe.value&&(Me=Oe.value);else return;if(Me!==null&&Re.push({str:Me}),!!Oe.children)for(const Ge of Oe.children)Ue(Ge)}return Ue(Te),Be}static shouldBuildText(Te){return!(Te==="textarea"||Te==="input"||Te==="option"||Te==="select")}}t.XfaText=n}),((Ee,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=tr,t.updateTextLayer=Je;var Ce=n(1),Te=n(6);const Re=1e5,Be=30,Ue=.8,Oe=new Map;function Me(Ye,lr){let cr;if(lr&&Ce.FeatureTest.isOffscreenCanvasSupported)cr=new OffscreenCanvas(Ye,Ye).getContext("2d",{alpha:!1});else{const hr=document.createElement("canvas");hr.width=hr.height=Ye,cr=hr.getContext("2d",{alpha:!1})}return cr}function Qe(Ye,lr){const cr=Oe.get(Ye);if(cr)return cr;const hr=Me(Be,lr);hr.font=`${Be}px ${Ye}`;const ur=hr.measureText("");let fr=ur.fontBoundingBoxAscent,er=Math.abs(ur.fontBoundingBoxDescent);if(fr){const ir=fr/(fr+er);return Oe.set(Ye,ir),hr.canvas.width=hr.canvas.height=0,ir}hr.strokeStyle="red",hr.clearRect(0,0,Be,Be),hr.strokeText("g",0,0);let nr=hr.getImageData(0,0,Be,Be).data;er=0;for(let ir=nr.length-1-3;ir>=0;ir-=4)if(nr[ir]>0){er=Math.ceil(ir/4/Be);break}hr.clearRect(0,0,Be,Be),hr.strokeText("A",0,Be),nr=hr.getImageData(0,0,Be,Be).data,fr=0;for(let ir=0,mr=nr.length;ir<mr;ir+=4)if(nr[ir]>0){fr=Be-Math.floor(ir/4/Be);break}if(hr.canvas.width=hr.canvas.height=0,fr){const ir=fr/(fr+er);return Oe.set(Ye,ir),ir}return Oe.set(Ye,Ue),Ue}function Ke(Ye,lr,cr){const hr=document.createElement("span"),ur={angle:0,canvasWidth:0,hasText:lr.str!=="",hasEOL:lr.hasEOL,fontSize:0};Ye._textDivs.push(hr);const fr=Ce.Util.transform(Ye._transform,lr.transform);let er=Math.atan2(fr[1],fr[0]);const nr=cr[lr.fontName];nr.vertical&&(er+=Math.PI/2);const ir=Math.hypot(fr[2],fr[3]),mr=ir*Qe(nr.fontFamily,Ye._isOffscreenCanvasSupported);let $e,Ar;er===0?($e=fr[4],Ar=fr[5]-mr):($e=fr[4]+mr*Math.sin(er),Ar=fr[5]-mr*Math.cos(er));const or="calc(var(--scale-factor)*",Tr=hr.style;Ye._container===Ye._rootContainer?(Tr.left=`${(100*$e/Ye._pageWidth).toFixed(2)}%`,Tr.top=`${(100*Ar/Ye._pageHeight).toFixed(2)}%`):(Tr.left=`${or}${$e.toFixed(2)}px)`,Tr.top=`${or}${Ar.toFixed(2)}px)`),Tr.fontSize=`${or}${ir.toFixed(2)}px)`,Tr.fontFamily=nr.fontFamily,ur.fontSize=ir,hr.setAttribute("role","presentation"),hr.textContent=lr.str,hr.dir=lr.dir,Ye._fontInspectorEnabled&&(hr.dataset.fontName=lr.fontName),er!==0&&(ur.angle=er*(180/Math.PI));let Ur=!1;if(lr.str.length>1)Ur=!0;else if(lr.str!==" "&&lr.transform[0]!==lr.transform[3]){const Fr=Math.abs(lr.transform[0]),Er=Math.abs(lr.transform[3]);Fr!==Er&&Math.max(Fr,Er)/Math.min(Fr,Er)>1.5&&(Ur=!0)}Ur&&(ur.canvasWidth=nr.vertical?lr.height:lr.width),Ye._textDivProperties.set(hr,ur),Ye._isReadableStream&&Ye._layoutText(hr)}function Ge(Ye){const{div:lr,scale:cr,properties:hr,ctx:ur,prevFontSize:fr,prevFontFamily:er}=Ye,{style:nr}=lr;let ir="";if(hr.canvasWidth!==0&&hr.hasText){const{fontFamily:mr}=nr,{canvasWidth:$e,fontSize:Ar}=hr;(fr!==Ar||er!==mr)&&(ur.font=`${Ar*cr}px ${mr}`,Ye.prevFontSize=Ar,Ye.prevFontFamily=mr);const{width:or}=ur.measureText(lr.textContent);or>0&&(ir=`scaleX(${$e*cr/or})`)}hr.angle!==0&&(ir=`rotate(${hr.angle}deg) ${ir}`),ir.length>0&&(nr.transform=ir)}function qe(Ye){if(Ye._canceled)return;const lr=Ye._textDivs,cr=Ye._capability;if(lr.length>Re){cr.resolve();return}if(!Ye._isReadableStream)for(const ur of lr)Ye._layoutText(ur);cr.resolve()}class Xe{constructor({textContentSource:lr,container:cr,viewport:hr,textDivs:ur,textDivProperties:fr,textContentItemsStr:er,isOffscreenCanvasSupported:nr}){var or;this._textContentSource=lr,this._isReadableStream=lr instanceof ReadableStream,this._container=this._rootContainer=cr,this._textDivs=ur||[],this._textContentItemsStr=er||[],this._isOffscreenCanvasSupported=nr,this._fontInspectorEnabled=!!((or=globalThis.FontInspector)!=null&&or.enabled),this._reader=null,this._textDivProperties=fr||new WeakMap,this._canceled=!1,this._capability=new Ce.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:hr.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Me(0,nr)};const{pageWidth:ir,pageHeight:mr,pageX:$e,pageY:Ar}=hr.rawDims;this._transform=[1,0,0,-1,-$e,Ar+mr],this._pageWidth=ir,this._pageHeight=mr,(0,Te.setLayerDimensions)(cr,hr),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new Ce.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new Ce.AbortException("TextLayer task cancelled."))}_processItems(lr,cr){for(const hr of lr){if(hr.str===void 0){if(hr.type==="beginMarkedContentProps"||hr.type==="beginMarkedContent"){const ur=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),hr.id!==null&&this._container.setAttribute("id",`${hr.id}`),ur.append(this._container)}else hr.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(hr.str),Ke(this,hr,cr)}}_layoutText(lr){const cr=this._layoutTextParams.properties=this._textDivProperties.get(lr);if(this._layoutTextParams.div=lr,Ge(this._layoutTextParams),cr.hasText&&this._container.append(lr),cr.hasEOL){const hr=document.createElement("br");hr.setAttribute("role","presentation"),this._container.append(hr)}}_render(){const lr=new Ce.PromiseCapability;let cr=Object.create(null);if(this._isReadableStream){const hr=()=>{this._reader.read().then(({value:ur,done:fr})=>{if(fr){lr.resolve();return}Object.assign(cr,ur.styles),this._processItems(ur.items,cr),hr()},lr.reject)};this._reader=this._textContentSource.getReader(),hr()}else if(this._textContentSource){const{items:hr,styles:ur}=this._textContentSource;this._processItems(hr,ur),lr.resolve()}else throw new Error('No "textContentSource" parameter specified.');lr.promise.then(()=>{cr=null,qe(this)},this._capability.reject)}}t.TextLayerRenderTask=Xe;function tr(Ye){!Ye.textContentSource&&(Ye.textContent||Ye.textContentStream)&&((0,Te.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Ye.textContentSource=Ye.textContent||Ye.textContentStream);const{container:lr,viewport:cr}=Ye,hr=getComputedStyle(lr),ur=hr.getPropertyValue("visibility"),fr=parseFloat(hr.getPropertyValue("--scale-factor"));ur==="visible"&&(!fr||Math.abs(fr-cr.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const er=new Xe(Ye);return er._render(),er}function Je({container:Ye,viewport:lr,textDivs:cr,textDivProperties:hr,isOffscreenCanvasSupported:ur,mustRotate:fr=!0,mustRescale:er=!0}){if(fr&&(0,Te.setLayerDimensions)(Ye,{rotation:lr.rotation}),er){const nr=Me(0,ur),mr={prevFontSize:null,prevFontFamily:null,div:null,scale:lr.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:nr};for(const $e of cr)mr.properties=hr.get($e),mr.div=$e,Ge(mr)}}}),((Ee,t,n)=>{var Qe,Ke,Ge,qe,Xe,tr,Je,Ye,lr,cr,hr,$f,yd,Jf,ep;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var Ce=n(1),Te=n(4),Re=n(28),Be=n(33),Ue=n(6),Oe=n(34);const ir=class ir{constructor({uiManager:$e,pageIndex:Ar,div:or,accessibilityManager:Tr,annotationLayer:Ur,viewport:Fr,l10n:Er}){Jn(this,hr);Jn(this,Qe);Jn(this,Ke,!1);Jn(this,Ge,null);Jn(this,qe,this.pointerup.bind(this));Jn(this,Xe,this.pointerdown.bind(this));Jn(this,tr,new Map);Jn(this,Je,!1);Jn(this,Ye,!1);Jn(this,lr,!1);Jn(this,cr);const jr=[Re.FreeTextEditor,Be.InkEditor,Oe.StampEditor];if(!ir._initialized){ir._initialized=!0;for(const Nr of jr)Nr.initialize(Er)}$e.registerEditorTypes(jr),ti(this,cr,$e),this.pageIndex=Ar,this.div=or,ti(this,Qe,Tr),ti(this,Ge,Ur),this.viewport=Fr,Lr(this,cr).addLayer(this)}get isEmpty(){return Lr(this,tr).size===0}updateToolbar($e){Lr(this,cr).updateToolbar($e)}updateMode($e=Lr(this,cr).getMode()){qn(this,hr,ep).call(this),$e===Ce.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),$e!==Ce.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",$e===Ce.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",$e===Ce.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",$e===Ce.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded($e){if(!$e&&Lr(this,cr).getMode()!==Ce.AnnotationEditorType.INK)return;if(!$e){for(const or of Lr(this,tr).values())if(or.isEmpty()){or.setInBackground();return}}qn(this,hr,yd).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState($e){Lr(this,cr).setEditingState($e)}addCommands($e){Lr(this,cr).addCommands($e)}enable(){this.div.style.pointerEvents="auto";const $e=new Set;for(const or of Lr(this,tr).values())or.enableEditing(),or.annotationElementId&&$e.add(or.annotationElementId);if(!Lr(this,Ge))return;const Ar=Lr(this,Ge).getEditableAnnotations();for(const or of Ar){if(or.hide(),Lr(this,cr).isDeletedAnnotationElement(or.data.id)||$e.has(or.data.id))continue;const Tr=this.deserialize(or);Tr&&(this.addOrRebuild(Tr),Tr.enableEditing())}}disable(){var Ar;ti(this,lr,!0),this.div.style.pointerEvents="none";const $e=new Set;for(const or of Lr(this,tr).values()){if(or.disableEditing(),!or.annotationElementId||or.serialize()!==null){$e.add(or.annotationElementId);continue}(Ar=this.getEditableAnnotation(or.annotationElementId))==null||Ar.show(),or.remove()}if(Lr(this,Ge)){const or=Lr(this,Ge).getEditableAnnotations();for(const Tr of or){const{id:Ur}=Tr.data;$e.has(Ur)||Lr(this,cr).isDeletedAnnotationElement(Ur)||Tr.show()}}qn(this,hr,ep).call(this),this.isEmpty&&(this.div.hidden=!0),ti(this,lr,!1)}getEditableAnnotation($e){var Ar;return((Ar=Lr(this,Ge))==null?void 0:Ar.getEditableAnnotation($e))||null}setActiveEditor($e){Lr(this,cr).getActive()!==$e&&Lr(this,cr).setActiveEditor($e)}enableClick(){this.div.addEventListener("pointerdown",Lr(this,Xe)),this.div.addEventListener("pointerup",Lr(this,qe))}disableClick(){this.div.removeEventListener("pointerdown",Lr(this,Xe)),this.div.removeEventListener("pointerup",Lr(this,qe))}attach($e){Lr(this,tr).set($e.id,$e);const{annotationElementId:Ar}=$e;Ar&&Lr(this,cr).isDeletedAnnotationElement(Ar)&&Lr(this,cr).removeDeletedAnnotationElement($e)}detach($e){var Ar;Lr(this,tr).delete($e.id),(Ar=Lr(this,Qe))==null||Ar.removePointerInTextLayer($e.contentDiv),!Lr(this,lr)&&$e.annotationElementId&&Lr(this,cr).addDeletedAnnotationElement($e)}remove($e){this.detach($e),Lr(this,cr).removeEditor($e),$e.div.contains(document.activeElement)&&setTimeout(()=>{Lr(this,cr).focusMainContainer()},0),$e.div.remove(),$e.isAttachedToDOM=!1,Lr(this,Ye)||this.addInkEditorIfNeeded(!1)}changeParent($e){var Ar;$e.parent!==this&&($e.annotationElementId&&(Lr(this,cr).addDeletedAnnotationElement($e.annotationElementId),Te.AnnotationEditor.deleteAnnotationElement($e),$e.annotationElementId=null),this.attach($e),(Ar=$e.parent)==null||Ar.detach($e),$e.setParent(this),$e.div&&$e.isAttachedToDOM&&($e.div.remove(),this.div.append($e.div)))}add($e){if(this.changeParent($e),Lr(this,cr).addEditor($e),this.attach($e),!$e.isAttachedToDOM){const Ar=$e.render();this.div.append(Ar),$e.isAttachedToDOM=!0}$e.fixAndSetPosition(),$e.onceAdded(),Lr(this,cr).addToAnnotationStorage($e)}moveEditorInDOM($e){var or;if(!$e.isAttachedToDOM)return;const{activeElement:Ar}=document;$e.div.contains(Ar)&&($e._focusEventsAllowed=!1,setTimeout(()=>{$e.div.contains(document.activeElement)?$e._focusEventsAllowed=!0:($e.div.addEventListener("focusin",()=>{$e._focusEventsAllowed=!0},{once:!0}),Ar.focus())},0)),$e._structTreeParentId=(or=Lr(this,Qe))==null?void 0:or.moveElementInDOM(this.div,$e.div,$e.contentDiv,!0)}addOrRebuild($e){$e.needsToBeRebuilt()?$e.rebuild():this.add($e)}addUndoableEditor($e){const Ar=()=>$e._uiManager.rebuild($e),or=()=>{$e.remove()};this.addCommands({cmd:Ar,undo:or,mustExec:!1})}getNextId(){return Lr(this,cr).getId()}pasteEditor($e,Ar){Lr(this,cr).updateToolbar($e),Lr(this,cr).updateMode($e);const{offsetX:or,offsetY:Tr}=qn(this,hr,Jf).call(this),Ur=this.getNextId(),Fr=qn(this,hr,$f).call(this,{parent:this,id:Ur,x:or,y:Tr,uiManager:Lr(this,cr),isCentered:!0,...Ar});Fr&&this.add(Fr)}deserialize($e){switch($e.annotationType??$e.annotationEditorType){case Ce.AnnotationEditorType.FREETEXT:return Re.FreeTextEditor.deserialize($e,this,Lr(this,cr));case Ce.AnnotationEditorType.INK:return Be.InkEditor.deserialize($e,this,Lr(this,cr));case Ce.AnnotationEditorType.STAMP:return Oe.StampEditor.deserialize($e,this,Lr(this,cr))}return null}addNewEditor(){qn(this,hr,yd).call(this,qn(this,hr,Jf).call(this),!0)}setSelected($e){Lr(this,cr).setSelected($e)}toggleSelected($e){Lr(this,cr).toggleSelected($e)}isSelected($e){return Lr(this,cr).isSelected($e)}unselect($e){Lr(this,cr).unselect($e)}pointerup($e){const{isMac:Ar}=Ce.FeatureTest.platform;if(!($e.button!==0||$e.ctrlKey&&Ar)&&$e.target===this.div&&Lr(this,Je)){if(ti(this,Je,!1),!Lr(this,Ke)){ti(this,Ke,!0);return}if(Lr(this,cr).getMode()===Ce.AnnotationEditorType.STAMP){Lr(this,cr).unselectAll();return}qn(this,hr,yd).call(this,$e,!1)}}pointerdown($e){if(Lr(this,Je)){ti(this,Je,!1);return}const{isMac:Ar}=Ce.FeatureTest.platform;if($e.button!==0||$e.ctrlKey&&Ar||$e.target!==this.div)return;ti(this,Je,!0);const or=Lr(this,cr).getActive();ti(this,Ke,!or||or.isEmpty())}findNewParent($e,Ar,or){const Tr=Lr(this,cr).findParent(Ar,or);return Tr===null||Tr===this?!1:(Tr.changeParent($e),!0)}destroy(){var $e,Ar;(($e=Lr(this,cr).getActive())==null?void 0:$e.parent)===this&&(Lr(this,cr).commitOrRemove(),Lr(this,cr).setActiveEditor(null));for(const or of Lr(this,tr).values())(Ar=Lr(this,Qe))==null||Ar.removePointerInTextLayer(or.contentDiv),or.setParent(null),or.isAttachedToDOM=!1,or.div.remove();this.div=null,Lr(this,tr).clear(),Lr(this,cr).removeLayer(this)}render({viewport:$e}){this.viewport=$e,(0,Ue.setLayerDimensions)(this.div,$e);for(const Ar of Lr(this,cr).getEditors(this.pageIndex))this.add(Ar);this.updateMode()}update({viewport:$e}){Lr(this,cr).commitOrRemove(),this.viewport=$e,(0,Ue.setLayerDimensions)(this.div,{rotation:$e.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:$e,pageHeight:Ar}=this.viewport.rawDims;return[$e,Ar]}};Qe=new WeakMap,Ke=new WeakMap,Ge=new WeakMap,qe=new WeakMap,Xe=new WeakMap,tr=new WeakMap,Je=new WeakMap,Ye=new WeakMap,lr=new WeakMap,cr=new WeakMap,hr=new WeakSet,$f=function($e){switch(Lr(this,cr).getMode()){case Ce.AnnotationEditorType.FREETEXT:return new Re.FreeTextEditor($e);case Ce.AnnotationEditorType.INK:return new Be.InkEditor($e);case Ce.AnnotationEditorType.STAMP:return new Oe.StampEditor($e)}return null},yd=function($e,Ar){const or=this.getNextId(),Tr=qn(this,hr,$f).call(this,{parent:this,id:or,x:$e.offsetX,y:$e.offsetY,uiManager:Lr(this,cr),isCentered:Ar});return Tr&&this.add(Tr),Tr},Jf=function(){const{x:$e,y:Ar,width:or,height:Tr}=this.div.getBoundingClientRect(),Ur=Math.max(0,$e),Fr=Math.max(0,Ar),Er=Math.min(window.innerWidth,$e+or),jr=Math.min(window.innerHeight,Ar+Tr),Nr=(Ur+Er)/2-$e,Br=(Fr+jr)/2-Ar,[Mr,_r]=this.viewport.rotation%180===0?[Nr,Br]:[Br,Nr];return{offsetX:Mr,offsetY:_r}},ep=function(){ti(this,Ye,!0);for(const $e of Lr(this,tr).values())$e.isEmpty()&&$e.remove();ti(this,Ye,!1)},zi(ir,"_initialized",!1);let Me=ir;t.AnnotationEditorLayer=Me}),((Ee,t,n)=>{var Oe,Me,Qe,Ke,Ge,qe,Xe,tr,Je,Ye,wm,xm,Cm,ch,tp,Sm,rp;Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var Ce=n(1),Te=n(5),Re=n(4),Be=n(29);const ir=class ir extends Re.AnnotationEditor{constructor(Ar){super({...Ar,name:"freeTextEditor"});Jn(this,Ye);Jn(this,Oe,this.editorDivBlur.bind(this));Jn(this,Me,this.editorDivFocus.bind(this));Jn(this,Qe,this.editorDivInput.bind(this));Jn(this,Ke,this.editorDivKeydown.bind(this));Jn(this,Ge);Jn(this,qe,"");Jn(this,Xe,`${this.id}-editor`);Jn(this,tr);Jn(this,Je,null);ti(this,Ge,Ar.color||ir._defaultColor||Re.AnnotationEditor._defaultLineColor),ti(this,tr,Ar.fontSize||ir._defaultFontSize)}static get _keyboardManager(){const Ar=ir.prototype,or=Fr=>Fr.isEmpty(),Tr=Te.AnnotationEditorUIManager.TRANSLATE_SMALL,Ur=Te.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,Ce.shadow)(this,"_keyboardManager",new Te.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Ar.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Ar.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Ar._translateEmpty,{args:[-Tr,0],checker:or}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Ar._translateEmpty,{args:[-Ur,0],checker:or}],[["ArrowRight","mac+ArrowRight"],Ar._translateEmpty,{args:[Tr,0],checker:or}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Ar._translateEmpty,{args:[Ur,0],checker:or}],[["ArrowUp","mac+ArrowUp"],Ar._translateEmpty,{args:[0,-Tr],checker:or}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Ar._translateEmpty,{args:[0,-Ur],checker:or}],[["ArrowDown","mac+ArrowDown"],Ar._translateEmpty,{args:[0,Tr],checker:or}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Ar._translateEmpty,{args:[0,Ur],checker:or}]]))}static initialize(Ar){Re.AnnotationEditor.initialize(Ar,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const or=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(or.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Ar,or){switch(Ar){case Ce.AnnotationEditorParamsType.FREETEXT_SIZE:ir._defaultFontSize=or;break;case Ce.AnnotationEditorParamsType.FREETEXT_COLOR:ir._defaultColor=or;break}}updateParams(Ar,or){switch(Ar){case Ce.AnnotationEditorParamsType.FREETEXT_SIZE:qn(this,Ye,wm).call(this,or);break;case Ce.AnnotationEditorParamsType.FREETEXT_COLOR:qn(this,Ye,xm).call(this,or);break}}static get defaultPropertiesToUpdate(){return[[Ce.AnnotationEditorParamsType.FREETEXT_SIZE,ir._defaultFontSize],[Ce.AnnotationEditorParamsType.FREETEXT_COLOR,ir._defaultColor||Re.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[Ce.AnnotationEditorParamsType.FREETEXT_SIZE,Lr(this,tr)],[Ce.AnnotationEditorParamsType.FREETEXT_COLOR,Lr(this,Ge)]]}_translateEmpty(Ar,or){this._uiManager.translateSelectedEditors(Ar,or,!0)}getInitialTranslation(){const Ar=this.parentScale;return[-ir._internalPadding*Ar,-(ir._internalPadding+Lr(this,tr))*Ar]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(Ce.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Lr(this,Ke)),this.editorDiv.addEventListener("focus",Lr(this,Me)),this.editorDiv.addEventListener("blur",Lr(this,Oe)),this.editorDiv.addEventListener("input",Lr(this,Qe)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Lr(this,Xe)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Lr(this,Ke)),this.editorDiv.removeEventListener("focus",Lr(this,Me)),this.editorDiv.removeEventListener("blur",Lr(this,Oe)),this.editorDiv.removeEventListener("input",Lr(this,Qe)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Ar){this._focusEventsAllowed&&(super.focusin(Ar),Ar.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Ar;if(this.width){qn(this,Ye,rp).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Ar=this._initialOptions)!=null&&Ar.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Ar=Lr(this,qe),or=ti(this,qe,qn(this,Ye,Cm).call(this).trimEnd());if(Ar===or)return;const Tr=Ur=>{if(ti(this,qe,Ur),!Ur){this.remove();return}qn(this,Ye,tp).call(this),this._uiManager.rebuild(this),qn(this,Ye,ch).call(this)};this.addCommands({cmd:()=>{Tr(or)},undo:()=>{Tr(Ar)},mustExec:!1}),qn(this,Ye,ch).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Ar){this.enterInEditMode()}keydown(Ar){Ar.target===this.div&&Ar.key==="Enter"&&(this.enterInEditMode(),Ar.preventDefault())}editorDivKeydown(Ar){ir._keyboardManager.exec(this,Ar)}editorDivFocus(Ar){this.isEditing=!0}editorDivBlur(Ar){this.isEditing=!1}editorDivInput(Ar){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Ar,or;this.width&&(Ar=this.x,or=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Lr(this,Xe)),this.enableEditing(),Re.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Ur=>{var Fr;return(Fr=this.editorDiv)==null?void 0:Fr.setAttribute("aria-label",Ur)}),Re.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Ur=>{var Fr;return(Fr=this.editorDiv)==null?void 0:Fr.setAttribute("default-content",Ur)}),this.editorDiv.contentEditable=!0;const{style:Tr}=this.editorDiv;if(Tr.fontSize=`calc(${Lr(this,tr)}px * var(--scale-factor))`,Tr.color=Lr(this,Ge),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,Te.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Ur,Fr]=this.parentDimensions;if(this.annotationElementId){const{position:Er}=Lr(this,Je);let[jr,Nr]=this.getInitialTranslation();[jr,Nr]=this.pageTranslationToScreen(jr,Nr);const[Br,Mr]=this.pageDimensions,[_r,gr]=this.pageTranslation;let yr,Rr;switch(this.rotation){case 0:yr=Ar+(Er[0]-_r)/Br,Rr=or+this.height-(Er[1]-gr)/Mr;break;case 90:yr=Ar+(Er[0]-_r)/Br,Rr=or-(Er[1]-gr)/Mr,[jr,Nr]=[Nr,-jr];break;case 180:yr=Ar-this.width+(Er[0]-_r)/Br,Rr=or-(Er[1]-gr)/Mr,[jr,Nr]=[-jr,-Nr];break;case 270:yr=Ar+(Er[0]-_r-this.height*Mr)/Br,Rr=or+(Er[1]-gr-this.width*Br)/Mr,[jr,Nr]=[-Nr,jr];break}this.setAt(yr*Ur,Rr*Fr,jr,Nr)}else this.setAt(Ar*Ur,or*Fr,this.width*Ur,this.height*Fr);qn(this,Ye,tp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Ar,or,Tr){let Ur=null;if(Ar instanceof Be.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Er,fontColor:jr},rect:Nr,rotation:Br,id:Mr},textContent:_r,textPosition:gr,parent:{page:{pageNumber:yr}}}=Ar;if(!_r||_r.length===0)return null;Ur=Ar={annotationType:Ce.AnnotationEditorType.FREETEXT,color:Array.from(jr),fontSize:Er,value:_r.join(`
`),position:gr,pageIndex:yr-1,rect:Nr,rotation:Br,id:Mr,deleted:!1}}const Fr=super.deserialize(Ar,or,Tr);return ti(Fr,tr,Ar.fontSize),ti(Fr,Ge,Ce.Util.makeHexColor(...Ar.color)),ti(Fr,qe,Ar.value),Fr.annotationElementId=Ar.id||null,ti(Fr,Je,Ur),Fr}serialize(Ar=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const or=ir._internalPadding*this.parentScale,Tr=this.getRect(or,or),Ur=Re.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Lr(this,Ge)),Fr={annotationType:Ce.AnnotationEditorType.FREETEXT,color:Ur,fontSize:Lr(this,tr),value:Lr(this,qe),pageIndex:this.pageIndex,rect:Tr,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Ar?Fr:this.annotationElementId&&!qn(this,Ye,Sm).call(this,Fr)?null:(Fr.id=this.annotationElementId,Fr)}};Oe=new WeakMap,Me=new WeakMap,Qe=new WeakMap,Ke=new WeakMap,Ge=new WeakMap,qe=new WeakMap,Xe=new WeakMap,tr=new WeakMap,Je=new WeakMap,Ye=new WeakSet,wm=function(Ar){const or=Ur=>{this.editorDiv.style.fontSize=`calc(${Ur}px * var(--scale-factor))`,this.translate(0,-(Ur-Lr(this,tr))*this.parentScale),ti(this,tr,Ur),qn(this,Ye,ch).call(this)},Tr=Lr(this,tr);this.addCommands({cmd:()=>{or(Ar)},undo:()=>{or(Tr)},mustExec:!0,type:Ce.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},xm=function(Ar){const or=Lr(this,Ge);this.addCommands({cmd:()=>{ti(this,Ge,this.editorDiv.style.color=Ar)},undo:()=>{ti(this,Ge,this.editorDiv.style.color=or)},mustExec:!0,type:Ce.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Cm=function(){const Ar=this.editorDiv.getElementsByTagName("div");if(Ar.length===0)return this.editorDiv.innerText;const or=[];for(const Tr of Ar)or.push(Tr.innerText.replace(/\r\n?|\n/,""));return or.join(`
`)},ch=function(){const[Ar,or]=this.parentDimensions;let Tr;if(this.isAttachedToDOM)Tr=this.div.getBoundingClientRect();else{const{currentLayer:Ur,div:Fr}=this,Er=Fr.style.display;Fr.style.display="hidden",Ur.div.append(this.div),Tr=Fr.getBoundingClientRect(),Fr.remove(),Fr.style.display=Er}this.rotation%180===this.parentRotation%180?(this.width=Tr.width/Ar,this.height=Tr.height/or):(this.width=Tr.height/Ar,this.height=Tr.width/or),this.fixAndSetPosition()},tp=function(){if(this.editorDiv.replaceChildren(),!!Lr(this,qe))for(const Ar of Lr(this,qe).split(`
`)){const or=document.createElement("div");or.append(Ar?document.createTextNode(Ar):document.createElement("br")),this.editorDiv.append(or)}},Sm=function(Ar){const{value:or,fontSize:Tr,color:Ur,rect:Fr,pageIndex:Er}=Lr(this,Je);return Ar.value!==or||Ar.fontSize!==Tr||Ar.rect.some((jr,Nr)=>Math.abs(jr-Fr[Nr])>=1)||Ar.color.some((jr,Nr)=>jr!==Ur[Nr])||Ar.pageIndex!==Er},rp=function(Ar=!1){if(!this.annotationElementId)return;if(qn(this,Ye,ch).call(this),!Ar&&(this.width===0||this.height===0)){setTimeout(()=>qn(this,Ye,rp).call(this,!0),0);return}const or=ir._internalPadding*this.parentScale;Lr(this,Je).rect=this.getRect(or,or)},zi(ir,"_freeTextDefaultContent",""),zi(ir,"_internalPadding",0),zi(ir,"_defaultColor",null),zi(ir,"_defaultFontSize",10),zi(ir,"_type","freetext");let Ue=ir;t.FreeTextEditor=Ue}),((Ee,t,n)=>{var Rr,Qr,Nc,Tm,mn,gn,fn,Fn,wn,Yr,Rn,bn,zr,$r,Bn,Pn,jn,Kn,Xn,In,$n,Yn,Rm,Ed,np,ip,An,vn,Sn,wr,Or,Ze,Jr,ap,ze,Cr,kr,rr,Bm,sp;Object.defineProperty(t,"__esModule",{value:!0}),t.StampAnnotationElement=t.InkAnnotationElement=t.FreeTextAnnotationElement=t.AnnotationLayer=void 0;var Ce=n(1),Te=n(6),Re=n(3),Be=n(30),Ue=n(31),Oe=n(32);const Me=1e3,Qe=9,Ke=new WeakSet;function Ge(Dn){return{width:Dn[2]-Dn[0],height:Dn[3]-Dn[1]}}class qe{static create(Gr){switch(Gr.data.annotationType){case Ce.AnnotationType.LINK:return new tr(Gr);case Ce.AnnotationType.TEXT:return new Je(Gr);case Ce.AnnotationType.WIDGET:switch(Gr.data.fieldType){case"Tx":return new lr(Gr);case"Btn":return Gr.data.radioButton?new ur(Gr):Gr.data.checkBox?new hr(Gr):new fr(Gr);case"Ch":return new er(Gr);case"Sig":return new cr(Gr)}return new Ye(Gr);case Ce.AnnotationType.POPUP:return new nr(Gr);case Ce.AnnotationType.FREETEXT:return new mr(Gr);case Ce.AnnotationType.LINE:return new $e(Gr);case Ce.AnnotationType.SQUARE:return new Ar(Gr);case Ce.AnnotationType.CIRCLE:return new or(Gr);case Ce.AnnotationType.POLYLINE:return new Tr(Gr);case Ce.AnnotationType.CARET:return new Fr(Gr);case Ce.AnnotationType.INK:return new Er(Gr);case Ce.AnnotationType.POLYGON:return new Ur(Gr);case Ce.AnnotationType.HIGHLIGHT:return new jr(Gr);case Ce.AnnotationType.UNDERLINE:return new Nr(Gr);case Ce.AnnotationType.SQUIGGLY:return new Br(Gr);case Ce.AnnotationType.STRIKEOUT:return new Mr(Gr);case Ce.AnnotationType.STAMP:return new _r(Gr);case Ce.AnnotationType.FILEATTACHMENT:return new gr(Gr);default:return new Xe(Gr)}}}const Ir=class Ir{constructor(Gr,{isRenderable:Hr=!1,ignoreBorder:dn=!1,createQuadrilaterals:Qn=!1}={}){Jn(this,Rr,!1);this.isRenderable=Hr,this.data=Gr.data,this.layer=Gr.layer,this.linkService=Gr.linkService,this.downloadManager=Gr.downloadManager,this.imageResourcesPath=Gr.imageResourcesPath,this.renderForms=Gr.renderForms,this.svgFactory=Gr.svgFactory,this.annotationStorage=Gr.annotationStorage,this.enableScripting=Gr.enableScripting,this.hasJSActions=Gr.hasJSActions,this._fieldObjects=Gr.fieldObjects,this.parent=Gr.parent,Hr&&(this.container=this._createContainer(dn)),Qn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Gr,contentsObj:Hr,richText:dn}){return!!(Gr!=null&&Gr.str||Hr!=null&&Hr.str||dn!=null&&dn.str)}get hasPopupData(){return Ir._hasPopupData(this.data)}_createContainer(Gr){const{data:Hr,parent:{page:dn,viewport:Qn}}=this,kn=document.createElement("section");kn.setAttribute("data-annotation-id",Hr.id),this instanceof Ye||(kn.tabIndex=Me),kn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&kn.setAttribute("aria-haspopup","dialog"),Hr.noRotate&&kn.classList.add("norotate");const{pageWidth:On,pageHeight:zn,pageX:hi,pageY:pi}=Qn.rawDims;if(!Hr.rect||this instanceof nr){const{rotation:_i}=Hr;return!Hr.hasOwnCanvas&&_i!==0&&this.setRotation(_i,kn),kn}const{width:mi,height:Ni}=Ge(Hr.rect),ui=Ce.Util.normalizeRect([Hr.rect[0],dn.view[3]-Hr.rect[1]+dn.view[1],Hr.rect[2],dn.view[3]-Hr.rect[3]+dn.view[1]]);if(!Gr&&Hr.borderStyle.width>0){kn.style.borderWidth=`${Hr.borderStyle.width}px`;const _i=Hr.borderStyle.horizontalCornerRadius,Fi=Hr.borderStyle.verticalCornerRadius;if(_i>0||Fi>0){const Oi=`calc(${_i}px * var(--scale-factor)) / calc(${Fi}px * var(--scale-factor))`;kn.style.borderRadius=Oi}else if(this instanceof ur){const Oi=`calc(${mi}px * var(--scale-factor)) / calc(${Ni}px * var(--scale-factor))`;kn.style.borderRadius=Oi}switch(Hr.borderStyle.style){case Ce.AnnotationBorderStyleType.SOLID:kn.style.borderStyle="solid";break;case Ce.AnnotationBorderStyleType.DASHED:kn.style.borderStyle="dashed";break;case Ce.AnnotationBorderStyleType.BEVELED:(0,Ce.warn)("Unimplemented border style: beveled");break;case Ce.AnnotationBorderStyleType.INSET:(0,Ce.warn)("Unimplemented border style: inset");break;case Ce.AnnotationBorderStyleType.UNDERLINE:kn.style.borderBottomStyle="solid";break}const Di=Hr.borderColor||null;Di?(ti(this,Rr,!0),kn.style.borderColor=Ce.Util.makeHexColor(Di[0]|0,Di[1]|0,Di[2]|0)):kn.style.borderWidth=0}kn.style.left=`${100*(ui[0]-hi)/On}%`,kn.style.top=`${100*(ui[1]-pi)/zn}%`;const{rotation:yi}=Hr;return Hr.hasOwnCanvas||yi===0?(kn.style.width=`${100*mi/On}%`,kn.style.height=`${100*Ni/zn}%`):this.setRotation(yi,kn),kn}setRotation(Gr,Hr=this.container){if(!this.data.rect)return;const{pageWidth:dn,pageHeight:Qn}=this.parent.viewport.rawDims,{width:kn,height:On}=Ge(this.data.rect);let zn,hi;Gr%180===0?(zn=100*kn/dn,hi=100*On/Qn):(zn=100*On/dn,hi=100*kn/Qn),Hr.style.width=`${zn}%`,Hr.style.height=`${hi}%`,Hr.setAttribute("data-main-rotation",(360-Gr)%360)}get _commonActions(){const Gr=(Hr,dn,Qn)=>{const kn=Qn.detail[Hr],On=kn[0],zn=kn.slice(1);Qn.target.style[dn]=Be.ColorConverters[`${On}_HTML`](zn),this.annotationStorage.setValue(this.data.id,{[dn]:Be.ColorConverters[`${On}_rgb`](zn)})};return(0,Ce.shadow)(this,"_commonActions",{display:Hr=>{const{display:dn}=Hr.detail,Qn=dn%2===1;this.container.style.visibility=Qn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Qn,noPrint:dn===1||dn===2})},print:Hr=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Hr.detail.print})},hidden:Hr=>{const{hidden:dn}=Hr.detail;this.container.style.visibility=dn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:dn,noView:dn})},focus:Hr=>{setTimeout(()=>Hr.target.focus({preventScroll:!1}),0)},userName:Hr=>{Hr.target.title=Hr.detail.userName},readonly:Hr=>{Hr.target.disabled=Hr.detail.readonly},required:Hr=>{this._setRequired(Hr.target,Hr.detail.required)},bgColor:Hr=>{Gr("bgColor","backgroundColor",Hr)},fillColor:Hr=>{Gr("fillColor","backgroundColor",Hr)},fgColor:Hr=>{Gr("fgColor","color",Hr)},textColor:Hr=>{Gr("textColor","color",Hr)},borderColor:Hr=>{Gr("borderColor","borderColor",Hr)},strokeColor:Hr=>{Gr("strokeColor","borderColor",Hr)},rotation:Hr=>{const dn=Hr.detail.rotation;this.setRotation(dn),this.annotationStorage.setValue(this.data.id,{rotation:dn})}})}_dispatchEventFromSandbox(Gr,Hr){const dn=this._commonActions;for(const Qn of Object.keys(Hr.detail)){const kn=Gr[Qn]||dn[Qn];kn==null||kn(Hr)}}_setDefaultPropertiesFromJS(Gr){if(!this.enableScripting)return;const Hr=this.annotationStorage.getRawValue(this.data.id);if(!Hr)return;const dn=this._commonActions;for(const[Qn,kn]of Object.entries(Hr)){const On=dn[Qn];if(On){const zn={detail:{[Qn]:kn},target:Gr};On(zn),delete Hr[Qn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Gr}=this.data;if(!Gr)return;const[Hr,dn,Qn,kn]=this.data.rect;if(Gr.length===1){const[,{x:Fi,y:Di},{x:Oi,y:$i}]=Gr[0];if(Qn===Fi&&kn===Di&&Hr===Oi&&dn===$i)return}const{style:On}=this.container;let zn;if(Lr(this,Rr)){const{borderColor:Fi,borderWidth:Di}=On;On.borderWidth=0,zn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Fi}" stroke-width="${Di}">`],this.container.classList.add("hasBorder")}const hi=Qn-Hr,pi=kn-dn,{svgFactory:mi}=this,Ni=mi.createElement("svg");Ni.classList.add("quadrilateralsContainer"),Ni.setAttribute("width",0),Ni.setAttribute("height",0);const ui=mi.createElement("defs");Ni.append(ui);const yi=mi.createElement("clipPath"),_i=`clippath_${this.data.id}`;yi.setAttribute("id",_i),yi.setAttribute("clipPathUnits","objectBoundingBox"),ui.append(yi);for(const[,{x:Fi,y:Di},{x:Oi,y:$i}]of Gr){const oa=mi.createElement("rect"),Za=(Oi-Hr)/hi,ja=(kn-Di)/pi,Ga=(Fi-Oi)/hi,bo=(Di-$i)/pi;oa.setAttribute("x",Za),oa.setAttribute("y",ja),oa.setAttribute("width",Ga),oa.setAttribute("height",bo),yi.append(oa),zn==null||zn.push(`<rect vector-effect="non-scaling-stroke" x="${Za}" y="${ja}" width="${Ga}" height="${bo}"/>`)}Lr(this,Rr)&&(zn.push("</g></svg>')"),On.backgroundImage=zn.join("")),this.container.append(Ni),this.container.style.clipPath=`url(#${_i})`}_createPopup(){const{container:Gr,data:Hr}=this;Gr.setAttribute("aria-haspopup","dialog");const dn=new nr({data:{color:Hr.color,titleObj:Hr.titleObj,modificationDate:Hr.modificationDate,contentsObj:Hr.contentsObj,richText:Hr.richText,parentRect:Hr.rect,borderStyle:0,id:`popup_${Hr.id}`,rotation:Hr.rotation},parent:this.parent,elements:[this]});this.parent.div.append(dn.render())}render(){(0,Ce.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Gr,Hr=null){const dn=[];if(this._fieldObjects){const Qn=this._fieldObjects[Gr];if(Qn)for(const{page:kn,id:On,exportValues:zn}of Qn){if(kn===-1||On===Hr)continue;const hi=typeof zn=="string"?zn:null,pi=document.querySelector(`[data-element-id="${On}"]`);if(pi&&!Ke.has(pi)){(0,Ce.warn)(`_getElementsByName - element not allowed: ${On}`);continue}dn.push({id:On,exportValue:hi,domElement:pi})}return dn}for(const Qn of document.getElementsByName(Gr)){const{exportValue:kn}=Qn,On=Qn.getAttribute("data-element-id");On!==Hr&&Ke.has(Qn)&&dn.push({id:On,exportValue:kn,domElement:Qn})}return dn}show(){var Gr;this.container&&(this.container.hidden=!1),(Gr=this.popup)==null||Gr.maybeShow()}hide(){var Gr;this.container&&(this.container.hidden=!0),(Gr=this.popup)==null||Gr.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Gr=this.getElementsToTriggerPopup();if(Array.isArray(Gr))for(const Hr of Gr)Hr.classList.add("highlightArea");else Gr.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Gr,data:{id:Hr}}=this;this.container.addEventListener("dblclick",()=>{var dn;(dn=this.linkService.eventBus)==null||dn.dispatch("switchannotationeditormode",{source:this,mode:Gr,editId:Hr})})}};Rr=new WeakMap;let Xe=Ir;class tr extends Xe{constructor(Hr,dn=null){super(Hr,{isRenderable:!0,ignoreBorder:!!(dn!=null&&dn.ignoreBorder),createQuadrilaterals:!0});Jn(this,Qr);this.isTooltipOnly=Hr.data.isTooltipOnly}render(){const{data:Hr,linkService:dn}=this,Qn=document.createElement("a");Qn.setAttribute("data-element-id",Hr.id);let kn=!1;return Hr.url?(dn.addLinkAttributes(Qn,Hr.url,Hr.newWindow),kn=!0):Hr.action?(this._bindNamedAction(Qn,Hr.action),kn=!0):Hr.attachment?(this._bindAttachment(Qn,Hr.attachment),kn=!0):Hr.setOCGState?(qn(this,Qr,Tm).call(this,Qn,Hr.setOCGState),kn=!0):Hr.dest?(this._bindLink(Qn,Hr.dest),kn=!0):(Hr.actions&&(Hr.actions.Action||Hr.actions["Mouse Up"]||Hr.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Qn,Hr),kn=!0),Hr.resetForm?(this._bindResetFormAction(Qn,Hr.resetForm),kn=!0):this.isTooltipOnly&&!kn&&(this._bindLink(Qn,""),kn=!0)),this.container.classList.add("linkAnnotation"),kn&&this.container.append(Qn),this.container}_bindLink(Hr,dn){Hr.href=this.linkService.getDestinationHash(dn),Hr.onclick=()=>(dn&&this.linkService.goToDestination(dn),!1),(dn||dn==="")&&qn(this,Qr,Nc).call(this)}_bindNamedAction(Hr,dn){Hr.href=this.linkService.getAnchorUrl(""),Hr.onclick=()=>(this.linkService.executeNamedAction(dn),!1),qn(this,Qr,Nc).call(this)}_bindAttachment(Hr,dn){Hr.href=this.linkService.getAnchorUrl(""),Hr.onclick=()=>{var Qn;return(Qn=this.downloadManager)==null||Qn.openOrDownloadData(this.container,dn.content,dn.filename),!1},qn(this,Qr,Nc).call(this)}_bindJSAction(Hr,dn){Hr.href=this.linkService.getAnchorUrl("");const Qn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const kn of Object.keys(dn.actions)){const On=Qn.get(kn);On&&(Hr[On]=()=>{var zn;return(zn=this.linkService.eventBus)==null||zn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:dn.id,name:kn}}),!1})}Hr.onclick||(Hr.onclick=()=>!1),qn(this,Qr,Nc).call(this)}_bindResetFormAction(Hr,dn){const Qn=Hr.onclick;if(Qn||(Hr.href=this.linkService.getAnchorUrl("")),qn(this,Qr,Nc).call(this),!this._fieldObjects){(0,Ce.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Qn||(Hr.onclick=()=>!1);return}Hr.onclick=()=>{var Ni;Qn==null||Qn();const{fields:kn,refs:On,include:zn}=dn,hi=[];if(kn.length!==0||On.length!==0){const ui=new Set(On);for(const yi of kn){const _i=this._fieldObjects[yi]||[];for(const{id:Fi}of _i)ui.add(Fi)}for(const yi of Object.values(this._fieldObjects))for(const _i of yi)ui.has(_i.id)===zn&&hi.push(_i)}else for(const ui of Object.values(this._fieldObjects))hi.push(...ui);const pi=this.annotationStorage,mi=[];for(const ui of hi){const{id:yi}=ui;switch(mi.push(yi),ui.type){case"text":{const Fi=ui.defaultValue||"";pi.setValue(yi,{value:Fi});break}case"checkbox":case"radiobutton":{const Fi=ui.defaultValue===ui.exportValues;pi.setValue(yi,{value:Fi});break}case"combobox":case"listbox":{const Fi=ui.defaultValue||"";pi.setValue(yi,{value:Fi});break}default:continue}const _i=document.querySelector(`[data-element-id="${yi}"]`);if(_i){if(!Ke.has(_i)){(0,Ce.warn)(`_bindResetFormAction - element not allowed: ${yi}`);continue}}else continue;_i.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Ni=this.linkService.eventBus)==null||Ni.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:mi,name:"ResetForm"}})),!1}}}Qr=new WeakSet,Nc=function(){this.container.setAttribute("data-internal-link","")},Tm=function(Hr,dn){Hr.href=this.linkService.getAnchorUrl(""),Hr.onclick=()=>(this.linkService.executeSetOCGState(dn),!1),qn(this,Qr,Nc).call(this)};class Je extends Xe{constructor(Gr){super(Gr,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Gr=document.createElement("img");return Gr.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Gr.alt="[{{type}} Annotation]",Gr.dataset.l10nId="text_annotation_type",Gr.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Gr),this.container}}class Ye extends Xe{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Gr){var Hr;this.data.hasOwnCanvas&&(((Hr=Gr.previousSibling)==null?void 0:Hr.nodeName)==="CANVAS"&&(Gr.previousSibling.hidden=!0),Gr.hidden=!1)}_getKeyModifier(Gr){const{isWin:Hr,isMac:dn}=Ce.FeatureTest.platform;return Hr&&Gr.ctrlKey||dn&&Gr.metaKey}_setEventListener(Gr,Hr,dn,Qn,kn){dn.includes("mouse")?Gr.addEventListener(dn,On=>{var zn;(zn=this.linkService.eventBus)==null||zn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Qn,value:kn(On),shift:On.shiftKey,modifier:this._getKeyModifier(On)}})}):Gr.addEventListener(dn,On=>{var zn;if(dn==="blur"){if(!Hr.focused||!On.relatedTarget)return;Hr.focused=!1}else if(dn==="focus"){if(Hr.focused)return;Hr.focused=!0}kn&&((zn=this.linkService.eventBus)==null||zn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Qn,value:kn(On)}}))})}_setEventListeners(Gr,Hr,dn,Qn){var kn,On,zn;for(const[hi,pi]of dn)(pi==="Action"||(kn=this.data.actions)!=null&&kn[pi])&&((pi==="Focus"||pi==="Blur")&&(Hr||(Hr={focused:!1})),this._setEventListener(Gr,Hr,hi,pi,Qn),pi==="Focus"&&!((On=this.data.actions)!=null&&On.Blur)?this._setEventListener(Gr,Hr,"blur","Blur",null):pi==="Blur"&&!((zn=this.data.actions)!=null&&zn.Focus)&&this._setEventListener(Gr,Hr,"focus","Focus",null))}_setBackgroundColor(Gr){const Hr=this.data.backgroundColor||null;Gr.style.backgroundColor=Hr===null?"transparent":Ce.Util.makeHexColor(Hr[0],Hr[1],Hr[2])}_setTextStyle(Gr){const Hr=["left","center","right"],{fontColor:dn}=this.data.defaultAppearanceData,Qn=this.data.defaultAppearanceData.fontSize||Qe,kn=Gr.style;let On;const zn=2,hi=pi=>Math.round(10*pi)/10;if(this.data.multiLine){const pi=Math.abs(this.data.rect[3]-this.data.rect[1]-zn),mi=Math.round(pi/(Ce.LINE_FACTOR*Qn))||1,Ni=pi/mi;On=Math.min(Qn,hi(Ni/Ce.LINE_FACTOR))}else{const pi=Math.abs(this.data.rect[3]-this.data.rect[1]-zn);On=Math.min(Qn,hi(pi/Ce.LINE_FACTOR))}kn.fontSize=`calc(${On}px * var(--scale-factor))`,kn.color=Ce.Util.makeHexColor(dn[0],dn[1],dn[2]),this.data.textAlignment!==null&&(kn.textAlign=Hr[this.data.textAlignment])}_setRequired(Gr,Hr){Hr?Gr.setAttribute("required",!0):Gr.removeAttribute("required"),Gr.setAttribute("aria-required",Hr)}}class lr extends Ye{constructor(Gr){const Hr=Gr.renderForms||!Gr.data.hasAppearance&&!!Gr.data.fieldValue;super(Gr,{isRenderable:Hr})}setPropertyOnSiblings(Gr,Hr,dn,Qn){const kn=this.annotationStorage;for(const On of this._getElementsByName(Gr.name,Gr.id))On.domElement&&(On.domElement[Hr]=dn),kn.setValue(On.id,{[Qn]:dn})}render(){var Qn,kn;const Gr=this.annotationStorage,Hr=this.data.id;this.container.classList.add("textWidgetAnnotation");let dn=null;if(this.renderForms){const On=Gr.getValue(Hr,{value:this.data.fieldValue});let zn=On.value||"";const hi=Gr.getValue(Hr,{charLimit:this.data.maxLen}).charLimit;hi&&zn.length>hi&&(zn=zn.slice(0,hi));let pi=On.formattedValue||((Qn=this.data.textContent)==null?void 0:Qn.join(`
`))||null;pi&&this.data.comb&&(pi=pi.replaceAll(/\s+/g,""));const mi={userValue:zn,formattedValue:pi,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(dn=document.createElement("textarea"),dn.textContent=pi??zn,this.data.doNotScroll&&(dn.style.overflowY="hidden")):(dn=document.createElement("input"),dn.type="text",dn.setAttribute("value",pi??zn),this.data.doNotScroll&&(dn.style.overflowX="hidden")),this.data.hasOwnCanvas&&(dn.hidden=!0),Ke.add(dn),dn.setAttribute("data-element-id",Hr),dn.disabled=this.data.readOnly,dn.name=this.data.fieldName,dn.tabIndex=Me,this._setRequired(dn,this.data.required),hi&&(dn.maxLength=hi),dn.addEventListener("input",ui=>{Gr.setValue(Hr,{value:ui.target.value}),this.setPropertyOnSiblings(dn,"value",ui.target.value,"value"),mi.formattedValue=null}),dn.addEventListener("resetform",ui=>{const yi=this.data.defaultFieldValue??"";dn.value=mi.userValue=yi,mi.formattedValue=null});let Ni=ui=>{const{formattedValue:yi}=mi;yi!=null&&(ui.target.value=yi),ui.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){dn.addEventListener("focus",yi=>{if(mi.focused)return;const{target:_i}=yi;mi.userValue&&(_i.value=mi.userValue),mi.lastCommittedValue=_i.value,mi.commitKey=1,mi.focused=!0}),dn.addEventListener("updatefromsandbox",yi=>{this.showElementAndHideCanvas(yi.target);const _i={value(Fi){mi.userValue=Fi.detail.value??"",Gr.setValue(Hr,{value:mi.userValue.toString()}),Fi.target.value=mi.userValue},formattedValue(Fi){const{formattedValue:Di}=Fi.detail;mi.formattedValue=Di,Di!=null&&Fi.target!==document.activeElement&&(Fi.target.value=Di),Gr.setValue(Hr,{formattedValue:Di})},selRange(Fi){Fi.target.setSelectionRange(...Fi.detail.selRange)},charLimit:Fi=>{var oa;const{charLimit:Di}=Fi.detail,{target:Oi}=Fi;if(Di===0){Oi.removeAttribute("maxLength");return}Oi.setAttribute("maxLength",Di);let $i=mi.userValue;!$i||$i.length<=Di||($i=$i.slice(0,Di),Oi.value=mi.userValue=$i,Gr.setValue(Hr,{value:$i}),(oa=this.linkService.eventBus)==null||oa.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Hr,name:"Keystroke",value:$i,willCommit:!0,commitKey:1,selStart:Oi.selectionStart,selEnd:Oi.selectionEnd}}))}};this._dispatchEventFromSandbox(_i,yi)}),dn.addEventListener("keydown",yi=>{var Di;mi.commitKey=1;let _i=-1;if(yi.key==="Escape"?_i=0:yi.key==="Enter"&&!this.data.multiLine?_i=2:yi.key==="Tab"&&(mi.commitKey=3),_i===-1)return;const{value:Fi}=yi.target;mi.lastCommittedValue!==Fi&&(mi.lastCommittedValue=Fi,mi.userValue=Fi,(Di=this.linkService.eventBus)==null||Di.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Hr,name:"Keystroke",value:Fi,willCommit:!0,commitKey:_i,selStart:yi.target.selectionStart,selEnd:yi.target.selectionEnd}}))});const ui=Ni;Ni=null,dn.addEventListener("blur",yi=>{var Fi;if(!mi.focused||!yi.relatedTarget)return;mi.focused=!1;const{value:_i}=yi.target;mi.userValue=_i,mi.lastCommittedValue!==_i&&((Fi=this.linkService.eventBus)==null||Fi.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Hr,name:"Keystroke",value:_i,willCommit:!0,commitKey:mi.commitKey,selStart:yi.target.selectionStart,selEnd:yi.target.selectionEnd}})),ui(yi)}),(kn=this.data.actions)!=null&&kn.Keystroke&&dn.addEventListener("beforeinput",yi=>{var ja;mi.lastCommittedValue=null;const{data:_i,target:Fi}=yi,{value:Di,selectionStart:Oi,selectionEnd:$i}=Fi;let oa=Oi,Za=$i;switch(yi.inputType){case"deleteWordBackward":{const Ga=Di.substring(0,Oi).match(/\w*[^\w]*$/);Ga&&(oa-=Ga[0].length);break}case"deleteWordForward":{const Ga=Di.substring(Oi).match(/^[^\w]*\w*/);Ga&&(Za+=Ga[0].length);break}case"deleteContentBackward":Oi===$i&&(oa-=1);break;case"deleteContentForward":Oi===$i&&(Za+=1);break}yi.preventDefault(),(ja=this.linkService.eventBus)==null||ja.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Hr,name:"Keystroke",value:Di,change:_i||"",willCommit:!1,selStart:oa,selEnd:Za}})}),this._setEventListeners(dn,mi,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],yi=>yi.target.value)}if(Ni&&dn.addEventListener("blur",Ni),this.data.comb){const yi=(this.data.rect[2]-this.data.rect[0])/hi;dn.classList.add("comb"),dn.style.letterSpacing=`calc(${yi}px * var(--scale-factor) - 1ch)`}}else dn=document.createElement("div"),dn.textContent=this.data.fieldValue,dn.style.verticalAlign="middle",dn.style.display="table-cell";return this._setTextStyle(dn),this._setBackgroundColor(dn),this._setDefaultPropertiesFromJS(dn),this.container.append(dn),this.container}}class cr extends Ye{constructor(Gr){super(Gr,{isRenderable:!!Gr.data.hasOwnCanvas})}}class hr extends Ye{constructor(Gr){super(Gr,{isRenderable:Gr.renderForms})}render(){const Gr=this.annotationStorage,Hr=this.data,dn=Hr.id;let Qn=Gr.getValue(dn,{value:Hr.exportValue===Hr.fieldValue}).value;typeof Qn=="string"&&(Qn=Qn!=="Off",Gr.setValue(dn,{value:Qn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const kn=document.createElement("input");return Ke.add(kn),kn.setAttribute("data-element-id",dn),kn.disabled=Hr.readOnly,this._setRequired(kn,this.data.required),kn.type="checkbox",kn.name=Hr.fieldName,Qn&&kn.setAttribute("checked",!0),kn.setAttribute("exportValue",Hr.exportValue),kn.tabIndex=Me,kn.addEventListener("change",On=>{const{name:zn,checked:hi}=On.target;for(const pi of this._getElementsByName(zn,dn)){const mi=hi&&pi.exportValue===Hr.exportValue;pi.domElement&&(pi.domElement.checked=mi),Gr.setValue(pi.id,{value:mi})}Gr.setValue(dn,{value:hi})}),kn.addEventListener("resetform",On=>{const zn=Hr.defaultFieldValue||"Off";On.target.checked=zn===Hr.exportValue}),this.enableScripting&&this.hasJSActions&&(kn.addEventListener("updatefromsandbox",On=>{const zn={value(hi){hi.target.checked=hi.detail.value!=="Off",Gr.setValue(dn,{value:hi.target.checked})}};this._dispatchEventFromSandbox(zn,On)}),this._setEventListeners(kn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],On=>On.target.checked)),this._setBackgroundColor(kn),this._setDefaultPropertiesFromJS(kn),this.container.append(kn),this.container}}class ur extends Ye{constructor(Gr){super(Gr,{isRenderable:Gr.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Gr=this.annotationStorage,Hr=this.data,dn=Hr.id;let Qn=Gr.getValue(dn,{value:Hr.fieldValue===Hr.buttonValue}).value;typeof Qn=="string"&&(Qn=Qn!==Hr.buttonValue,Gr.setValue(dn,{value:Qn}));const kn=document.createElement("input");if(Ke.add(kn),kn.setAttribute("data-element-id",dn),kn.disabled=Hr.readOnly,this._setRequired(kn,this.data.required),kn.type="radio",kn.name=Hr.fieldName,Qn&&kn.setAttribute("checked",!0),kn.tabIndex=Me,kn.addEventListener("change",On=>{const{name:zn,checked:hi}=On.target;for(const pi of this._getElementsByName(zn,dn))Gr.setValue(pi.id,{value:!1});Gr.setValue(dn,{value:hi})}),kn.addEventListener("resetform",On=>{const zn=Hr.defaultFieldValue;On.target.checked=zn!=null&&zn===Hr.buttonValue}),this.enableScripting&&this.hasJSActions){const On=Hr.buttonValue;kn.addEventListener("updatefromsandbox",zn=>{const hi={value:pi=>{const mi=On===pi.detail.value;for(const Ni of this._getElementsByName(pi.target.name)){const ui=mi&&Ni.id===dn;Ni.domElement&&(Ni.domElement.checked=ui),Gr.setValue(Ni.id,{value:ui})}}};this._dispatchEventFromSandbox(hi,zn)}),this._setEventListeners(kn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],zn=>zn.target.checked)}return this._setBackgroundColor(kn),this._setDefaultPropertiesFromJS(kn),this.container.append(kn),this.container}}class fr extends tr{constructor(Gr){super(Gr,{ignoreBorder:Gr.data.hasAppearance})}render(){const Gr=super.render();Gr.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Gr.title=this.data.alternativeText);const Hr=Gr.lastChild;return this.enableScripting&&this.hasJSActions&&Hr&&(this._setDefaultPropertiesFromJS(Hr),Hr.addEventListener("updatefromsandbox",dn=>{this._dispatchEventFromSandbox({},dn)})),Gr}}class er extends Ye{constructor(Gr){super(Gr,{isRenderable:Gr.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Gr=this.annotationStorage,Hr=this.data.id,dn=Gr.getValue(Hr,{value:this.data.fieldValue}),Qn=document.createElement("select");Ke.add(Qn),Qn.setAttribute("data-element-id",Hr),Qn.disabled=this.data.readOnly,this._setRequired(Qn,this.data.required),Qn.name=this.data.fieldName,Qn.tabIndex=Me;let kn=this.data.combo&&this.data.options.length>0;this.data.combo||(Qn.size=this.data.options.length,this.data.multiSelect&&(Qn.multiple=!0)),Qn.addEventListener("resetform",mi=>{const Ni=this.data.defaultFieldValue;for(const ui of Qn.options)ui.selected=ui.value===Ni});for(const mi of this.data.options){const Ni=document.createElement("option");Ni.textContent=mi.displayValue,Ni.value=mi.exportValue,dn.value.includes(mi.exportValue)&&(Ni.setAttribute("selected",!0),kn=!1),Qn.append(Ni)}let On=null;if(kn){const mi=document.createElement("option");mi.value=" ",mi.setAttribute("hidden",!0),mi.setAttribute("selected",!0),Qn.prepend(mi),On=()=>{mi.remove(),Qn.removeEventListener("input",On),On=null},Qn.addEventListener("input",On)}const zn=mi=>{const Ni=mi?"value":"textContent",{options:ui,multiple:yi}=Qn;return yi?Array.prototype.filter.call(ui,_i=>_i.selected).map(_i=>_i[Ni]):ui.selectedIndex===-1?null:ui[ui.selectedIndex][Ni]};let hi=zn(!1);const pi=mi=>{const Ni=mi.target.options;return Array.prototype.map.call(Ni,ui=>({displayValue:ui.textContent,exportValue:ui.value}))};return this.enableScripting&&this.hasJSActions?(Qn.addEventListener("updatefromsandbox",mi=>{const Ni={value(ui){On==null||On();const yi=ui.detail.value,_i=new Set(Array.isArray(yi)?yi:[yi]);for(const Fi of Qn.options)Fi.selected=_i.has(Fi.value);Gr.setValue(Hr,{value:zn(!0)}),hi=zn(!1)},multipleSelection(ui){Qn.multiple=!0},remove(ui){const yi=Qn.options,_i=ui.detail.remove;yi[_i].selected=!1,Qn.remove(_i),yi.length>0&&Array.prototype.findIndex.call(yi,Di=>Di.selected)===-1&&(yi[0].selected=!0),Gr.setValue(Hr,{value:zn(!0),items:pi(ui)}),hi=zn(!1)},clear(ui){for(;Qn.length!==0;)Qn.remove(0);Gr.setValue(Hr,{value:null,items:[]}),hi=zn(!1)},insert(ui){const{index:yi,displayValue:_i,exportValue:Fi}=ui.detail.insert,Di=Qn.children[yi],Oi=document.createElement("option");Oi.textContent=_i,Oi.value=Fi,Di?Di.before(Oi):Qn.append(Oi),Gr.setValue(Hr,{value:zn(!0),items:pi(ui)}),hi=zn(!1)},items(ui){const{items:yi}=ui.detail;for(;Qn.length!==0;)Qn.remove(0);for(const _i of yi){const{displayValue:Fi,exportValue:Di}=_i,Oi=document.createElement("option");Oi.textContent=Fi,Oi.value=Di,Qn.append(Oi)}Qn.options.length>0&&(Qn.options[0].selected=!0),Gr.setValue(Hr,{value:zn(!0),items:pi(ui)}),hi=zn(!1)},indices(ui){const yi=new Set(ui.detail.indices);for(const _i of ui.target.options)_i.selected=yi.has(_i.index);Gr.setValue(Hr,{value:zn(!0)}),hi=zn(!1)},editable(ui){ui.target.disabled=!ui.detail.editable}};this._dispatchEventFromSandbox(Ni,mi)}),Qn.addEventListener("input",mi=>{var ui;const Ni=zn(!0);Gr.setValue(Hr,{value:Ni}),mi.preventDefault(),(ui=this.linkService.eventBus)==null||ui.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Hr,name:"Keystroke",value:hi,changeEx:Ni,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Qn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],mi=>mi.target.value)):Qn.addEventListener("input",function(mi){Gr.setValue(Hr,{value:zn(!0)})}),this.data.combo&&this._setTextStyle(Qn),this._setBackgroundColor(Qn),this._setDefaultPropertiesFromJS(Qn),this.container.append(Qn),this.container}}class nr extends Xe{constructor(Gr){const{data:Hr,elements:dn}=Gr;super(Gr,{isRenderable:Xe._hasPopupData(Hr)}),this.elements=dn}render(){this.container.classList.add("popupAnnotation");const Gr=new ir({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Hr=[];for(const dn of this.elements)dn.popup=Gr,Hr.push(dn.data.id),dn.addHighlightArea();return this.container.setAttribute("aria-controls",Hr.map(dn=>`${Ce.AnnotationPrefix}${dn}`).join(",")),this.container}}class ir{constructor({container:Gr,color:Hr,elements:dn,titleObj:Qn,modificationDate:kn,contentsObj:On,richText:zn,parent:hi,rect:pi,parentRect:mi,open:Ni}){Jn(this,Yn);Jn(this,mn,null);Jn(this,gn,qn(this,Yn,Rm).bind(this));Jn(this,fn,qn(this,Yn,ip).bind(this));Jn(this,Fn,qn(this,Yn,np).bind(this));Jn(this,wn,qn(this,Yn,Ed).bind(this));Jn(this,Yr,null);Jn(this,Rn,null);Jn(this,bn,null);Jn(this,zr,null);Jn(this,$r,null);Jn(this,Bn,null);Jn(this,Pn,!1);Jn(this,jn,null);Jn(this,Kn,null);Jn(this,Xn,null);Jn(this,In,null);Jn(this,$n,!1);var yi;ti(this,Rn,Gr),ti(this,In,Qn),ti(this,bn,On),ti(this,Xn,zn),ti(this,$r,hi),ti(this,Yr,Hr),ti(this,Kn,pi),ti(this,Bn,mi),ti(this,zr,dn);const ui=Te.PDFDateString.toDateObject(kn);ui&&ti(this,mn,hi.l10n.get("annotation_date_string",{date:ui.toLocaleDateString(),time:ui.toLocaleTimeString()})),this.trigger=dn.flatMap(_i=>_i.getElementsToTriggerPopup());for(const _i of this.trigger)_i.addEventListener("click",Lr(this,wn)),_i.addEventListener("mouseenter",Lr(this,Fn)),_i.addEventListener("mouseleave",Lr(this,fn)),_i.classList.add("popupTriggerArea");for(const _i of dn)(yi=_i.container)==null||yi.addEventListener("keydown",Lr(this,gn));Lr(this,Rn).hidden=!0,Ni&&qn(this,Yn,Ed).call(this)}render(){if(Lr(this,jn))return;const{page:{view:Gr},viewport:{rawDims:{pageWidth:Hr,pageHeight:dn,pageX:Qn,pageY:kn}}}=Lr(this,$r),On=ti(this,jn,document.createElement("div"));if(On.className="popup",Lr(this,Yr)){const oa=On.style.outlineColor=Ce.Util.makeHexColor(...Lr(this,Yr));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?On.style.backgroundColor=`color-mix(in srgb, ${oa} 30%, white)`:On.style.backgroundColor=Ce.Util.makeHexColor(...Lr(this,Yr).map(ja=>Math.floor(.7*(255-ja)+ja)))}const zn=document.createElement("span");zn.className="header";const hi=document.createElement("h1");if(zn.append(hi),{dir:hi.dir,str:hi.textContent}=Lr(this,In),On.append(zn),Lr(this,mn)){const oa=document.createElement("span");oa.classList.add("popupDate"),Lr(this,mn).then(Za=>{oa.textContent=Za}),zn.append(oa)}const pi=Lr(this,bn),mi=Lr(this,Xn);if(mi!=null&&mi.str&&(!(pi!=null&&pi.str)||pi.str===mi.str))Oe.XfaLayer.render({xfaHtml:mi.html,intent:"richText",div:On}),On.lastChild.classList.add("richText","popupContent");else{const oa=this._formatContents(pi);On.append(oa)}let Ni=!!Lr(this,Bn),ui=Ni?Lr(this,Bn):Lr(this,Kn);for(const oa of Lr(this,zr))if(!ui||Ce.Util.intersect(oa.data.rect,ui)!==null){ui=oa.data.rect,Ni=!0;break}const yi=Ce.Util.normalizeRect([ui[0],Gr[3]-ui[1]+Gr[1],ui[2],Gr[3]-ui[3]+Gr[1]]),Fi=Ni?ui[2]-ui[0]+5:0,Di=yi[0]+Fi,Oi=yi[1],{style:$i}=Lr(this,Rn);$i.left=`${100*(Di-Qn)/Hr}%`,$i.top=`${100*(Oi-kn)/dn}%`,Lr(this,Rn).append(On)}_formatContents({str:Gr,dir:Hr}){const dn=document.createElement("p");dn.classList.add("popupContent"),dn.dir=Hr;const Qn=Gr.split(/(?:\r\n?|\n)/);for(let kn=0,On=Qn.length;kn<On;++kn){const zn=Qn[kn];dn.append(document.createTextNode(zn)),kn<On-1&&dn.append(document.createElement("br"))}return dn}forceHide(){ti(this,$n,this.isVisible),Lr(this,$n)&&(Lr(this,Rn).hidden=!0)}maybeShow(){Lr(this,$n)&&(ti(this,$n,!1),Lr(this,Rn).hidden=!1)}get isVisible(){return Lr(this,Rn).hidden===!1}}mn=new WeakMap,gn=new WeakMap,fn=new WeakMap,Fn=new WeakMap,wn=new WeakMap,Yr=new WeakMap,Rn=new WeakMap,bn=new WeakMap,zr=new WeakMap,$r=new WeakMap,Bn=new WeakMap,Pn=new WeakMap,jn=new WeakMap,Kn=new WeakMap,Xn=new WeakMap,In=new WeakMap,$n=new WeakMap,Yn=new WeakSet,Rm=function(Gr){Gr.altKey||Gr.shiftKey||Gr.ctrlKey||Gr.metaKey||(Gr.key==="Enter"||Gr.key==="Escape"&&Lr(this,Pn))&&qn(this,Yn,Ed).call(this)},Ed=function(){ti(this,Pn,!Lr(this,Pn)),Lr(this,Pn)?(qn(this,Yn,np).call(this),Lr(this,Rn).addEventListener("click",Lr(this,wn)),Lr(this,Rn).addEventListener("keydown",Lr(this,gn))):(qn(this,Yn,ip).call(this),Lr(this,Rn).removeEventListener("click",Lr(this,wn)),Lr(this,Rn).removeEventListener("keydown",Lr(this,gn)))},np=function(){Lr(this,jn)||this.render(),this.isVisible?Lr(this,Pn)&&Lr(this,Rn).classList.add("focused"):(Lr(this,Rn).hidden=!1,Lr(this,Rn).style.zIndex=parseInt(Lr(this,Rn).style.zIndex)+1e3)},ip=function(){Lr(this,Rn).classList.remove("focused"),!(Lr(this,Pn)||!this.isVisible)&&(Lr(this,Rn).hidden=!0,Lr(this,Rn).style.zIndex=parseInt(Lr(this,Rn).style.zIndex)-1e3)};class mr extends Xe{constructor(Gr){super(Gr,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Gr.data.textContent,this.textPosition=Gr.data.textPosition,this.annotationEditorType=Ce.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Gr=document.createElement("div");Gr.classList.add("annotationTextContent"),Gr.setAttribute("role","comment");for(const Hr of this.textContent){const dn=document.createElement("span");dn.textContent=Hr,Gr.append(dn)}this.container.append(Gr)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}t.FreeTextAnnotationElement=mr;class $e extends Xe{constructor(Hr){super(Hr,{isRenderable:!0,ignoreBorder:!0});Jn(this,An,null)}render(){this.container.classList.add("lineAnnotation");const Hr=this.data,{width:dn,height:Qn}=Ge(Hr.rect),kn=this.svgFactory.create(dn,Qn,!0),On=ti(this,An,this.svgFactory.createElement("svg:line"));return On.setAttribute("x1",Hr.rect[2]-Hr.lineCoordinates[0]),On.setAttribute("y1",Hr.rect[3]-Hr.lineCoordinates[1]),On.setAttribute("x2",Hr.rect[2]-Hr.lineCoordinates[2]),On.setAttribute("y2",Hr.rect[3]-Hr.lineCoordinates[3]),On.setAttribute("stroke-width",Hr.borderStyle.width||1),On.setAttribute("stroke","transparent"),On.setAttribute("fill","transparent"),kn.append(On),this.container.append(kn),!Hr.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Lr(this,An)}addHighlightArea(){this.container.classList.add("highlightArea")}}An=new WeakMap;class Ar extends Xe{constructor(Hr){super(Hr,{isRenderable:!0,ignoreBorder:!0});Jn(this,vn,null)}render(){this.container.classList.add("squareAnnotation");const Hr=this.data,{width:dn,height:Qn}=Ge(Hr.rect),kn=this.svgFactory.create(dn,Qn,!0),On=Hr.borderStyle.width,zn=ti(this,vn,this.svgFactory.createElement("svg:rect"));return zn.setAttribute("x",On/2),zn.setAttribute("y",On/2),zn.setAttribute("width",dn-On),zn.setAttribute("height",Qn-On),zn.setAttribute("stroke-width",On||1),zn.setAttribute("stroke","transparent"),zn.setAttribute("fill","transparent"),kn.append(zn),this.container.append(kn),!Hr.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Lr(this,vn)}addHighlightArea(){this.container.classList.add("highlightArea")}}vn=new WeakMap;class or extends Xe{constructor(Hr){super(Hr,{isRenderable:!0,ignoreBorder:!0});Jn(this,Sn,null)}render(){this.container.classList.add("circleAnnotation");const Hr=this.data,{width:dn,height:Qn}=Ge(Hr.rect),kn=this.svgFactory.create(dn,Qn,!0),On=Hr.borderStyle.width,zn=ti(this,Sn,this.svgFactory.createElement("svg:ellipse"));return zn.setAttribute("cx",dn/2),zn.setAttribute("cy",Qn/2),zn.setAttribute("rx",dn/2-On/2),zn.setAttribute("ry",Qn/2-On/2),zn.setAttribute("stroke-width",On||1),zn.setAttribute("stroke","transparent"),zn.setAttribute("fill","transparent"),kn.append(zn),this.container.append(kn),!Hr.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Lr(this,Sn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sn=new WeakMap;class Tr extends Xe{constructor(Hr){super(Hr,{isRenderable:!0,ignoreBorder:!0});Jn(this,wr,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Hr=this.data,{width:dn,height:Qn}=Ge(Hr.rect),kn=this.svgFactory.create(dn,Qn,!0);let On=[];for(const hi of Hr.vertices){const pi=hi.x-Hr.rect[0],mi=Hr.rect[3]-hi.y;On.push(pi+","+mi)}On=On.join(" ");const zn=ti(this,wr,this.svgFactory.createElement(this.svgElementName));return zn.setAttribute("points",On),zn.setAttribute("stroke-width",Hr.borderStyle.width||1),zn.setAttribute("stroke","transparent"),zn.setAttribute("fill","transparent"),kn.append(zn),this.container.append(kn),!Hr.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Lr(this,wr)}addHighlightArea(){this.container.classList.add("highlightArea")}}wr=new WeakMap;class Ur extends Tr{constructor(Gr){super(Gr),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Fr extends Xe{constructor(Gr){super(Gr,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Er extends Xe{constructor(Hr){super(Hr,{isRenderable:!0,ignoreBorder:!0});Jn(this,Or,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Ce.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Hr=this.data,{width:dn,height:Qn}=Ge(Hr.rect),kn=this.svgFactory.create(dn,Qn,!0);for(const On of Hr.inkLists){let zn=[];for(const pi of On){const mi=pi.x-Hr.rect[0],Ni=Hr.rect[3]-pi.y;zn.push(`${mi},${Ni}`)}zn=zn.join(" ");const hi=this.svgFactory.createElement(this.svgElementName);Lr(this,Or).push(hi),hi.setAttribute("points",zn),hi.setAttribute("stroke-width",Hr.borderStyle.width||1),hi.setAttribute("stroke","transparent"),hi.setAttribute("fill","transparent"),!Hr.popupRef&&this.hasPopupData&&this._createPopup(),kn.append(hi)}return this.container.append(kn),this.container}getElementsToTriggerPopup(){return Lr(this,Or)}addHighlightArea(){this.container.classList.add("highlightArea")}}Or=new WeakMap,t.InkAnnotationElement=Er;class jr extends Xe{constructor(Gr){super(Gr,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Nr extends Xe{constructor(Gr){super(Gr,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Br extends Xe{constructor(Gr){super(Gr,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Mr extends Xe{constructor(Gr){super(Gr,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class _r extends Xe{constructor(Gr){super(Gr,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}t.StampAnnotationElement=_r;class gr extends Xe{constructor(Hr){var kn;super(Hr,{isRenderable:!0});Jn(this,Jr);Jn(this,Ze,null);const{filename:dn,content:Qn}=this.data.file;this.filename=(0,Te.getFilenameFromUrl)(dn,!0),this.content=Qn,(kn=this.linkService.eventBus)==null||kn.dispatch("fileattachmentannotation",{source:this,filename:dn,content:Qn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Hr,data:dn}=this;let Qn;dn.hasAppearance||dn.fillAlpha===0?Qn=document.createElement("div"):(Qn=document.createElement("img"),Qn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(dn.name)?"paperclip":"pushpin"}.svg`,dn.fillAlpha&&dn.fillAlpha<1&&(Qn.style=`filter: opacity(${Math.round(dn.fillAlpha*100)}%);`)),Qn.addEventListener("dblclick",qn(this,Jr,ap).bind(this)),ti(this,Ze,Qn);const{isMac:kn}=Ce.FeatureTest.platform;return Hr.addEventListener("keydown",On=>{On.key==="Enter"&&(kn?On.metaKey:On.ctrlKey)&&qn(this,Jr,ap).call(this)}),!dn.popupRef&&this.hasPopupData?this._createPopup():Qn.classList.add("popupTriggerArea"),Hr.append(Qn),Hr}getElementsToTriggerPopup(){return Lr(this,Ze)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ze=new WeakMap,Jr=new WeakSet,ap=function(){var Hr;(Hr=this.downloadManager)==null||Hr.openOrDownloadData(this.container,this.content,this.filename)};class yr{constructor({div:Gr,accessibilityManager:Hr,annotationCanvasMap:dn,l10n:Qn,page:kn,viewport:On}){Jn(this,rr);Jn(this,ze,null);Jn(this,Cr,null);Jn(this,kr,new Map);this.div=Gr,ti(this,ze,Hr),ti(this,Cr,dn),this.l10n=Qn,this.page=kn,this.viewport=On,this.zIndex=0,this.l10n||(this.l10n=Ue.NullL10n)}async render(Gr){const{annotations:Hr}=Gr,dn=this.div;(0,Te.setLayerDimensions)(dn,this.viewport);const Qn=new Map,kn={data:null,layer:dn,linkService:Gr.linkService,downloadManager:Gr.downloadManager,imageResourcesPath:Gr.imageResourcesPath||"",renderForms:Gr.renderForms!==!1,svgFactory:new Te.DOMSVGFactory,annotationStorage:Gr.annotationStorage||new Re.AnnotationStorage,enableScripting:Gr.enableScripting===!0,hasJSActions:Gr.hasJSActions,fieldObjects:Gr.fieldObjects,parent:this,elements:null};for(const On of Hr){if(On.noHTML)continue;const zn=On.annotationType===Ce.AnnotationType.POPUP;if(zn){const mi=Qn.get(On.id);if(!mi)continue;kn.elements=mi}else{const{width:mi,height:Ni}=Ge(On.rect);if(mi<=0||Ni<=0)continue}kn.data=On;const hi=qe.create(kn);if(!hi.isRenderable)continue;if(!zn&&On.popupRef){const mi=Qn.get(On.popupRef);mi?mi.push(hi):Qn.set(On.popupRef,[hi])}hi.annotationEditorType>0&&Lr(this,kr).set(hi.data.id,hi);const pi=hi.render();On.hidden&&(pi.style.visibility="hidden"),qn(this,rr,Bm).call(this,pi,On.id)}qn(this,rr,sp).call(this),await this.l10n.translate(dn)}update({viewport:Gr}){const Hr=this.div;this.viewport=Gr,(0,Te.setLayerDimensions)(Hr,{rotation:Gr.rotation}),qn(this,rr,sp).call(this),Hr.hidden=!1}getEditableAnnotations(){return Array.from(Lr(this,kr).values())}getEditableAnnotation(Gr){return Lr(this,kr).get(Gr)}}ze=new WeakMap,Cr=new WeakMap,kr=new WeakMap,rr=new WeakSet,Bm=function(Gr,Hr){var Qn;const dn=Gr.firstChild||Gr;dn.id=`${Ce.AnnotationPrefix}${Hr}`,this.div.append(Gr),(Qn=Lr(this,ze))==null||Qn.moveElementInDOM(this.div,Gr,dn,!1)},sp=function(){if(!Lr(this,Cr))return;const Gr=this.div;for(const[Hr,dn]of Lr(this,Cr)){const Qn=Gr.querySelector(`[data-annotation-id="${Hr}"]`);if(!Qn)continue;const{firstChild:kn}=Qn;kn?kn.nodeName==="CANVAS"?kn.replaceWith(dn):kn.before(dn):Qn.append(dn)}Lr(this,Cr).clear()},t.AnnotationLayer=yr}),((Ee,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;function n(Re){return Math.floor(Math.max(0,Math.min(1,Re))*255).toString(16).padStart(2,"0")}function Ce(Re){return Math.max(0,Math.min(255,255*Re))}class Te{static CMYK_G([Be,Ue,Oe,Me]){return["G",1-Math.min(1,.3*Be+.59*Oe+.11*Ue+Me)]}static G_CMYK([Be]){return["CMYK",0,0,0,1-Be]}static G_RGB([Be]){return["RGB",Be,Be,Be]}static G_rgb([Be]){return Be=Ce(Be),[Be,Be,Be]}static G_HTML([Be]){const Ue=n(Be);return`#${Ue}${Ue}${Ue}`}static RGB_G([Be,Ue,Oe]){return["G",.3*Be+.59*Ue+.11*Oe]}static RGB_rgb(Be){return Be.map(Ce)}static RGB_HTML(Be){return`#${Be.map(n).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Be,Ue,Oe,Me]){return["RGB",1-Math.min(1,Be+Me),1-Math.min(1,Oe+Me),1-Math.min(1,Ue+Me)]}static CMYK_rgb([Be,Ue,Oe,Me]){return[Ce(1-Math.min(1,Be+Me)),Ce(1-Math.min(1,Oe+Me)),Ce(1-Math.min(1,Ue+Me))]}static CMYK_HTML(Be){const Ue=this.CMYK_RGB(Be).slice(1);return this.RGB_HTML(Ue)}static RGB_CMYK([Be,Ue,Oe]){const Me=1-Be,Qe=1-Ue,Ke=1-Oe,Ge=Math.min(Me,Qe,Ke);return["CMYK",Me,Qe,Ke,Ge]}}t.ColorConverters=Te}),((Ee,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NullL10n=void 0,t.getL10nFallback=Ce;const n={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};n.print_progress_percent="{{progress}}%";function Ce(Be,Ue){switch(Be){case"find_match_count":Be=`find_match_count[${Ue.total===1?"one":"other"}]`;break;case"find_match_count_limit":Be=`find_match_count_limit[${Ue.limit===1?"one":"other"}]`;break}return n[Be]||""}function Te(Be,Ue){return Ue?Be.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(Oe,Me)=>Me in Ue?Ue[Me]:"{{"+Me+"}}"):Be}const Re={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Be,Ue=null,Oe=Ce(Be,Ue)){return Te(Oe,Ue)},async translate(Be){}};t.NullL10n=Re}),((Ee,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var Ce=n(25);class Te{static setupStorage(Be,Ue,Oe,Me,Qe){const Ke=Me.getValue(Ue,{value:null});switch(Oe.name){case"textarea":if(Ke.value!==null&&(Be.textContent=Ke.value),Qe==="print")break;Be.addEventListener("input",Ge=>{Me.setValue(Ue,{value:Ge.target.value})});break;case"input":if(Oe.attributes.type==="radio"||Oe.attributes.type==="checkbox"){if(Ke.value===Oe.attributes.xfaOn?Be.setAttribute("checked",!0):Ke.value===Oe.attributes.xfaOff&&Be.removeAttribute("checked"),Qe==="print")break;Be.addEventListener("change",Ge=>{Me.setValue(Ue,{value:Ge.target.checked?Ge.target.getAttribute("xfaOn"):Ge.target.getAttribute("xfaOff")})})}else{if(Ke.value!==null&&Be.setAttribute("value",Ke.value),Qe==="print")break;Be.addEventListener("input",Ge=>{Me.setValue(Ue,{value:Ge.target.value})})}break;case"select":if(Ke.value!==null){Be.setAttribute("value",Ke.value);for(const Ge of Oe.children)Ge.attributes.value===Ke.value?Ge.attributes.selected=!0:Ge.attributes.hasOwnProperty("selected")&&delete Ge.attributes.selected}Be.addEventListener("input",Ge=>{const qe=Ge.target.options,Xe=qe.selectedIndex===-1?"":qe[qe.selectedIndex].value;Me.setValue(Ue,{value:Xe})});break}}static setAttributes({html:Be,element:Ue,storage:Oe=null,intent:Me,linkService:Qe}){const{attributes:Ke}=Ue,Ge=Be instanceof HTMLAnchorElement;Ke.type==="radio"&&(Ke.name=`${Ke.name}-${Me}`);for(const[qe,Xe]of Object.entries(Ke))if(Xe!=null)switch(qe){case"class":Xe.length&&Be.setAttribute(qe,Xe.join(" "));break;case"dataId":break;case"id":Be.setAttribute("data-element-id",Xe);break;case"style":Object.assign(Be.style,Xe);break;case"textContent":Be.textContent=Xe;break;default:(!Ge||qe!=="href"&&qe!=="newWindow")&&Be.setAttribute(qe,Xe)}Ge&&Qe.addLinkAttributes(Be,Ke.href,Ke.newWindow),Oe&&Ke.dataId&&this.setupStorage(Be,Ke.dataId,Ue,Oe)}static render(Be){var tr;const Ue=Be.annotationStorage,Oe=Be.linkService,Me=Be.xfaHtml,Qe=Be.intent||"display",Ke=document.createElement(Me.name);Me.attributes&&this.setAttributes({html:Ke,element:Me,intent:Qe,linkService:Oe});const Ge=[[Me,-1,Ke]],qe=Be.div;if(qe.append(Ke),Be.viewport){const Je=`matrix(${Be.viewport.transform.join(",")})`;qe.style.transform=Je}Qe!=="richText"&&qe.setAttribute("class","xfaLayer xfaFont");const Xe=[];for(;Ge.length>0;){const[Je,Ye,lr]=Ge.at(-1);if(Ye+1===Je.children.length){Ge.pop();continue}const cr=Je.children[++Ge.at(-1)[1]];if(cr===null)continue;const{name:hr}=cr;if(hr==="#text"){const fr=document.createTextNode(cr.value);Xe.push(fr),lr.append(fr);continue}const ur=(tr=cr==null?void 0:cr.attributes)!=null&&tr.xmlns?document.createElementNS(cr.attributes.xmlns,hr):document.createElement(hr);if(lr.append(ur),cr.attributes&&this.setAttributes({html:ur,element:cr,storage:Ue,intent:Qe,linkService:Oe}),cr.children&&cr.children.length>0)Ge.push([cr,-1,ur]);else if(cr.value){const fr=document.createTextNode(cr.value);Ce.XfaText.shouldBuildText(hr)&&Xe.push(fr),ur.append(fr)}}for(const Je of qe.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Je.setAttribute("readOnly",!0);return{textDivs:Xe}}static update(Be){const Ue=`matrix(${Be.viewport.transform.join(",")})`;Be.div.style.transform=Ue,Be.div.hidden=!1}}t.XfaLayer=Te}),((Ee,t,n)=>{var Me,Qe,Ke,Ge,qe,Xe,tr,Je,Ye,lr,cr,hr,ur,fr,er,Pm,Fm,Im,Dm,op,Nm,lp,Um,Lm,Om,km,Mm,IA,Ap,bd,wd,du,cp,xd,Qr,jm,up,Vm,Qm,hp,Cd,fu;Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0;var Ce=n(1),Te=n(4),Re=n(29),Be=n(6),Ue=n(5);const Yr=class Yr extends Te.AnnotationEditor{constructor(zr){super({...zr,name:"inkEditor"});Jn(this,er);Jn(this,Me,0);Jn(this,Qe,0);Jn(this,Ke,this.canvasPointermove.bind(this));Jn(this,Ge,this.canvasPointerleave.bind(this));Jn(this,qe,this.canvasPointerup.bind(this));Jn(this,Xe,this.canvasPointerdown.bind(this));Jn(this,tr,new Path2D);Jn(this,Je,!1);Jn(this,Ye,!1);Jn(this,lr,!1);Jn(this,cr,null);Jn(this,hr,0);Jn(this,ur,0);Jn(this,fr,null);this.color=zr.color||null,this.thickness=zr.thickness||null,this.opacity=zr.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(zr){Te.AnnotationEditor.initialize(zr,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(zr,$r){switch(zr){case Ce.AnnotationEditorParamsType.INK_THICKNESS:Yr._defaultThickness=$r;break;case Ce.AnnotationEditorParamsType.INK_COLOR:Yr._defaultColor=$r;break;case Ce.AnnotationEditorParamsType.INK_OPACITY:Yr._defaultOpacity=$r/100;break}}updateParams(zr,$r){switch(zr){case Ce.AnnotationEditorParamsType.INK_THICKNESS:qn(this,er,Pm).call(this,$r);break;case Ce.AnnotationEditorParamsType.INK_COLOR:qn(this,er,Fm).call(this,$r);break;case Ce.AnnotationEditorParamsType.INK_OPACITY:qn(this,er,Im).call(this,$r);break}}static get defaultPropertiesToUpdate(){return[[Ce.AnnotationEditorParamsType.INK_THICKNESS,Yr._defaultThickness],[Ce.AnnotationEditorParamsType.INK_COLOR,Yr._defaultColor||Te.AnnotationEditor._defaultLineColor],[Ce.AnnotationEditorParamsType.INK_OPACITY,Math.round(Yr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Ce.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Yr._defaultThickness],[Ce.AnnotationEditorParamsType.INK_COLOR,this.color||Yr._defaultColor||Te.AnnotationEditor._defaultLineColor],[Ce.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Yr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(qn(this,er,bd).call(this),qn(this,er,wd).call(this)),this.isAttachedToDOM||(this.parent.add(this),qn(this,er,du).call(this)),qn(this,er,fu).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Lr(this,cr).disconnect(),ti(this,cr,null),super.remove())}setParent(zr){!this.parent&&zr?this._uiManager.removeShouldRescale(this):this.parent&&zr===null&&this._uiManager.addShouldRescale(this),super.setParent(zr)}onScaleChanging(){const[zr,$r]=this.parentDimensions,Bn=this.width*zr,Pn=this.height*$r;this.setDimensions(Bn,Pn)}enableEditMode(){Lr(this,Je)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Lr(this,Xe)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Lr(this,Xe)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Lr(this,Je)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ti(this,Je,!0),this.div.classList.add("disabled"),qn(this,er,fu).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(zr){this._focusEventsAllowed&&(super.focusin(zr),this.enableEditMode())}canvasPointerdown(zr){zr.button!==0||!this.isInEditMode()||Lr(this,Je)||(this.setInForeground(),zr.preventDefault(),zr.type!=="mouse"&&this.div.focus(),qn(this,er,Nm).call(this,zr.offsetX,zr.offsetY))}canvasPointermove(zr){zr.preventDefault(),qn(this,er,lp).call(this,zr.offsetX,zr.offsetY)}canvasPointerup(zr){zr.preventDefault(),qn(this,er,Ap).call(this,zr)}canvasPointerleave(zr){qn(this,er,Ap).call(this,zr)}get isResizable(){return!this.isEmpty()&&Lr(this,Je)}render(){if(this.div)return this.div;let zr,$r;this.width&&(zr=this.x,$r=this.y),super.render(),Te.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Xn=>{var In;return(In=this.div)==null?void 0:In.setAttribute("aria-label",Xn)});const[Bn,Pn,jn,Kn]=qn(this,er,Dm).call(this);if(this.setAt(Bn,Pn,0,0),this.setDims(jn,Kn),qn(this,er,bd).call(this),this.width){const[Xn,In]=this.parentDimensions;this.setAspectRatio(this.width*Xn,this.height*In),this.setAt(zr*Xn,$r*In,this.width*Xn,this.height*In),ti(this,lr,!0),qn(this,er,du).call(this),this.setDims(this.width*Xn,this.height*In),qn(this,er,IA).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return qn(this,er,wd).call(this),this.div}setDimensions(zr,$r){const Bn=Math.round(zr),Pn=Math.round($r);if(Lr(this,hr)===Bn&&Lr(this,ur)===Pn)return;ti(this,hr,Bn),ti(this,ur,Pn),this.canvas.style.visibility="hidden";const[jn,Kn]=this.parentDimensions;this.width=zr/jn,this.height=$r/Kn,this.fixAndSetPosition(),Lr(this,Je)&&qn(this,er,cp).call(this,zr,$r),qn(this,er,du).call(this),qn(this,er,IA).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(zr,$r,Bn){var An,vn,Sn;if(zr instanceof Re.InkAnnotationElement)return null;const Pn=super.deserialize(zr,$r,Bn);Pn.thickness=zr.thickness,Pn.color=Ce.Util.makeHexColor(...zr.color),Pn.opacity=zr.opacity;const[jn,Kn]=Pn.pageDimensions,Xn=Pn.width*jn,In=Pn.height*Kn,$n=Pn.parentScale,Yn=zr.thickness/2;ti(Pn,Je,!0),ti(Pn,hr,Math.round(Xn)),ti(Pn,ur,Math.round(In));const{paths:si,rect:ai,rotation:Ci}=zr;for(let{bezier:wr}of si){wr=qn(An=Yr,Qr,Vm).call(An,wr,ai,Ci);const Or=[];Pn.paths.push(Or);let Ze=$n*(wr[0]-Yn),Jr=$n*(wr[1]-Yn);for(let ze=2,Cr=wr.length;ze<Cr;ze+=6){const kr=$n*(wr[ze]-Yn),rr=$n*(wr[ze+1]-Yn),xr=$n*(wr[ze+2]-Yn),Kr=$n*(wr[ze+3]-Yn),Dn=$n*(wr[ze+4]-Yn),Gr=$n*(wr[ze+5]-Yn);Or.push([[Ze,Jr],[kr,rr],[xr,Kr],[Dn,Gr]]),Ze=Dn,Jr=Gr}const Mn=qn(this,Qr,jm).call(this,Or);Pn.bezierPath2D.push(Mn)}const dr=qn(vn=Pn,er,hp).call(vn);return ti(Pn,Qe,Math.max(Te.AnnotationEditor.MIN_SIZE,dr[2]-dr[0])),ti(Pn,Me,Math.max(Te.AnnotationEditor.MIN_SIZE,dr[3]-dr[1])),qn(Sn=Pn,er,cp).call(Sn,Xn,In),Pn}serialize(){if(this.isEmpty())return null;const zr=this.getRect(0,0),$r=Te.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Ce.AnnotationEditorType.INK,color:$r,thickness:this.thickness,opacity:this.opacity,paths:qn(this,er,Qm).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,zr),pageIndex:this.pageIndex,rect:zr,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Me=new WeakMap,Qe=new WeakMap,Ke=new WeakMap,Ge=new WeakMap,qe=new WeakMap,Xe=new WeakMap,tr=new WeakMap,Je=new WeakMap,Ye=new WeakMap,lr=new WeakMap,cr=new WeakMap,hr=new WeakMap,ur=new WeakMap,fr=new WeakMap,er=new WeakSet,Pm=function(zr){const $r=this.thickness;this.addCommands({cmd:()=>{this.thickness=zr,qn(this,er,fu).call(this)},undo:()=>{this.thickness=$r,qn(this,er,fu).call(this)},mustExec:!0,type:Ce.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Fm=function(zr){const $r=this.color;this.addCommands({cmd:()=>{this.color=zr,qn(this,er,IA).call(this)},undo:()=>{this.color=$r,qn(this,er,IA).call(this)},mustExec:!0,type:Ce.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Im=function(zr){zr/=100;const $r=this.opacity;this.addCommands({cmd:()=>{this.opacity=zr,qn(this,er,IA).call(this)},undo:()=>{this.opacity=$r,qn(this,er,IA).call(this)},mustExec:!0,type:Ce.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Dm=function(){const{parentRotation:zr,parentDimensions:[$r,Bn]}=this;switch(zr){case 90:return[0,Bn,Bn,$r];case 180:return[$r,Bn,$r,Bn];case 270:return[$r,0,Bn,$r];default:return[0,0,$r,Bn]}},op=function(){const{ctx:zr,color:$r,opacity:Bn,thickness:Pn,parentScale:jn,scaleFactor:Kn}=this;zr.lineWidth=Pn*jn/Kn,zr.lineCap="round",zr.lineJoin="round",zr.miterLimit=10,zr.strokeStyle=`${$r}${(0,Ue.opacityToHex)(Bn)}`},Nm=function(zr,$r){this.canvas.addEventListener("contextmenu",Be.noContextMenu),this.canvas.addEventListener("pointerleave",Lr(this,Ge)),this.canvas.addEventListener("pointermove",Lr(this,Ke)),this.canvas.addEventListener("pointerup",Lr(this,qe)),this.canvas.removeEventListener("pointerdown",Lr(this,Xe)),this.isEditing=!0,Lr(this,lr)||(ti(this,lr,!0),qn(this,er,du).call(this),this.thickness||(this.thickness=Yr._defaultThickness),this.color||(this.color=Yr._defaultColor||Te.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Yr._defaultOpacity)),this.currentPath.push([zr,$r]),ti(this,Ye,!1),qn(this,er,op).call(this),ti(this,fr,()=>{qn(this,er,Om).call(this),Lr(this,fr)&&window.requestAnimationFrame(Lr(this,fr))}),window.requestAnimationFrame(Lr(this,fr))},lp=function(zr,$r){const[Bn,Pn]=this.currentPath.at(-1);if(this.currentPath.length>1&&zr===Bn&&$r===Pn)return;const jn=this.currentPath;let Kn=Lr(this,tr);if(jn.push([zr,$r]),ti(this,Ye,!0),jn.length<=2){Kn.moveTo(...jn[0]),Kn.lineTo(zr,$r);return}jn.length===3&&(ti(this,tr,Kn=new Path2D),Kn.moveTo(...jn[0])),qn(this,er,km).call(this,Kn,...jn.at(-3),...jn.at(-2),zr,$r)},Um=function(){if(this.currentPath.length===0)return;const zr=this.currentPath.at(-1);Lr(this,tr).lineTo(...zr)},Lm=function(zr,$r){ti(this,fr,null),zr=Math.min(Math.max(zr,0),this.canvas.width),$r=Math.min(Math.max($r,0),this.canvas.height),qn(this,er,lp).call(this,zr,$r),qn(this,er,Um).call(this);let Bn;if(this.currentPath.length!==1)Bn=qn(this,er,Mm).call(this);else{const In=[zr,$r];Bn=[[In,In.slice(),In.slice(),In]]}const Pn=Lr(this,tr),jn=this.currentPath;this.currentPath=[],ti(this,tr,new Path2D);const Kn=()=>{this.allRawPaths.push(jn),this.paths.push(Bn),this.bezierPath2D.push(Pn),this.rebuild()},Xn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(qn(this,er,bd).call(this),qn(this,er,wd).call(this)),qn(this,er,fu).call(this))};this.addCommands({cmd:Kn,undo:Xn,mustExec:!0})},Om=function(){if(!Lr(this,Ye))return;ti(this,Ye,!1);const zr=Math.ceil(this.thickness*this.parentScale),$r=this.currentPath.slice(-3),Bn=$r.map(Kn=>Kn[0]),Pn=$r.map(Kn=>Kn[1]);Math.min(...Bn)-zr,Math.max(...Bn)+zr,Math.min(...Pn)-zr,Math.max(...Pn)+zr;const{ctx:jn}=this;jn.save(),jn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Kn of this.bezierPath2D)jn.stroke(Kn);jn.stroke(Lr(this,tr)),jn.restore()},km=function(zr,$r,Bn,Pn,jn,Kn,Xn){const In=($r+Pn)/2,$n=(Bn+jn)/2,Yn=(Pn+Kn)/2,si=(jn+Xn)/2;zr.bezierCurveTo(In+2*(Pn-In)/3,$n+2*(jn-$n)/3,Yn+2*(Pn-Yn)/3,si+2*(jn-si)/3,Yn,si)},Mm=function(){const zr=this.currentPath;if(zr.length<=2)return[[zr[0],zr[0],zr.at(-1),zr.at(-1)]];const $r=[];let Bn,[Pn,jn]=zr[0];for(Bn=1;Bn<zr.length-2;Bn++){const[ai,Ci]=zr[Bn],[dr,An]=zr[Bn+1],vn=(ai+dr)/2,Sn=(Ci+An)/2,wr=[Pn+2*(ai-Pn)/3,jn+2*(Ci-jn)/3],Or=[vn+2*(ai-vn)/3,Sn+2*(Ci-Sn)/3];$r.push([[Pn,jn],wr,Or,[vn,Sn]]),[Pn,jn]=[vn,Sn]}const[Kn,Xn]=zr[Bn],[In,$n]=zr[Bn+1],Yn=[Pn+2*(Kn-Pn)/3,jn+2*(Xn-jn)/3],si=[In+2*(Kn-In)/3,$n+2*(Xn-$n)/3];return $r.push([[Pn,jn],Yn,si,[In,$n]]),$r},IA=function(){if(this.isEmpty()){qn(this,er,xd).call(this);return}qn(this,er,op).call(this);const{canvas:zr,ctx:$r}=this;$r.setTransform(1,0,0,1,0,0),$r.clearRect(0,0,zr.width,zr.height),qn(this,er,xd).call(this);for(const Bn of this.bezierPath2D)$r.stroke(Bn)},Ap=function(zr){this.canvas.removeEventListener("pointerleave",Lr(this,Ge)),this.canvas.removeEventListener("pointermove",Lr(this,Ke)),this.canvas.removeEventListener("pointerup",Lr(this,qe)),this.canvas.addEventListener("pointerdown",Lr(this,Xe)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Be.noContextMenu)},10),qn(this,er,Lm).call(this,zr.offsetX,zr.offsetY),this.addToAnnotationStorage(),this.setInBackground()},bd=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Te.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(zr=>{var $r;return($r=this.canvas)==null?void 0:$r.setAttribute("aria-label",zr)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},wd=function(){ti(this,cr,new ResizeObserver(zr=>{const $r=zr[0].contentRect;$r.width&&$r.height&&this.setDimensions($r.width,$r.height)})),Lr(this,cr).observe(this.div)},du=function(){if(!Lr(this,lr))return;const[zr,$r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*zr),this.canvas.height=Math.ceil(this.height*$r),qn(this,er,xd).call(this)},cp=function(zr,$r){const Bn=qn(this,er,Cd).call(this),Pn=(zr-Bn)/Lr(this,Qe),jn=($r-Bn)/Lr(this,Me);this.scaleFactor=Math.min(Pn,jn)},xd=function(){const zr=qn(this,er,Cd).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+zr,this.translationY*this.scaleFactor+zr)},Qr=new WeakSet,jm=function(zr){const $r=new Path2D;for(let Bn=0,Pn=zr.length;Bn<Pn;Bn++){const[jn,Kn,Xn,In]=zr[Bn];Bn===0&&$r.moveTo(...jn),$r.bezierCurveTo(Kn[0],Kn[1],Xn[0],Xn[1],In[0],In[1])}return $r},up=function(zr,$r,Bn){const[Pn,jn,Kn,Xn]=$r;switch(Bn){case 0:for(let In=0,$n=zr.length;In<$n;In+=2)zr[In]+=Pn,zr[In+1]=Xn-zr[In+1];break;case 90:for(let In=0,$n=zr.length;In<$n;In+=2){const Yn=zr[In];zr[In]=zr[In+1]+Pn,zr[In+1]=Yn+jn}break;case 180:for(let In=0,$n=zr.length;In<$n;In+=2)zr[In]=Kn-zr[In],zr[In+1]+=jn;break;case 270:for(let In=0,$n=zr.length;In<$n;In+=2){const Yn=zr[In];zr[In]=Kn-zr[In+1],zr[In+1]=Xn-Yn}break;default:throw new Error("Invalid rotation")}return zr},Vm=function(zr,$r,Bn){const[Pn,jn,Kn,Xn]=$r;switch(Bn){case 0:for(let In=0,$n=zr.length;In<$n;In+=2)zr[In]-=Pn,zr[In+1]=Xn-zr[In+1];break;case 90:for(let In=0,$n=zr.length;In<$n;In+=2){const Yn=zr[In];zr[In]=zr[In+1]-jn,zr[In+1]=Yn-Pn}break;case 180:for(let In=0,$n=zr.length;In<$n;In+=2)zr[In]=Kn-zr[In],zr[In+1]-=jn;break;case 270:for(let In=0,$n=zr.length;In<$n;In+=2){const Yn=zr[In];zr[In]=Xn-zr[In+1],zr[In+1]=Kn-Yn}break;default:throw new Error("Invalid rotation")}return zr},Qm=function(zr,$r,Bn,Pn){var $n,Yn;const jn=[],Kn=this.thickness/2,Xn=zr*$r+Kn,In=zr*Bn+Kn;for(const si of this.paths){const ai=[],Ci=[];for(let dr=0,An=si.length;dr<An;dr++){const[vn,Sn,wr,Or]=si[dr],Ze=zr*vn[0]+Xn,Jr=zr*vn[1]+In,Mn=zr*Sn[0]+Xn,ze=zr*Sn[1]+In,Cr=zr*wr[0]+Xn,kr=zr*wr[1]+In,rr=zr*Or[0]+Xn,xr=zr*Or[1]+In;dr===0&&(ai.push(Ze,Jr),Ci.push(Ze,Jr)),ai.push(Mn,ze,Cr,kr,rr,xr),Ci.push(Mn,ze),dr===An-1&&Ci.push(rr,xr)}jn.push({bezier:qn($n=Yr,Qr,up).call($n,ai,Pn,this.rotation),points:qn(Yn=Yr,Qr,up).call(Yn,Ci,Pn,this.rotation)})}return jn},hp=function(){let zr=1/0,$r=-1/0,Bn=1/0,Pn=-1/0;for(const jn of this.paths)for(const[Kn,Xn,In,$n]of jn){const Yn=Ce.Util.bezierBoundingBox(...Kn,...Xn,...In,...$n);zr=Math.min(zr,Yn[0]),Bn=Math.min(Bn,Yn[1]),$r=Math.max($r,Yn[2]),Pn=Math.max(Pn,Yn[3])}return[zr,Bn,$r,Pn]},Cd=function(){return Lr(this,Je)?Math.ceil(this.thickness*this.parentScale):0},fu=function(zr=!1){if(this.isEmpty())return;if(!Lr(this,Je)){qn(this,er,IA).call(this);return}const $r=qn(this,er,hp).call(this),Bn=qn(this,er,Cd).call(this);ti(this,Qe,Math.max(Te.AnnotationEditor.MIN_SIZE,$r[2]-$r[0])),ti(this,Me,Math.max(Te.AnnotationEditor.MIN_SIZE,$r[3]-$r[1]));const Pn=Math.ceil(Bn+Lr(this,Qe)*this.scaleFactor),jn=Math.ceil(Bn+Lr(this,Me)*this.scaleFactor),[Kn,Xn]=this.parentDimensions;this.width=Pn/Kn,this.height=jn/Xn,this.setAspectRatio(Pn,jn);const In=this.translationX,$n=this.translationY;this.translationX=-$r[0],this.translationY=-$r[1],qn(this,er,du).call(this),qn(this,er,IA).call(this),ti(this,hr,Pn),ti(this,ur,jn),this.setDims(Pn,jn);const Yn=zr?Bn/this.scaleFactor/2:0;this.translate(In-this.translationX-Yn,$n-this.translationY-Yn)},Jn(Yr,Qr),zi(Yr,"_defaultColor",null),zi(Yr,"_defaultOpacity",1),zi(Yr,"_defaultThickness",1),zi(Yr,"_type","ink");let Oe=Yr;t.InkEditor=Oe}),((Ee,t,n)=>{var Oe,Me,Qe,Ke,Ge,qe,Xe,tr,Je,Ye,lr,uh,hh,Sd,dp,Hm,Km,fp,Td,qm;Object.defineProperty(t,"__esModule",{value:!0}),t.StampEditor=void 0;var Ce=n(1),Te=n(4),Re=n(6),Be=n(29);const Ar=class Ar extends Te.AnnotationEditor{constructor(Ur){super({...Ur,name:"stampEditor"});Jn(this,lr);Jn(this,Oe,null);Jn(this,Me,null);Jn(this,Qe,null);Jn(this,Ke,null);Jn(this,Ge,null);Jn(this,qe,null);Jn(this,Xe,null);Jn(this,tr,null);Jn(this,Je,!1);Jn(this,Ye,!1);ti(this,Ke,Ur.bitmapUrl),ti(this,Ge,Ur.bitmapFile)}static initialize(Ur){Te.AnnotationEditor.initialize(Ur)}static get supportedTypes(){const Ur=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,Ce.shadow)(this,"supportedTypes",Ur.map(Fr=>`image/${Fr}`))}static get supportedTypesStr(){return(0,Ce.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Ur){return this.supportedTypes.includes(Ur)}static paste(Ur,Fr){Fr.pasteEditor(Ce.AnnotationEditorType.STAMP,{bitmapFile:Ur.getAsFile()})}remove(){var Ur,Fr;Lr(this,Me)&&(ti(this,Oe,null),this._uiManager.imageManager.deleteId(Lr(this,Me)),(Ur=Lr(this,qe))==null||Ur.remove(),ti(this,qe,null),(Fr=Lr(this,Xe))==null||Fr.disconnect(),ti(this,Xe,null)),super.remove()}rebuild(){if(!this.parent){Lr(this,Me)&&qn(this,lr,Sd).call(this);return}super.rebuild(),this.div!==null&&(Lr(this,Me)&&qn(this,lr,Sd).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Lr(this,Qe)||Lr(this,Oe)||Lr(this,Ke)||Lr(this,Ge))}get isResizable(){return!0}render(){if(this.div)return this.div;let Ur,Fr;if(this.width&&(Ur=this.x,Fr=this.y),super.render(),this.div.hidden=!0,Lr(this,Oe)?qn(this,lr,dp).call(this):qn(this,lr,Sd).call(this),this.width){const[Er,jr]=this.parentDimensions;this.setAt(Ur*Er,Fr*jr,this.width*Er,this.height*jr)}return this.div}static deserialize(Ur,Fr,Er){if(Ur instanceof Be.StampAnnotationElement)return null;const jr=super.deserialize(Ur,Fr,Er),{rect:Nr,bitmapUrl:Br,bitmapId:Mr,isSvg:_r,accessibilityData:gr}=Ur;Mr&&Er.imageManager.isValidId(Mr)?ti(jr,Me,Mr):ti(jr,Ke,Br),ti(jr,Je,_r);const[yr,Rr]=jr.pageDimensions;return jr.width=(Nr[2]-Nr[0])/yr,jr.height=(Nr[3]-Nr[1])/Rr,gr&&(jr.altTextData=gr),jr}serialize(Ur=!1,Fr=null){if(this.isEmpty())return null;const Er={annotationType:Ce.AnnotationEditorType.STAMP,bitmapId:Lr(this,Me),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Lr(this,Je),structTreeParentId:this._structTreeParentId};if(Ur)return Er.bitmapUrl=qn(this,lr,Td).call(this,!0),Er.accessibilityData=this.altTextData,Er;const{decorative:jr,altText:Nr}=this.altTextData;if(!jr&&Nr&&(Er.accessibilityData={type:"Figure",alt:Nr}),Fr===null)return Er;Fr.stamps||(Fr.stamps=new Map);const Br=Lr(this,Je)?(Er.rect[2]-Er.rect[0])*(Er.rect[3]-Er.rect[1]):null;if(!Fr.stamps.has(Lr(this,Me)))Fr.stamps.set(Lr(this,Me),{area:Br,serialized:Er}),Er.bitmap=qn(this,lr,Td).call(this,!1);else if(Lr(this,Je)){const Mr=Fr.stamps.get(Lr(this,Me));Br>Mr.area&&(Mr.area=Br,Mr.serialized.bitmap.close(),Mr.serialized.bitmap=qn(this,lr,Td).call(this,!1))}return Er}};Oe=new WeakMap,Me=new WeakMap,Qe=new WeakMap,Ke=new WeakMap,Ge=new WeakMap,qe=new WeakMap,Xe=new WeakMap,tr=new WeakMap,Je=new WeakMap,Ye=new WeakMap,lr=new WeakSet,uh=function(Ur,Fr=!1){if(!Ur){this.remove();return}ti(this,Oe,Ur.bitmap),Fr||(ti(this,Me,Ur.id),ti(this,Je,Ur.isSvg)),qn(this,lr,dp).call(this)},hh=function(){ti(this,Qe,null),this._uiManager.enableWaiting(!1),Lr(this,qe)&&this.div.focus()},Sd=function(){if(Lr(this,Me)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Lr(this,Me)).then(Fr=>qn(this,lr,uh).call(this,Fr,!0)).finally(()=>qn(this,lr,hh).call(this));return}if(Lr(this,Ke)){const Fr=Lr(this,Ke);ti(this,Ke,null),this._uiManager.enableWaiting(!0),ti(this,Qe,this._uiManager.imageManager.getFromUrl(Fr).then(Er=>qn(this,lr,uh).call(this,Er)).finally(()=>qn(this,lr,hh).call(this)));return}if(Lr(this,Ge)){const Fr=Lr(this,Ge);ti(this,Ge,null),this._uiManager.enableWaiting(!0),ti(this,Qe,this._uiManager.imageManager.getFromFile(Fr).then(Er=>qn(this,lr,uh).call(this,Er)).finally(()=>qn(this,lr,hh).call(this)));return}const Ur=document.createElement("input");Ur.type="file",Ur.accept=Ar.supportedTypesStr,ti(this,Qe,new Promise(Fr=>{Ur.addEventListener("change",async()=>{if(!Ur.files||Ur.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Er=await this._uiManager.imageManager.getFromFile(Ur.files[0]);qn(this,lr,uh).call(this,Er)}Fr()}),Ur.addEventListener("cancel",()=>{this.remove(),Fr()})}).finally(()=>qn(this,lr,hh).call(this))),Ur.click()},dp=function(){const{div:Ur}=this;let{width:Fr,height:Er}=Lr(this,Oe);const[jr,Nr]=this.pageDimensions,Br=.75;if(this.width)Fr=this.width*jr,Er=this.height*Nr;else if(Fr>Br*jr||Er>Br*Nr){const yr=Math.min(Br*jr/Fr,Br*Nr/Er);Fr*=yr,Er*=yr}const[Mr,_r]=this.parentDimensions;this.setDims(Fr*Mr/jr,Er*_r/Nr),this._uiManager.enableWaiting(!1);const gr=ti(this,qe,document.createElement("canvas"));Ur.append(gr),Ur.hidden=!1,qn(this,lr,fp).call(this,Fr,Er),qn(this,lr,qm).call(this),Lr(this,Ye)||(this.parent.addUndoableEditor(this),ti(this,Ye,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Hm=function(Ur,Fr){var Br;const[Er,jr]=this.parentDimensions;this.width=Ur/Er,this.height=Fr/jr,this.setDims(Ur,Fr),(Br=this._initialOptions)!=null&&Br.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Lr(this,tr)!==null&&clearTimeout(Lr(this,tr)),ti(this,tr,setTimeout(()=>{ti(this,tr,null),qn(this,lr,fp).call(this,Ur,Fr)},200))},Km=function(Ur,Fr){const{width:Er,height:jr}=Lr(this,Oe);let Nr=Er,Br=jr,Mr=Lr(this,Oe);for(;Nr>2*Ur||Br>2*Fr;){const _r=Nr,gr=Br;Nr>2*Ur&&(Nr=Nr>=16384?Math.floor(Nr/2)-1:Math.ceil(Nr/2)),Br>2*Fr&&(Br=Br>=16384?Math.floor(Br/2)-1:Math.ceil(Br/2));const yr=new OffscreenCanvas(Nr,Br);yr.getContext("2d").drawImage(Mr,0,0,_r,gr,0,0,Nr,Br),Mr=yr.transferToImageBitmap()}return Mr},fp=function(Ur,Fr){Ur=Math.ceil(Ur),Fr=Math.ceil(Fr);const Er=Lr(this,qe);if(!Er||Er.width===Ur&&Er.height===Fr)return;Er.width=Ur,Er.height=Fr;const jr=Lr(this,Je)?Lr(this,Oe):qn(this,lr,Km).call(this,Ur,Fr),Nr=Er.getContext("2d");Nr.filter=this._uiManager.hcmFilter,Nr.drawImage(jr,0,0,jr.width,jr.height,0,0,Ur,Fr)},Td=function(Ur){if(Ur){if(Lr(this,Je)){const jr=this._uiManager.imageManager.getSvgUrl(Lr(this,Me));if(jr)return jr}const Fr=document.createElement("canvas");return{width:Fr.width,height:Fr.height}=Lr(this,Oe),Fr.getContext("2d").drawImage(Lr(this,Oe),0,0),Fr.toDataURL()}if(Lr(this,Je)){const[Fr,Er]=this.pageDimensions,jr=Math.round(this.width*Fr*Re.PixelsPerInch.PDF_TO_CSS_UNITS),Nr=Math.round(this.height*Er*Re.PixelsPerInch.PDF_TO_CSS_UNITS),Br=new OffscreenCanvas(jr,Nr);return Br.getContext("2d").drawImage(Lr(this,Oe),0,0,Lr(this,Oe).width,Lr(this,Oe).height,0,0,jr,Nr),Br.transferToImageBitmap()}return structuredClone(Lr(this,Oe))},qm=function(){ti(this,Xe,new ResizeObserver(Ur=>{const Fr=Ur[0].contentRect;Fr.width&&Fr.height&&qn(this,lr,Hm).call(this,Fr.width,Fr.height)})),Lr(this,Xe).observe(this.div)},zi(Ar,"_type","stamp");let Ue=Ar;t.StampEditor=Ue})],__webpack_module_cache__={};function __w_pdfjs_require__(Ee){var t=__webpack_module_cache__[Ee];if(t!==void 0)return t.exports;var n=__webpack_module_cache__[Ee]={exports:{}};return __webpack_modules__[Ee](n,n.exports,__w_pdfjs_require__),n.exports}var __webpack_exports__={};return(()=>{var Ee=__webpack_exports__;Object.defineProperty(Ee,"__esModule",{value:!0}),Object.defineProperty(Ee,"AbortException",{enumerable:!0,get:function(){return t.AbortException}}),Object.defineProperty(Ee,"AnnotationEditorLayer",{enumerable:!0,get:function(){return Re.AnnotationEditorLayer}}),Object.defineProperty(Ee,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(Ee,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(Ee,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Be.AnnotationEditorUIManager}}),Object.defineProperty(Ee,"AnnotationLayer",{enumerable:!0,get:function(){return Ue.AnnotationLayer}}),Object.defineProperty(Ee,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(Ee,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(Ee,"DOMSVGFactory",{enumerable:!0,get:function(){return Ce.DOMSVGFactory}}),Object.defineProperty(Ee,"FeatureTest",{enumerable:!0,get:function(){return t.FeatureTest}}),Object.defineProperty(Ee,"GlobalWorkerOptions",{enumerable:!0,get:function(){return Oe.GlobalWorkerOptions}}),Object.defineProperty(Ee,"ImageKind",{enumerable:!0,get:function(){return t.ImageKind}}),Object.defineProperty(Ee,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(Ee,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(Ee,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(Ee,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(Ee,"PDFDateString",{enumerable:!0,get:function(){return Ce.PDFDateString}}),Object.defineProperty(Ee,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(Ee,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(Ee,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(Ee,"PixelsPerInch",{enumerable:!0,get:function(){return Ce.PixelsPerInch}}),Object.defineProperty(Ee,"PromiseCapability",{enumerable:!0,get:function(){return t.PromiseCapability}}),Object.defineProperty(Ee,"RenderingCancelledException",{enumerable:!0,get:function(){return Ce.RenderingCancelledException}}),Object.defineProperty(Ee,"SVGGraphics",{enumerable:!0,get:function(){return n.SVGGraphics}}),Object.defineProperty(Ee,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(Ee,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(Ee,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(Ee,"XfaLayer",{enumerable:!0,get:function(){return Me.XfaLayer}}),Object.defineProperty(Ee,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(Ee,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(Ee,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(Ee,"getFilenameFromUrl",{enumerable:!0,get:function(){return Ce.getFilenameFromUrl}}),Object.defineProperty(Ee,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return Ce.getPdfFilenameFromUrl}}),Object.defineProperty(Ee,"getXfaPageViewport",{enumerable:!0,get:function(){return Ce.getXfaPageViewport}}),Object.defineProperty(Ee,"isDataScheme",{enumerable:!0,get:function(){return Ce.isDataScheme}}),Object.defineProperty(Ee,"isPdfFile",{enumerable:!0,get:function(){return Ce.isPdfFile}}),Object.defineProperty(Ee,"loadScript",{enumerable:!0,get:function(){return Ce.loadScript}}),Object.defineProperty(Ee,"noContextMenu",{enumerable:!0,get:function(){return Ce.noContextMenu}}),Object.defineProperty(Ee,"normalizeUnicode",{enumerable:!0,get:function(){return t.normalizeUnicode}}),Object.defineProperty(Ee,"renderTextLayer",{enumerable:!0,get:function(){return Te.renderTextLayer}}),Object.defineProperty(Ee,"setLayerDimensions",{enumerable:!0,get:function(){return Ce.setLayerDimensions}}),Object.defineProperty(Ee,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(Ee,"updateTextLayer",{enumerable:!0,get:function(){return Te.updateTextLayer}}),Object.defineProperty(Ee,"version",{enumerable:!0,get:function(){return n.version}});var t=__w_pdfjs_require__(1),n=__w_pdfjs_require__(2),Ce=__w_pdfjs_require__(6),Te=__w_pdfjs_require__(26),Re=__w_pdfjs_require__(27),Be=__w_pdfjs_require__(5),Ue=__w_pdfjs_require__(29),Oe=__w_pdfjs_require__(14),Me=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1)),pdf$1.exports}var pdfExports=requirePdf();const pdf=getDefaultExportFromCjs(pdfExports),pdfjs=pdf;var __spreadArray=function(Ee,t,n){if(n||arguments.length===2)for(var Ce=0,Te=t.length,Re;Ce<Te;Ce++)(Re||!(Ce in t))&&(Re||(Re=Array.prototype.slice.call(t,0,Ce)),Re[Ce]=t[Ce]);return Ee.concat(Re||Array.prototype.slice.call(t))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(Ee,t){var n={};return allEvents.forEach(function(Ce){var Te=Ee[Ce];Te&&(t?n[Ce]=(function(Re){return Te(Re,t(Ce))}):n[Ce]=Te)}),n}function makeCancellablePromise(Ee){var t=!1,n=new Promise(function(Ce,Te){Ee.then(function(Re){return!t&&Ce(Re)}).catch(function(Re){return!t&&Te(Re)})});return{promise:n,cancel:function(){t=!0}}}function r(Ee){var t,n,Ce="";if(typeof Ee=="string"||typeof Ee=="number")Ce+=Ee;else if(typeof Ee=="object")if(Array.isArray(Ee)){var Te=Ee.length;for(t=0;t<Te;t++)Ee[t]&&(n=r(Ee[t]))&&(Ce&&(Ce+=" "),Ce+=n)}else for(n in Ee)Ee[n]&&(Ce&&(Ce+=" "),Ce+=n);return Ce}function clsx(){for(var Ee,t,n=0,Ce="",Te=arguments.length;n<Te;n++)(Ee=arguments[n])&&(t=r(Ee))&&(Ce&&(Ce+=" "),Ce+=t);return Ce}var prefix="Invariant failed";function invariant(Ee,t){if(!Ee)throw new Error(prefix)}var warningExports=requireWarning();const warning=getDefaultExportFromCjs(warningExports);var has=Object.prototype.hasOwnProperty;function find(Ee,t,n){for(n of Ee.keys())if(dequal(n,t))return n}function dequal(Ee,t){var n,Ce,Te;if(Ee===t)return!0;if(Ee&&t&&(n=Ee.constructor)===t.constructor){if(n===Date)return Ee.getTime()===t.getTime();if(n===RegExp)return Ee.toString()===t.toString();if(n===Array){if((Ce=Ee.length)===t.length)for(;Ce--&&dequal(Ee[Ce],t[Ce]););return Ce===-1}if(n===Set){if(Ee.size!==t.size)return!1;for(Ce of Ee)if(Te=Ce,Te&&typeof Te=="object"&&(Te=find(t,Te),!Te)||!t.has(Te))return!1;return!0}if(n===Map){if(Ee.size!==t.size)return!1;for(Ce of Ee)if(Te=Ce[0],Te&&typeof Te=="object"&&(Te=find(t,Te),!Te)||!dequal(Ce[1],t.get(Te)))return!1;return!0}if(n===ArrayBuffer)Ee=new Uint8Array(Ee),t=new Uint8Array(t);else if(n===DataView){if((Ce=Ee.byteLength)===t.byteLength)for(;Ce--&&Ee.getInt8(Ce)===t.getInt8(Ce););return Ce===-1}if(ArrayBuffer.isView(Ee)){if((Ce=Ee.byteLength)===t.byteLength)for(;Ce--&&Ee[Ce]===t[Ce];);return Ce===-1}if(!n||typeof Ee=="object"){Ce=0;for(n in Ee)if(has.call(Ee,n)&&++Ce&&!has.call(t,n)||!(n in t)||!dequal(Ee[n],t[n]))return!1;return Object.keys(t).length===Ce}}return Ee!==Ee&&t!==t}const DocumentContext=reactExports.createContext(null);function Message({children:Ee,type:t}){return React.createElement("div",{className:`react-pdf__message react-pdf__message--${t}`},Ee)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(n=>{invariant(this.pdfDocument),invariant(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(n):Array.isArray(t)?n(t):t.then(n)}).then(n=>{invariant(Array.isArray(n));const Ce=n[0];new Promise(Te=>{invariant(this.pdfDocument),Ce instanceof Object?this.pdfDocument.getPageIndex(Ce).then(Re=>{Te(Re)}).catch(()=>{invariant(!1)}):typeof Ce=="number"?Te(Ce):invariant(!1)}).then(Te=>{const Re=Te+1;invariant(this.pdfViewer),invariant(Re>=1&&Re<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:n,pageIndex:Te,pageNumber:Re})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const n=t-1;invariant(this.pdfViewer),invariant(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:n,pageNumber:t})}addLinkAttributes(t,n,Ce){t.href=n,t.rel=this.externalLinkRel||DEFAULT_LINK_REL,t.target=Ce?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(Ee){return typeof Ee<"u"}function isProvided(Ee){return isDefined(Ee)&&Ee!==null}function isString(Ee){return typeof Ee=="string"}function isArrayBuffer(Ee){return Ee instanceof ArrayBuffer}function isBlob(Ee){return invariant(isBrowser),Ee instanceof Blob}function isDataURI(Ee){return isString(Ee)&&/^data:/.test(Ee)}function dataURItoByteString(Ee){invariant(isDataURI(Ee));const[t="",n=""]=Ee.split(",");return t.split(";").indexOf("base64")!==-1?atob(n):unescape(n)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(Ee){Ee&&Ee.cancel&&Ee.cancel()}function makePageCallback(Ee,t){return Object.defineProperty(Ee,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(Ee,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(Ee,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(Ee,"originalHeight",{get(){return this.view[3]},configurable:!0}),Ee}function isCancelException(Ee){return Ee.name==="RenderingCancelledException"}function loadFromFile(Ee){return new Promise((t,n)=>{const Ce=new FileReader;Ce.onload=()=>{if(!Ce.result)return n(new Error("Error while reading a file."));t(Ce.result)},Ce.onerror=Te=>{if(!Te.target)return n(new Error("Error while reading a file."));const{error:Re}=Te.target;if(!Re)return n(new Error("Error while reading a file."));switch(Re.code){case Re.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case Re.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case Re.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},Ce.readAsArrayBuffer(Ee)})}function reducer(Ee,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return Ee}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs,eventProps=(()=>{const Ee={};return allEvents.forEach(t=>{Ee[t]=PropTypes.func}),Ee})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function Ee(t,n,Ce){const{[n]:Te,pageNumber:Re,pdf:Be}=t;if(!isDefined(Be))return null;if(isDefined(Te)){if(typeof Te!="number")return new Error(`\`${n}\` of type \`${typeof Te}\` supplied to \`${Ce}\`, expected \`number\`.`);if(Te<0)return new Error(`Expected \`${n}\` to be greater or equal to 0.`);const{numPages:Ue}=Be;if(Te+1>Ue)return new Error(`Expected \`${n}\` to be less or equal to ${Ue-1}.`)}else if(!isDefined(Re))return new Error(`\`${n}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${Ce}\`.`);return null},isPageNumber=function Ee(t,n,Ce){const{[n]:Te,pageIndex:Re,pdf:Be}=t;if(!isDefined(Be))return null;if(isDefined(Te)){if(typeof Te!="number")return new Error(`\`${n}\` of type \`${typeof Te}\` supplied to \`${Ce}\`, expected \`number\`.`);if(Te<1)return new Error(`Expected \`${n}\` to be greater or equal to 1.`);const{numPages:Ue}=Be;if(Te>Ue)return new Error(`Expected \`${n}\` to be less or equal to ${Ue}.`)}else if(!isDefined(Re))return new Error(`\`${n}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${Ce}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=function(Ee,t,n,Ce){function Te(Re){return Re instanceof n?Re:new n(function(Be){Be(Re)})}return new(n||(n=Promise))(function(Re,Be){function Ue(Qe){try{Me(Ce.next(Qe))}catch(Ke){Be(Ke)}}function Oe(Qe){try{Me(Ce.throw(Qe))}catch(Ke){Be(Ke)}}function Me(Qe){Qe.done?Re(Qe.value):Te(Qe.value).then(Ue,Oe)}Me((Ce=Ce.apply(Ee,t||[])).next())})},__rest$1=function(Ee,t){var n={};for(var Ce in Ee)Object.prototype.hasOwnProperty.call(Ee,Ce)&&t.indexOf(Ce)<0&&(n[Ce]=Ee[Ce]);if(Ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Te=0,Ce=Object.getOwnPropertySymbols(Ee);Te<Ce.length;Te++)t.indexOf(Ce[Te])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Ce[Te])&&(n[Ce[Te]]=Ee[Ce[Te]]);return n};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(Ee,t)=>{switch(t){case PasswordResponses.NEED_PASSWORD:{const n=prompt("Enter the password to open this PDF file.");Ee(n);break}case PasswordResponses.INCORRECT_PASSWORD:{const n=prompt("Invalid password. Please try again.");Ee(n);break}}};function isParameterObject(Ee){return typeof Ee=="object"&&Ee!==null&&("data"in Ee||"range"in Ee||"url"in Ee)}const Document=reactExports.forwardRef(function Ee(t,n){var{children:Ce,className:Te,error:Re="Failed to load PDF file.",externalLinkRel:Be,externalLinkTarget:Ue,file:Oe,inputRef:Me,imageResourcesPath:Qe,loading:Ke="Loading PDF",noData:Ge="No PDF file specified.",onItemClick:qe,onLoadError:Xe,onLoadProgress:tr,onLoadSuccess:Je,onPassword:Ye=defaultOnPassword,onSourceError:lr,onSourceSuccess:cr,options:hr,renderMode:ur,rotate:fr}=t,er=__rest$1(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[nr,ir]=useResolver(),{value:mr,error:$e}=nr,[Ar,or]=useResolver(),{value:Tr,error:Ur}=Ar,Fr=reactExports.useRef(new LinkService),Er=reactExports.useRef([]),jr=reactExports.useRef(),Nr=reactExports.useRef();reactExports.useEffect(()=>{Oe&&Oe!==jr.current&&isParameterObject(Oe)&&(warning(!dequal(Oe,jr.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),jr.current=Oe)},[Oe]),reactExports.useEffect(()=>{hr&&hr!==Nr.current&&(warning(!dequal(hr,Nr.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Nr.current=hr)},[hr]);const Br=reactExports.useRef({scrollPageIntoView:Rn=>{const{dest:bn,pageNumber:zr,pageIndex:$r=zr-1}=Rn;if(qe){qe({dest:bn,pageIndex:$r,pageNumber:zr});return}const Bn=Er.current[$r];if(Bn){Bn.scrollIntoView();return}warning(!1,`An internal link leading to page ${zr} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(n,()=>({linkService:Fr,pages:Er,viewer:Br}),[]);function Mr(){cr&&cr()}function _r(){$e&&(warning(!1,$e.toString()),lr&&lr($e))}function gr(){ir({type:"RESET"})}reactExports.useEffect(gr,[Oe,ir]);const yr=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!Oe)return null;if(typeof Oe=="string")return isDataURI(Oe)?{data:dataURItoByteString(Oe)}:(displayCORSWarning(),{url:Oe});if(Oe instanceof PDFDataRangeTransport)return{range:Oe};if(isArrayBuffer(Oe))return{data:Oe};if(isBrowser&&isBlob(Oe))return{data:yield loadFromFile(Oe)};if(invariant(typeof Oe=="object"),invariant(isParameterObject(Oe)),"url"in Oe&&typeof Oe.url=="string"){if(isDataURI(Oe.url)){const{url:Rn}=Oe,bn=__rest$1(Oe,["url"]),zr=dataURItoByteString(Rn);return Object.assign({data:zr},bn)}displayCORSWarning()}return Oe}),[Oe]);reactExports.useEffect(()=>{const Rn=makeCancellablePromise(yr());return Rn.promise.then(bn=>{ir({type:"RESOLVE",value:bn})}).catch(bn=>{ir({type:"REJECT",error:bn})}),()=>{cancelRunningTask(Rn)}},[yr,ir]),reactExports.useEffect(()=>{if(!(typeof mr>"u")){if(mr===!1){_r();return}Mr()}},[mr]);function Rr(){Tr&&(Je&&Je(Tr),Er.current=new Array(Tr.numPages),Fr.current.setDocument(Tr))}function Ir(){Ur&&(warning(!1,Ur.toString()),Xe&&Xe(Ur))}function Qr(){or({type:"RESET"})}reactExports.useEffect(Qr,[or,mr]);function Vr(){if(!mr)return;const Rn=Object.assign(Object.assign({},hr),{isEvalSupported:!1}),bn=Object.assign(Object.assign({},mr),Rn),zr=pdfjs.getDocument(bn);tr&&(zr.onProgress=tr),Ye&&(zr.onPassword=Ye);const $r=zr;return $r.promise.then(Bn=>{or({type:"RESOLVE",value:Bn})}).catch(Bn=>{$r.destroyed||or({type:"REJECT",error:Bn})}),()=>{$r.destroy()}}reactExports.useEffect(Vr,[hr,or,mr]),reactExports.useEffect(()=>{if(!(typeof Tr>"u")){if(Tr===!1){Ir();return}Rr()}},[Tr]);function Wr(){Fr.current.setViewer(Br.current),Fr.current.setExternalLinkRel(Be),Fr.current.setExternalLinkTarget(Ue)}reactExports.useEffect(Wr,[Be,Ue]);function mn(Rn,bn){Er.current[Rn]=bn}function gn(Rn){delete Er.current[Rn]}const fn=reactExports.useMemo(()=>({imageResourcesPath:Qe,linkService:Fr.current,onItemClick:qe,pdf:Tr,registerPage:mn,renderMode:ur,rotate:fr,unregisterPage:gn}),[Qe,qe,Tr,ur,fr]),Fn=reactExports.useMemo(()=>makeEventProps(er,()=>Tr),[er,Tr]);function wn(){return React.createElement(DocumentContext.Provider,{value:fn},Ce)}function Yr(){return Oe?Tr==null?React.createElement(Message,{type:"loading"},typeof Ke=="function"?Ke():Ke):Tr===!1?React.createElement(Message,{type:"error"},typeof Re=="function"?Re():Re):wn():React.createElement(Message,{type:"no-data"},typeof Ge=="function"?Ge():Ge)}return React.createElement("div",Object.assign({className:clsx("react-pdf__Document",Te),ref:Me,style:{"--scale-factor":"1"}},Fn),Yr())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var Ee=[],t=0;t<arguments.length;t++)Ee[t]=arguments[t];var n=Ee.filter(Boolean);if(n.length<=1){var Ce=n[0];return Ce||null}return function(Re){n.forEach(function(Be){typeof Be=="function"?Be(Re):Be&&(Be.current=Re)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(Ee){return Ee in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(Ee){return"children"in Ee}function isStructTreeNodeWithOnlyContentChild(Ee){return isStructTreeNode(Ee)?Ee.children.length===1&&0 in Ee.children&&"id"in Ee.children[0]:!1}function getRoleAttributes(Ee){const t={};if(isStructTreeNode(Ee)){const{role:n}=Ee,Ce=n.match(HEADING_PATTERN);if(Ce)t.role="heading",t["aria-level"]=Number(Ce[1]);else if(isPdfRole(n)){const Te=PDF_ROLE_TO_HTML_ROLE[n];Te&&(t.role=Te)}}return t}function getBaseAttributes(Ee){const t={};if(isStructTreeNode(Ee)){if(Ee.alt!==void 0&&(t["aria-label"]=Ee.alt),Ee.lang!==void 0&&(t.lang=Ee.lang),isStructTreeNodeWithOnlyContentChild(Ee)){const[n]=Ee.children;if(n){const Ce=getBaseAttributes(n);return Object.assign(Object.assign({},t),Ce)}}}else"id"in Ee&&(t["aria-owns"]=Ee.id);return t}function getAttributes(Ee){return Ee?Object.assign(Object.assign({},getRoleAttributes(Ee)),getBaseAttributes(Ee)):null}function StructTreeItem({className:Ee,node:t}){const n=reactExports.useMemo(()=>getAttributes(t),[t]),Ce=reactExports.useMemo(()=>!isStructTreeNode(t)||isStructTreeNodeWithOnlyContentChild(t)?null:t.children.map((Te,Re)=>React.createElement(StructTreeItem,{key:Re,node:Te})),[t]);return React.createElement("span",Object.assign({className:Ee},n),Ce)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const Ee=usePageContext();invariant(Ee);const{onGetStructTreeError:t,onGetStructTreeSuccess:n}=Ee,[Ce,Te]=useResolver(),{value:Re,error:Be}=Ce,{customTextRenderer:Ue,page:Oe}=Ee;function Me(){Re&&n&&n(Re)}function Qe(){Be&&(warning(!1,Be.toString()),t&&t(Be))}function Ke(){Te({type:"RESET"})}reactExports.useEffect(Ke,[Te,Oe]);function Ge(){if(Ue||!Oe)return;const qe=makeCancellablePromise(Oe.getStructTree()),Xe=qe;return qe.promise.then(tr=>{Te({type:"RESOLVE",value:tr})}).catch(tr=>{Te({type:"REJECT",error:tr})}),()=>cancelRunningTask(Xe)}return reactExports.useEffect(Ge,[Ue,Oe,Te]),reactExports.useEffect(()=>{if(Re!==void 0){if(Re===!1){Qe();return}Me()}},[Re]),Re?React.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:Re}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(Ee){const t=usePageContext();invariant(t);const n=Object.assign(Object.assign({},t),Ee),{_className:Ce,canvasBackground:Te,devicePixelRatio:Re=getDevicePixelRatio(),onRenderError:Be,onRenderSuccess:Ue,page:Oe,renderForms:Me,renderTextLayer:Qe,rotate:Ke,scale:Ge}=n,{canvasRef:qe}=Ee;invariant(Oe);const Xe=reactExports.useRef(null);function tr(){Oe&&Ue&&Ue(makePageCallback(Oe,Ge))}function Je(ur){isCancelException(ur)||(warning(!1,ur.toString()),Be&&Be(ur))}const Ye=reactExports.useMemo(()=>Oe.getViewport({scale:Ge*Re,rotation:Ke}),[Re,Oe,Ke,Ge]),lr=reactExports.useMemo(()=>Oe.getViewport({scale:Ge,rotation:Ke}),[Oe,Ke,Ge]);function cr(){if(!Oe)return;Oe.cleanup();const{current:ur}=Xe;if(!ur)return;ur.width=Ye.width,ur.height=Ye.height,ur.style.width=`${Math.floor(lr.width)}px`,ur.style.height=`${Math.floor(lr.height)}px`,ur.style.visibility="hidden";const fr={annotationMode:Me?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:ur.getContext("2d",{alpha:!1}),viewport:Ye};Te&&(fr.background=Te);const er=Oe.render(fr),nr=er;return er.promise.then(()=>{ur.style.visibility="",tr()}).catch(Je),()=>cancelRunningTask(nr)}reactExports.useEffect(cr,[Te,Xe,Re,Oe,Me,Ye,lr]);const hr=reactExports.useCallback(()=>{const{current:ur}=Xe;ur&&(ur.width=0,ur.height=0)},[Xe]);return reactExports.useEffect(()=>hr,[hr]),React.createElement("canvas",{className:`${Ce}__canvas`,dir:"ltr",ref:mergeRefs(qe,Xe),style:{display:"block",userSelect:"none"}},Qe?React.createElement(StructTree,null):null)}function PageSVG(){const Ee=usePageContext();invariant(Ee);const{_className:t,onRenderSuccess:n,onRenderError:Ce,page:Te,rotate:Re,scale:Be}=Ee;invariant(Te);const[Ue,Oe]=useResolver(),{value:Me,error:Qe}=Ue;function Ke(){Te&&n&&n(makePageCallback(Te,Be))}function Ge(){Qe&&(isCancelException(Qe)||(warning(!1,Qe.toString()),Ce&&Ce(Qe)))}const qe=reactExports.useMemo(()=>Te.getViewport({scale:Be,rotation:Re}),[Te,Re,Be]);function Xe(){Oe({type:"RESET"})}reactExports.useEffect(Xe,[Te,Oe,qe]);function tr(){if(!Te)return;const cr=makeCancellablePromise(Te.getOperatorList());return cr.promise.then(hr=>{new pdfjs.SVGGraphics(Te.commonObjs,Te.objs).getSVG(hr,qe).then(fr=>{if(!(fr instanceof SVGElement))throw new Error("getSVG returned unexpected result.");Oe({type:"RESOLVE",value:fr})}).catch(fr=>{Oe({type:"REJECT",error:fr})})}).catch(hr=>{Oe({type:"REJECT",error:hr})}),()=>cancelRunningTask(cr)}reactExports.useEffect(tr,[Te,Oe,qe]),reactExports.useEffect(()=>{if(Me!==void 0){if(Me===!1){Ge();return}Ke()}},[Me]);function Je(cr){if(!cr||!Me)return;cr.firstElementChild||cr.appendChild(Me);const{width:hr,height:ur}=qe;Me.setAttribute("width",`${hr}`),Me.setAttribute("height",`${ur}`)}const{width:Ye,height:lr}=qe;return React.createElement("div",{className:`${t}__svg`,ref:cr=>Je(cr),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:Ye,height:lr,userSelect:"none"}})}function isTextItem(Ee){return"str"in Ee}function TextLayer(){const Ee=usePageContext();invariant(Ee);const{customTextRenderer:t,onGetTextError:n,onGetTextSuccess:Ce,onRenderTextLayerError:Te,onRenderTextLayerSuccess:Re,page:Be,pageIndex:Ue,pageNumber:Oe,rotate:Me,scale:Qe}=Ee;invariant(Be);const[Ke,Ge]=useResolver(),{value:qe,error:Xe}=Ke,tr=reactExports.useRef(null),Je=reactExports.useRef();warning(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function Ye(){qe&&Ce&&Ce(qe)}function lr(){Xe&&(warning(!1,Xe.toString()),n&&n(Xe))}function cr(){Ge({type:"RESET"})}reactExports.useEffect(cr,[Be,Ge]);function hr(){if(!Be)return;const $e=makeCancellablePromise(Be.getTextContent()),Ar=$e;return $e.promise.then(or=>{Ge({type:"RESOLVE",value:or})}).catch(or=>{Ge({type:"REJECT",error:or})}),()=>cancelRunningTask(Ar)}reactExports.useEffect(hr,[Be,Ge]),reactExports.useEffect(()=>{if(qe!==void 0){if(qe===!1){lr();return}Ye()}},[qe]);const ur=reactExports.useCallback(()=>{Re&&Re()},[Re]),fr=reactExports.useCallback($e=>{warning(!1,$e.toString()),Te&&Te($e)},[Te]);function er(){const $e=Je.current;$e&&$e.classList.add("active")}function nr(){const $e=Je.current;$e&&$e.classList.remove("active")}const ir=reactExports.useMemo(()=>Be.getViewport({scale:Qe,rotation:Me}),[Be,Me,Qe]);function mr(){if(!Be||!qe)return;const{current:$e}=tr;if(!$e)return;$e.innerHTML="";const Ar=Be.streamTextContent({includeMarkedContent:!0}),or={container:$e,textContentSource:Ar,viewport:ir},Tr=pdfjs.renderTextLayer(or),Ur=Tr;return Tr.promise.then(()=>{const Fr=document.createElement("div");Fr.className="endOfContent",$e.append(Fr),Je.current=Fr;const Er=$e.querySelectorAll('[role="presentation"]');if(t){let jr=0;qe.items.forEach((Nr,Br)=>{if(!isTextItem(Nr))return;const Mr=Er[jr];if(!Mr)return;const _r=t(Object.assign({pageIndex:Ue,pageNumber:Oe,itemIndex:Br},Nr));Mr.innerHTML=_r,jr+=Nr.str&&Nr.hasEOL?2:1})}ur()}).catch(fr),()=>cancelRunningTask(Ur)}return reactExports.useLayoutEffect(mr,[t,fr,ur,Be,Ue,Oe,qe,ir]),React.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:nr,onMouseDown:er,ref:tr})}function AnnotationLayer(){const Ee=useDocumentContext(),t=usePageContext();invariant(t);const n=Object.assign(Object.assign({},Ee),t),{imageResourcesPath:Ce,linkService:Te,onGetAnnotationsError:Re,onGetAnnotationsSuccess:Be,onRenderAnnotationLayerError:Ue,onRenderAnnotationLayerSuccess:Oe,page:Me,pdf:Qe,renderForms:Ke,rotate:Ge,scale:qe=1}=n;invariant(Qe),invariant(Me),invariant(Te);const[Xe,tr]=useResolver(),{value:Je,error:Ye}=Xe,lr=reactExports.useRef(null);warning(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function cr(){Je&&Be&&Be(Je)}function hr(){Ye&&(warning(!1,Ye.toString()),Re&&Re(Ye))}function ur(){tr({type:"RESET"})}reactExports.useEffect(ur,[tr,Me]);function fr(){if(!Me)return;const $e=makeCancellablePromise(Me.getAnnotations()),Ar=$e;return $e.promise.then(or=>{tr({type:"RESOLVE",value:or})}).catch(or=>{tr({type:"REJECT",error:or})}),()=>{cancelRunningTask(Ar)}}reactExports.useEffect(fr,[tr,Me,Ke]),reactExports.useEffect(()=>{if(Je!==void 0){if(Je===!1){hr();return}cr()}},[Je]);function er(){Oe&&Oe()}function nr($e){warning(!1,`${$e}`),Ue&&Ue($e)}const ir=reactExports.useMemo(()=>Me.getViewport({scale:qe,rotation:Ge}),[Me,Ge,qe]);function mr(){if(!Qe||!Me||!Te||!Je)return;const{current:$e}=lr;if(!$e)return;const Ar=ir.clone({dontFlip:!0}),or={accessibilityManager:null,annotationCanvasMap:null,div:$e,l10n:null,page:Me,viewport:Ar},Tr={annotations:Je,annotationStorage:Qe.annotationStorage,div:$e,downloadManager:null,imageResourcesPath:Ce,linkService:Te,page:Me,renderForms:Ke,viewport:Ar};$e.innerHTML="";try{new pdfjs.AnnotationLayer(or).render(Tr),er()}catch(Ur){nr(Ur)}return()=>{}}return reactExports.useEffect(mr,[Je,Ce,Te,Me,Ke,ir]),React.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:lr})}var __rest=function(Ee,t){var n={};for(var Ce in Ee)Object.prototype.hasOwnProperty.call(Ee,Ce)&&t.indexOf(Ce)<0&&(n[Ce]=Ee[Ce]);if(Ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Te=0,Ce=Object.getOwnPropertySymbols(Ee);Te<Ce.length;Te++)t.indexOf(Ce[Te])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Ce[Te])&&(n[Ce[Te]]=Ee[Ce[Te]]);return n};const defaultScale=1,Page=function Ee(t){const n=useDocumentContext(),Ce=Object.assign(Object.assign({},n),t),{_className:Te="react-pdf__Page",_enableRegisterUnregisterPage:Re=!0,canvasBackground:Be,canvasRef:Ue,children:Oe,className:Me,customRenderer:Qe,customTextRenderer:Ke,devicePixelRatio:Ge,error:qe="Failed to load the page.",height:Xe,inputRef:tr,loading:Je="Loading page",noData:Ye="No page specified.",onGetAnnotationsError:lr,onGetAnnotationsSuccess:cr,onGetStructTreeError:hr,onGetStructTreeSuccess:ur,onGetTextError:fr,onGetTextSuccess:er,onLoadError:nr,onLoadSuccess:ir,onRenderAnnotationLayerError:mr,onRenderAnnotationLayerSuccess:$e,onRenderError:Ar,onRenderSuccess:or,onRenderTextLayerError:Tr,onRenderTextLayerSuccess:Ur,pageIndex:Fr,pageNumber:Er,pdf:jr,registerPage:Nr,renderAnnotationLayer:Br=!0,renderForms:Mr=!1,renderMode:_r="canvas",renderTextLayer:gr=!0,rotate:yr,scale:Rr=defaultScale,unregisterPage:Ir,width:Qr}=Ce,Vr=__rest(Ce,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Wr,mn]=useResolver(),{value:gn,error:fn}=Wr,Fn=reactExports.useRef(null);invariant(jr);const wn=isProvided(Er)?Er-1:Fr??null,Yr=Er??(isProvided(Fr)?Fr+1:null),Rn=yr??(gn?gn.rotate:null),bn=reactExports.useMemo(()=>{if(!gn)return null;let An=1;const vn=Rr??defaultScale;if(Qr||Xe){const Sn=gn.getViewport({scale:1,rotation:Rn});Qr?An=Qr/Sn.width:Xe&&(An=Xe/Sn.height)}return vn*An},[Xe,gn,Rn,Rr,Qr]);function zr(){return()=>{isProvided(wn)&&Re&&Ir&&Ir(wn)}}reactExports.useEffect(zr,[Re,jr,wn,Ir]);function $r(){if(ir){if(!gn||!bn)return;ir(makePageCallback(gn,bn))}if(Re&&Nr){if(!isProvided(wn)||!Fn.current)return;Nr(wn,Fn.current)}}function Bn(){fn&&(warning(!1,fn.toString()),nr&&nr(fn))}function Pn(){mn({type:"RESET"})}reactExports.useEffect(Pn,[mn,jr,wn]);function jn(){if(!jr||!Yr)return;const An=makeCancellablePromise(jr.getPage(Yr)),vn=An;return An.promise.then(Sn=>{mn({type:"RESOLVE",value:Sn})}).catch(Sn=>{mn({type:"REJECT",error:Sn})}),()=>cancelRunningTask(vn)}reactExports.useEffect(jn,[mn,jr,wn,Yr,Nr]),reactExports.useEffect(()=>{if(gn!==void 0){if(gn===!1){Bn();return}$r()}},[gn,bn]);const Kn=reactExports.useMemo(()=>gn&&isProvided(wn)&&Yr&&isProvided(Rn)&&isProvided(bn)?{_className:Te,canvasBackground:Be,customTextRenderer:Ke,devicePixelRatio:Ge,onGetAnnotationsError:lr,onGetAnnotationsSuccess:cr,onGetStructTreeError:hr,onGetStructTreeSuccess:ur,onGetTextError:fr,onGetTextSuccess:er,onRenderAnnotationLayerError:mr,onRenderAnnotationLayerSuccess:$e,onRenderError:Ar,onRenderSuccess:or,onRenderTextLayerError:Tr,onRenderTextLayerSuccess:Ur,page:gn,pageIndex:wn,pageNumber:Yr,renderForms:Mr,renderTextLayer:gr,rotate:Rn,scale:bn}:null,[Te,Be,Ke,Ge,lr,cr,hr,ur,fr,er,mr,$e,Ar,or,Tr,Ur,gn,wn,Yr,Mr,gr,Rn,bn]),Xn=reactExports.useMemo(()=>makeEventProps(Vr,()=>gn&&(bn?makePageCallback(gn,bn):void 0)),[Vr,gn,bn]),In=`${wn}@${bn}/${Rn}`,$n=`${wn}/${Rn}`;function Yn(){switch(_r){case"custom":return invariant(Qe),React.createElement(Qe,{key:`${In}_custom`});case"none":return null;case"svg":return React.createElement(PageSVG,{key:`${$n}_svg`});case"canvas":default:return React.createElement(PageCanvas,{key:`${In}_canvas`,canvasRef:Ue})}}function si(){return gr?React.createElement(TextLayer,{key:`${In}_text`}):null}function ai(){return Br?React.createElement(AnnotationLayer,{key:`${In}_annotations`}):null}function Ci(){return React.createElement(PageContext.Provider,{value:Kn},Yn(),si(),ai(),Oe)}function dr(){return Yr?jr===null||gn===void 0||gn===null?React.createElement(Message,{type:"loading"},typeof Je=="function"?Je():Je):jr===!1||gn===!1?React.createElement(Message,{type:"error"},typeof qe=="function"?qe():qe):Ci():React.createElement(Message,{type:"no-data"},typeof Ye=="function"?Ye():Ye)}return React.createElement("div",Object.assign({className:clsx(Te,Me),"data-page-number":Yr,ref:mergeRefs(tr,Fn),style:{"--scale-factor":`${bn}`,backgroundColor:Be||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Xn),dr())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";pdfjs.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;Modal.setAppElement("#root");const SignaturePdfModal=({isOpen:Ee,onClose:t,customerData:n,ticketNum:Ce,onComplete:Te,pdfFile:Re})=>{const Be=reactExports.useRef(),[Ue,Oe]=reactExports.useState(null),[Me,Qe]=reactExports.useState(!1),[Ke,Ge]=reactExports.useState(!1),qe=({numPages:Je})=>{Oe(Je)},Xe=Je=>{console.error("PDF load error:",Je)},tr=async()=>{if(Be.current.isEmpty()){alert("Please provide a signature.");return}Ge(!0);let Je;try{Je=Be.current.getTrimmedCanvas()}catch{console.warn("getTrimmedCanvas failed, falling back to getCanvas"),Je=Be.current.getCanvas()}try{const lr=await(await new Promise(Mr=>Je.toBlob(_r=>Mr(_r),"image/png"))).arrayBuffer(),hr=await(await fetch(Re)).arrayBuffer(),ur=await PDFDocument.load(hr),fr=ur.addPage(),{width:er,height:nr}=fr.getSize(),ir=await ur.embedPng(lr);fr.drawImage(ir,{x:50,y:nr-250,width:200,height:100});const mr=await ur.embedFont(StandardFonts.Helvetica),$e=50,Ar=er/2+10;let or=nr-100;const Tr=18;fr.drawText("Ticket#:",{x:$e,y:or,size:12,font:mr,color:rgb(0,0,0)}),fr.drawText(`${n.location}${Ce}`,{x:$e+70,y:or,size:12,font:mr}),or-=Tr,fr.drawText("Contact Name:",{x:$e,y:or,size:12,font:mr}),fr.drawText(`${n.customerName}`,{x:$e+100,y:or,size:12,font:mr}),or-=Tr,fr.drawText("Company Name:",{x:$e,y:or,size:12,font:mr}),fr.drawText(`${n.companyName||""}`,{x:$e+100,y:or,size:12,font:mr}),or-=Tr,fr.drawText("Contact Mobile:",{x:$e,y:or,size:12,font:mr}),fr.drawText(`${n.mobileNumber}`,{x:$e+100,y:or,size:12,font:mr}),or-=Tr,fr.drawText("Contact Email:",{x:$e,y:or,size:12,font:mr}),fr.drawText(`${n.emailAddress}`,{x:$e+100,y:or,size:12,font:mr}),or=nr-100,fr.drawText("Date and time:",{x:Ar,y:or,size:12,font:mr}),fr.drawText(`${n.date}`,{x:Ar+110,y:or,size:12,font:mr}),or-=Tr,fr.drawText("Issued By:",{x:Ar,y:or,size:12,font:mr}),fr.drawText(`${n.issuedBy}`,{x:Ar+110,y:or,size:12,font:mr}),or-=Tr,fr.drawText("Serial Number:",{x:Ar,y:or,size:12,font:mr}),fr.drawText(`${n.serialNum}`,{x:Ar+110,y:or,size:12,font:mr}),or-=Tr,fr.drawText("Device Type:",{x:Ar,y:or,size:12,font:mr}),fr.drawText(`${n.machineType}`,{x:Ar+110,y:or,size:12,font:mr}),or-=Tr,fr.drawText("Description:",{x:Ar,y:or,size:12,font:mr}),fr.drawText(`${n.deviceDescription}`,{x:Ar+110,y:or,size:12,font:mr}),or-=Tr,fr.drawText("Symptom:",{x:Ar,y:or,size:12,font:mr}),fr.drawText(`${n.symptom}`,{x:Ar+110,y:or,size:12,font:mr});const Ur=await ur.save(),Fr=new Blob([Ur],{type:"application/octec-stream"}),Er=getStorage(),jr=ref(Er,`testcontracts/Contract${n.location}${Ce}${n.customerName}.pdf`),Nr=new Date().toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});await uploadBytes(jr,Fr);const Br=`testcontracts/Contract${n.location}${Ce}${n.customerName}.pdf`;Te(Br),t()}catch(Ye){console.error("Failed to save signed PDF:",Ye),alert("Something went wrong while saving.")}finally{Ge(!1)}};return jsxRuntimeExports.jsxs(Modal,{isOpen:Ee,onRequestClose:t,className:"signature-modal",overlayClassName:"modal-overlay",children:[jsxRuntimeExports.jsx("h2",{children:"Terms & Conditions"}),jsxRuntimeExports.jsxs("div",{className:"pdf-preview",children:[jsxRuntimeExports.jsx(Document,{file:Re,onLoadSuccess:qe,onLoadError:Xe,loading:jsxRuntimeExports.jsx("div",{children:"Loading PDF..."}),error:jsxRuntimeExports.jsx("div",{children:"Failed to load PDF. Please check console for details."}),children:Ue&&Array.from(new Array(Ue),(Je,Ye)=>jsxRuntimeExports.jsx(Page,{pageNumber:Ye+1,renderTextLayer:!1,renderAnnotationLayer:!1},`page_${Ye+1}`))}),!Ue&&jsxRuntimeExports.jsx("div",{children:"Waiting for PDF to load..."})]}),jsxRuntimeExports.jsxs("div",{className:"signature-box",children:[jsxRuntimeExports.jsx("p",{children:"Sign below to agree:"}),jsxRuntimeExports.jsxs("div",{className:"signature-wrapper",children:[!Me&&jsxRuntimeExports.jsx("div",{className:"sig-placeholder",children:"Sign here"}),jsxRuntimeExports.jsx(SignatureCanvas,{ref:Be,onBegin:()=>Qe(!0),penColor:"black",canvasProps:{width:300,height:100,className:"sig-canvas"}})]})]}),jsxRuntimeExports.jsxs("div",{className:"modal-buttons",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{Be.current.clear(),Qe(!1)},children:"Clear"}),jsxRuntimeExports.jsx("button",{onClick:tr,disabled:Ke,children:Ke?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"spinner"}),"Saving..."]}):"Accept & Continue"})]})]})},contractPdfFile=`${window.location.origin}/Amman_new_contract.pdf`,NewTicket=()=>{const{technician:Ee}=useUser(),[t,n]=reactExports.useState({ticketNum:null,customerName:"",mobileNumber:"",emailAddress:"",customerType:"personal",companyName:"",machineType:"",serialNum:"",deviceIMEI:"",details:[`Started by ${Ee.name}`],deviceDescription:"",warrantyStatus:"Apple limited warranty",symptom:"",location:"M",ticketStates:[0],technicions:[Ee.name],countryCode:"962"}),[Ce,Te]=reactExports.useState(!1),[Re,Be]=reactExports.useState(!1),[Ue,Oe]=reactExports.useState(null),[Me,Qe]=reactExports.useState(""),[Ke,Ge]=reactExports.useState(!1),qe=useNavigate();reactExports.useEffect(()=>{(async()=>{const cr=collection(db,"tickets");console.log("ref",cr);const hr=query(cr,orderBy("ticketNum","desc"),limit(1)),ur=await getDocs(hr),fr=ur.empty?1e3:ur.docs[0].data().ticketNum+1;console.log("TECH in new",Ee.name),n(er=>({...er,ticketNum:fr}))})()},[]);const Xe=lr=>{const{name:cr,value:hr}=lr.target;cr==="machineType"?hr==="Other"?(Ge(!0),n(ur=>({...ur,[cr]:""}))):(Ge(!1),Qe(""),n(ur=>({...ur,[cr]:hr}))):n(ur=>({...ur,[cr]:hr}))},tr=lr=>{const{value:cr}=lr.target;Qe(cr),n(hr=>({...hr,machineType:cr}))},Je=async lr=>{Oe(Ue),console.log("The URL",lr);try{const cr=t.ticketNum,hr=getStorage(),ur=ref(hr,`contracts/${cr}.png`);await uploadBytes(ur,Ue);const fr=new Date().toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});await addDoc(collection(db,"tickets"),{...t,date:fr,contractURL:lr}),await Ye(lr,fr),alert("Ticket created successfully!"),qe("/tickets")}catch(cr){console.error("Error creating ticket:",cr),alert("Failed to create ticket.")}},Ye=async(lr,cr)=>{try{const hr=`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <style>
            .email-container { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; }
            .header { background-color: #1ccad4; color: white; padding: 20px; text-align: center; }
            .content { padding: 20px; background-color: #f9f9f9; }
            .ticket-info { background-color: white; padding: 15px; margin: 15px 0; border-radius: 8px; }
            .info-row { margin: 8px 0; }
            .label { font-weight: bold; color: #333; }
            .download-button { 
              display: inline-block; 
              background-color: #1ccad4; 
              color: white; 
              padding: 12px 24px; 
              text-decoration: none; 
              border-radius: 5px; 
              margin: 15px 0; 
            }
            .footer { text-align: center; margin-top: 20px; color: #666; font-size: 12px; }
          </style>
        </head>
        <body>
          <div class="email-container">
            <div class="header">
              <h2>Device Received - 365Solutions</h2>
              <p>Apple Authorized Service Center</p>
            </div>
            
            <div class="content">
              <p>Dear ${t.customerName},</p>
              
              <p>We have received your device at 365Solutions Apple Authorized Service Center. Thank you for choosing our services.</p>
              
              <div class="ticket-info">
                <h3 style="color: #1ccad4;">Service Ticket Information</h3>
                <div class="info-row">
                  <span class="label">Ticket Number:</span> ${t.location}${t.ticketNum}
                </div>
                <div class="info-row">
                  <span class="label">Date Received:</span> ${cr}
                </div>
                <div class="info-row">
                  <span class="label">Device Type:</span> ${t.machineType}
                </div>
                <div class="info-row">
                  <span class="label">Serial Number:</span> ${t.serialNum}
                </div>
                <div class="info-row">
                  <span class="label">Device Description:</span> ${t.deviceDescription}
                </div>
                <div class="info-row">
                  <span class="label">Reported Issue:</span> ${t.symptom}
                </div>
                <div class="info-row">
                  <span class="label">Warranty Status:</span> ${t.warrantyStatus}
                </div>
              </div>
              
              <p><strong>What happens next?</strong></p>
              <ul>
                <li>Our technicians will begin diagnostic work on your device</li>
                <li>We will contact you with updates on the repair status</li>
                <li>You will receive notification when your device is ready for pickup</li>
              </ul>
              
              <p>Please download and keep a copy of your signed service contract:</p>
              <a " class="download-button">Download Service Contract</a>
              
              <p>If you have any questions, please contact us at:</p>
              <ul>
                <li>Email: ${t.location==="M"?"help@365solutionsjo.com":"irbid@365solutionsjo.com"}</li>
                <li>Phone: ${t.location==="M"?"+962-6-XXX-XXXX":"+962-2-XXX-XXXX"}</li>
              </ul>
              
              <div class="footer">
                <p>365Solutions - Apple Authorized Service Center</p>
                <p>Professional device repair services you can trust</p>
              </div>
            </div>
          </div>
        </body>
        </html>
      `,ur={to:t.emailAddress,subject:`Service Confirmation - Your device has been received (Ticket #${t.location}${t.ticketNum})`,html:hr,location:t.location};(await fetch(API_ENDPOINTS.SEND_EMAIL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ur)})).ok?console.log("Customer notification email sent successfully"):console.error("Failed to send customer notification email")}catch(hr){console.error("Error sending customer notification email:",hr)}};return jsxRuntimeExports.jsxs("div",{className:"ticket-container",children:[jsxRuntimeExports.jsxs("div",{className:"ticket-card",children:[jsxRuntimeExports.jsx("h2",{children:"Create New Ticket"}),jsxRuntimeExports.jsxs("form",{onSubmit:lr=>lr.preventDefault(),className:"ticket-form",children:[jsxRuntimeExports.jsxs("div",{className:"form-group readonly",children:[jsxRuntimeExports.jsx("label",{children:"Ticket Number"}),jsxRuntimeExports.jsx("div",{className:"readonly-value",children:t.ticketNum})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Customer Name"}),jsxRuntimeExports.jsx("input",{name:"customerName",value:t.customerName,onChange:Xe,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Mobile Number"}),jsxRuntimeExports.jsx("input",{name:"mobileNumber",value:t.mobileNumber,onChange:Xe,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",name:"emailAddress",value:t.emailAddress,onChange:Xe,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Customer Type"}),jsxRuntimeExports.jsxs("select",{name:"customerType",value:t.customerType,onChange:Xe,children:[jsxRuntimeExports.jsx("option",{value:"personal",children:"Personal"}),jsxRuntimeExports.jsx("option",{value:"business",children:"Business"})]})]}),t.customerType==="business"&&jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Company Name"}),jsxRuntimeExports.jsx("input",{name:"companyName",value:t.companyName,onChange:Xe,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Device Type"}),jsxRuntimeExports.jsxs("select",{name:"machineType",value:Ke?"Other":t.machineType,onChange:Xe,required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a device"}),jsxRuntimeExports.jsx("option",{value:"iMac",children:"iMac"}),jsxRuntimeExports.jsx("option",{value:"MacBook Pro",children:"MacBook Pro"}),jsxRuntimeExports.jsx("option",{value:"MacBook Air",children:"MacBook Air"}),jsxRuntimeExports.jsx("option",{value:"Mac mini",children:"Mac mini"}),jsxRuntimeExports.jsx("option",{value:"Mac Pro",children:"Mac Pro"}),jsxRuntimeExports.jsx("option",{value:"Mac Studio",children:"Mac Studio"}),jsxRuntimeExports.jsx("option",{value:"Apple Studio Display",children:"Apple Studio Display"}),jsxRuntimeExports.jsx("option",{value:"iPhone",children:"iPhone"}),jsxRuntimeExports.jsx("option",{value:"iPhoneX",children:"iPhoneX"}),jsxRuntimeExports.jsx("option",{value:"iPhoneXS",children:"iPhoneXS"}),jsxRuntimeExports.jsx("option",{value:"iPhoneXS Max",children:"iPhoneXS Max"}),jsxRuntimeExports.jsx("option",{value:"iPhone11",children:"iPhone11"}),jsxRuntimeExports.jsx("option",{value:"iPhone12",children:"iPhone12"}),jsxRuntimeExports.jsx("option",{value:"iPhone12 mini",children:"iPhone12 mini"}),jsxRuntimeExports.jsx("option",{value:"iPhone12 Pro",children:"iPhone12 Pro"}),jsxRuntimeExports.jsx("option",{value:"iPhone12 Pro Max",children:"iPhone12 Pro Max"}),jsxRuntimeExports.jsx("option",{value:"iPhone13",children:"iPhone13"}),jsxRuntimeExports.jsx("option",{value:"iPhone13 mini",children:"iPhone13 mini"}),jsxRuntimeExports.jsx("option",{value:"iPhone13 Pro",children:"iPhone13 Pro"}),jsxRuntimeExports.jsx("option",{value:"iPhone13 Pro Max",children:"iPhone13 Pro Max"}),jsxRuntimeExports.jsx("option",{value:"iPhone14",children:"iPhone14"}),jsxRuntimeExports.jsx("option",{value:"iPhone14 Plus",children:"iPhone14 Plus"}),jsxRuntimeExports.jsx("option",{value:"iPhone14 Pro",children:"iPhone14 Pro"}),jsxRuntimeExports.jsx("option",{value:"iPhone14 Pro Max",children:"iPhone14 Pro Max"}),jsxRuntimeExports.jsx("option",{value:"iPhone15",children:"iPhone15"}),jsxRuntimeExports.jsx("option",{value:"iPhone15 Plus",children:"iPhone15 Plus"}),jsxRuntimeExports.jsx("option",{value:"iPhone15 Pro",children:"iPhone15 Pro"}),jsxRuntimeExports.jsx("option",{value:"iPhone15 Pro Max",children:"iPhone15 Pro Max"}),jsxRuntimeExports.jsx("option",{value:"iPhone16",children:"iPhone16"}),jsxRuntimeExports.jsx("option",{value:"iPhone16 Plus",children:"iPhone16 Plus"}),jsxRuntimeExports.jsx("option",{value:"iPhone16 Pro",children:"iPhone16 Pro"}),jsxRuntimeExports.jsx("option",{value:"iPhone16 Pro Max",children:"iPhone16 Pro Max"}),jsxRuntimeExports.jsx("option",{value:"iPad",children:"iPad"}),jsxRuntimeExports.jsx("option",{value:"iPadPro 11",children:"iPadPro 11"}),jsxRuntimeExports.jsx("option",{value:"iPadPro 12.9",children:"iPadPro 12.9"}),jsxRuntimeExports.jsx("option",{value:"iPadAir",children:"iPadAir"}),jsxRuntimeExports.jsx("option",{value:"iPad mini",children:"iPad mini"}),jsxRuntimeExports.jsx("option",{value:"AppleWatch",children:"AppleWatch"}),jsxRuntimeExports.jsx("option",{value:"AppleTV",children:"AppleTV"}),jsxRuntimeExports.jsx("option",{value:"Apple Pencil1",children:"Apple Pencil1"}),jsxRuntimeExports.jsx("option",{value:"Apple Pencil2",children:"Apple Pencil2"}),jsxRuntimeExports.jsx("option",{value:"Apple AirPods",children:"Apple AirPods"}),jsxRuntimeExports.jsx("option",{value:"Apple Pencil",children:"Apple Pencil"}),jsxRuntimeExports.jsx("option",{value:"Beats",children:"Beats"}),jsxRuntimeExports.jsx("option",{value:"Other",children:"Other"})]})]}),Ke&&jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Custom Device Type"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter custom device type",value:Me,onChange:tr,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Device Serial Number"}),jsxRuntimeExports.jsx("input",{name:"serialNum",value:t.serialNum,onChange:Xe,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"IMEI Number"}),jsxRuntimeExports.jsx("input",{name:"deviceIMEI",value:t.deviceIMEI,onChange:Xe,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Device Description"}),jsxRuntimeExports.jsx("input",{name:"deviceDescription",value:t.deviceDescription,onChange:Xe,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Warranty Status"}),jsxRuntimeExports.jsxs("select",{name:"warrantyStatus",value:t.warrantyStatus,onChange:Xe,children:[jsxRuntimeExports.jsx("option",{children:"Apple limited warranty"}),jsxRuntimeExports.jsx("option",{children:"Out of warranty"}),jsxRuntimeExports.jsx("option",{children:"Apple care protection"}),jsxRuntimeExports.jsx("option",{children:"Quality program"}),jsxRuntimeExports.jsx("option",{children:"Repeate Service"}),jsxRuntimeExports.jsx("option",{children:"CS code"})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Symptom"}),jsxRuntimeExports.jsx("textarea",{name:"symptom",value:t.symptom,onChange:Xe,required:!0})]}),jsxRuntimeExports.jsx("button",{className:"submit-button",onClick:lr=>{lr.preventDefault(),Be(!0)},children:"Create Ticket"})]})]}),jsxRuntimeExports.jsx(SignaturePdfModal,{isOpen:Re,onClose:()=>Be(!1),customerData:t,ticketNum:t.ticketNum,location:t.location,onComplete:Je,pdfFile:contractPdfFile})]})},PrivateRoute=({children:Ee})=>{const[t,n]=useAuthState(auth);return reactExports.useEffect(()=>{!n&&!t&&alert("Please login first.")},[n,t]),n?jsxRuntimeExports.jsx("div",{children:"Loading..."}):t?Ee:jsxRuntimeExports.jsx(Navigate,{to:"/"})};Modal.setAppElement("#root");const PartsModal=({isOpen:Ee,onClose:t,ticket:n})=>{const[Ce,Te]=reactExports.useState(""),[Re,Be]=reactExports.useState(""),[Ue,Oe]=reactExports.useState(""),[Me,Qe]=reactExports.useState("Apple limited warranty"),[Ke,Ge]=reactExports.useState(""),[qe,Xe]=reactExports.useState(""),[tr,Je]=reactExports.useState(""),[Ye,lr]=reactExports.useState(!1),[cr,hr]=reactExports.useState(""),[ur,fr]=reactExports.useState(""),[er,nr]=reactExports.useState([]),[ir,mr]=reactExports.useState(!1),[$e,Ar]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{if(n!=null&&n.partDeliveryNote){console.log("Fetching delivery note:",n.partDeliveryNote);try{const Mr=doc(db,"partsDeliveryNotes",n.partDeliveryNote),_r=await getDoc(Mr);if(_r.exists()){const gr=_r.data();if(gr.parts&&gr.parts.length>0)nr(gr.parts),mr(!1);else if(gr.partNumbers||gr.partDescriptions||gr.newSerialNumber){console.log("Old format detected, migrating data..."),Ar(gr),mr(!0);const yr=or(gr);nr(yr),yr.length>0&&(await Tr(n.partDeliveryNote,gr,yr),mr(!1))}else mr(!1);console.log("Fetched parts delivery note:",gr)}}catch(Mr){console.error("Failed to fetch delivery note:",Mr)}}})()},[n]);const or=Br=>{const Mr=[],_r=Br.partNumbers||[],gr=Br.partDescriptions||[],yr=Br.newSerialNumber||[],Rr=Br.oldSerialNumber||[],Ir=Br.warrantyStatus||[],Qr=Br.qtys||[],Vr=Br.prices||[],Wr=Br.services||[],mn=Math.max(_r.length,gr.length,yr.length,Rr.length,Ir.length,Qr.length,Vr.length,Wr.length);for(let gn=0;gn<mn;gn++){const fn=Wr[gn]&&Wr[gn].trim()!=="",Fn={partNumber:fn?"":_r[gn]||"",newSN:fn?"":yr[gn]||"",oldSN:fn?"":Rr[gn]||"",warrantyStatus:fn?"":Ir[gn]||"Apple limited warranty",description:gr[gn]||"",quantity:Qr[gn]||"1",price:Vr[gn]||"0"};Mr.push(Fn)}return console.log("Migrated parts:",Mr),Mr},Tr=async(Br,Mr,_r)=>{try{const gr=doc(db,"partsDeliveryNotes",Br);await updateDoc(gr,{...Mr,parts:_r,migratedAt:new Date}),console.log("Successfully migrated and saved parts data")}catch(gr){console.error("Failed to save migrated parts:",gr)}},Ur=async()=>{if(!$e||!(n!=null&&n.partDeliveryNote)){alert("No old data available for migration");return}try{const Br=or($e);nr(Br),Br.length>0&&(await Tr(n.partDeliveryNote,$e,Br),mr(!1),alert("Data migration completed successfully!"))}catch(Br){console.error("Manual migration failed:",Br),alert("Migration failed. Please try again.")}},Fr=()=>{const Br={partNumber:Ye?"":Ce,newSN:Ye?"":Re,oldSN:Ye?"":Ue,warrantyStatus:Ye?"":Me,description:Ye?cr==="Other"?ur:cr:Ke,quantity:qe||"1",price:tr||"0"};nr([...er,Br]),Te(""),Be(""),Oe(""),Qe("Apple limited warranty"),Ge(""),Xe(""),Je(""),lr(!1),hr(""),fr("")},Er=Br=>{const Mr=er.filter((_r,gr)=>gr!==Br);nr(Mr)},jr=async()=>{if(n)try{const Br=new Date().getTime(),Mr=n.customerName.replace(/[^a-zA-Z0-9]/g,""),_r=`PDN${n.location}${n.ticketNum}${Mr}${Br}`,gr=doc(db,"partsDeliveryNotes",_r);await setDoc(gr,{ticketId:n.id,ticketNum:n.ticketNum,customerName:n.customerName,machineType:n.machineType,serialNumber:n.serialNum,warrantyStatus:n.warrantyStatus,technician:n.technician||"",symptom:n.symptom,createdAt:new Date,parts:er}),await updateDoc(doc(db,"tickets",n.id),{partDeliveryNote:_r}),alert("Parts delivery note saved successfully."),t()}catch(Br){console.error("Failed to save parts delivery note:",Br),alert("Failed to save parts delivery note.")}},Nr=new Date().toLocaleDateString();return jsxRuntimeExports.jsxs(Modal,{isOpen:Ee,onRequestClose:t,className:"right-modal",overlayClassName:"modal-overlay",children:[jsxRuntimeExports.jsx("button",{className:"modal-close-button",onClick:t,children:""}),jsxRuntimeExports.jsxs("div",{className:"modal-form",children:[jsxRuntimeExports.jsx("label",{children:"Part#:"}),jsxRuntimeExports.jsx("input",{type:"text",value:Ce,onChange:Br=>Te(Br.target.value),placeholder:"Enter Part#",disabled:Ye}),jsxRuntimeExports.jsx("label",{children:"New SN:"}),jsxRuntimeExports.jsx("input",{type:"text",value:Re,onChange:Br=>Be(Br.target.value),placeholder:"Enter New SN",disabled:Ye}),jsxRuntimeExports.jsx("label",{children:"Old SN:"}),jsxRuntimeExports.jsx("input",{type:"text",value:Ue,onChange:Br=>Oe(Br.target.value),placeholder:"Enter Old SN",disabled:Ye}),jsxRuntimeExports.jsx("label",{children:"Warranty Status:"}),jsxRuntimeExports.jsxs("select",{value:Me,onChange:Br=>Qe(Br.target.value),disabled:Ye,children:[jsxRuntimeExports.jsx("option",{children:"Apple limited warranty"}),jsxRuntimeExports.jsx("option",{children:"Out of warranty"}),jsxRuntimeExports.jsx("option",{children:"CS code"}),jsxRuntimeExports.jsx("option",{children:"Quality program"})]}),jsxRuntimeExports.jsx("label",{children:"Part Description:"}),jsxRuntimeExports.jsx("input",{type:"text",value:Ke,onChange:Br=>Ge(Br.target.value),placeholder:"Enter Description",disabled:Ye}),jsxRuntimeExports.jsx("label",{children:"Quantity:"}),jsxRuntimeExports.jsx("input",{type:"number",value:qe,onChange:Br=>Xe(Br.target.value),placeholder:"Enter Quantity"}),jsxRuntimeExports.jsx("label",{children:"Price:"}),jsxRuntimeExports.jsx("input",{type:"text",value:tr,onChange:Br=>Je(Br.target.value),placeholder:"Enter Price"}),jsxRuntimeExports.jsxs("div",{className:"service-section",children:[jsxRuntimeExports.jsxs("div",{className:"service-row",children:[jsxRuntimeExports.jsxs("label",{className:"service-checkbox",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Ye,onChange:Br=>lr(Br.target.checked)}),"Service"]}),Ye&&jsxRuntimeExports.jsxs("div",{className:"service-type-select",children:[jsxRuntimeExports.jsx("label",{children:"Service Type:"}),jsxRuntimeExports.jsxs("select",{value:cr,onChange:Br=>hr(Br.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Service Type"}),jsxRuntimeExports.jsx("option",{value:"Software",children:"Software"}),jsxRuntimeExports.jsx("option",{value:"Upgrade system",children:"Upgrade system"}),jsxRuntimeExports.jsx("option",{value:"Transfer data",children:"Transfer data"}),jsxRuntimeExports.jsx("option",{value:"Cleaning",children:"Cleaning"}),jsxRuntimeExports.jsx("option",{value:"Miss use",children:"Miss use"}),jsxRuntimeExports.jsx("option",{value:"NTF",children:"NTF"}),jsxRuntimeExports.jsx("option",{value:"Other",children:"Other"})]}),cr==="Other"&&jsxRuntimeExports.jsx("input",{type:"text",value:ur,onChange:Br=>fr(Br.target.value),placeholder:"Enter custom service",className:"custom-service-input"})]})]}),jsxRuntimeExports.jsx("button",{onClick:Fr,className:"apply-button",children:"Apply"})]})]}),jsxRuntimeExports.jsxs("div",{className:"delivery-header",children:[jsxRuntimeExports.jsxs("div",{className:"logo-section",children:[jsxRuntimeExports.jsx("img",{src:"/path/to/your/logo.png",alt:"Logo",className:"logo-img"}),jsxRuntimeExports.jsx("h2",{children:"Delivery Note"}),jsxRuntimeExports.jsx("div",{className:"underline"})]}),jsxRuntimeExports.jsxs("div",{className:"delivery-details",children:[jsxRuntimeExports.jsxs("div",{className:"left",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivery Date:"})," ",Nr]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Customer Name:"})," ",n==null?void 0:n.customerName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Invoice #:"})," ",n==null?void 0:n.ticketNum]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Product Type:"})," ",n==null?void 0:n.machineType]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Repair ID:"})," ",n==null?void 0:n.id]})]}),jsxRuntimeExports.jsxs("div",{className:"right",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Serial Number:"})," ",n==null?void 0:n.serialNum]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Device Issue:"})," ",n==null?void 0:n.symptom]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Warranty Status:"})," ",(n==null?void 0:n.warrantyStatus)||""]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Technician:"})," ",(n==null?void 0:n.technician)||""]}),jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx("strong",{children:"Tech ID:"})})]})]})]}),jsxRuntimeExports.jsxs("table",{className:"delivery-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Item Description"}),jsxRuntimeExports.jsx("th",{children:"Part #"}),jsxRuntimeExports.jsx("th",{children:"Old Serial #"}),jsxRuntimeExports.jsx("th",{children:"New Serial #"}),jsxRuntimeExports.jsx("th",{children:"Quantity"}),jsxRuntimeExports.jsx("th",{children:"Warranty Status"})]})}),jsxRuntimeExports.jsx("tbody",{children:er.map((Br,Mr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:Br.description}),jsxRuntimeExports.jsx("td",{children:Br.partNumber}),jsxRuntimeExports.jsx("td",{children:Br.oldSN}),jsxRuntimeExports.jsx("td",{children:Br.newSN}),jsxRuntimeExports.jsx("td",{children:Br.quantity}),jsxRuntimeExports.jsx("td",{children:Br.warrantyStatus}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("button",{className:"delete-part-button",onClick:()=>Er(Mr),title:"Delete part",children:""})})]},Mr))})]}),jsxRuntimeExports.jsxs("div",{className:"modal-actions",children:[ir&&jsxRuntimeExports.jsx("button",{className:"migration-button",onClick:Ur,title:"Migrate old data format to new parts structure",children:" Migrate Old Data"}),jsxRuntimeExports.jsx("button",{className:"save-button",onClick:jr,children:"Save"})]})]})};Modal.setAppElement("#root");const PriceQuotationModal=({isOpen:Ee,onClose:t,ticket:n})=>{const[Ce,Te]=reactExports.useState(""),[Re,Be]=reactExports.useState(""),[Ue,Oe]=reactExports.useState("1"),[Me,Qe]=reactExports.useState("0"),[Ke,Ge]=reactExports.useState(!1),[qe,Xe]=reactExports.useState(""),[tr,Je]=reactExports.useState(""),[Ye,lr]=reactExports.useState([]),[cr,hr]=reactExports.useState(!1);reactExports.useEffect(()=>{(async()=>{if(n!=null&&n.priceQuotationRef)try{const Ar=doc(db,"priceQuotationsData",n.priceQuotationRef),or=await getDoc(Ar);if(or.exists()){const Tr=or.data();lr(Tr.quotes||[])}}catch(Ar){console.error("Failed to fetch price quotation:",Ar)}})()},[n]);const ur=()=>{Te(""),Be(""),Oe("1"),Qe("0"),Ge(!1),Xe(""),Je("")},fr=()=>{if(!n)return null;const $e=n.customerName?n.customerName.replace(/[^a-zA-Z0-9]/g,""):"UnknownCustomer",Ar=n.location?n.location.replace(/[^a-zA-Z0-9]/g,""):"UnknownLocation",or=new Date().getTime();return`PQ_${Ar}_${$e}_${or}`},er=async()=>{if(!Re||!Ke&&!Ce||Ke&&!qe&&!tr){alert("Please fill in all required fields: Description, and either Part# (for parts) or Service Type (for services)");return}const $e={partNumber:Ke?"":Ce,description:Re,quantity:parseInt(Ue)||1,price:parseFloat(Me)||0,service:Ke,serviceType:Ke?qe==="Custom"?tr:qe:""},Ar=[...Ye,$e];lr(Ar);try{let or=n.priceQuotationRef||fr();const Tr={ticketId:n.ticketId,customer:n.customerName,location:n.location,quotes:Ar,createdAt:new Date,updatedAt:new Date};if(n.priceQuotationRef){const Ur=doc(db,"priceQuotationsData",n.priceQuotationRef);await updateDoc(Ur,{quotes:Ar,updatedAt:new Date})}else{const Ur=doc(db,"priceQuotationsData",or);await setDoc(Ur,Tr);const Fr=doc(db,"tickets",n.id);await updateDoc(Fr,{priceQuotationRef:or})}ur()}catch(or){console.error("Error saving quote:",or),alert("Failed to save quote. Please try again.")}},nr=async $e=>{const Ar=Ye.filter((or,Tr)=>Tr!==$e);lr(Ar);try{if(n.priceQuotationRef){const or=doc(db,"priceQuotationsData",n.priceQuotationRef);await updateDoc(or,{quotes:Ar,updatedAt:new Date})}}catch(or){console.error("Error deleting quote:",or),alert("Failed to delete quote. Please try again.")}},ir=()=>Ye.reduce(($e,Ar)=>$e+Ar.price*Ar.quantity,0).toFixed(2),mr=async()=>{if(Ye.length===0){alert("Please add items to the quotation before sending email.");return}if(!n.emailAddress){alert("No email address found for this customer.");return}hr(!0);try{const $e=Ye.map((jr,Nr)=>`<tr>
          <td style="padding: 8px; border: 1px solid #ddd;">${Nr+1}</td>
          <td style="padding: 8px; border: 1px solid #ddd;">${jr.service?"Service":"Part"}</td>
          <td style="padding: 8px; border: 1px solid #ddd;">${jr.partNumber||(jr.service?jr.serviceType:"")}</td>
          <td style="padding: 8px; border: 1px solid #ddd;">${jr.description}</td>
          <td style="padding: 8px; border: 1px solid #ddd;">${jr.quantity}</td>
          <td style="padding: 8px; border: 1px solid #ddd;">${jr.price.toFixed(2)} JOD</td>
          <td style="padding: 8px; border: 1px solid #ddd;">${(jr.price*jr.quantity).toFixed(2)} JOD</td>
        </tr>`).join(""),Ar="/src/assets/logo_new.png",or="/src/assets/email_logo.png";let Tr="",Ur="";try{const Nr=await(await fetch(Ar)).blob();Tr=await new Promise(Br=>{const Mr=new FileReader;Mr.onloadend=()=>Br(Mr.result),Mr.readAsDataURL(Nr)})}catch(jr){console.warn("Could not load header logo for email:",jr)}try{const Nr=await(await fetch(or)).blob();Ur=await new Promise(Br=>{const Mr=new FileReader;Mr.onloadend=()=>Br(Mr.result),Mr.readAsDataURL(Nr)})}catch(jr){console.warn("Could not load footer logo for email:",jr)}const Fr=`
        <div style="font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto;">
          <div style="display: flex; align-items: center; margin-bottom: 20px; border-bottom: 2px solid #094549; padding-bottom: 15px;">
            ${Tr?`<img src="${Tr}" alt="365 Solutions Logo" style="max-height: 60px; height: auto; margin-right: 20px;" />`:""}
            <h2 style="color: #094549; margin: 0; flex-grow: 1;">Price Quotation</h2>
          </div>
          <h3>Ticket #${n.location}${n.ticketNum}</h3>
          <p><strong>Customer:</strong> ${n.customerName}</p>

          <p><strong>Date:</strong> ${new Date().toLocaleDateString()}</p>
          
          <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
            <thead>
              <tr style="background-color: #f0f0f0;">
                <th style="padding: 10px; border: 1px solid #ddd;">#</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Type</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Part #</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Description</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Qty</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Price</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Total</th>
              </tr>
            </thead>
            <tbody>
              ${$e}
              <tr style="background-color: #f9f9f9; font-weight: bold;">
                <td colspan="6" style="padding: 10px; border: 1px solid #ddd; text-align: right;">Grand Total:</td>
                <td style="padding: 10px; border: 1px solid #ddd;">${ir()} JOD</td>
              </tr>
            </tbody>
          </table>
          
          <p style="margin-top: 15px; font-style: italic; color: #333; text-align: center;">
            All prices include 16% sales tax
          </p>
          
          <p style="margin-top: 30px; color: #666;">
            This quotation is valid for 7 days from the date of issue.
          </p>
          
          <div style="margin-top: 40px; border-top: 1px solid #eee; padding-top: 20px; font-size: 13px; color: #999; text-align: center;">
            ${Ur?`<div style="margin-bottom: 15px;">
              <img src="${Ur}" alt="365 Solutions Email Logo" style="max-height: 40px; height: auto;" />
            </div>`:""}
            <p> 2025 365 Solutions. All rights reserved.</p>
            <p>Mecca Street, Building No. 221, Amman, Jordan  help@365solutionsjo.com, Tel: +962 796818189</p>
            <p>Wasfi AlTal Street, Irbid, Jordan  irbid@365solutionsjo.com, Tel: +962 796818189</p>
          </div>
        </div>
      `,Er=await fetch(API_ENDPOINTS.SEND_EMAIL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:n.emailAddress,subject:`Price Quotation - Ticket #${n.ticketId}`,html:Fr,location:n.location})});if(Er.ok)alert(`Price quotation sent successfully to ${n.emailAddress}`);else{const jr=await Er.json().catch(()=>({error:"Unknown error"}));throw new Error(jr.error||`Server returned ${Er.status}: ${Er.statusText}`)}}catch($e){console.error("Error sending email:",$e),alert(`Failed to send email: ${$e.message}`)}finally{hr(!1)}};return jsxRuntimeExports.jsxs(Modal,{isOpen:Ee,onRequestClose:t,className:"right-modal",overlayClassName:"modal-overlay",children:[jsxRuntimeExports.jsx("button",{className:"modal-close-button",onClick:t,children:""}),jsxRuntimeExports.jsxs("div",{className:"modal-form",children:[jsxRuntimeExports.jsxs("div",{className:"logo-section",children:[jsxRuntimeExports.jsx("h2",{children:"Price Quotation"}),jsxRuntimeExports.jsx("div",{className:"underline"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Ticket#:"})}),jsxRuntimeExports.jsx("p",{children:n==null?void 0:n.ticketNum})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Customer:"})}),jsxRuntimeExports.jsx("p",{children:n==null?void 0:n.customerName})]}),jsxRuntimeExports.jsx("div",{className:"service-section",children:jsxRuntimeExports.jsxs("div",{className:"service-row",children:[jsxRuntimeExports.jsxs("div",{className:"service-checkbox",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Ke,onChange:$e=>Ge($e.target.checked)}),jsxRuntimeExports.jsx("label",{children:"Service"})]}),Ke&&jsxRuntimeExports.jsxs("div",{className:"service-type-select",children:[jsxRuntimeExports.jsx("label",{children:"Service Type:"}),jsxRuntimeExports.jsxs("select",{value:qe,onChange:$e=>Xe($e.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Service Type"}),jsxRuntimeExports.jsx("option",{value:"Diagnosis",children:"Diagnosis"}),jsxRuntimeExports.jsx("option",{value:"Repair",children:"Repair"}),jsxRuntimeExports.jsx("option",{value:"Software Update",children:"Software Update"}),jsxRuntimeExports.jsx("option",{value:"Hardware Installation",children:"Hardware Installation"}),jsxRuntimeExports.jsx("option",{value:"Data Recovery",children:"Data Recovery"}),jsxRuntimeExports.jsx("option",{value:"Maintenance",children:"Maintenance"}),jsxRuntimeExports.jsx("option",{value:"Consultation",children:"Consultation"}),jsxRuntimeExports.jsx("option",{value:"Custom",children:"Custom"})]}),qe==="Custom"&&jsxRuntimeExports.jsx("input",{type:"text",className:"custom-service-input",placeholder:"Enter custom service type",value:tr,onChange:$e=>Je($e.target.value)})]})]})}),!Ke&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Part #:"})}),jsxRuntimeExports.jsx("input",{type:"text",value:Ce,onChange:$e=>Te($e.target.value),placeholder:"Enter part number"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Description:"})}),jsxRuntimeExports.jsx("input",{type:"text",value:Re,onChange:$e=>Be($e.target.value),placeholder:"Enter description"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Quantity:"})}),jsxRuntimeExports.jsx("input",{type:"number",value:Ue,onChange:$e=>Oe($e.target.value),placeholder:"Enter quantity",min:"1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Price:"})}),jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",value:Me,onChange:$e=>Qe($e.target.value),placeholder:"Enter price",min:"0"})]}),jsxRuntimeExports.jsx("button",{className:"apply-button",onClick:er,children:"Add to Quote"}),Ye.length>0&&jsxRuntimeExports.jsxs("div",{className:"delivery-header",children:[jsxRuntimeExports.jsx("h3",{children:"Price Quotation Items"}),jsxRuntimeExports.jsxs("table",{className:"delivery-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Type"}),jsxRuntimeExports.jsx("th",{children:"Part #"}),jsxRuntimeExports.jsx("th",{children:"Description"}),jsxRuntimeExports.jsx("th",{children:"Qty"}),jsxRuntimeExports.jsx("th",{children:"Price"}),jsxRuntimeExports.jsx("th",{children:"Total"}),jsxRuntimeExports.jsx("th",{children:"Action"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[Ye.map(($e,Ar)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:$e.service?"Service":"Part"}),jsxRuntimeExports.jsx("td",{children:$e.partNumber||($e.service?$e.serviceType:"")}),jsxRuntimeExports.jsx("td",{children:$e.description}),jsxRuntimeExports.jsx("td",{children:$e.quantity}),jsxRuntimeExports.jsxs("td",{children:[$e.price.toFixed(2)," JOD"]}),jsxRuntimeExports.jsxs("td",{children:[($e.price*$e.quantity).toFixed(2)," JOD"]}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("button",{className:"delete-part-button",onClick:()=>nr(Ar),children:""})})]},Ar)),jsxRuntimeExports.jsxs("tr",{style:{fontWeight:"bold",backgroundColor:"#f0f0f0"},children:[jsxRuntimeExports.jsx("td",{colSpan:"5",children:"Total:"}),jsxRuntimeExports.jsxs("td",{children:[ir()," JOD"]}),jsxRuntimeExports.jsx("td",{})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"modal-actions",children:[Ye.length>0&&jsxRuntimeExports.jsx("button",{className:"apply-button",onClick:mr,disabled:cr,style:{marginBottom:"10px",backgroundColor:cr?"#ccc":"#3333cc"},children:cr?"Sending...":"Send Price Quotation by Email"}),jsxRuntimeExports.jsx("button",{className:"save-button",onClick:t,children:"Close"})]})]})};Modal.setAppElement("#root");const statusOptions=["Start","VMI Troubleshooting","Repair Released from Processing","Awaiting Parts","Parts Allocated","In Repair","Ready For Pickup","Repair Marked Complete"],statusMap={0:"Start",1:"VMI Troubleshooting",2:"Repair Released from Processing",3:"Awaiting Parts",4:"Parts Allocated",5:"In Repair",6:"Ready For Pickup",7:"Repair Marked Complete"},ProcessTicketPage=()=>{var Fr;const{id:Ee}=useParams(),{technician:t}=useUser(),[n,Ce]=reactExports.useState(null),[Te,Re]=reactExports.useState(""),[Be,Ue]=reactExports.useState(!0),[Oe,Me]=reactExports.useState(0),[Qe,Ke]=reactExports.useState(0),[Ge,qe]=reactExports.useState(""),[Xe,tr]=reactExports.useState(""),[Je,Ye]=reactExports.useState(!1),[lr,cr]=reactExports.useState(!1),[hr,ur]=reactExports.useState([]),[fr,er]=reactExports.useState(!1),nr=getStorage(),ir=()=>Ye(!0),mr=()=>Ye(!1),$e=()=>cr(!0),Ar=()=>cr(!1);reactExports.useEffect(()=>{(async()=>{var Br;const jr=doc(db,"tickets",Ee),Nr=await getDoc(jr);if(Nr.exists()){const Mr=Nr.data(),_r=((Br=Mr.ticketStates)==null?void 0:Br.slice(-1)[0])||0;if(Ce({id:Nr.id,...Mr}),Me(_r),Ke(_r),Mr.mediaURLs)try{const gr=await Promise.all(Mr.mediaURLs.map(async yr=>{const Rr=ref(nr,yr);return await getDownloadURL(Rr)}));ur(gr)}catch(gr){console.error("Failed to fetch media URLs:",gr)}Ue(!1)}})()},[Ee]);const or=async()=>{if(!Ge.trim()){alert("Please add a note.");return}const Er=doc(db,"tickets",Ee),Nr=new Date().toLocaleString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),Br=(t==null?void 0:t.name)||"Unknown Technician",Mr=`[${Nr}] ${Br}: ${Ge.trim()}`,_r={ticketStates:[...n.ticketStates,parseInt(Qe)],details:[...n.details||[],Mr],technicions:[...n.technicions,Br]};Qe===1&&(_r.approvalRequired=!0,_r.approvalStatus="pending"),await updateDoc(Er,_r),parseInt(Qe)===6&&await Tr(),alert("Status and note updated successfully"),Ce(gr=>({...gr,ticketStates:[...gr.ticketStates,parseInt(Qe)],details:[...gr.details||[],Mr],technicions:[...gr.technicions,t.name],approvalRequired:Qe===1?!0:gr.approvalRequired,approvalStatus:Qe===1?"pending":gr.approvalStatus})),qe("")},Tr=async()=>{try{const Er=new Date().toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),jr=`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <style>
            .email-container { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; }
            .header { background-color: #28a745; color: white; padding: 20px; text-align: center; }
            .content { padding: 20px; background-color: #f9f9f9; }
            .ticket-info { background-color: white; padding: 15px; margin: 15px 0; border-radius: 8px; }
            .info-row { margin: 8px 0; }
            .label { font-weight: bold; color: #333; }
            .pickup-notice { 
              background-color: #d4edda; 
              border: 1px solid #c3e6cb; 
              color: #155724; 
              padding: 15px; 
              border-radius: 8px; 
              margin: 15px 0; 
            }
            .footer { text-align: center; margin-top: 20px; color: #666; font-size: 12px; }
          </style>
        </head>
        <body>
          <div class="email-container">
            <div class="header">
              <h2> Your Device is Ready for Pickup!</h2>
              <p>365Solutions - Apple Authorized Service Center</p>
            </div>
            
            <div class="content">
              <p>Dear ${n.customerName},</p>
              
              <p><strong>Great news!</strong> Your device has been successfully repaired and is now ready for pickup.</p>
              
              <div class="pickup-notice">
                <h3 style="margin-top: 0;"> Ready for Pickup</h3>
                <p>Your device is waiting for you at our service center. Please bring a valid ID and your service receipt when collecting your device.</p>
              </div>
              
              <div class="ticket-info">
                <h3 style="color: #28a745;">Service Completion Details</h3>
                <div class="info-row">
                  <span class="label">Ticket Number:</span> ${n.location}${n.ticketNum}
                </div>
                <div class="info-row">
                  <span class="label">Completion Date:</span> ${Er}
                </div>
                <div class="info-row">
                  <span class="label">Device Type:</span> ${n.machineType}
                </div>
                <div class="info-row">
                  <span class="label">Serial Number:</span> ${n.serialNum}
                </div>
                <div class="info-row">
                  <span class="label">Original Issue:</span> ${n.symptom}
                </div>
                ${n.caseID?`<div class="info-row"><span class="label">Repair ID:</span> ${n.caseID}</div>`:""}
              </div>
              
              <div style="background-color: white; padding: 15px; margin: 15px 0; border-radius: 8px;">
                <h3 style="color: #1ccad4;">Pickup Information</h3>
                <p><strong>Service Center Location:</strong></p>
                <p>${n.location==="M"?"Amman Branch":"Irbid Branch"}</p>
                
                <p><strong>Business Hours:</strong></p>
                <ul>
                  <li>Sunday - Thursday: 9:00 AM - 6:00 PM</li>
                  <li>Saturday: 9:00 AM - 2:00 PM</li>
                  <li>Friday: Closed</li>
                </ul>
                
                <p><strong>What to bring:</strong></p>
                <ul>
                  <li>Valid photo ID</li>
                  <li>Service receipt or ticket number</li>
                  <li>Payment method (if applicable)</li>
                </ul>
              </div>
              
              <p><strong>Contact Information:</strong></p>
              <ul>
                <li>Email: ${n.location==="M"?"help@365solutionsjo.com":"irbid@365solutionsjo.com"}</li>
                <li>Phone: ${n.location==="M"?"+962-6-XXX-XXXX":"+962-2-XXX-XXXX"}</li>
              </ul>
              
              <p>Thank you for choosing 365Solutions for your device repair needs. We appreciate your patience and look forward to serving you again.</p>
              
              <div class="footer">
                <p>365Solutions - Apple Authorized Service Center</p>
                <p>Professional device repair services you can trust</p>
              </div>
            </div>
          </div>
        </body>
        </html>
      `,Nr={to:n.emailAddress,subject:` Device Ready for Pickup - Ticket #${n.location}${n.ticketNum}`,html:jr,location:n.location};(await fetch(API_ENDPOINTS.SEND_EMAIL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Nr)})).ok?console.log("Ready for pickup email sent successfully"):console.error("Failed to send ready for pickup email")}catch(Er){console.error("Error sending ready for pickup email:",Er)}},Ur=async()=>{if(!Xe.trim()){alert("Please enter a repair ID.");return}const Er=doc(db,"tickets",Ee);try{await updateDoc(Er,{caseID:Xe.trim(),lastModified:new Date().toISOString()}),tr(""),alert("Repair ID updated successfully"),Ce(jr=>({...jr,caseIDID:Xe.trim()}))}catch(jr){console.error("Error updating repair ID:",jr),alert("Failed to update repair ID. Please try again.")}};return Be?jsxRuntimeExports.jsx("div",{className:"loading",children:"Loading ticket..."}):jsxRuntimeExports.jsxs("div",{className:"process-ticket-layout",children:[jsxRuntimeExports.jsxs("div",{className:"process-ticket-container",children:[n.approvalRequired&&jsxRuntimeExports.jsxs("div",{className:"approval-toast",children:[jsxRuntimeExports.jsx("span",{className:"pulse-indicator"}),jsxRuntimeExports.jsxs("div",{className:"approval-message",children:[jsxRuntimeExports.jsx("strong",{children:"Approval Needed"}),": This ticket is currently awaiting admin approval. You can only select the final steps."]})]}),n.approvalStatus==="rejected"&&jsxRuntimeExports.jsxs("div",{className:"rejected-banner",children:[" This ticket has been ",jsxRuntimeExports.jsx("strong",{children:"rejected"})," by the admin."]}),jsxRuntimeExports.jsxs("div",{className:"ticket-info-grid",children:[jsxRuntimeExports.jsxs("div",{className:"ticket-info-item",children:[jsxRuntimeExports.jsx("label",{children:"Ticket#:"}),jsxRuntimeExports.jsxs("span",{children:[n.location,n.ticketNum]})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-info-item",children:[jsxRuntimeExports.jsx("label",{children:"Customer:"}),jsxRuntimeExports.jsx("span",{children:n.customerName})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-info-item",children:[jsxRuntimeExports.jsx("label",{children:"Mobile:"}),jsxRuntimeExports.jsx("span",{children:n.mobileNumber})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-info-item",children:[jsxRuntimeExports.jsx("label",{children:"Email:"}),jsxRuntimeExports.jsx("span",{children:n.emailAddress})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-info-item",children:[jsxRuntimeExports.jsx("label",{children:"Device:"}),jsxRuntimeExports.jsx("span",{children:n.machineType})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-info-item",children:[jsxRuntimeExports.jsx("label",{children:"Symptom:"}),jsxRuntimeExports.jsx("span",{children:n.symptom})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-info-item",children:[jsxRuntimeExports.jsx("label",{children:"Repair ID:"}),jsxRuntimeExports.jsx("span",{children:n.caseID||"Not assigned"})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-info-item",children:[jsxRuntimeExports.jsx("label",{children:"Current Status:"}),jsxRuntimeExports.jsx("span",{children:statusMap[(Fr=n.ticketStates)==null?void 0:Fr.slice(-1)[0]]||"Unknown"})]})]}),jsxRuntimeExports.jsxs("div",{className:"repair-id-update-section",children:[jsxRuntimeExports.jsx("h3",{children:"Update Repair ID"}),jsxRuntimeExports.jsx("label",{htmlFor:"repair-id-standalone",children:"Repair ID:"}),jsxRuntimeExports.jsx("input",{id:"repair-id-standalone",type:"text",value:Xe,onChange:Er=>tr(Er.target.value),placeholder:"Enter repair ID",className:"repair-id-input"}),jsxRuntimeExports.jsx("button",{className:"repair-id-update-button",onClick:Ur,disabled:!Xe.trim(),children:"Update Repair ID"})]}),jsxRuntimeExports.jsxs("div",{className:"status-update-section",children:[jsxRuntimeExports.jsx("label",{htmlFor:"status-select",children:"Change Status:"}),jsxRuntimeExports.jsx("select",{id:"status",value:Qe,onChange:Er=>Ke(parseInt(Er.target.value)),children:statusOptions.map((Er,jr)=>{const Nr=jr<=Oe,Br=n.approvalRequired&&jr<6||n.approvalStatus==="rejected"&&jr<6;return jsxRuntimeExports.jsx("option",{value:jr,disabled:Nr||Br,children:Er},jr)})}),jsxRuntimeExports.jsx("label",{htmlFor:"status-note",children:"Note:"}),jsxRuntimeExports.jsx("textarea",{id:"status-note",value:Ge,onChange:Er=>qe(Er.target.value),placeholder:"Enter technician note (required)",rows:4,required:!0}),jsxRuntimeExports.jsx("button",{onClick:or,disabled:Qe<=Oe||Ge.trim()==="",children:"Update Status"})]}),(t==null?void 0:t.permission)==="Admin"&&n.approvalRequired&&n.approvalStatus==="pending"&&jsxRuntimeExports.jsxs("div",{className:"admin-approval-section",children:[jsxRuntimeExports.jsx("p",{className:"approval-warning",children:"This ticket is awaiting approval."}),jsxRuntimeExports.jsx("button",{className:"approve-btn",onClick:async()=>{await updateDoc(doc(db,"tickets",Ee),{approvalRequired:!1,approvalStatus:"approved"}),Ce(Er=>({...Er,approvalRequired:!1,approvalStatus:"approved"}))},children:"Approve Ticket"}),jsxRuntimeExports.jsx("button",{className:"reject-btn",onClick:async()=>{await updateDoc(doc(db,"tickets",Ee),{approvalRequired:!1,approvalStatus:"rejected"}),Ce(Er=>({...Er,approvalRequired:!1,approvalStatus:"rejected"}))},children:"Reject Ticket"})]})]}),jsxRuntimeExports.jsxs("div",{className:"process-ticket-sidebar",children:[jsxRuntimeExports.jsx("button",{className:"side-button",onClick:()=>er(!0),children:"Media"}),jsxRuntimeExports.jsx("button",{className:"side-button",children:"Report"}),jsxRuntimeExports.jsx("button",{className:"side-button",onClick:ir,children:"Parts"}),jsxRuntimeExports.jsx("button",{className:"side-button",onClick:$e,children:"Price Quotation"})]}),jsxRuntimeExports.jsx(PartsModal,{isOpen:Je,onClose:mr,ticket:n}),jsxRuntimeExports.jsx(PriceQuotationModal,{isOpen:lr,onClose:Ar,ticket:n}),jsxRuntimeExports.jsx(MediaModal,{isOpen:fr,onClose:()=>er(!1),mediaURLs:hr,setMediaURLs:ur,ticket:n})]})},AdminDashboard=()=>{const{technician:Ee}=useUser(),t=useNavigate(),[n,Ce]=reactExports.useState([]),[Te,Re]=reactExports.useState({totalTickets:0,pendingApproval:0,completedToday:0,activeUsers:0}),Be=(Ee==null?void 0:Ee.name)==="System Admin"||(Ee==null?void 0:Ee.permission)==="SystemAdmin";reactExports.useEffect(()=>{Oe(),Ue()},[]);const Ue=async()=>{try{const Ke=await getDocs(collection(db,"tickets")),Ge=Ke.size,qe=query(collection(db,"tickets"),where("approvalRequired","==",!0)),tr=(await getDocs(qe)).size,Je=new Date().toDateString(),lr=Ke.docs.map(ur=>({id:ur.id,...ur.data()})).filter(ur=>{const fr=ur.details&&ur.details.length>0?ur.details[ur.details.length-1]:null;return fr&&fr.includes("Closed")&&new Date(fr.split(" - ")[0]).toDateString()===Je}).length,hr=(await getDocs(collection(db,"technicions"))).size;Re({totalTickets:Ge,pendingApproval:tr,completedToday:lr,activeUsers:hr})}catch(Ke){console.error("Error fetching stats:",Ke)}},Oe=async()=>{const Ke=query(collection(db,"tickets"),where("approvalRequired","==",!0)),qe=(await getDocs(Ke)).docs.map(Xe=>({id:Xe.id,...Xe.data()}));Ce(qe)},Me=async Ke=>{const Ge=doc(db,"tickets",Ke);await updateDoc(Ge,{waitingApproval:!1}),Ce(qe=>qe.filter(Xe=>Xe.id!==Ke)),Ue()},Qe=async Ke=>{const Ge=doc(db,"tickets",Ke);await updateDoc(Ge,{waitingApproval:!1}),Ce(qe=>qe.filter(Xe=>Xe.id!==Ke)),Ue()};return jsxRuntimeExports.jsxs("div",{className:"admin-dashboard",children:[jsxRuntimeExports.jsxs("div",{className:"dashboard-header",children:[jsxRuntimeExports.jsx("h1",{children:" Admin Dashboard"}),jsxRuntimeExports.jsxs("p",{children:["Welcome, ",Ee==null?void 0:Ee.name]})]}),jsxRuntimeExports.jsxs("div",{className:"stats-grid",children:[jsxRuntimeExports.jsxs("div",{className:"stat-card",children:[jsxRuntimeExports.jsx("div",{className:"stat-icon",children:""}),jsxRuntimeExports.jsxs("div",{className:"stat-info",children:[jsxRuntimeExports.jsx("h3",{children:Te.totalTickets}),jsxRuntimeExports.jsx("p",{children:"Total Tickets"})]})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card pending",children:[jsxRuntimeExports.jsx("div",{className:"stat-icon",children:""}),jsxRuntimeExports.jsxs("div",{className:"stat-info",children:[jsxRuntimeExports.jsx("h3",{children:Te.pendingApproval}),jsxRuntimeExports.jsx("p",{children:"Pending Approval"})]})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card completed",children:[jsxRuntimeExports.jsx("div",{className:"stat-icon",children:""}),jsxRuntimeExports.jsxs("div",{className:"stat-info",children:[jsxRuntimeExports.jsx("h3",{children:Te.completedToday}),jsxRuntimeExports.jsx("p",{children:"Completed Today"})]})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card users",children:[jsxRuntimeExports.jsx("div",{className:"stat-icon",children:""}),jsxRuntimeExports.jsxs("div",{className:"stat-info",children:[jsxRuntimeExports.jsx("h3",{children:Te.activeUsers}),jsxRuntimeExports.jsx("p",{children:"Active Users"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"quick-actions",children:[jsxRuntimeExports.jsx("h2",{children:" Quick Actions"}),jsxRuntimeExports.jsxs("div",{className:"action-buttons",children:[jsxRuntimeExports.jsx("button",{className:"action-btn primary",onClick:()=>t("/tickets"),children:" View All Tickets"}),jsxRuntimeExports.jsx("button",{className:"action-btn secondary",onClick:()=>t("/tickets/new"),children:" Create New Ticket"}),Be&&jsxRuntimeExports.jsx("button",{className:"action-btn admin",onClick:()=>t("/user-management"),children:" Manage Users"}),jsxRuntimeExports.jsx("button",{className:"action-btn info",onClick:()=>t("/archived"),children:" View Archived"})]})]}),jsxRuntimeExports.jsxs("div",{className:"pending-section",children:[jsxRuntimeExports.jsx("h2",{children:" Pending Ticket Approvals"}),n.length===0?jsxRuntimeExports.jsx("div",{className:"no-pending",children:jsxRuntimeExports.jsx("p",{children:" No tickets awaiting approval."})}):jsxRuntimeExports.jsx("div",{className:"pending-list",children:n.map(Ke=>jsxRuntimeExports.jsxs("div",{className:"pending-ticket",children:[jsxRuntimeExports.jsxs("div",{className:"ticket-info",children:[jsxRuntimeExports.jsxs("h3",{children:["#",Ke.location,Ke.ticketNum]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Customer:"})," ",Ke.customerName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Device:"})," ",Ke.machineType]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Issue:"})," ",Ke.symptom]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Date:"})," ",Ke.date]})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-actions",children:[jsxRuntimeExports.jsx("button",{className:"approve-btn",onClick:()=>Me(Ke.id),children:" Approve"}),jsxRuntimeExports.jsx("button",{className:"disapprove-btn",onClick:()=>Qe(Ke.id),children:" Disapprove"})]})]},Ke.id))})]})]})},SystemAdminRoute=({children:Ee})=>{const{technician:t,loading:n}=useUser();return n?jsxRuntimeExports.jsx("div",{children:"Loading..."}):t?t.name!=="System Admin"&&t.permission!=="SystemAdmin"&&t.permission!=="Admin"?(alert("Access denied. Admin privileges required."),jsxRuntimeExports.jsx(Navigate,{to:"/tickets"})):Ee:(alert("Please log in first."),jsxRuntimeExports.jsx(Navigate,{to:"/"}))},logoImage="/assets/logo_new-DzVM95lh.png",DeliveryPage=()=>{const{id:Ee}=useParams(),{technician:t}=useUser(),[n,Ce]=reactExports.useState(null),[Te,Re]=reactExports.useState(!1),[Be,Ue]=reactExports.useState(!1),[Oe,Me]=reactExports.useState(!1),[Qe,Ke]=reactExports.useState(!1),Ge=reactExports.useRef(null),qe=reactExports.useRef(),Xe=useNavigate();reactExports.useEffect(()=>{(async()=>{const hr=doc(db,"tickets",Ee),ur=await getDoc(hr);if(ur.exists()){const fr={id:ur.id,...ur.data()};Ce(fr),Ue(!!ur.data().partDeliveryNote),console.log(" Testing email function with current ticket data")}})()},[Ee]);const tr=async(cr=null)=>{try{const hr=cr||n;if(console.log(" Starting to send ticket closed email for:",hr.customerName),console.log(" Customer email:",hr.emailAddress),console.log(" Ticket ID:",hr.id),console.log(" Location:",hr.location),!hr.emailAddress||hr.emailAddress.trim()===""){console.error(" No customer email address found"),alert("Cannot send email: No customer email address found");return}const ur=new Date().toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),fr=[];if(hr.contractURL){const mr=`https://firebasestorage.googleapis.com/v0/b/solutions-system-1e0f5.appspot.com/o/${encodeURIComponent(hr.contractURL)}?alt=media`;fr.push({name:"Service Agreement Contract",url:mr,icon:""})}if(hr.deliveryNoteURL){const mr=`https://firebasestorage.googleapis.com/v0/b/solutions-system-1e0f5.appspot.com/o/${encodeURIComponent(hr.deliveryNoteURL)}?alt=media`;fr.push({name:"Delivery Receipt",url:mr,icon:""})}if(hr.partsDeliveryNoteURL){const mr=`https://firebasestorage.googleapis.com/v0/b/solutions-system-1e0f5.appspot.com/o/${encodeURIComponent(hr.partsDeliveryNoteURL)}?alt=media`;fr.push({name:"Parts Delivery Note",url:mr,icon:""})}const er=`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <style>
            .email-container { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; }
            .header { background-color: #28a745; color: white; padding: 20px; text-align: center; }
            .content { padding: 20px; background-color: #f9f9f9; }
            .ticket-info { background-color: white; padding: 15px; margin: 15px 0; border-radius: 8px; }
            .info-row { margin: 8px 0; }
            .label { font-weight: bold; color: #333; }
            .completion-notice { 
              background-color: #d1ecf1; 
              border: 1px solid #bee5eb; 
              color: #0c5460; 
              padding: 15px; 
              border-radius: 8px; 
              margin: 15px 0; 
            }
            .documents-section {
              background-color: white; 
              padding: 15px; 
              margin: 15px 0; 
              border-radius: 8px;
              border: 2px solid #1ccad4;
            }
            .document-link { 
              display: inline-block; 
              background-color: #1ccad4; 
              color: white; 
              padding: 10px 20px; 
              text-decoration: none; 
              border-radius: 5px; 
              margin: 8px 8px 8px 0; 
              font-weight: bold;
            }
            .document-link:hover { background-color: #16b1bd; }
            .footer { text-align: center; margin-top: 20px; color: #666; font-size: 12px; }
          </style>
        </head>
        <body>
          <div class="email-container">
            <div class="header">
              <h2> Service Completed - Ticket Closed</h2>
              <p>365Solutions - Apple Authorized Service Center</p>
            </div>
            
            <div class="content">
              <p>Dear ${hr.customerName},</p>
              
              <div class="completion-notice">
                <h3 style="margin-top: 0;"> Service Complete!</h3>
                <p><strong>Your device has been successfully repaired and delivered. Your service ticket is now closed.</strong></p>
                <p>We hope you're satisfied with our repair service. Thank you for choosing 365Solutions!</p>
              </div>
              
              <div class="ticket-info">
                <h3 style="color: #28a745;">Final Service Summary</h3>
                <div class="info-row">
                  <span class="label">Ticket Number:</span> ${hr.location}${hr.ticketNum}
                </div>
                <div class="info-row">
                  <span class="label">Completion Date:</span> ${ur}
                </div>
                <div class="info-row">
                  <span class="label">Device Type:</span> ${hr.machineType}
                </div>
                <div class="info-row">
                  <span class="label">Serial Number:</span> ${hr.serialNum}
                </div>
                <div class="info-row">
                  <span class="label">Original Issue:</span> ${hr.symptom}
                </div>
                ${hr.caseID?`<div class="info-row"><span class="label">Repair ID:</span> ${hr.caseID}</div>`:""}
                <div class="info-row">
                  <span class="label">Service Status:</span> <strong style="color: #28a745;">COMPLETED </strong>
                </div>
              </div>
              
              ${fr.length>0?`
              <div class="documents-section">
                <h3 style="color: #1ccad4; margin-top: 0;"> Your Signed Documents</h3>
                <p>Please download and keep copies of your signed service documents for your records:</p>
                ${fr.map(mr=>`
                  <a href="${mr.url}" class="document-link" target="_blank">
                    ${mr.icon} Download ${mr.name}
                  </a>
                `).join("")}
              </div>
              `:""}
              
              <div style="background-color: white; padding: 15px; margin: 15px 0; border-radius: 8px;">
                <h3 style="color: #1ccad4;">Thank You for Choosing 365Solutions!</h3>
                <p> <strong>Service completed successfully</strong></p>
                <p> <strong>Device delivered to customer</strong></p>
                <p> <strong>All documentation provided</strong></p>
                
                <p><strong>Customer Satisfaction:</strong></p>
                <p>Your satisfaction is important to us. If you have any questions about the repair or need further assistance, please don't hesitate to contact us.</p>
                
                <p><strong>Warranty Information:</strong></p>
                <p>Please keep your service documents as they contain important warranty information for the repair work performed.</p>
              </div>
              
              <p><strong>Future Service Needs:</strong></p>
              <p>Should you need any future repairs or have questions about your device, please contact us at:</p>
              <ul>
                <li>Email: ${hr.location==="M"?"help@365solutionsjo.com":"irbid@365solutionsjo.com"}</li>
                <li>Phone: ${hr.location==="M"?"+962-6-XXX-XXXX":"+962-2-XXX-XXXX"}</li>
              </ul>
              
              <div class="footer">
                <p>365Solutions - Apple Authorized Service Center</p>
                <p>Professional device repair services you can trust</p>
                <p><strong>Thank you for your business!</strong></p>
              </div>
            </div>
          </div>
        </body>
        </html>
      `,nr={to:hr.emailAddress,subject:` Service Complete - Ticket Closed #${hr.location}${hr.ticketNum}`,html:er,location:hr.location};console.log(" Sending email to:",nr.to),console.log(" Email subject:",nr.subject),console.log(" Full email data:",JSON.stringify(nr,null,2)),(await fetch(API_ENDPOINTS.SEND_EMAIL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(nr)})).ok?(console.log("Ticket closed email sent successfully"),alert("Ticket closed email sent successfully!")):(console.error("Failed to send ticket closed email"),alert("Failed to send ticket closed email"))}catch(hr){console.error("Error sending ticket closed email:",hr),alert(`Error sending email: ${hr.message}`)}},Je=async()=>{var cr;if(!(!n||!n.id))try{setTimeout(async()=>{const hr=qe.current;if(!hr){alert("PDF content not found");return}Me(!0),hr.classList.add("no-print-mode");const ur=await html2canvas(hr,{scale:2}),fr=ur.toDataURL("image/jpeg"),er=new E("p","mm","a4"),nr=er.internal.pageSize.getWidth(),ir=er.internal.pageSize.getHeight(),mr=ur.width,$e=ur.height,Ar=Math.min(nr/mr,ir/$e),or=mr*Ar,Tr=$e*Ar,Ur=(nr-or)/2;er.addImage(fr,"JPEG",Ur,0,or,Tr,void 0,"FAST");const Er=er.output("blob"),jr=getStorage(),Nr=`testDeliveryNotes/Delivery_${n.id}.pdf`,Br=ref(jr,Nr);await uploadBytes(Br,Er);const Mr=await getDownloadURL(Br),_r=n.technicions||[],gr=(t==null?void 0:t.name)||"Unknown Technician",yr=[..._r,gr],Rr=n.details||[],Qr=`${new Date().toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})} - Closed by ${gr}`,Vr=[...Rr,Qr];await updateDoc(doc(db,"tickets",n.id),{deliveryNoteURL:Nr,ticketStates:[...n.ticketStates,7],technicions:yr,details:Vr});const Wr={...n,deliveryNoteURL:Nr,ticketStates:[...n.ticketStates,7],technicions:yr,details:Vr};Ce(Wr),await tr(Wr),alert("Delivery note was saved successfully"),Me(!1),Be||Xe("/tickets/")},200)}catch(hr){console.error("Error saving delivery note:",hr),alert("Failed to save PDF.")}finally{Me(!1),(cr=qe.current)==null||cr.classList.remove("no-print-mode"),Re(!1)}},Ye=new Date().toLocaleDateString("en-GB"),lr=()=>{Ge.current.clear(),Re(!1)};return n?jsxRuntimeExports.jsxs("div",{className:"delivery-page-container",children:[Oe&&jsxRuntimeExports.jsxs("div",{className:"saving-overlay",children:[jsxRuntimeExports.jsx("div",{className:"spinner-PDF"}),jsxRuntimeExports.jsx("p",{children:"Saving PDF, please wait..."})]}),jsxRuntimeExports.jsx("div",{className:"delivery-page-content",ref:qe,children:jsxRuntimeExports.jsxs("div",{className:"modal-contents",children:[jsxRuntimeExports.jsxs("div",{className:"header-section",children:[jsxRuntimeExports.jsx("img",{src:logoImage,alt:"365 Solutions Logo",className:"logo"}),jsxRuntimeExports.jsx("h2",{className:"modal-title",children:"  "})]}),jsxRuntimeExports.jsxs("p",{className:"arabic-text",children:["  ",jsxRuntimeExports.jsx("strong",{children:n.customerName}),"    "," ",jsxRuntimeExports.jsx("strong",{children:n.machineType}),jsxRuntimeExports.jsx("br",{}),"     ",jsxRuntimeExports.jsx("strong",{children:n.date}),"    ",jsxRuntimeExports.jsx("strong",{children:n.serialNum}),jsxRuntimeExports.jsx("br",{}),"   ",jsxRuntimeExports.jsx("strong",{children:n.ticketNum}),"         ",jsxRuntimeExports.jsx("br",{}),"                 ",jsxRuntimeExports.jsx("br",{}),"   ."]}),jsxRuntimeExports.jsxs("div",{className:"form-section",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:":"}),jsxRuntimeExports.jsx("span",{children:n.customerName})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:":"}),jsxRuntimeExports.jsx("div",{className:"signature-box",children:jsxRuntimeExports.jsx(SignatureCanvas,{ref:Ge,penColor:"black",minWidth:.5,maxWidth:1.5,canvasProps:{width:100,height:100,className:"sig-canvas"},onEnd:()=>Re(!Ge.current.isEmpty())})})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:":"}),jsxRuntimeExports.jsx("span",{children:Ye})]}),jsxRuntimeExports.jsxs("div",{className:"image-upload-section",children:[jsxRuntimeExports.jsx("p",{children:"*     "}),jsxRuntimeExports.jsxs("label",{className:"upload-label",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*"}),jsxRuntimeExports.jsx("div",{className:"upload-icon",children:""})]})]}),jsxRuntimeExports.jsxs("div",{className:"footer-info",children:[jsxRuntimeExports.jsxs("p",{children:["Mecca St, Building 221, Amman, Jordan",jsxRuntimeExports.jsx("br",{}),"Mob: +962 7 96181819",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("a",{href:"mailto:help@365solutionsjo.com",children:"help@365solutionsjo.com"})]}),jsxRuntimeExports.jsx("img",{src:"/apple-authorised.png",alt:"Apple Authorised Logo",className:"apple-logo"})]})]}),jsxRuntimeExports.jsxs("div",{className:"button-row no-print",children:[jsxRuntimeExports.jsx("button",{className:"clear-button",onClick:lr,children:"Clear"}),jsxRuntimeExports.jsx("button",{className:"save-button",onClick:Je,disabled:!Te,children:"Save"}),jsxRuntimeExports.jsx("button",{style:{backgroundColor:"#007bff",color:"white",padding:"10px 15px",border:"none",borderRadius:"5px",cursor:"pointer",marginLeft:"10px"},onClick:()=>tr(n),children:" Test Email"})]})]})}),Be&&!Oe&&jsxRuntimeExports.jsxs("button",{className:"next-arrow-button no-print",onClick:()=>Xe(`/tickets/${n.id}/part-delivery`),title:"Next: Sign Parts Delivery Note",children:["Next",jsxRuntimeExports.jsx(FaArrowRight,{})]})]}):jsxRuntimeExports.jsx("p",{children:"Loading..."})},PartsDeliveryPage=()=>{var cr;const{id:Ee}=useParams(),{technician:t}=useUser(),[n,Ce]=reactExports.useState(!1),Te=reactExports.useRef(null),Re=reactExports.useRef(null),Be=reactExports.useRef(null),[Ue,Oe]=reactExports.useState(!1),[Me,Qe]=reactExports.useState(null),[Ke,Ge]=reactExports.useState(null),[qe,Xe]=reactExports.useState(!1),tr=useNavigate();reactExports.useEffect(()=>{(async()=>{var er;const ur=doc(db,"tickets",Ee),fr=await getDoc(ur);if(fr.exists()){const nr=fr.data();if(Qe(nr),nr.partDeliveryNote){const ir=doc(db,"partsDeliveryNotes",nr.partDeliveryNote),mr=await getDoc(ir);if(mr.exists()){const $e=mr.data();Ge($e);const Ar=(er=$e.parts)==null?void 0:er.some(or=>parseFloat(or.price||0)>0);Xe(Ar)}}}})()},[Ee]);const Je=()=>{Te.current.clear(),Re.current.clear(),Ce(!1)},Ye=()=>{Re.current.isEmpty()||Ce(!0)},lr=async()=>{try{const hr=Be.current;if(!hr){alert("PDF content not found");return}Oe(!0),hr.classList.add("no-print-mode");const ur=await html2canvas(hr,{scale:2}),fr=ur.toDataURL("image/jpeg"),er=new E("p","mm","a4"),nr=er.internal.pageSize.getWidth(),ir=ur.height*nr/ur.width;er.addImage(fr,"JPEG",0,0,nr,ir);const mr=er.output("blob"),$e=`testDeliveryNotes/PDN${Ee}.pdf`,Ar=ref(getStorage(),$e);await uploadBytes(Ar,mr);const or=await getDownloadURL(Ar);await updateDoc(doc(db,"tickets",Ee),{partsDeliveryNoteURL:$e,hasAnInvoice:qe}),alert("Parts Delivery Note saved successfully!"),qe||tr("/tickets/")}catch(hr){console.error("Failed to save PDF:",hr),alert("An error occurred while saving.")}finally{Oe(!1)}};return!Me||!Ke?jsxRuntimeExports.jsx("p",{children:"Loading..."}):jsxRuntimeExports.jsxs("div",{className:"parts-page-wrapper",children:[Ue&&jsxRuntimeExports.jsxs("div",{className:"saving-overlay",children:[jsxRuntimeExports.jsx("div",{className:"spinner-PDF"}),jsxRuntimeExports.jsx("p",{children:"Saving PDF, please wait..."})]}),jsxRuntimeExports.jsxs("div",{className:"parts-delivery-container",ref:Be,children:[jsxRuntimeExports.jsxs("div",{className:"header-section",children:[jsxRuntimeExports.jsx("img",{src:logoImage,alt:"365 Solutions Logo",className:"logo"}),jsxRuntimeExports.jsx("h2",{className:"modal-title",children:"Delivery Note"})]}),jsxRuntimeExports.jsxs("div",{className:"info-row",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivery Date:"})," ",new Date().toLocaleDateString("en-GB"),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Customer Name:"})," ",Me.customerName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Invoice #:"})," ",Me.location,Me.ticketNum,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Product Type:"})," ",Me.machineType]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Serial Number:"})," ",Me.serialNum,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Device Issue:"})," ",Me.symptom||"-",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Warranty Status:"})," ",Me.warrantyStatus||"-",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Technician:"})," ",(t==null?void 0:t.name)||"Unknown Technician"]})})]}),jsxRuntimeExports.jsxs("table",{className:"parts-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Item Description"}),jsxRuntimeExports.jsx("th",{children:"Part #"}),jsxRuntimeExports.jsx("th",{children:"Old Serial#"}),jsxRuntimeExports.jsx("th",{children:"New Serial#"}),jsxRuntimeExports.jsx("th",{children:"Quantity"}),jsxRuntimeExports.jsx("th",{children:"Warranty Status"})]})}),jsxRuntimeExports.jsx("tbody",{children:(cr=Ke.parts)==null?void 0:cr.map((hr,ur)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:hr.description}),jsxRuntimeExports.jsx("td",{children:hr.partNumber}),jsxRuntimeExports.jsx("td",{children:hr.oldSN}),jsxRuntimeExports.jsx("td",{children:hr.newSN}),jsxRuntimeExports.jsx("td",{children:hr.quantity}),jsxRuntimeExports.jsx("td",{children:hr.warrantyStatus})]},ur))})]}),jsxRuntimeExports.jsxs("div",{className:"notes-section",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Service Notes:"})," ",Ke.serviceNotes||"-"]}),jsxRuntimeExports.jsxs("ol",{children:[jsxRuntimeExports.jsx("li",{children:"Warranty for any replaced part is valid for 90 days"}),jsxRuntimeExports.jsx("li",{children:"Refund for any paid services is within 3 days if the same issue occurred again"}),jsxRuntimeExports.jsx("li",{children:"Receipt should be provided upon refund"})]})]}),jsxRuntimeExports.jsxs("div",{className:"signatures",children:[jsxRuntimeExports.jsxs("div",{className:"signature-block",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Issued by:"})," ",(t==null?void 0:t.name)||"Unknown Technician"]}),jsxRuntimeExports.jsx("label",{children:"Signature:"}),jsxRuntimeExports.jsx("div",{className:"signature-box",children:jsxRuntimeExports.jsx(SignatureCanvas,{penColor:"black",canvasProps:{width:200,height:100,className:"sig-canvas"},ref:Te})})]}),jsxRuntimeExports.jsxs("div",{className:"signature-block",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Received by:"})," ",Me.customerName]}),jsxRuntimeExports.jsx("label",{children:"Signature:"}),jsxRuntimeExports.jsx("div",{className:"signature-box",children:jsxRuntimeExports.jsx(SignatureCanvas,{penColor:"black",canvasProps:{width:200,height:100,className:"sig-canvas"},ref:Re,onEnd:Ye})})]})]}),jsxRuntimeExports.jsxs("div",{className:"action-buttons no-print",children:[jsxRuntimeExports.jsx("button",{className:"clear-button",onClick:Je,children:"Clear"}),jsxRuntimeExports.jsx("button",{className:"save-button",onClick:lr,disabled:!n,children:"Save"})]})]}),qe&&!Ue&&jsxRuntimeExports.jsxs("button",{className:"next-arrow-button no-print",onClick:()=>tr(`/tickets/${Ee}/receipt-page`),children:["Next",jsxRuntimeExports.jsx(FaArrowRight,{})]})]})},ReceiptPage=()=>{const{id:Ee}=useParams(),{technician:t}=useUser(),[n,Ce]=reactExports.useState(!1),Te=reactExports.useRef(null),Re=reactExports.useRef(null),Be=reactExports.useRef(null),[Ue,Oe]=reactExports.useState(!1),[Me,Qe]=reactExports.useState(null),[Ke,Ge]=reactExports.useState(null),[qe,Xe]=reactExports.useState([]),[tr,Je]=reactExports.useState(0),Ye=useNavigate();reactExports.useEffect(()=>{(async()=>{var nr;const fr=doc(db,"tickets",Ee),er=await getDoc(fr);if(er.exists()){const ir=er.data();if(Qe(ir),ir.partDeliveryNote){const mr=doc(db,"partsDeliveryNotes",ir.partDeliveryNote),$e=await getDoc(mr);if($e.exists()){const Ar=$e.data();Ge(Ar);const or=((nr=Ar.parts)==null?void 0:nr.filter(Ur=>parseFloat(Ur.price||0)>0))||[];Xe(or);const Tr=or.reduce((Ur,Fr)=>Ur+parseFloat(Fr.price||0)*parseInt(Fr.quantity||1),0);Je(Tr)}}}})()},[Ee]);const lr=()=>{Te.current.clear(),Re.current.clear(),Ce(!1)},cr=()=>{Re.current.isEmpty()||Ce(!0)},hr=async()=>{try{const ur=Be.current;if(!ur){alert("PDF content not found");return}Oe(!0),ur.classList.add("no-print-mode");const fr=await html2canvas(ur,{scale:2}),er=fr.toDataURL("image/jpeg"),nr=new E("p","mm","a4"),ir=nr.internal.pageSize.getWidth(),mr=fr.height*ir/fr.width;nr.addImage(er,"JPEG",0,0,ir,mr);const $e=nr.output("blob"),Ar=`receipts/Receipt_${Ee}.pdf`,or=ref(getStorage(),Ar);await uploadBytes(or,$e);const Tr=await getDownloadURL(or);await updateDoc(doc(db,"tickets",Ee),{invoiceURL:Ar}),alert("Receipt saved successfully!"),Ye("/tickets/")}catch(ur){console.error("Failed to save PDF:",ur),alert("An error occurred while saving.")}finally{Oe(!1)}};return!Me||!Ke||qe.length===0?jsxRuntimeExports.jsx("p",{children:"Loading..."}):jsxRuntimeExports.jsxs("div",{className:"receipt-page-wrapper",children:[Ue&&jsxRuntimeExports.jsxs("div",{className:"saving-overlay",children:[jsxRuntimeExports.jsx("div",{className:"spinner-PDF"}),jsxRuntimeExports.jsx("p",{children:"Saving PDF, please wait..."})]}),jsxRuntimeExports.jsxs("div",{className:"receipt-container",ref:Be,children:[jsxRuntimeExports.jsxs("div",{className:"header-section",children:[jsxRuntimeExports.jsx("img",{src:logoImage,alt:"365 Solutions Logo",className:"logo"}),jsxRuntimeExports.jsx("h2",{className:"modal-title",children:"Receipt"})]}),jsxRuntimeExports.jsxs("div",{className:"info-row",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Date:"})," ",new Date().toLocaleDateString("en-GB"),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Customer Name:"})," ",Me.customerName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Receipt #:"})," ",Me.location,Me.ticketNum,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Product Type:"})," ",Me.machineType]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Serial Number:"})," ",Me.serialNum,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Device Issue:"})," ",Me.symptom||"-",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Warranty Status:"})," ",Me.warrantyStatus||"-",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Technician:"})," ",(t==null?void 0:t.name)||"Unknown Technician"]})})]}),jsxRuntimeExports.jsxs("table",{className:"receipt-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Item Description"}),jsxRuntimeExports.jsx("th",{children:"Part #"}),jsxRuntimeExports.jsx("th",{children:"Quantity"}),jsxRuntimeExports.jsx("th",{children:"Unit Price"}),jsxRuntimeExports.jsx("th",{children:"Total Price"})]})}),jsxRuntimeExports.jsx("tbody",{children:qe.map((ur,fr)=>{const er=parseFloat(ur.price||0),nr=parseInt(ur.quantity||1),ir=er*nr;return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:ur.description}),jsxRuntimeExports.jsx("td",{children:ur.partNumber}),jsxRuntimeExports.jsx("td",{children:nr}),jsxRuntimeExports.jsxs("td",{children:[er.toFixed(2)," JOD"]}),jsxRuntimeExports.jsxs("td",{children:[ir.toFixed(2)," JOD"]})]},fr)})}),jsxRuntimeExports.jsx("tfoot",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{colSpan:"4",className:"total-label",children:jsxRuntimeExports.jsx("strong",{children:"Total Amount:"})}),jsxRuntimeExports.jsx("td",{className:"total-amount",children:jsxRuntimeExports.jsxs("strong",{children:[tr.toFixed(2)," JOD"]})})]})})]}),jsxRuntimeExports.jsxs("div",{className:"notes-section",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Service Notes:"})," ",Ke.serviceNotes||"-"]}),jsxRuntimeExports.jsxs("ol",{children:[jsxRuntimeExports.jsx("li",{children:"Warranty for any replaced part is valid for 90 days"}),jsxRuntimeExports.jsx("li",{children:"Refund for any paid services is within 3 days if the same issue occurred again"}),jsxRuntimeExports.jsx("li",{children:"Receipt should be provided upon refund"})]})]}),jsxRuntimeExports.jsxs("div",{className:"signatures",children:[jsxRuntimeExports.jsxs("div",{className:"signature-block",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Issued by:"})," ",(t==null?void 0:t.name)||"Unknown Technician"]}),jsxRuntimeExports.jsx("label",{children:"Signature:"}),jsxRuntimeExports.jsx("div",{className:"signature-box",children:jsxRuntimeExports.jsx(SignatureCanvas,{penColor:"black",canvasProps:{width:200,height:100,className:"sig-canvas"},ref:Te})})]}),jsxRuntimeExports.jsxs("div",{className:"signature-block",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Paid by:"})," ",Me.customerName]}),jsxRuntimeExports.jsx("label",{children:"Signature:"}),jsxRuntimeExports.jsx("div",{className:"signature-box",children:jsxRuntimeExports.jsx(SignatureCanvas,{penColor:"black",canvasProps:{width:200,height:100,className:"sig-canvas"},ref:Re,onEnd:cr})})]})]}),jsxRuntimeExports.jsxs("div",{className:"action-buttons no-print",children:[jsxRuntimeExports.jsx("button",{className:"clear-button",onClick:lr,children:"Clear"}),jsxRuntimeExports.jsx("button",{className:"save-button",onClick:hr,disabled:!n,children:"Save Receipt"})]})]})]})};function App(){return jsxRuntimeExports.jsxs("div",{className:"app-container",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("main",{className:"main-content",children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(LoginPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/tickets",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Tickets,{})})}),jsxRuntimeExports.jsx(Route,{path:"/tickets/:id",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Tickets,{})})}),jsxRuntimeExports.jsx(Route,{path:"/customers",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Customers,{})})}),jsxRuntimeExports.jsx(Route,{path:"/devices",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Devices,{})})}),jsxRuntimeExports.jsx(Route,{path:"/archived",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Archived,{})})}),jsxRuntimeExports.jsx(Route,{path:"/tickets/new",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(NewTicket,{})})}),jsxRuntimeExports.jsx(Route,{path:"/tickets/:id/process",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(ProcessTicketPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(AdminDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/user-management",element:jsxRuntimeExports.jsx(SystemAdminRoute,{children:jsxRuntimeExports.jsx(UserManagement,{})})}),jsxRuntimeExports.jsx(Route,{path:"/tickets/:id/deliver",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(DeliveryPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/tickets/:id/part-delivery",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(PartsDeliveryPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/tickets/:id/receipt-page",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(ReceiptPage,{})})})]})})]})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(UserProvider,{children:jsxRuntimeExports.jsx(App,{})})})}));export{_typeof as _,commonjsGlobal$2 as c,getDefaultExportFromCjs as g};
